var vY=Object.defineProperty;var L2=t=>{throw TypeError(t)};var yY=(t,e,n)=>e in t?vY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var et=(t,e,n)=>yY(t,typeof e!="symbol"?e+"":e,n),I1=(t,e,n)=>e.has(t)||L2("Cannot "+n);var ie=(t,e,n)=>(I1(t,e,"read from private field"),n?n.call(t):e.get(t)),bt=(t,e,n)=>e.has(t)?L2("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Xe=(t,e,n,r)=>(I1(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),jr=(t,e,n)=>(I1(t,e,"access private method"),n);var Jg=(t,e,n,r)=>({set _(s){Xe(t,e,s,n)},get _(){return ie(t,e,r)}});function xY(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Wl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Do(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ZL={exports:{}},z0={},e3={exports:{}},it={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp=Symbol.for("react.element"),wY=Symbol.for("react.portal"),bY=Symbol.for("react.fragment"),jY=Symbol.for("react.strict_mode"),NY=Symbol.for("react.profiler"),SY=Symbol.for("react.provider"),_Y=Symbol.for("react.context"),EY=Symbol.for("react.forward_ref"),PY=Symbol.for("react.suspense"),AY=Symbol.for("react.memo"),CY=Symbol.for("react.lazy"),F2=Symbol.iterator;function TY(t){return t===null||typeof t!="object"?null:(t=F2&&t[F2]||t["@@iterator"],typeof t=="function"?t:null)}var t3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},n3=Object.assign,r3={};function Fh(t,e,n){this.props=t,this.context=e,this.refs=r3,this.updater=n||t3}Fh.prototype.isReactComponent={};Fh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function s3(){}s3.prototype=Fh.prototype;function jE(t,e,n){this.props=t,this.context=e,this.refs=r3,this.updater=n||t3}var NE=jE.prototype=new s3;NE.constructor=jE;n3(NE,Fh.prototype);NE.isPureReactComponent=!0;var $2=Array.isArray,i3=Object.prototype.hasOwnProperty,SE={current:null},o3={key:!0,ref:!0,__self:!0,__source:!0};function a3(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)i3.call(e,r)&&!o3.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:kp,type:t,key:i,ref:a,props:s,_owner:SE.current}}function kY(t,e){return{$$typeof:kp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function _E(t){return typeof t=="object"&&t!==null&&t.$$typeof===kp}function IY(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var U2=/\/+/g;function R1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?IY(""+t.key):e.toString(36)}function sy(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case kp:case wY:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+R1(a,0):r,$2(s)?(n="",t!=null&&(n=t.replace(U2,"$&/")+"/"),sy(s,e,n,"",function(u){return u})):s!=null&&(_E(s)&&(s=kY(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(U2,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",$2(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+R1(i,l);a+=sy(i,e,n,c,s)}else if(c=TY(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+R1(i,l++),a+=sy(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Zg(t,e,n){if(t==null)return t;var r=[],s=0;return sy(t,r,"","",function(i){return e.call(n,i,s++)}),r}function RY(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Wr={current:null},iy={transition:null},OY={ReactCurrentDispatcher:Wr,ReactCurrentBatchConfig:iy,ReactCurrentOwner:SE};function l3(){throw Error("act(...) is not supported in production builds of React.")}it.Children={map:Zg,forEach:function(t,e,n){Zg(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Zg(t,function(){e++}),e},toArray:function(t){return Zg(t,function(e){return e})||[]},only:function(t){if(!_E(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};it.Component=Fh;it.Fragment=bY;it.Profiler=NY;it.PureComponent=jE;it.StrictMode=jY;it.Suspense=PY;it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OY;it.act=l3;it.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=n3({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=SE.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)i3.call(e,c)&&!o3.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:kp,type:t.type,key:s,ref:i,props:r,_owner:a}};it.createContext=function(t){return t={$$typeof:_Y,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:SY,_context:t},t.Consumer=t};it.createElement=a3;it.createFactory=function(t){var e=a3.bind(null,t);return e.type=t,e};it.createRef=function(){return{current:null}};it.forwardRef=function(t){return{$$typeof:EY,render:t}};it.isValidElement=_E;it.lazy=function(t){return{$$typeof:CY,_payload:{_status:-1,_result:t},_init:RY}};it.memo=function(t,e){return{$$typeof:AY,type:t,compare:e===void 0?null:e}};it.startTransition=function(t){var e=iy.transition;iy.transition={};try{t()}finally{iy.transition=e}};it.unstable_act=l3;it.useCallback=function(t,e){return Wr.current.useCallback(t,e)};it.useContext=function(t){return Wr.current.useContext(t)};it.useDebugValue=function(){};it.useDeferredValue=function(t){return Wr.current.useDeferredValue(t)};it.useEffect=function(t,e){return Wr.current.useEffect(t,e)};it.useId=function(){return Wr.current.useId()};it.useImperativeHandle=function(t,e,n){return Wr.current.useImperativeHandle(t,e,n)};it.useInsertionEffect=function(t,e){return Wr.current.useInsertionEffect(t,e)};it.useLayoutEffect=function(t,e){return Wr.current.useLayoutEffect(t,e)};it.useMemo=function(t,e){return Wr.current.useMemo(t,e)};it.useReducer=function(t,e,n){return Wr.current.useReducer(t,e,n)};it.useRef=function(t){return Wr.current.useRef(t)};it.useState=function(t){return Wr.current.useState(t)};it.useSyncExternalStore=function(t,e,n){return Wr.current.useSyncExternalStore(t,e,n)};it.useTransition=function(){return Wr.current.useTransition()};it.version="18.3.1";e3.exports=it;var p=e3.exports;const we=Do(p),G0=xY({__proto__:null,default:we},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DY=p,MY=Symbol.for("react.element"),LY=Symbol.for("react.fragment"),FY=Object.prototype.hasOwnProperty,$Y=DY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UY={key:!0,ref:!0,__self:!0,__source:!0};function c3(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)FY.call(e,r)&&!UY.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:MY,type:t,key:i,ref:a,props:s,_owner:$Y.current}}z0.Fragment=LY;z0.jsx=c3;z0.jsxs=c3;ZL.exports=z0;var o=ZL.exports;if(typeof window<"u"&&window.trustedTypes)try{window.trustedTypes.createPolicy("default",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t}),console.log("✅ Trusted Types policy created")}catch{console.log("ℹ️ Trusted Types policy already exists or not needed")}var u3={exports:{}},Vs={},d3={exports:{}},h3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,L){var W=D.length;D.push(L);e:for(;0<W;){var J=W-1>>>1,V=D[J];if(0<s(V,L))D[J]=L,D[W]=V,W=J;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var L=D[0],W=D.pop();if(W!==L){D[0]=W;e:for(var J=0,V=D.length,ue=V>>>1;J<ue;){var ee=2*(J+1)-1,re=D[ee],be=ee+1,se=D[be];if(0>s(re,W))be<V&&0>s(se,re)?(D[J]=se,D[be]=W,J=be):(D[J]=re,D[ee]=W,J=ee);else if(be<V&&0>s(se,W))D[J]=se,D[be]=W,J=be;else break e}}return L}function s(D,L){var W=D.sortIndex-L.sortIndex;return W!==0?W:D.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,y=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(D){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=D)r(u),L.sortIndex=L.expirationTime,e(c,L);else break;L=n(u)}}function N(D){if(v=!1,j(D),!y)if(n(c)!==null)y=!0,U(T);else{var L=n(u);L!==null&&$(N,L.startTime-D)}}function T(D,L){y=!1,v&&(v=!1,b(E),E=-1),m=!0;var W=f;try{for(j(L),h=n(c);h!==null&&(!(h.expirationTime>L)||D&&!C());){var J=h.callback;if(typeof J=="function"){h.callback=null,f=h.priorityLevel;var V=J(h.expirationTime<=L);L=t.unstable_now(),typeof V=="function"?h.callback=V:h===n(c)&&r(c),j(L)}else r(c);h=n(c)}if(h!==null)var ue=!0;else{var ee=n(u);ee!==null&&$(N,ee.startTime-L),ue=!1}return ue}finally{h=null,f=W,m=!1}}var I=!1,P=null,E=-1,A=5,S=-1;function C(){return!(t.unstable_now()-S<A)}function O(){if(P!==null){var D=t.unstable_now();S=D;var L=!0;try{L=P(!0,D)}finally{L?k():(I=!1,P=null)}}else I=!1}var k;if(typeof w=="function")k=function(){w(O)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,G=B.port2;B.port1.onmessage=O,k=function(){G.postMessage(null)}}else k=function(){x(O,0)};function U(D){P=D,I||(I=!0,k())}function $(D,L){E=x(function(){D(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,U(T))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(D){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var W=f;f=L;try{return D()}finally{f=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,L){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var W=f;f=D;try{return L()}finally{f=W}},t.unstable_scheduleCallback=function(D,L,W){var J=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?J+W:J):W=J,D){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=W+V,D={id:d++,callback:L,priorityLevel:D,startTime:W,expirationTime:V,sortIndex:-1},W>J?(D.sortIndex=W,e(u,D),n(c)===null&&D===n(u)&&(v?(b(E),E=-1):v=!0,$(N,W-J))):(D.sortIndex=V,e(c,D),y||m||(y=!0,U(T))),D},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(D){var L=f;return function(){var W=f;f=L;try{return D.apply(this,arguments)}finally{f=W}}}})(h3);d3.exports=h3;var BY=d3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VY=p,Os=BY;function ye(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f3=new Set,Rm={};function Uu(t,e){nh(t,e),nh(t+"Capture",e)}function nh(t,e){for(Rm[t]=e,t=0;t<e.length;t++)f3.add(e[t])}var ga=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bN=Object.prototype.hasOwnProperty,zY=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,B2={},V2={};function GY(t){return bN.call(V2,t)?!0:bN.call(B2,t)?!1:zY.test(t)?V2[t]=!0:(B2[t]=!0,!1)}function WY(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function HY(t,e,n,r){if(e===null||typeof e>"u"||WY(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Hr(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var gr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){gr[t]=new Hr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];gr[e]=new Hr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){gr[t]=new Hr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){gr[t]=new Hr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){gr[t]=new Hr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){gr[t]=new Hr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){gr[t]=new Hr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){gr[t]=new Hr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){gr[t]=new Hr(t,5,!1,t.toLowerCase(),null,!1,!1)});var EE=/[\-:]([a-z])/g;function PE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(EE,PE);gr[e]=new Hr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(EE,PE);gr[e]=new Hr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(EE,PE);gr[e]=new Hr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){gr[t]=new Hr(t,1,!1,t.toLowerCase(),null,!1,!1)});gr.xlinkHref=new Hr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){gr[t]=new Hr(t,1,!1,t.toLowerCase(),null,!0,!0)});function AE(t,e,n,r){var s=gr.hasOwnProperty(e)?gr[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(HY(e,n,s,r)&&(n=null),r||s===null?GY(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ra=VY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ev=Symbol.for("react.element"),md=Symbol.for("react.portal"),pd=Symbol.for("react.fragment"),CE=Symbol.for("react.strict_mode"),jN=Symbol.for("react.profiler"),m3=Symbol.for("react.provider"),p3=Symbol.for("react.context"),TE=Symbol.for("react.forward_ref"),NN=Symbol.for("react.suspense"),SN=Symbol.for("react.suspense_list"),kE=Symbol.for("react.memo"),nl=Symbol.for("react.lazy"),g3=Symbol.for("react.offscreen"),z2=Symbol.iterator;function Tf(t){return t===null||typeof t!="object"?null:(t=z2&&t[z2]||t["@@iterator"],typeof t=="function"?t:null)}var pn=Object.assign,O1;function Jf(t){if(O1===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);O1=e&&e[1]||""}return`
`+O1+t}var D1=!1;function M1(t,e){if(!t||D1)return"";D1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{D1=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Jf(t):""}function KY(t){switch(t.tag){case 5:return Jf(t.type);case 16:return Jf("Lazy");case 13:return Jf("Suspense");case 19:return Jf("SuspenseList");case 0:case 2:case 15:return t=M1(t.type,!1),t;case 11:return t=M1(t.type.render,!1),t;case 1:return t=M1(t.type,!0),t;default:return""}}function _N(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case pd:return"Fragment";case md:return"Portal";case jN:return"Profiler";case CE:return"StrictMode";case NN:return"Suspense";case SN:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case p3:return(t.displayName||"Context")+".Consumer";case m3:return(t._context.displayName||"Context")+".Provider";case TE:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case kE:return e=t.displayName||null,e!==null?e:_N(t.type)||"Memo";case nl:e=t._payload,t=t._init;try{return _N(t(e))}catch{}}return null}function qY(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _N(e);case 8:return e===CE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Hl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function v3(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function YY(t){var e=v3(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function tv(t){t._valueTracker||(t._valueTracker=YY(t))}function y3(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=v3(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Fy(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function EN(t,e){var n=e.checked;return pn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function G2(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Hl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function x3(t,e){e=e.checked,e!=null&&AE(t,"checked",e,!1)}function PN(t,e){x3(t,e);var n=Hl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?AN(t,e.type,n):e.hasOwnProperty("defaultValue")&&AN(t,e.type,Hl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function W2(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function AN(t,e,n){(e!=="number"||Fy(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Zf=Array.isArray;function Pd(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Hl(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function CN(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ye(91));return pn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function H2(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ye(92));if(Zf(n)){if(1<n.length)throw Error(ye(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Hl(n)}}function w3(t,e){var n=Hl(e.value),r=Hl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function K2(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function b3(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function TN(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?b3(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var nv,j3=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(nv=nv||document.createElement("div"),nv.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=nv.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Om(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var fm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},QY=["Webkit","ms","Moz","O"];Object.keys(fm).forEach(function(t){QY.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fm[e]=fm[t]})});function N3(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||fm.hasOwnProperty(t)&&fm[t]?(""+e).trim():e+"px"}function S3(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=N3(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var XY=pn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kN(t,e){if(e){if(XY[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ye(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ye(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ye(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ye(62))}}function IN(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var RN=null;function IE(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ON=null,Ad=null,Cd=null;function q2(t){if(t=Op(t)){if(typeof ON!="function")throw Error(ye(280));var e=t.stateNode;e&&(e=Y0(e),ON(t.stateNode,t.type,e))}}function _3(t){Ad?Cd?Cd.push(t):Cd=[t]:Ad=t}function E3(){if(Ad){var t=Ad,e=Cd;if(Cd=Ad=null,q2(t),e)for(t=0;t<e.length;t++)q2(e[t])}}function P3(t,e){return t(e)}function A3(){}var L1=!1;function C3(t,e,n){if(L1)return t(e,n);L1=!0;try{return P3(t,e,n)}finally{L1=!1,(Ad!==null||Cd!==null)&&(A3(),E3())}}function Dm(t,e){var n=t.stateNode;if(n===null)return null;var r=Y0(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ye(231,e,typeof n));return n}var DN=!1;if(ga)try{var kf={};Object.defineProperty(kf,"passive",{get:function(){DN=!0}}),window.addEventListener("test",kf,kf),window.removeEventListener("test",kf,kf)}catch{DN=!1}function JY(t,e,n,r,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var mm=!1,$y=null,Uy=!1,MN=null,ZY={onError:function(t){mm=!0,$y=t}};function eQ(t,e,n,r,s,i,a,l,c){mm=!1,$y=null,JY.apply(ZY,arguments)}function tQ(t,e,n,r,s,i,a,l,c){if(eQ.apply(this,arguments),mm){if(mm){var u=$y;mm=!1,$y=null}else throw Error(ye(198));Uy||(Uy=!0,MN=u)}}function Bu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function T3(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Y2(t){if(Bu(t)!==t)throw Error(ye(188))}function nQ(t){var e=t.alternate;if(!e){if(e=Bu(t),e===null)throw Error(ye(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Y2(s),t;if(i===r)return Y2(s),e;i=i.sibling}throw Error(ye(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(ye(189))}}if(n.alternate!==r)throw Error(ye(190))}if(n.tag!==3)throw Error(ye(188));return n.stateNode.current===n?t:e}function k3(t){return t=nQ(t),t!==null?I3(t):null}function I3(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=I3(t);if(e!==null)return e;t=t.sibling}return null}var R3=Os.unstable_scheduleCallback,Q2=Os.unstable_cancelCallback,rQ=Os.unstable_shouldYield,sQ=Os.unstable_requestPaint,An=Os.unstable_now,iQ=Os.unstable_getCurrentPriorityLevel,RE=Os.unstable_ImmediatePriority,O3=Os.unstable_UserBlockingPriority,By=Os.unstable_NormalPriority,oQ=Os.unstable_LowPriority,D3=Os.unstable_IdlePriority,W0=null,vo=null;function aQ(t){if(vo&&typeof vo.onCommitFiberRoot=="function")try{vo.onCommitFiberRoot(W0,t,void 0,(t.current.flags&128)===128)}catch{}}var Li=Math.clz32?Math.clz32:uQ,lQ=Math.log,cQ=Math.LN2;function uQ(t){return t>>>=0,t===0?32:31-(lQ(t)/cQ|0)|0}var rv=64,sv=4194304;function em(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Vy(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=em(l):(i&=a,i!==0&&(r=em(i)))}else a=n&~s,a!==0?r=em(a):i!==0&&(r=em(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Li(e),s=1<<n,r|=t[n],e&=~s;return r}function dQ(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hQ(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Li(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=dQ(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function LN(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function M3(){var t=rv;return rv<<=1,!(rv&4194240)&&(rv=64),t}function F1(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ip(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Li(e),t[e]=n}function fQ(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Li(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function OE(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Li(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Tt=0;function L3(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var F3,DE,$3,U3,B3,FN=!1,iv=[],Al=null,Cl=null,Tl=null,Mm=new Map,Lm=new Map,al=[],mQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function X2(t,e){switch(t){case"focusin":case"focusout":Al=null;break;case"dragenter":case"dragleave":Cl=null;break;case"mouseover":case"mouseout":Tl=null;break;case"pointerover":case"pointerout":Mm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lm.delete(e.pointerId)}}function If(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Op(e),e!==null&&DE(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function pQ(t,e,n,r,s){switch(e){case"focusin":return Al=If(Al,t,e,n,r,s),!0;case"dragenter":return Cl=If(Cl,t,e,n,r,s),!0;case"mouseover":return Tl=If(Tl,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Mm.set(i,If(Mm.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Lm.set(i,If(Lm.get(i)||null,t,e,n,r,s)),!0}return!1}function V3(t){var e=Bc(t.target);if(e!==null){var n=Bu(e);if(n!==null){if(e=n.tag,e===13){if(e=T3(n),e!==null){t.blockedOn=e,B3(t.priority,function(){$3(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function oy(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=$N(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);RN=r,n.target.dispatchEvent(r),RN=null}else return e=Op(n),e!==null&&DE(e),t.blockedOn=n,!1;e.shift()}return!0}function J2(t,e,n){oy(t)&&n.delete(e)}function gQ(){FN=!1,Al!==null&&oy(Al)&&(Al=null),Cl!==null&&oy(Cl)&&(Cl=null),Tl!==null&&oy(Tl)&&(Tl=null),Mm.forEach(J2),Lm.forEach(J2)}function Rf(t,e){t.blockedOn===e&&(t.blockedOn=null,FN||(FN=!0,Os.unstable_scheduleCallback(Os.unstable_NormalPriority,gQ)))}function Fm(t){function e(s){return Rf(s,t)}if(0<iv.length){Rf(iv[0],t);for(var n=1;n<iv.length;n++){var r=iv[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Al!==null&&Rf(Al,t),Cl!==null&&Rf(Cl,t),Tl!==null&&Rf(Tl,t),Mm.forEach(e),Lm.forEach(e),n=0;n<al.length;n++)r=al[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<al.length&&(n=al[0],n.blockedOn===null);)V3(n),n.blockedOn===null&&al.shift()}var Td=Ra.ReactCurrentBatchConfig,zy=!0;function vQ(t,e,n,r){var s=Tt,i=Td.transition;Td.transition=null;try{Tt=1,ME(t,e,n,r)}finally{Tt=s,Td.transition=i}}function yQ(t,e,n,r){var s=Tt,i=Td.transition;Td.transition=null;try{Tt=4,ME(t,e,n,r)}finally{Tt=s,Td.transition=i}}function ME(t,e,n,r){if(zy){var s=$N(t,e,n,r);if(s===null)q1(t,e,r,Gy,n),X2(t,r);else if(pQ(s,t,e,n,r))r.stopPropagation();else if(X2(t,r),e&4&&-1<mQ.indexOf(t)){for(;s!==null;){var i=Op(s);if(i!==null&&F3(i),i=$N(t,e,n,r),i===null&&q1(t,e,r,Gy,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else q1(t,e,r,null,n)}}var Gy=null;function $N(t,e,n,r){if(Gy=null,t=IE(r),t=Bc(t),t!==null)if(e=Bu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=T3(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Gy=t,null}function z3(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iQ()){case RE:return 1;case O3:return 4;case By:case oQ:return 16;case D3:return 536870912;default:return 16}default:return 16}}var bl=null,LE=null,ay=null;function G3(){if(ay)return ay;var t,e=LE,n=e.length,r,s="value"in bl?bl.value:bl.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return ay=s.slice(t,1<r?1-r:void 0)}function ly(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ov(){return!0}function Z2(){return!1}function zs(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ov:Z2,this.isPropagationStopped=Z2,this}return pn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ov)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ov)},persist:function(){},isPersistent:ov}),e}var $h={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},FE=zs($h),Rp=pn({},$h,{view:0,detail:0}),xQ=zs(Rp),$1,U1,Of,H0=pn({},Rp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$E,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Of&&(Of&&t.type==="mousemove"?($1=t.screenX-Of.screenX,U1=t.screenY-Of.screenY):U1=$1=0,Of=t),$1)},movementY:function(t){return"movementY"in t?t.movementY:U1}}),eI=zs(H0),wQ=pn({},H0,{dataTransfer:0}),bQ=zs(wQ),jQ=pn({},Rp,{relatedTarget:0}),B1=zs(jQ),NQ=pn({},$h,{animationName:0,elapsedTime:0,pseudoElement:0}),SQ=zs(NQ),_Q=pn({},$h,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),EQ=zs(_Q),PQ=pn({},$h,{data:0}),tI=zs(PQ),AQ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TQ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kQ(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=TQ[t])?!!e[t]:!1}function $E(){return kQ}var IQ=pn({},Rp,{key:function(t){if(t.key){var e=AQ[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ly(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?CQ[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$E,charCode:function(t){return t.type==="keypress"?ly(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ly(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),RQ=zs(IQ),OQ=pn({},H0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nI=zs(OQ),DQ=pn({},Rp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$E}),MQ=zs(DQ),LQ=pn({},$h,{propertyName:0,elapsedTime:0,pseudoElement:0}),FQ=zs(LQ),$Q=pn({},H0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),UQ=zs($Q),BQ=[9,13,27,32],UE=ga&&"CompositionEvent"in window,pm=null;ga&&"documentMode"in document&&(pm=document.documentMode);var VQ=ga&&"TextEvent"in window&&!pm,W3=ga&&(!UE||pm&&8<pm&&11>=pm),rI=" ",sI=!1;function H3(t,e){switch(t){case"keyup":return BQ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function K3(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var gd=!1;function zQ(t,e){switch(t){case"compositionend":return K3(e);case"keypress":return e.which!==32?null:(sI=!0,rI);case"textInput":return t=e.data,t===rI&&sI?null:t;default:return null}}function GQ(t,e){if(gd)return t==="compositionend"||!UE&&H3(t,e)?(t=G3(),ay=LE=bl=null,gd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return W3&&e.locale!=="ko"?null:e.data;default:return null}}var WQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!WQ[t.type]:e==="textarea"}function q3(t,e,n,r){_3(r),e=Wy(e,"onChange"),0<e.length&&(n=new FE("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var gm=null,$m=null;function HQ(t){i5(t,0)}function K0(t){var e=xd(t);if(y3(e))return t}function KQ(t,e){if(t==="change")return e}var Y3=!1;if(ga){var V1;if(ga){var z1="oninput"in document;if(!z1){var oI=document.createElement("div");oI.setAttribute("oninput","return;"),z1=typeof oI.oninput=="function"}V1=z1}else V1=!1;Y3=V1&&(!document.documentMode||9<document.documentMode)}function aI(){gm&&(gm.detachEvent("onpropertychange",Q3),$m=gm=null)}function Q3(t){if(t.propertyName==="value"&&K0($m)){var e=[];q3(e,$m,t,IE(t)),C3(HQ,e)}}function qQ(t,e,n){t==="focusin"?(aI(),gm=e,$m=n,gm.attachEvent("onpropertychange",Q3)):t==="focusout"&&aI()}function YQ(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return K0($m)}function QQ(t,e){if(t==="click")return K0(e)}function XQ(t,e){if(t==="input"||t==="change")return K0(e)}function JQ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Vi=typeof Object.is=="function"?Object.is:JQ;function Um(t,e){if(Vi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!bN.call(e,s)||!Vi(t[s],e[s]))return!1}return!0}function lI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cI(t,e){var n=lI(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lI(n)}}function X3(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?X3(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function J3(){for(var t=window,e=Fy();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Fy(t.document)}return e}function BE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ZQ(t){var e=J3(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&X3(n.ownerDocument.documentElement,n)){if(r!==null&&BE(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=cI(n,i);var a=cI(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var eX=ga&&"documentMode"in document&&11>=document.documentMode,vd=null,UN=null,vm=null,BN=!1;function uI(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;BN||vd==null||vd!==Fy(r)||(r=vd,"selectionStart"in r&&BE(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),vm&&Um(vm,r)||(vm=r,r=Wy(UN,"onSelect"),0<r.length&&(e=new FE("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=vd)))}function av(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var yd={animationend:av("Animation","AnimationEnd"),animationiteration:av("Animation","AnimationIteration"),animationstart:av("Animation","AnimationStart"),transitionend:av("Transition","TransitionEnd")},G1={},Z3={};ga&&(Z3=document.createElement("div").style,"AnimationEvent"in window||(delete yd.animationend.animation,delete yd.animationiteration.animation,delete yd.animationstart.animation),"TransitionEvent"in window||delete yd.transitionend.transition);function q0(t){if(G1[t])return G1[t];if(!yd[t])return t;var e=yd[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Z3)return G1[t]=e[n];return t}var e5=q0("animationend"),t5=q0("animationiteration"),n5=q0("animationstart"),r5=q0("transitionend"),s5=new Map,dI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cc(t,e){s5.set(t,e),Uu(e,[t])}for(var W1=0;W1<dI.length;W1++){var H1=dI[W1],tX=H1.toLowerCase(),nX=H1[0].toUpperCase()+H1.slice(1);cc(tX,"on"+nX)}cc(e5,"onAnimationEnd");cc(t5,"onAnimationIteration");cc(n5,"onAnimationStart");cc("dblclick","onDoubleClick");cc("focusin","onFocus");cc("focusout","onBlur");cc(r5,"onTransitionEnd");nh("onMouseEnter",["mouseout","mouseover"]);nh("onMouseLeave",["mouseout","mouseover"]);nh("onPointerEnter",["pointerout","pointerover"]);nh("onPointerLeave",["pointerout","pointerover"]);Uu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Uu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Uu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Uu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Uu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Uu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rX=new Set("cancel close invalid load scroll toggle".split(" ").concat(tm));function hI(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,tQ(r,e,void 0,t),t.currentTarget=null}function i5(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;hI(s,l,u),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;hI(s,l,u),i=c}}}if(Uy)throw t=MN,Uy=!1,MN=null,t}function Wt(t,e){var n=e[HN];n===void 0&&(n=e[HN]=new Set);var r=t+"__bubble";n.has(r)||(o5(e,t,2,!1),n.add(r))}function K1(t,e,n){var r=0;e&&(r|=4),o5(n,t,r,e)}var lv="_reactListening"+Math.random().toString(36).slice(2);function Bm(t){if(!t[lv]){t[lv]=!0,f3.forEach(function(n){n!=="selectionchange"&&(rX.has(n)||K1(n,!1,t),K1(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lv]||(e[lv]=!0,K1("selectionchange",!1,e))}}function o5(t,e,n,r){switch(z3(e)){case 1:var s=vQ;break;case 4:s=yQ;break;default:s=ME}n=s.bind(null,e,n,t),s=void 0,!DN||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function q1(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Bc(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}C3(function(){var u=i,d=IE(n),h=[];e:{var f=s5.get(t);if(f!==void 0){var m=FE,y=t;switch(t){case"keypress":if(ly(n)===0)break e;case"keydown":case"keyup":m=RQ;break;case"focusin":y="focus",m=B1;break;case"focusout":y="blur",m=B1;break;case"beforeblur":case"afterblur":m=B1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=eI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=bQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=MQ;break;case e5:case t5:case n5:m=SQ;break;case r5:m=FQ;break;case"scroll":m=xQ;break;case"wheel":m=UQ;break;case"copy":case"cut":case"paste":m=EQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=nI}var v=(e&4)!==0,x=!v&&t==="scroll",b=v?f!==null?f+"Capture":null:f;v=[];for(var w=u,j;w!==null;){j=w;var N=j.stateNode;if(j.tag===5&&N!==null&&(j=N,b!==null&&(N=Dm(w,b),N!=null&&v.push(Vm(w,N,j)))),x)break;w=w.return}0<v.length&&(f=new m(f,y,null,n,d),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==RN&&(y=n.relatedTarget||n.fromElement)&&(Bc(y)||y[va]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?Bc(y):null,y!==null&&(x=Bu(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(v=eI,N="onMouseLeave",b="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(v=nI,N="onPointerLeave",b="onPointerEnter",w="pointer"),x=m==null?f:xd(m),j=y==null?f:xd(y),f=new v(N,w+"leave",m,n,d),f.target=x,f.relatedTarget=j,N=null,Bc(d)===u&&(v=new v(b,w+"enter",y,n,d),v.target=j,v.relatedTarget=x,N=v),x=N,m&&y)t:{for(v=m,b=y,w=0,j=v;j;j=nd(j))w++;for(j=0,N=b;N;N=nd(N))j++;for(;0<w-j;)v=nd(v),w--;for(;0<j-w;)b=nd(b),j--;for(;w--;){if(v===b||b!==null&&v===b.alternate)break t;v=nd(v),b=nd(b)}v=null}else v=null;m!==null&&fI(h,f,m,v,!1),y!==null&&x!==null&&fI(h,x,y,v,!0)}}e:{if(f=u?xd(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var T=KQ;else if(iI(f))if(Y3)T=XQ;else{T=YQ;var I=qQ}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=QQ);if(T&&(T=T(t,u))){q3(h,T,n,d);break e}I&&I(t,f,u),t==="focusout"&&(I=f._wrapperState)&&I.controlled&&f.type==="number"&&AN(f,"number",f.value)}switch(I=u?xd(u):window,t){case"focusin":(iI(I)||I.contentEditable==="true")&&(vd=I,UN=u,vm=null);break;case"focusout":vm=UN=vd=null;break;case"mousedown":BN=!0;break;case"contextmenu":case"mouseup":case"dragend":BN=!1,uI(h,n,d);break;case"selectionchange":if(eX)break;case"keydown":case"keyup":uI(h,n,d)}var P;if(UE)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else gd?H3(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(W3&&n.locale!=="ko"&&(gd||E!=="onCompositionStart"?E==="onCompositionEnd"&&gd&&(P=G3()):(bl=d,LE="value"in bl?bl.value:bl.textContent,gd=!0)),I=Wy(u,E),0<I.length&&(E=new tI(E,t,null,n,d),h.push({event:E,listeners:I}),P?E.data=P:(P=K3(n),P!==null&&(E.data=P)))),(P=VQ?zQ(t,n):GQ(t,n))&&(u=Wy(u,"onBeforeInput"),0<u.length&&(d=new tI("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=P))}i5(h,e)})}function Vm(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Wy(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Dm(t,n),i!=null&&r.unshift(Vm(t,i,s)),i=Dm(t,e),i!=null&&r.push(Vm(t,i,s))),t=t.return}return r}function nd(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function fI(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Dm(n,i),c!=null&&a.unshift(Vm(n,c,l))):s||(c=Dm(n,i),c!=null&&a.push(Vm(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var sX=/\r\n?/g,iX=/\u0000|\uFFFD/g;function mI(t){return(typeof t=="string"?t:""+t).replace(sX,`
`).replace(iX,"")}function cv(t,e,n){if(e=mI(e),mI(t)!==e&&n)throw Error(ye(425))}function Hy(){}var VN=null,zN=null;function GN(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var WN=typeof setTimeout=="function"?setTimeout:void 0,oX=typeof clearTimeout=="function"?clearTimeout:void 0,pI=typeof Promise=="function"?Promise:void 0,aX=typeof queueMicrotask=="function"?queueMicrotask:typeof pI<"u"?function(t){return pI.resolve(null).then(t).catch(lX)}:WN;function lX(t){setTimeout(function(){throw t})}function Y1(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Fm(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Fm(e)}function kl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function gI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Uh=Math.random().toString(36).slice(2),lo="__reactFiber$"+Uh,zm="__reactProps$"+Uh,va="__reactContainer$"+Uh,HN="__reactEvents$"+Uh,cX="__reactListeners$"+Uh,uX="__reactHandles$"+Uh;function Bc(t){var e=t[lo];if(e)return e;for(var n=t.parentNode;n;){if(e=n[va]||n[lo]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=gI(t);t!==null;){if(n=t[lo])return n;t=gI(t)}return e}t=n,n=t.parentNode}return null}function Op(t){return t=t[lo]||t[va],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ye(33))}function Y0(t){return t[zm]||null}var KN=[],wd=-1;function uc(t){return{current:t}}function Qt(t){0>wd||(t.current=KN[wd],KN[wd]=null,wd--)}function Ut(t,e){wd++,KN[wd]=t.current,t.current=e}var Kl={},Rr=uc(Kl),ls=uc(!1),mu=Kl;function rh(t,e){var n=t.type.contextTypes;if(!n)return Kl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function cs(t){return t=t.childContextTypes,t!=null}function Ky(){Qt(ls),Qt(Rr)}function vI(t,e,n){if(Rr.current!==Kl)throw Error(ye(168));Ut(Rr,e),Ut(ls,n)}function a5(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(ye(108,qY(t)||"Unknown",s));return pn({},n,r)}function qy(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Kl,mu=Rr.current,Ut(Rr,t),Ut(ls,ls.current),!0}function yI(t,e,n){var r=t.stateNode;if(!r)throw Error(ye(169));n?(t=a5(t,e,mu),r.__reactInternalMemoizedMergedChildContext=t,Qt(ls),Qt(Rr),Ut(Rr,t)):Qt(ls),Ut(ls,n)}var Qo=null,Q0=!1,Q1=!1;function l5(t){Qo===null?Qo=[t]:Qo.push(t)}function dX(t){Q0=!0,l5(t)}function dc(){if(!Q1&&Qo!==null){Q1=!0;var t=0,e=Tt;try{var n=Qo;for(Tt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Qo=null,Q0=!1}catch(s){throw Qo!==null&&(Qo=Qo.slice(t+1)),R3(RE,dc),s}finally{Tt=e,Q1=!1}}return null}var bd=[],jd=0,Yy=null,Qy=0,Zs=[],ei=0,pu=null,na=1,ra="";function Oc(t,e){bd[jd++]=Qy,bd[jd++]=Yy,Yy=t,Qy=e}function c5(t,e,n){Zs[ei++]=na,Zs[ei++]=ra,Zs[ei++]=pu,pu=t;var r=na;t=ra;var s=32-Li(r)-1;r&=~(1<<s),n+=1;var i=32-Li(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,na=1<<32-Li(e)+s|n<<s|r,ra=i+t}else na=1<<i|n<<s|r,ra=t}function VE(t){t.return!==null&&(Oc(t,1),c5(t,1,0))}function zE(t){for(;t===Yy;)Yy=bd[--jd],bd[jd]=null,Qy=bd[--jd],bd[jd]=null;for(;t===pu;)pu=Zs[--ei],Zs[ei]=null,ra=Zs[--ei],Zs[ei]=null,na=Zs[--ei],Zs[ei]=null}var Ts=null,Ps=null,sn=!1,ki=null;function u5(t,e){var n=si(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function xI(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ts=t,Ps=kl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ts=t,Ps=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=pu!==null?{id:na,overflow:ra}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=si(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ts=t,Ps=null,!0):!1;default:return!1}}function qN(t){return(t.mode&1)!==0&&(t.flags&128)===0}function YN(t){if(sn){var e=Ps;if(e){var n=e;if(!xI(t,e)){if(qN(t))throw Error(ye(418));e=kl(n.nextSibling);var r=Ts;e&&xI(t,e)?u5(r,n):(t.flags=t.flags&-4097|2,sn=!1,Ts=t)}}else{if(qN(t))throw Error(ye(418));t.flags=t.flags&-4097|2,sn=!1,Ts=t}}}function wI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ts=t}function uv(t){if(t!==Ts)return!1;if(!sn)return wI(t),sn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!GN(t.type,t.memoizedProps)),e&&(e=Ps)){if(qN(t))throw d5(),Error(ye(418));for(;e;)u5(t,e),e=kl(e.nextSibling)}if(wI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ye(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ps=kl(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ps=null}}else Ps=Ts?kl(t.stateNode.nextSibling):null;return!0}function d5(){for(var t=Ps;t;)t=kl(t.nextSibling)}function sh(){Ps=Ts=null,sn=!1}function GE(t){ki===null?ki=[t]:ki.push(t)}var hX=Ra.ReactCurrentBatchConfig;function Df(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ye(309));var r=n.stateNode}if(!r)throw Error(ye(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(ye(284));if(!n._owner)throw Error(ye(290,t))}return t}function dv(t,e){throw t=Object.prototype.toString.call(e),Error(ye(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function bI(t){var e=t._init;return e(t._payload)}function h5(t){function e(b,w){if(t){var j=b.deletions;j===null?(b.deletions=[w],b.flags|=16):j.push(w)}}function n(b,w){if(!t)return null;for(;w!==null;)e(b,w),w=w.sibling;return null}function r(b,w){for(b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function s(b,w){return b=Dl(b,w),b.index=0,b.sibling=null,b}function i(b,w,j){return b.index=j,t?(j=b.alternate,j!==null?(j=j.index,j<w?(b.flags|=2,w):j):(b.flags|=2,w)):(b.flags|=1048576,w)}function a(b){return t&&b.alternate===null&&(b.flags|=2),b}function l(b,w,j,N){return w===null||w.tag!==6?(w=rj(j,b.mode,N),w.return=b,w):(w=s(w,j),w.return=b,w)}function c(b,w,j,N){var T=j.type;return T===pd?d(b,w,j.props.children,N,j.key):w!==null&&(w.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===nl&&bI(T)===w.type)?(N=s(w,j.props),N.ref=Df(b,w,j),N.return=b,N):(N=py(j.type,j.key,j.props,null,b.mode,N),N.ref=Df(b,w,j),N.return=b,N)}function u(b,w,j,N){return w===null||w.tag!==4||w.stateNode.containerInfo!==j.containerInfo||w.stateNode.implementation!==j.implementation?(w=sj(j,b.mode,N),w.return=b,w):(w=s(w,j.children||[]),w.return=b,w)}function d(b,w,j,N,T){return w===null||w.tag!==7?(w=su(j,b.mode,N,T),w.return=b,w):(w=s(w,j),w.return=b,w)}function h(b,w,j){if(typeof w=="string"&&w!==""||typeof w=="number")return w=rj(""+w,b.mode,j),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ev:return j=py(w.type,w.key,w.props,null,b.mode,j),j.ref=Df(b,null,w),j.return=b,j;case md:return w=sj(w,b.mode,j),w.return=b,w;case nl:var N=w._init;return h(b,N(w._payload),j)}if(Zf(w)||Tf(w))return w=su(w,b.mode,j,null),w.return=b,w;dv(b,w)}return null}function f(b,w,j,N){var T=w!==null?w.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return T!==null?null:l(b,w,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ev:return j.key===T?c(b,w,j,N):null;case md:return j.key===T?u(b,w,j,N):null;case nl:return T=j._init,f(b,w,T(j._payload),N)}if(Zf(j)||Tf(j))return T!==null?null:d(b,w,j,N,null);dv(b,j)}return null}function m(b,w,j,N,T){if(typeof N=="string"&&N!==""||typeof N=="number")return b=b.get(j)||null,l(w,b,""+N,T);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case ev:return b=b.get(N.key===null?j:N.key)||null,c(w,b,N,T);case md:return b=b.get(N.key===null?j:N.key)||null,u(w,b,N,T);case nl:var I=N._init;return m(b,w,j,I(N._payload),T)}if(Zf(N)||Tf(N))return b=b.get(j)||null,d(w,b,N,T,null);dv(w,N)}return null}function y(b,w,j,N){for(var T=null,I=null,P=w,E=w=0,A=null;P!==null&&E<j.length;E++){P.index>E?(A=P,P=null):A=P.sibling;var S=f(b,P,j[E],N);if(S===null){P===null&&(P=A);break}t&&P&&S.alternate===null&&e(b,P),w=i(S,w,E),I===null?T=S:I.sibling=S,I=S,P=A}if(E===j.length)return n(b,P),sn&&Oc(b,E),T;if(P===null){for(;E<j.length;E++)P=h(b,j[E],N),P!==null&&(w=i(P,w,E),I===null?T=P:I.sibling=P,I=P);return sn&&Oc(b,E),T}for(P=r(b,P);E<j.length;E++)A=m(P,b,E,j[E],N),A!==null&&(t&&A.alternate!==null&&P.delete(A.key===null?E:A.key),w=i(A,w,E),I===null?T=A:I.sibling=A,I=A);return t&&P.forEach(function(C){return e(b,C)}),sn&&Oc(b,E),T}function v(b,w,j,N){var T=Tf(j);if(typeof T!="function")throw Error(ye(150));if(j=T.call(j),j==null)throw Error(ye(151));for(var I=T=null,P=w,E=w=0,A=null,S=j.next();P!==null&&!S.done;E++,S=j.next()){P.index>E?(A=P,P=null):A=P.sibling;var C=f(b,P,S.value,N);if(C===null){P===null&&(P=A);break}t&&P&&C.alternate===null&&e(b,P),w=i(C,w,E),I===null?T=C:I.sibling=C,I=C,P=A}if(S.done)return n(b,P),sn&&Oc(b,E),T;if(P===null){for(;!S.done;E++,S=j.next())S=h(b,S.value,N),S!==null&&(w=i(S,w,E),I===null?T=S:I.sibling=S,I=S);return sn&&Oc(b,E),T}for(P=r(b,P);!S.done;E++,S=j.next())S=m(P,b,E,S.value,N),S!==null&&(t&&S.alternate!==null&&P.delete(S.key===null?E:S.key),w=i(S,w,E),I===null?T=S:I.sibling=S,I=S);return t&&P.forEach(function(O){return e(b,O)}),sn&&Oc(b,E),T}function x(b,w,j,N){if(typeof j=="object"&&j!==null&&j.type===pd&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case ev:e:{for(var T=j.key,I=w;I!==null;){if(I.key===T){if(T=j.type,T===pd){if(I.tag===7){n(b,I.sibling),w=s(I,j.props.children),w.return=b,b=w;break e}}else if(I.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===nl&&bI(T)===I.type){n(b,I.sibling),w=s(I,j.props),w.ref=Df(b,I,j),w.return=b,b=w;break e}n(b,I);break}else e(b,I);I=I.sibling}j.type===pd?(w=su(j.props.children,b.mode,N,j.key),w.return=b,b=w):(N=py(j.type,j.key,j.props,null,b.mode,N),N.ref=Df(b,w,j),N.return=b,b=N)}return a(b);case md:e:{for(I=j.key;w!==null;){if(w.key===I)if(w.tag===4&&w.stateNode.containerInfo===j.containerInfo&&w.stateNode.implementation===j.implementation){n(b,w.sibling),w=s(w,j.children||[]),w.return=b,b=w;break e}else{n(b,w);break}else e(b,w);w=w.sibling}w=sj(j,b.mode,N),w.return=b,b=w}return a(b);case nl:return I=j._init,x(b,w,I(j._payload),N)}if(Zf(j))return y(b,w,j,N);if(Tf(j))return v(b,w,j,N);dv(b,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,w!==null&&w.tag===6?(n(b,w.sibling),w=s(w,j),w.return=b,b=w):(n(b,w),w=rj(j,b.mode,N),w.return=b,b=w),a(b)):n(b,w)}return x}var ih=h5(!0),f5=h5(!1),Xy=uc(null),Jy=null,Nd=null,WE=null;function HE(){WE=Nd=Jy=null}function KE(t){var e=Xy.current;Qt(Xy),t._currentValue=e}function QN(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function kd(t,e){Jy=t,WE=Nd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ss=!0),t.firstContext=null)}function hi(t){var e=t._currentValue;if(WE!==t)if(t={context:t,memoizedValue:e,next:null},Nd===null){if(Jy===null)throw Error(ye(308));Nd=t,Jy.dependencies={lanes:0,firstContext:t}}else Nd=Nd.next=t;return e}var Vc=null;function qE(t){Vc===null?Vc=[t]:Vc.push(t)}function m5(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,qE(e)):(n.next=s.next,s.next=n),e.interleaved=n,ya(t,r)}function ya(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var rl=!1;function YE(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function p5(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ca(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Il(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,yt&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ya(t,n)}return s=r.interleaved,s===null?(e.next=e,qE(r)):(e.next=s.next,s.next=e),r.interleaved=e,ya(t,n)}function cy(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,OE(t,n)}}function jI(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Zy(t,e,n,r){var s=t.updateQueue;rl=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;a=0,d=u=c=null,l=i;do{var f=l.lane,m=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,v=l;switch(f=e,m=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){h=y.call(m,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,f=typeof y=="function"?y.call(m,h,f):y,f==null)break e;h=pn({},h,f);break e;case 2:rl=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,a|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);vu|=a,t.lanes=a,t.memoizedState=h}}function NI(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ye(191,s));s.call(r)}}}var Dp={},yo=uc(Dp),Gm=uc(Dp),Wm=uc(Dp);function zc(t){if(t===Dp)throw Error(ye(174));return t}function QE(t,e){switch(Ut(Wm,e),Ut(Gm,t),Ut(yo,Dp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:TN(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=TN(e,t)}Qt(yo),Ut(yo,e)}function oh(){Qt(yo),Qt(Gm),Qt(Wm)}function g5(t){zc(Wm.current);var e=zc(yo.current),n=TN(e,t.type);e!==n&&(Ut(Gm,t),Ut(yo,n))}function XE(t){Gm.current===t&&(Qt(yo),Qt(Gm))}var un=uc(0);function ex(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var X1=[];function JE(){for(var t=0;t<X1.length;t++)X1[t]._workInProgressVersionPrimary=null;X1.length=0}var uy=Ra.ReactCurrentDispatcher,J1=Ra.ReactCurrentBatchConfig,gu=0,fn=null,Bn=null,Zn=null,tx=!1,ym=!1,Hm=0,fX=0;function Nr(){throw Error(ye(321))}function ZE(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Vi(t[n],e[n]))return!1;return!0}function eP(t,e,n,r,s,i){if(gu=i,fn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,uy.current=t===null||t.memoizedState===null?vX:yX,t=n(r,s),ym){i=0;do{if(ym=!1,Hm=0,25<=i)throw Error(ye(301));i+=1,Zn=Bn=null,e.updateQueue=null,uy.current=xX,t=n(r,s)}while(ym)}if(uy.current=nx,e=Bn!==null&&Bn.next!==null,gu=0,Zn=Bn=fn=null,tx=!1,e)throw Error(ye(300));return t}function tP(){var t=Hm!==0;return Hm=0,t}function to(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zn===null?fn.memoizedState=Zn=t:Zn=Zn.next=t,Zn}function fi(){if(Bn===null){var t=fn.alternate;t=t!==null?t.memoizedState:null}else t=Bn.next;var e=Zn===null?fn.memoizedState:Zn.next;if(e!==null)Zn=e,Bn=t;else{if(t===null)throw Error(ye(310));Bn=t,t={memoizedState:Bn.memoizedState,baseState:Bn.baseState,baseQueue:Bn.baseQueue,queue:Bn.queue,next:null},Zn===null?fn.memoizedState=Zn=t:Zn=Zn.next=t}return Zn}function Km(t,e){return typeof e=="function"?e(t):e}function Z1(t){var e=fi(),n=e.queue;if(n===null)throw Error(ye(311));n.lastRenderedReducer=t;var r=Bn,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((gu&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=r):c=c.next=h,fn.lanes|=d,vu|=d}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=l,Vi(r,e.memoizedState)||(ss=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,fn.lanes|=i,vu|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ej(t){var e=fi(),n=e.queue;if(n===null)throw Error(ye(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);Vi(i,e.memoizedState)||(ss=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function v5(){}function y5(t,e){var n=fn,r=fi(),s=e(),i=!Vi(r.memoizedState,s);if(i&&(r.memoizedState=s,ss=!0),r=r.queue,nP(b5.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Zn!==null&&Zn.memoizedState.tag&1){if(n.flags|=2048,qm(9,w5.bind(null,n,r,s,e),void 0,null),tr===null)throw Error(ye(349));gu&30||x5(n,e,s)}return s}function x5(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=fn.updateQueue,e===null?(e={lastEffect:null,stores:null},fn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function w5(t,e,n,r){e.value=n,e.getSnapshot=r,j5(e)&&N5(t)}function b5(t,e,n){return n(function(){j5(e)&&N5(t)})}function j5(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Vi(t,n)}catch{return!0}}function N5(t){var e=ya(t,1);e!==null&&Fi(e,t,1,-1)}function SI(t){var e=to();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Km,lastRenderedState:t},e.queue=t,t=t.dispatch=gX.bind(null,fn,t),[e.memoizedState,t]}function qm(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=fn.updateQueue,e===null?(e={lastEffect:null,stores:null},fn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function S5(){return fi().memoizedState}function dy(t,e,n,r){var s=to();fn.flags|=t,s.memoizedState=qm(1|e,n,void 0,r===void 0?null:r)}function X0(t,e,n,r){var s=fi();r=r===void 0?null:r;var i=void 0;if(Bn!==null){var a=Bn.memoizedState;if(i=a.destroy,r!==null&&ZE(r,a.deps)){s.memoizedState=qm(e,n,i,r);return}}fn.flags|=t,s.memoizedState=qm(1|e,n,i,r)}function _I(t,e){return dy(8390656,8,t,e)}function nP(t,e){return X0(2048,8,t,e)}function _5(t,e){return X0(4,2,t,e)}function E5(t,e){return X0(4,4,t,e)}function P5(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function A5(t,e,n){return n=n!=null?n.concat([t]):null,X0(4,4,P5.bind(null,e,t),n)}function rP(){}function C5(t,e){var n=fi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ZE(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function T5(t,e){var n=fi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ZE(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function k5(t,e,n){return gu&21?(Vi(n,e)||(n=M3(),fn.lanes|=n,vu|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ss=!0),t.memoizedState=n)}function mX(t,e){var n=Tt;Tt=n!==0&&4>n?n:4,t(!0);var r=J1.transition;J1.transition={};try{t(!1),e()}finally{Tt=n,J1.transition=r}}function I5(){return fi().memoizedState}function pX(t,e,n){var r=Ol(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},R5(t))O5(e,n);else if(n=m5(t,e,n,r),n!==null){var s=Gr();Fi(n,t,r,s),D5(n,e,r)}}function gX(t,e,n){var r=Ol(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(R5(t))O5(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,Vi(l,a)){var c=e.interleaved;c===null?(s.next=s,qE(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=m5(t,e,s,r),n!==null&&(s=Gr(),Fi(n,t,r,s),D5(n,e,r))}}function R5(t){var e=t.alternate;return t===fn||e!==null&&e===fn}function O5(t,e){ym=tx=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function D5(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,OE(t,n)}}var nx={readContext:hi,useCallback:Nr,useContext:Nr,useEffect:Nr,useImperativeHandle:Nr,useInsertionEffect:Nr,useLayoutEffect:Nr,useMemo:Nr,useReducer:Nr,useRef:Nr,useState:Nr,useDebugValue:Nr,useDeferredValue:Nr,useTransition:Nr,useMutableSource:Nr,useSyncExternalStore:Nr,useId:Nr,unstable_isNewReconciler:!1},vX={readContext:hi,useCallback:function(t,e){return to().memoizedState=[t,e===void 0?null:e],t},useContext:hi,useEffect:_I,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,dy(4194308,4,P5.bind(null,e,t),n)},useLayoutEffect:function(t,e){return dy(4194308,4,t,e)},useInsertionEffect:function(t,e){return dy(4,2,t,e)},useMemo:function(t,e){var n=to();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=to();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=pX.bind(null,fn,t),[r.memoizedState,t]},useRef:function(t){var e=to();return t={current:t},e.memoizedState=t},useState:SI,useDebugValue:rP,useDeferredValue:function(t){return to().memoizedState=t},useTransition:function(){var t=SI(!1),e=t[0];return t=mX.bind(null,t[1]),to().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=fn,s=to();if(sn){if(n===void 0)throw Error(ye(407));n=n()}else{if(n=e(),tr===null)throw Error(ye(349));gu&30||x5(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,_I(b5.bind(null,r,i,t),[t]),r.flags|=2048,qm(9,w5.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=to(),e=tr.identifierPrefix;if(sn){var n=ra,r=na;n=(r&~(1<<32-Li(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Hm++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=fX++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},yX={readContext:hi,useCallback:C5,useContext:hi,useEffect:nP,useImperativeHandle:A5,useInsertionEffect:_5,useLayoutEffect:E5,useMemo:T5,useReducer:Z1,useRef:S5,useState:function(){return Z1(Km)},useDebugValue:rP,useDeferredValue:function(t){var e=fi();return k5(e,Bn.memoizedState,t)},useTransition:function(){var t=Z1(Km)[0],e=fi().memoizedState;return[t,e]},useMutableSource:v5,useSyncExternalStore:y5,useId:I5,unstable_isNewReconciler:!1},xX={readContext:hi,useCallback:C5,useContext:hi,useEffect:nP,useImperativeHandle:A5,useInsertionEffect:_5,useLayoutEffect:E5,useMemo:T5,useReducer:ej,useRef:S5,useState:function(){return ej(Km)},useDebugValue:rP,useDeferredValue:function(t){var e=fi();return Bn===null?e.memoizedState=t:k5(e,Bn.memoizedState,t)},useTransition:function(){var t=ej(Km)[0],e=fi().memoizedState;return[t,e]},useMutableSource:v5,useSyncExternalStore:y5,useId:I5,unstable_isNewReconciler:!1};function Ei(t,e){if(t&&t.defaultProps){e=pn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function XN(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:pn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var J0={isMounted:function(t){return(t=t._reactInternals)?Bu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Gr(),s=Ol(t),i=ca(r,s);i.payload=e,n!=null&&(i.callback=n),e=Il(t,i,s),e!==null&&(Fi(e,t,s,r),cy(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Gr(),s=Ol(t),i=ca(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Il(t,i,s),e!==null&&(Fi(e,t,s,r),cy(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Gr(),r=Ol(t),s=ca(n,r);s.tag=2,e!=null&&(s.callback=e),e=Il(t,s,r),e!==null&&(Fi(e,t,r,n),cy(e,t,r))}};function EI(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!Um(n,r)||!Um(s,i):!0}function M5(t,e,n){var r=!1,s=Kl,i=e.contextType;return typeof i=="object"&&i!==null?i=hi(i):(s=cs(e)?mu:Rr.current,r=e.contextTypes,i=(r=r!=null)?rh(t,s):Kl),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=J0,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function PI(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&J0.enqueueReplaceState(e,e.state,null)}function JN(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},YE(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=hi(i):(i=cs(e)?mu:Rr.current,s.context=rh(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(XN(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&J0.enqueueReplaceState(s,s.state,null),Zy(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ah(t,e){try{var n="",r=e;do n+=KY(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function tj(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ZN(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var wX=typeof WeakMap=="function"?WeakMap:Map;function L5(t,e,n){n=ca(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){sx||(sx=!0,cS=r),ZN(t,e)},n}function F5(t,e,n){n=ca(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){ZN(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ZN(t,e),typeof r!="function"&&(Rl===null?Rl=new Set([this]):Rl.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function AI(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new wX;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=OX.bind(null,t,e,n),e.then(t,t))}function CI(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function TI(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ca(-1,1),e.tag=2,Il(n,e,1))),n.lanes|=1),t)}var bX=Ra.ReactCurrentOwner,ss=!1;function $r(t,e,n,r){e.child=t===null?f5(e,null,n,r):ih(e,t.child,n,r)}function kI(t,e,n,r,s){n=n.render;var i=e.ref;return kd(e,s),r=eP(t,e,n,r,i,s),n=tP(),t!==null&&!ss?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,xa(t,e,s)):(sn&&n&&VE(e),e.flags|=1,$r(t,e,r,s),e.child)}function II(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!dP(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,$5(t,e,i,r,s)):(t=py(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Um,n(a,r)&&t.ref===e.ref)return xa(t,e,s)}return e.flags|=1,t=Dl(i,r),t.ref=e.ref,t.return=e,e.child=t}function $5(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Um(i,r)&&t.ref===e.ref)if(ss=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(ss=!0);else return e.lanes=t.lanes,xa(t,e,s)}return eS(t,e,n,r,s)}function U5(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ut(_d,ws),ws|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ut(_d,ws),ws|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ut(_d,ws),ws|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ut(_d,ws),ws|=r;return $r(t,e,s,n),e.child}function B5(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function eS(t,e,n,r,s){var i=cs(n)?mu:Rr.current;return i=rh(e,i),kd(e,s),n=eP(t,e,n,r,i,s),r=tP(),t!==null&&!ss?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,xa(t,e,s)):(sn&&r&&VE(e),e.flags|=1,$r(t,e,n,s),e.child)}function RI(t,e,n,r,s){if(cs(n)){var i=!0;qy(e)}else i=!1;if(kd(e,s),e.stateNode===null)hy(t,e),M5(e,n,r),JN(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=hi(u):(u=cs(n)?mu:Rr.current,u=rh(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&PI(e,a,r,u),rl=!1;var f=e.memoizedState;a.state=f,Zy(e,r,a,s),c=e.memoizedState,l!==r||f!==c||ls.current||rl?(typeof d=="function"&&(XN(e,n,d,r),c=e.memoizedState),(l=rl||EI(e,n,l,r,f,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,p5(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Ei(e.type,l),a.props=u,h=e.pendingProps,f=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=hi(c):(c=cs(n)?mu:Rr.current,c=rh(e,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||f!==c)&&PI(e,a,r,c),rl=!1,f=e.memoizedState,a.state=f,Zy(e,r,a,s);var y=e.memoizedState;l!==h||f!==y||ls.current||rl?(typeof m=="function"&&(XN(e,n,m,r),y=e.memoizedState),(u=rl||EI(e,n,u,r,f,y,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),a.props=r,a.state=y,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return tS(t,e,n,r,i,s)}function tS(t,e,n,r,s,i){B5(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&yI(e,n,!1),xa(t,e,i);r=e.stateNode,bX.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=ih(e,t.child,null,i),e.child=ih(e,null,l,i)):$r(t,e,l,i),e.memoizedState=r.state,s&&yI(e,n,!0),e.child}function V5(t){var e=t.stateNode;e.pendingContext?vI(t,e.pendingContext,e.pendingContext!==e.context):e.context&&vI(t,e.context,!1),QE(t,e.containerInfo)}function OI(t,e,n,r,s){return sh(),GE(s),e.flags|=256,$r(t,e,n,r),e.child}var nS={dehydrated:null,treeContext:null,retryLane:0};function rS(t){return{baseLanes:t,cachePool:null,transitions:null}}function z5(t,e,n){var r=e.pendingProps,s=un.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ut(un,s&1),t===null)return YN(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=tw(a,r,0,null),t=su(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=rS(n),e.memoizedState=nS,t):sP(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return jX(t,e,a,r,l,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Dl(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Dl(l,i):(i=su(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?rS(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=nS,r}return i=t.child,t=i.sibling,r=Dl(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function sP(t,e){return e=tw({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function hv(t,e,n,r){return r!==null&&GE(r),ih(e,t.child,null,n),t=sP(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function jX(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=tj(Error(ye(422))),hv(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=tw({mode:"visible",children:r.children},s,0,null),i=su(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ih(e,t.child,null,a),e.child.memoizedState=rS(a),e.memoizedState=nS,i);if(!(e.mode&1))return hv(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(ye(419)),r=tj(i,r,void 0),hv(t,e,a,r)}if(l=(a&t.childLanes)!==0,ss||l){if(r=tr,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ya(t,s),Fi(r,t,s,-1))}return uP(),r=tj(Error(ye(421))),hv(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=DX.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ps=kl(s.nextSibling),Ts=e,sn=!0,ki=null,t!==null&&(Zs[ei++]=na,Zs[ei++]=ra,Zs[ei++]=pu,na=t.id,ra=t.overflow,pu=e),e=sP(e,r.children),e.flags|=4096,e)}function DI(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),QN(t.return,e,n)}function nj(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function G5(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if($r(t,e,r.children,n),r=un.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&DI(t,n,e);else if(t.tag===19)DI(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ut(un,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ex(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),nj(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ex(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}nj(e,!0,n,null,i);break;case"together":nj(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hy(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function xa(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),vu|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ye(153));if(e.child!==null){for(t=e.child,n=Dl(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Dl(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function NX(t,e,n){switch(e.tag){case 3:V5(e),sh();break;case 5:g5(e);break;case 1:cs(e.type)&&qy(e);break;case 4:QE(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ut(Xy,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ut(un,un.current&1),e.flags|=128,null):n&e.child.childLanes?z5(t,e,n):(Ut(un,un.current&1),t=xa(t,e,n),t!==null?t.sibling:null);Ut(un,un.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return G5(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ut(un,un.current),r)break;return null;case 22:case 23:return e.lanes=0,U5(t,e,n)}return xa(t,e,n)}var W5,sS,H5,K5;W5=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sS=function(){};H5=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,zc(yo.current);var i=null;switch(n){case"input":s=EN(t,s),r=EN(t,r),i=[];break;case"select":s=pn({},s,{value:void 0}),r=pn({},r,{value:void 0}),i=[];break;case"textarea":s=CN(t,s),r=CN(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Hy)}kN(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Rm.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Rm.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Wt("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};K5=function(t,e,n,r){n!==r&&(e.flags|=4)};function Mf(t,e){if(!sn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Sr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function SX(t,e,n){var r=e.pendingProps;switch(zE(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sr(e),null;case 1:return cs(e.type)&&Ky(),Sr(e),null;case 3:return r=e.stateNode,oh(),Qt(ls),Qt(Rr),JE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(uv(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ki!==null&&(hS(ki),ki=null))),sS(t,e),Sr(e),null;case 5:XE(e);var s=zc(Wm.current);if(n=e.type,t!==null&&e.stateNode!=null)H5(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ye(166));return Sr(e),null}if(t=zc(yo.current),uv(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[lo]=e,r[zm]=i,t=(e.mode&1)!==0,n){case"dialog":Wt("cancel",r),Wt("close",r);break;case"iframe":case"object":case"embed":Wt("load",r);break;case"video":case"audio":for(s=0;s<tm.length;s++)Wt(tm[s],r);break;case"source":Wt("error",r);break;case"img":case"image":case"link":Wt("error",r),Wt("load",r);break;case"details":Wt("toggle",r);break;case"input":G2(r,i),Wt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Wt("invalid",r);break;case"textarea":H2(r,i),Wt("invalid",r)}kN(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&cv(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&cv(r.textContent,l,t),s=["children",""+l]):Rm.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Wt("scroll",r)}switch(n){case"input":tv(r),W2(r,i,!0);break;case"textarea":tv(r),K2(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Hy)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=b3(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[lo]=e,t[zm]=r,W5(t,e,!1,!1),e.stateNode=t;e:{switch(a=IN(n,r),n){case"dialog":Wt("cancel",t),Wt("close",t),s=r;break;case"iframe":case"object":case"embed":Wt("load",t),s=r;break;case"video":case"audio":for(s=0;s<tm.length;s++)Wt(tm[s],t);s=r;break;case"source":Wt("error",t),s=r;break;case"img":case"image":case"link":Wt("error",t),Wt("load",t),s=r;break;case"details":Wt("toggle",t),s=r;break;case"input":G2(t,r),s=EN(t,r),Wt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=pn({},r,{value:void 0}),Wt("invalid",t);break;case"textarea":H2(t,r),s=CN(t,r),Wt("invalid",t);break;default:s=r}kN(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?S3(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&j3(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Om(t,c):typeof c=="number"&&Om(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Rm.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Wt("scroll",t):c!=null&&AE(t,i,c,a))}switch(n){case"input":tv(t),W2(t,r,!1);break;case"textarea":tv(t),K2(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Hl(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Pd(t,!!r.multiple,i,!1):r.defaultValue!=null&&Pd(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Hy)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Sr(e),null;case 6:if(t&&e.stateNode!=null)K5(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ye(166));if(n=zc(Wm.current),zc(yo.current),uv(e)){if(r=e.stateNode,n=e.memoizedProps,r[lo]=e,(i=r.nodeValue!==n)&&(t=Ts,t!==null))switch(t.tag){case 3:cv(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&cv(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[lo]=e,e.stateNode=r}return Sr(e),null;case 13:if(Qt(un),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(sn&&Ps!==null&&e.mode&1&&!(e.flags&128))d5(),sh(),e.flags|=98560,i=!1;else if(i=uv(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(ye(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ye(317));i[lo]=e}else sh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Sr(e),i=!1}else ki!==null&&(hS(ki),ki=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||un.current&1?zn===0&&(zn=3):uP())),e.updateQueue!==null&&(e.flags|=4),Sr(e),null);case 4:return oh(),sS(t,e),t===null&&Bm(e.stateNode.containerInfo),Sr(e),null;case 10:return KE(e.type._context),Sr(e),null;case 17:return cs(e.type)&&Ky(),Sr(e),null;case 19:if(Qt(un),i=e.memoizedState,i===null)return Sr(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)Mf(i,!1);else{if(zn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=ex(t),a!==null){for(e.flags|=128,Mf(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ut(un,un.current&1|2),e.child}t=t.sibling}i.tail!==null&&An()>lh&&(e.flags|=128,r=!0,Mf(i,!1),e.lanes=4194304)}else{if(!r)if(t=ex(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Mf(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!sn)return Sr(e),null}else 2*An()-i.renderingStartTime>lh&&n!==1073741824&&(e.flags|=128,r=!0,Mf(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=An(),e.sibling=null,n=un.current,Ut(un,r?n&1|2:n&1),e):(Sr(e),null);case 22:case 23:return cP(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ws&1073741824&&(Sr(e),e.subtreeFlags&6&&(e.flags|=8192)):Sr(e),null;case 24:return null;case 25:return null}throw Error(ye(156,e.tag))}function _X(t,e){switch(zE(e),e.tag){case 1:return cs(e.type)&&Ky(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return oh(),Qt(ls),Qt(Rr),JE(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return XE(e),null;case 13:if(Qt(un),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ye(340));sh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Qt(un),null;case 4:return oh(),null;case 10:return KE(e.type._context),null;case 22:case 23:return cP(),null;case 24:return null;default:return null}}var fv=!1,Cr=!1,EX=typeof WeakSet=="function"?WeakSet:Set,ke=null;function Sd(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){wn(t,e,r)}else n.current=null}function iS(t,e,n){try{n()}catch(r){wn(t,e,r)}}var MI=!1;function PX(t,e){if(VN=zy,t=J3(),BE(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(l=a+s),h!==i||r!==0&&h.nodeType!==3||(c=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++u===s&&(l=a),f===i&&++d===r&&(c=a),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(zN={focusedElem:t,selectionRange:n},zy=!1,ke=e;ke!==null;)if(e=ke,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ke=t;else for(;ke!==null;){e=ke;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,x=y.memoizedState,b=e.stateNode,w=b.getSnapshotBeforeUpdate(e.elementType===e.type?v:Ei(e.type,v),x);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var j=e.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ye(163))}}catch(N){wn(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,ke=t;break}ke=e.return}return y=MI,MI=!1,y}function xm(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&iS(e,n,i)}s=s.next}while(s!==r)}}function Z0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function oS(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function q5(t){var e=t.alternate;e!==null&&(t.alternate=null,q5(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[lo],delete e[zm],delete e[HN],delete e[cX],delete e[uX])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Y5(t){return t.tag===5||t.tag===3||t.tag===4}function LI(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Y5(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function aS(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Hy));else if(r!==4&&(t=t.child,t!==null))for(aS(t,e,n),t=t.sibling;t!==null;)aS(t,e,n),t=t.sibling}function lS(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(lS(t,e,n),t=t.sibling;t!==null;)lS(t,e,n),t=t.sibling}var ur=null,Ti=!1;function Ya(t,e,n){for(n=n.child;n!==null;)Q5(t,e,n),n=n.sibling}function Q5(t,e,n){if(vo&&typeof vo.onCommitFiberUnmount=="function")try{vo.onCommitFiberUnmount(W0,n)}catch{}switch(n.tag){case 5:Cr||Sd(n,e);case 6:var r=ur,s=Ti;ur=null,Ya(t,e,n),ur=r,Ti=s,ur!==null&&(Ti?(t=ur,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ur.removeChild(n.stateNode));break;case 18:ur!==null&&(Ti?(t=ur,n=n.stateNode,t.nodeType===8?Y1(t.parentNode,n):t.nodeType===1&&Y1(t,n),Fm(t)):Y1(ur,n.stateNode));break;case 4:r=ur,s=Ti,ur=n.stateNode.containerInfo,Ti=!0,Ya(t,e,n),ur=r,Ti=s;break;case 0:case 11:case 14:case 15:if(!Cr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&iS(n,e,a),s=s.next}while(s!==r)}Ya(t,e,n);break;case 1:if(!Cr&&(Sd(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){wn(n,e,l)}Ya(t,e,n);break;case 21:Ya(t,e,n);break;case 22:n.mode&1?(Cr=(r=Cr)||n.memoizedState!==null,Ya(t,e,n),Cr=r):Ya(t,e,n);break;default:Ya(t,e,n)}}function FI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new EX),e.forEach(function(r){var s=MX.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ni(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:ur=l.stateNode,Ti=!1;break e;case 3:ur=l.stateNode.containerInfo,Ti=!0;break e;case 4:ur=l.stateNode.containerInfo,Ti=!0;break e}l=l.return}if(ur===null)throw Error(ye(160));Q5(i,a,s),ur=null,Ti=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){wn(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)X5(e,t),e=e.sibling}function X5(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ni(e,t),Zi(t),r&4){try{xm(3,t,t.return),Z0(3,t)}catch(v){wn(t,t.return,v)}try{xm(5,t,t.return)}catch(v){wn(t,t.return,v)}}break;case 1:Ni(e,t),Zi(t),r&512&&n!==null&&Sd(n,n.return);break;case 5:if(Ni(e,t),Zi(t),r&512&&n!==null&&Sd(n,n.return),t.flags&32){var s=t.stateNode;try{Om(s,"")}catch(v){wn(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&x3(s,i),IN(l,a);var u=IN(l,i);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?S3(s,h):d==="dangerouslySetInnerHTML"?j3(s,h):d==="children"?Om(s,h):AE(s,d,h,u)}switch(l){case"input":PN(s,i);break;case"textarea":w3(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Pd(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?Pd(s,!!i.multiple,i.defaultValue,!0):Pd(s,!!i.multiple,i.multiple?[]:"",!1))}s[zm]=i}catch(v){wn(t,t.return,v)}}break;case 6:if(Ni(e,t),Zi(t),r&4){if(t.stateNode===null)throw Error(ye(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){wn(t,t.return,v)}}break;case 3:if(Ni(e,t),Zi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fm(e.containerInfo)}catch(v){wn(t,t.return,v)}break;case 4:Ni(e,t),Zi(t);break;case 13:Ni(e,t),Zi(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(aP=An())),r&4&&FI(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Cr=(u=Cr)||d,Ni(e,t),Cr=u):Ni(e,t),Zi(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ke=t,d=t.child;d!==null;){for(h=ke=d;ke!==null;){switch(f=ke,m=f.child,f.tag){case 0:case 11:case 14:case 15:xm(4,f,f.return);break;case 1:Sd(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){wn(r,n,v)}}break;case 5:Sd(f,f.return);break;case 22:if(f.memoizedState!==null){UI(h);continue}}m!==null?(m.return=f,ke=m):UI(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=N3("display",a))}catch(v){wn(t,t.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){wn(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ni(e,t),Zi(t),r&4&&FI(t);break;case 21:break;default:Ni(e,t),Zi(t)}}function Zi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Y5(n)){var r=n;break e}n=n.return}throw Error(ye(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Om(s,""),r.flags&=-33);var i=LI(t);lS(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=LI(t);aS(t,l,a);break;default:throw Error(ye(161))}}catch(c){wn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function AX(t,e,n){ke=t,J5(t)}function J5(t,e,n){for(var r=(t.mode&1)!==0;ke!==null;){var s=ke,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||fv;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Cr;l=fv;var u=Cr;if(fv=a,(Cr=c)&&!u)for(ke=s;ke!==null;)a=ke,c=a.child,a.tag===22&&a.memoizedState!==null?BI(s):c!==null?(c.return=a,ke=c):BI(s);for(;i!==null;)ke=i,J5(i),i=i.sibling;ke=s,fv=l,Cr=u}$I(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ke=i):$I(t)}}function $I(t){for(;ke!==null;){var e=ke;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Cr||Z0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Cr)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Ei(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&NI(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}NI(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Fm(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ye(163))}Cr||e.flags&512&&oS(e)}catch(f){wn(e,e.return,f)}}if(e===t){ke=null;break}if(n=e.sibling,n!==null){n.return=e.return,ke=n;break}ke=e.return}}function UI(t){for(;ke!==null;){var e=ke;if(e===t){ke=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ke=n;break}ke=e.return}}function BI(t){for(;ke!==null;){var e=ke;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Z0(4,e)}catch(c){wn(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){wn(e,s,c)}}var i=e.return;try{oS(e)}catch(c){wn(e,i,c)}break;case 5:var a=e.return;try{oS(e)}catch(c){wn(e,a,c)}}}catch(c){wn(e,e.return,c)}if(e===t){ke=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ke=l;break}ke=e.return}}var CX=Math.ceil,rx=Ra.ReactCurrentDispatcher,iP=Ra.ReactCurrentOwner,oi=Ra.ReactCurrentBatchConfig,yt=0,tr=null,Mn=null,mr=0,ws=0,_d=uc(0),zn=0,Ym=null,vu=0,ew=0,oP=0,wm=null,ts=null,aP=0,lh=1/0,Yo=null,sx=!1,cS=null,Rl=null,mv=!1,jl=null,ix=0,bm=0,uS=null,fy=-1,my=0;function Gr(){return yt&6?An():fy!==-1?fy:fy=An()}function Ol(t){return t.mode&1?yt&2&&mr!==0?mr&-mr:hX.transition!==null?(my===0&&(my=M3()),my):(t=Tt,t!==0||(t=window.event,t=t===void 0?16:z3(t.type)),t):1}function Fi(t,e,n,r){if(50<bm)throw bm=0,uS=null,Error(ye(185));Ip(t,n,r),(!(yt&2)||t!==tr)&&(t===tr&&(!(yt&2)&&(ew|=n),zn===4&&ll(t,mr)),us(t,r),n===1&&yt===0&&!(e.mode&1)&&(lh=An()+500,Q0&&dc()))}function us(t,e){var n=t.callbackNode;hQ(t,e);var r=Vy(t,t===tr?mr:0);if(r===0)n!==null&&Q2(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Q2(n),e===1)t.tag===0?dX(VI.bind(null,t)):l5(VI.bind(null,t)),aX(function(){!(yt&6)&&dc()}),n=null;else{switch(L3(r)){case 1:n=RE;break;case 4:n=O3;break;case 16:n=By;break;case 536870912:n=D3;break;default:n=By}n=o6(n,Z5.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Z5(t,e){if(fy=-1,my=0,yt&6)throw Error(ye(327));var n=t.callbackNode;if(Id()&&t.callbackNode!==n)return null;var r=Vy(t,t===tr?mr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ox(t,r);else{e=r;var s=yt;yt|=2;var i=t6();(tr!==t||mr!==e)&&(Yo=null,lh=An()+500,ru(t,e));do try{IX();break}catch(l){e6(t,l)}while(!0);HE(),rx.current=i,yt=s,Mn!==null?e=0:(tr=null,mr=0,e=zn)}if(e!==0){if(e===2&&(s=LN(t),s!==0&&(r=s,e=dS(t,s))),e===1)throw n=Ym,ru(t,0),ll(t,r),us(t,An()),n;if(e===6)ll(t,r);else{if(s=t.current.alternate,!(r&30)&&!TX(s)&&(e=ox(t,r),e===2&&(i=LN(t),i!==0&&(r=i,e=dS(t,i))),e===1))throw n=Ym,ru(t,0),ll(t,r),us(t,An()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(ye(345));case 2:Dc(t,ts,Yo);break;case 3:if(ll(t,r),(r&130023424)===r&&(e=aP+500-An(),10<e)){if(Vy(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Gr(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=WN(Dc.bind(null,t,ts,Yo),e);break}Dc(t,ts,Yo);break;case 4:if(ll(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-Li(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=An()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*CX(r/1960))-r,10<r){t.timeoutHandle=WN(Dc.bind(null,t,ts,Yo),r);break}Dc(t,ts,Yo);break;case 5:Dc(t,ts,Yo);break;default:throw Error(ye(329))}}}return us(t,An()),t.callbackNode===n?Z5.bind(null,t):null}function dS(t,e){var n=wm;return t.current.memoizedState.isDehydrated&&(ru(t,e).flags|=256),t=ox(t,e),t!==2&&(e=ts,ts=n,e!==null&&hS(e)),t}function hS(t){ts===null?ts=t:ts.push.apply(ts,t)}function TX(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Vi(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ll(t,e){for(e&=~oP,e&=~ew,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Li(e),r=1<<n;t[n]=-1,e&=~r}}function VI(t){if(yt&6)throw Error(ye(327));Id();var e=Vy(t,0);if(!(e&1))return us(t,An()),null;var n=ox(t,e);if(t.tag!==0&&n===2){var r=LN(t);r!==0&&(e=r,n=dS(t,r))}if(n===1)throw n=Ym,ru(t,0),ll(t,e),us(t,An()),n;if(n===6)throw Error(ye(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Dc(t,ts,Yo),us(t,An()),null}function lP(t,e){var n=yt;yt|=1;try{return t(e)}finally{yt=n,yt===0&&(lh=An()+500,Q0&&dc())}}function yu(t){jl!==null&&jl.tag===0&&!(yt&6)&&Id();var e=yt;yt|=1;var n=oi.transition,r=Tt;try{if(oi.transition=null,Tt=1,t)return t()}finally{Tt=r,oi.transition=n,yt=e,!(yt&6)&&dc()}}function cP(){ws=_d.current,Qt(_d)}function ru(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,oX(n)),Mn!==null)for(n=Mn.return;n!==null;){var r=n;switch(zE(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ky();break;case 3:oh(),Qt(ls),Qt(Rr),JE();break;case 5:XE(r);break;case 4:oh();break;case 13:Qt(un);break;case 19:Qt(un);break;case 10:KE(r.type._context);break;case 22:case 23:cP()}n=n.return}if(tr=t,Mn=t=Dl(t.current,null),mr=ws=e,zn=0,Ym=null,oP=ew=vu=0,ts=wm=null,Vc!==null){for(e=0;e<Vc.length;e++)if(n=Vc[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Vc=null}return t}function e6(t,e){do{var n=Mn;try{if(HE(),uy.current=nx,tx){for(var r=fn.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}tx=!1}if(gu=0,Zn=Bn=fn=null,ym=!1,Hm=0,iP.current=null,n===null||n.return===null){zn=1,Ym=e,Mn=null;break}e:{var i=t,a=n.return,l=n,c=e;if(e=mr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=CI(a);if(m!==null){m.flags&=-257,TI(m,a,l,i,e),m.mode&1&&AI(i,u,e),e=m,c=u;var y=e.updateQueue;if(y===null){var v=new Set;v.add(c),e.updateQueue=v}else y.add(c);break e}else{if(!(e&1)){AI(i,u,e),uP();break e}c=Error(ye(426))}}else if(sn&&l.mode&1){var x=CI(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),TI(x,a,l,i,e),GE(ah(c,l));break e}}i=c=ah(c,l),zn!==4&&(zn=2),wm===null?wm=[i]:wm.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var b=L5(i,c,e);jI(i,b);break e;case 1:l=c;var w=i.type,j=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Rl===null||!Rl.has(j)))){i.flags|=65536,e&=-e,i.lanes|=e;var N=F5(i,l,e);jI(i,N);break e}}i=i.return}while(i!==null)}r6(n)}catch(T){e=T,Mn===n&&n!==null&&(Mn=n=n.return);continue}break}while(!0)}function t6(){var t=rx.current;return rx.current=nx,t===null?nx:t}function uP(){(zn===0||zn===3||zn===2)&&(zn=4),tr===null||!(vu&268435455)&&!(ew&268435455)||ll(tr,mr)}function ox(t,e){var n=yt;yt|=2;var r=t6();(tr!==t||mr!==e)&&(Yo=null,ru(t,e));do try{kX();break}catch(s){e6(t,s)}while(!0);if(HE(),yt=n,rx.current=r,Mn!==null)throw Error(ye(261));return tr=null,mr=0,zn}function kX(){for(;Mn!==null;)n6(Mn)}function IX(){for(;Mn!==null&&!rQ();)n6(Mn)}function n6(t){var e=i6(t.alternate,t,ws);t.memoizedProps=t.pendingProps,e===null?r6(t):Mn=e,iP.current=null}function r6(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=_X(n,e),n!==null){n.flags&=32767,Mn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{zn=6,Mn=null;return}}else if(n=SX(n,e,ws),n!==null){Mn=n;return}if(e=e.sibling,e!==null){Mn=e;return}Mn=e=t}while(e!==null);zn===0&&(zn=5)}function Dc(t,e,n){var r=Tt,s=oi.transition;try{oi.transition=null,Tt=1,RX(t,e,n,r)}finally{oi.transition=s,Tt=r}return null}function RX(t,e,n,r){do Id();while(jl!==null);if(yt&6)throw Error(ye(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ye(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(fQ(t,i),t===tr&&(Mn=tr=null,mr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||mv||(mv=!0,o6(By,function(){return Id(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=oi.transition,oi.transition=null;var a=Tt;Tt=1;var l=yt;yt|=4,iP.current=null,PX(t,n),X5(n,t),ZQ(zN),zy=!!VN,zN=VN=null,t.current=n,AX(n),sQ(),yt=l,Tt=a,oi.transition=i}else t.current=n;if(mv&&(mv=!1,jl=t,ix=s),i=t.pendingLanes,i===0&&(Rl=null),aQ(n.stateNode),us(t,An()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(sx)throw sx=!1,t=cS,cS=null,t;return ix&1&&t.tag!==0&&Id(),i=t.pendingLanes,i&1?t===uS?bm++:(bm=0,uS=t):bm=0,dc(),null}function Id(){if(jl!==null){var t=L3(ix),e=oi.transition,n=Tt;try{if(oi.transition=null,Tt=16>t?16:t,jl===null)var r=!1;else{if(t=jl,jl=null,ix=0,yt&6)throw Error(ye(331));var s=yt;for(yt|=4,ke=t.current;ke!==null;){var i=ke,a=i.child;if(ke.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ke=u;ke!==null;){var d=ke;switch(d.tag){case 0:case 11:case 15:xm(8,d,i)}var h=d.child;if(h!==null)h.return=d,ke=h;else for(;ke!==null;){d=ke;var f=d.sibling,m=d.return;if(q5(d),d===u){ke=null;break}if(f!==null){f.return=m,ke=f;break}ke=m}}}var y=i.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}ke=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,ke=a;else e:for(;ke!==null;){if(i=ke,i.flags&2048)switch(i.tag){case 0:case 11:case 15:xm(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,ke=b;break e}ke=i.return}}var w=t.current;for(ke=w;ke!==null;){a=ke;var j=a.child;if(a.subtreeFlags&2064&&j!==null)j.return=a,ke=j;else e:for(a=w;ke!==null;){if(l=ke,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Z0(9,l)}}catch(T){wn(l,l.return,T)}if(l===a){ke=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,ke=N;break e}ke=l.return}}if(yt=s,dc(),vo&&typeof vo.onPostCommitFiberRoot=="function")try{vo.onPostCommitFiberRoot(W0,t)}catch{}r=!0}return r}finally{Tt=n,oi.transition=e}}return!1}function zI(t,e,n){e=ah(n,e),e=L5(t,e,1),t=Il(t,e,1),e=Gr(),t!==null&&(Ip(t,1,e),us(t,e))}function wn(t,e,n){if(t.tag===3)zI(t,t,n);else for(;e!==null;){if(e.tag===3){zI(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Rl===null||!Rl.has(r))){t=ah(n,t),t=F5(e,t,1),e=Il(e,t,1),t=Gr(),e!==null&&(Ip(e,1,t),us(e,t));break}}e=e.return}}function OX(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Gr(),t.pingedLanes|=t.suspendedLanes&n,tr===t&&(mr&n)===n&&(zn===4||zn===3&&(mr&130023424)===mr&&500>An()-aP?ru(t,0):oP|=n),us(t,e)}function s6(t,e){e===0&&(t.mode&1?(e=sv,sv<<=1,!(sv&130023424)&&(sv=4194304)):e=1);var n=Gr();t=ya(t,e),t!==null&&(Ip(t,e,n),us(t,n))}function DX(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),s6(t,n)}function MX(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ye(314))}r!==null&&r.delete(e),s6(t,n)}var i6;i6=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ls.current)ss=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ss=!1,NX(t,e,n);ss=!!(t.flags&131072)}else ss=!1,sn&&e.flags&1048576&&c5(e,Qy,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;hy(t,e),t=e.pendingProps;var s=rh(e,Rr.current);kd(e,n),s=eP(null,e,r,t,s,n);var i=tP();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,cs(r)?(i=!0,qy(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,YE(e),s.updater=J0,e.stateNode=s,s._reactInternals=e,JN(e,r,t,n),e=tS(null,e,r,!0,i,n)):(e.tag=0,sn&&i&&VE(e),$r(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(hy(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=FX(r),t=Ei(r,t),s){case 0:e=eS(null,e,r,t,n);break e;case 1:e=RI(null,e,r,t,n);break e;case 11:e=kI(null,e,r,t,n);break e;case 14:e=II(null,e,r,Ei(r.type,t),n);break e}throw Error(ye(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ei(r,s),eS(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ei(r,s),RI(t,e,r,s,n);case 3:e:{if(V5(e),t===null)throw Error(ye(387));r=e.pendingProps,i=e.memoizedState,s=i.element,p5(t,e),Zy(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ah(Error(ye(423)),e),e=OI(t,e,r,n,s);break e}else if(r!==s){s=ah(Error(ye(424)),e),e=OI(t,e,r,n,s);break e}else for(Ps=kl(e.stateNode.containerInfo.firstChild),Ts=e,sn=!0,ki=null,n=f5(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(sh(),r===s){e=xa(t,e,n);break e}$r(t,e,r,n)}e=e.child}return e;case 5:return g5(e),t===null&&YN(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,GN(r,s)?a=null:i!==null&&GN(r,i)&&(e.flags|=32),B5(t,e),$r(t,e,a,n),e.child;case 6:return t===null&&YN(e),null;case 13:return z5(t,e,n);case 4:return QE(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ih(e,null,r,n):$r(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ei(r,s),kI(t,e,r,s,n);case 7:return $r(t,e,e.pendingProps,n),e.child;case 8:return $r(t,e,e.pendingProps.children,n),e.child;case 12:return $r(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,Ut(Xy,r._currentValue),r._currentValue=a,i!==null)if(Vi(i.value,a)){if(i.children===s.children&&!ls.current){e=xa(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=ca(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),QN(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(ye(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),QN(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}$r(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,kd(e,n),s=hi(s),r=r(s),e.flags|=1,$r(t,e,r,n),e.child;case 14:return r=e.type,s=Ei(r,e.pendingProps),s=Ei(r.type,s),II(t,e,r,s,n);case 15:return $5(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ei(r,s),hy(t,e),e.tag=1,cs(r)?(t=!0,qy(e)):t=!1,kd(e,n),M5(e,r,s),JN(e,r,s,n),tS(null,e,r,!0,t,n);case 19:return G5(t,e,n);case 22:return U5(t,e,n)}throw Error(ye(156,e.tag))};function o6(t,e){return R3(t,e)}function LX(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function si(t,e,n,r){return new LX(t,e,n,r)}function dP(t){return t=t.prototype,!(!t||!t.isReactComponent)}function FX(t){if(typeof t=="function")return dP(t)?1:0;if(t!=null){if(t=t.$$typeof,t===TE)return 11;if(t===kE)return 14}return 2}function Dl(t,e){var n=t.alternate;return n===null?(n=si(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function py(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")dP(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case pd:return su(n.children,s,i,e);case CE:a=8,s|=8;break;case jN:return t=si(12,n,e,s|2),t.elementType=jN,t.lanes=i,t;case NN:return t=si(13,n,e,s),t.elementType=NN,t.lanes=i,t;case SN:return t=si(19,n,e,s),t.elementType=SN,t.lanes=i,t;case g3:return tw(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case m3:a=10;break e;case p3:a=9;break e;case TE:a=11;break e;case kE:a=14;break e;case nl:a=16,r=null;break e}throw Error(ye(130,t==null?t:typeof t,""))}return e=si(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function su(t,e,n,r){return t=si(7,t,r,e),t.lanes=n,t}function tw(t,e,n,r){return t=si(22,t,r,e),t.elementType=g3,t.lanes=n,t.stateNode={isHidden:!1},t}function rj(t,e,n){return t=si(6,t,null,e),t.lanes=n,t}function sj(t,e,n){return e=si(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $X(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=F1(0),this.expirationTimes=F1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=F1(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function hP(t,e,n,r,s,i,a,l,c){return t=new $X(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=si(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},YE(i),t}function UX(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:md,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function a6(t){if(!t)return Kl;t=t._reactInternals;e:{if(Bu(t)!==t||t.tag!==1)throw Error(ye(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(cs(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ye(171))}if(t.tag===1){var n=t.type;if(cs(n))return a5(t,n,e)}return e}function l6(t,e,n,r,s,i,a,l,c){return t=hP(n,r,!0,t,s,i,a,l,c),t.context=a6(null),n=t.current,r=Gr(),s=Ol(n),i=ca(r,s),i.callback=e??null,Il(n,i,s),t.current.lanes=s,Ip(t,s,r),us(t,r),t}function nw(t,e,n,r){var s=e.current,i=Gr(),a=Ol(s);return n=a6(n),e.context===null?e.context=n:e.pendingContext=n,e=ca(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Il(s,e,a),t!==null&&(Fi(t,s,a,i),cy(t,s,a)),a}function ax(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function GI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function fP(t,e){GI(t,e),(t=t.alternate)&&GI(t,e)}function BX(){return null}var c6=typeof reportError=="function"?reportError:function(t){console.error(t)};function mP(t){this._internalRoot=t}rw.prototype.render=mP.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ye(409));nw(t,e,null,null)};rw.prototype.unmount=mP.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;yu(function(){nw(null,t,null,null)}),e[va]=null}};function rw(t){this._internalRoot=t}rw.prototype.unstable_scheduleHydration=function(t){if(t){var e=U3();t={blockedOn:null,target:t,priority:e};for(var n=0;n<al.length&&e!==0&&e<al[n].priority;n++);al.splice(n,0,t),n===0&&V3(t)}};function pP(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function sw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function WI(){}function VX(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=ax(a);i.call(u)}}var a=l6(e,r,t,0,null,!1,!1,"",WI);return t._reactRootContainer=a,t[va]=a.current,Bm(t.nodeType===8?t.parentNode:t),yu(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=ax(c);l.call(u)}}var c=hP(t,0,!1,null,null,!1,!1,"",WI);return t._reactRootContainer=c,t[va]=c.current,Bm(t.nodeType===8?t.parentNode:t),yu(function(){nw(e,c,n,r)}),c}function iw(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=ax(a);l.call(c)}}nw(e,a,t,s)}else a=VX(n,e,t,s,r);return ax(a)}F3=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=em(e.pendingLanes);n!==0&&(OE(e,n|1),us(e,An()),!(yt&6)&&(lh=An()+500,dc()))}break;case 13:yu(function(){var r=ya(t,1);if(r!==null){var s=Gr();Fi(r,t,1,s)}}),fP(t,1)}};DE=function(t){if(t.tag===13){var e=ya(t,134217728);if(e!==null){var n=Gr();Fi(e,t,134217728,n)}fP(t,134217728)}};$3=function(t){if(t.tag===13){var e=Ol(t),n=ya(t,e);if(n!==null){var r=Gr();Fi(n,t,e,r)}fP(t,e)}};U3=function(){return Tt};B3=function(t,e){var n=Tt;try{return Tt=t,e()}finally{Tt=n}};ON=function(t,e,n){switch(e){case"input":if(PN(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Y0(r);if(!s)throw Error(ye(90));y3(r),PN(r,s)}}}break;case"textarea":w3(t,n);break;case"select":e=n.value,e!=null&&Pd(t,!!n.multiple,e,!1)}};P3=lP;A3=yu;var zX={usingClientEntryPoint:!1,Events:[Op,xd,Y0,_3,E3,lP]},Lf={findFiberByHostInstance:Bc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GX={bundleType:Lf.bundleType,version:Lf.version,rendererPackageName:Lf.rendererPackageName,rendererConfig:Lf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ra.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=k3(t),t===null?null:t.stateNode},findFiberByHostInstance:Lf.findFiberByHostInstance||BX,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pv.isDisabled&&pv.supportsFiber)try{W0=pv.inject(GX),vo=pv}catch{}}Vs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zX;Vs.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pP(e))throw Error(ye(200));return UX(t,e,null,n)};Vs.createRoot=function(t,e){if(!pP(t))throw Error(ye(299));var n=!1,r="",s=c6;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=hP(t,1,!1,null,null,n,!1,r,s),t[va]=e.current,Bm(t.nodeType===8?t.parentNode:t),new mP(e)};Vs.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ye(188)):(t=Object.keys(t).join(","),Error(ye(268,t)));return t=k3(e),t=t===null?null:t.stateNode,t};Vs.flushSync=function(t){return yu(t)};Vs.hydrate=function(t,e,n){if(!sw(e))throw Error(ye(200));return iw(null,t,e,!0,n)};Vs.hydrateRoot=function(t,e,n){if(!pP(t))throw Error(ye(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=c6;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=l6(e,null,t,1,n??null,s,!1,i,a),t[va]=e.current,Bm(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new rw(e)};Vs.render=function(t,e,n){if(!sw(e))throw Error(ye(200));return iw(null,t,e,!1,n)};Vs.unmountComponentAtNode=function(t){if(!sw(t))throw Error(ye(40));return t._reactRootContainer?(yu(function(){iw(null,null,t,!1,function(){t._reactRootContainer=null,t[va]=null})}),!0):!1};Vs.unstable_batchedUpdates=lP;Vs.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!sw(n))throw Error(ye(200));if(t==null||t._reactInternals===void 0)throw Error(ye(38));return iw(t,e,n,!1,r)};Vs.version="18.3.1-next-f1338f8080-20240426";function u6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u6)}catch(t){console.error(t)}}u6(),u3.exports=Vs;var Oa=u3.exports;const d6=Do(Oa);var h6,HI=Oa;h6=HI.createRoot,HI.hydrateRoot;const WX=1,HX=1e6;let ij=0;function KX(){return ij=(ij+1)%Number.MAX_SAFE_INTEGER,ij.toString()}const oj=new Map,KI=t=>{if(oj.has(t))return;const e=setTimeout(()=>{oj.delete(t),jm({type:"REMOVE_TOAST",toastId:t})},HX);oj.set(t,e)},qX=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,WX)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?KI(n):t.toasts.forEach(r=>{KI(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},gy=[];let vy={toasts:[]};function jm(t){vy=qX(vy,t),gy.forEach(e=>{e(vy)})}function je({...t}){const e=KX(),n=s=>jm({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>jm({type:"DISMISS_TOAST",toastId:e});return jm({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function ps(){const[t,e]=p.useState(vy);return p.useEffect(()=>(gy.push(e),()=>{const n=gy.indexOf(e);n>-1&&gy.splice(n,1)}),[t]),{...t,toast:je,dismiss:n=>jm({type:"DISMISS_TOAST",toastId:n})}}function xe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function qI(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ow(...t){return e=>{let n=!1;const r=t.map(s=>{const i=qI(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():qI(t[s],null)}}}}function Ke(...t){return p.useCallback(ow(...t),t)}function YX(t,e){const n=p.createContext(e),r=i=>{const{children:a,...l}=i,c=p.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:a})};r.displayName=t+"Provider";function s(i){const a=p.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function nr(t,e=[]){let n=[];function r(i,a){const l=p.createContext(a),c=n.length;n=[...n,a];const u=h=>{var b;const{scope:f,children:m,...y}=h,v=((b=f==null?void 0:f[t])==null?void 0:b[c])||l,x=p.useMemo(()=>y,Object.values(y));return o.jsx(v.Provider,{value:x,children:m})};u.displayName=i+"Provider";function d(h,f){var v;const m=((v=f==null?void 0:f[t])==null?void 0:v[c])||l,y=p.useContext(m);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(a=>p.createContext(a));return function(l){const c=(l==null?void 0:l[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,QX(s,...e)]}function QX(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function ql(t){const e=JX(t),n=p.forwardRef((r,s)=>{const{children:i,...a}=r,l=p.Children.toArray(i),c=l.find(ZX);if(c){const u=c.props.children,d=l.map(h=>h===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:h);return o.jsx(e,{...a,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var XX=ql("Slot");function JX(t){const e=p.forwardRef((n,r)=>{const{children:s,...i}=n;if(p.isValidElement(s)){const a=tJ(s),l=eJ(i,s.props);return s.type!==p.Fragment&&(l.ref=r?ow(r,a):a),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var f6=Symbol("radix.slottable");function m6(t){const e=({children:n})=>o.jsx(o.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=f6,e}function ZX(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===f6}function eJ(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function tJ(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function aw(t){const e=t+"CollectionProvider",[n,r]=nr(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=v=>{const{scope:x,children:b}=v,w=we.useRef(null),j=we.useRef(new Map).current;return o.jsx(s,{scope:x,itemMap:j,collectionRef:w,children:b})};a.displayName=e;const l=t+"CollectionSlot",c=ql(l),u=we.forwardRef((v,x)=>{const{scope:b,children:w}=v,j=i(l,b),N=Ke(x,j.collectionRef);return o.jsx(c,{ref:N,children:w})});u.displayName=l;const d=t+"CollectionItemSlot",h="data-radix-collection-item",f=ql(d),m=we.forwardRef((v,x)=>{const{scope:b,children:w,...j}=v,N=we.useRef(null),T=Ke(x,N),I=i(d,b);return we.useEffect(()=>(I.itemMap.set(N,{ref:N,...j}),()=>void I.itemMap.delete(N))),o.jsx(f,{[h]:"",ref:T,children:w})});m.displayName=d;function y(v){const x=i(t+"CollectionConsumer",v);return we.useCallback(()=>{const w=x.collectionRef.current;if(!w)return[];const j=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((I,P)=>j.indexOf(I.ref.current)-j.indexOf(P.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:a,Slot:u,ItemSlot:m},y,r]}var nJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],De=nJ.reduce((t,e)=>{const n=ql(`Primitive.${e}`),r=p.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function gP(t,e){t&&Oa.flushSync(()=>t.dispatchEvent(e))}function bn(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function rJ(t,e=globalThis==null?void 0:globalThis.document){const n=bn(t);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var sJ="DismissableLayer",fS="dismissableLayer.update",iJ="dismissableLayer.pointerDownOutside",oJ="dismissableLayer.focusOutside",YI,p6=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Vu=p.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=t,u=p.useContext(p6),[d,h]=p.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),y=Ke(e,P=>h(P)),v=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=v.indexOf(x),w=d?v.indexOf(d):-1,j=u.layersWithOutsidePointerEventsDisabled.size>0,N=w>=b,T=lJ(P=>{const E=P.target,A=[...u.branches].some(S=>S.contains(E));!N||A||(s==null||s(P),a==null||a(P),P.defaultPrevented||l==null||l())},f),I=cJ(P=>{const E=P.target;[...u.branches].some(S=>S.contains(E))||(i==null||i(P),a==null||a(P),P.defaultPrevented||l==null||l())},f);return rJ(P=>{w===u.layers.size-1&&(r==null||r(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},f),p.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(YI=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),QI(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=YI)}},[d,f,n,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),QI())},[d,u]),p.useEffect(()=>{const P=()=>m({});return document.addEventListener(fS,P),()=>document.removeEventListener(fS,P)},[]),o.jsx(De.div,{...c,ref:y,style:{pointerEvents:j?N?"auto":"none":void 0,...t.style},onFocusCapture:xe(t.onFocusCapture,I.onFocusCapture),onBlurCapture:xe(t.onBlurCapture,I.onBlurCapture),onPointerDownCapture:xe(t.onPointerDownCapture,T.onPointerDownCapture)})});Vu.displayName=sJ;var aJ="DismissableLayerBranch",g6=p.forwardRef((t,e)=>{const n=p.useContext(p6),r=p.useRef(null),s=Ke(e,r);return p.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),o.jsx(De.div,{...t,ref:s})});g6.displayName=aJ;function lJ(t,e=globalThis==null?void 0:globalThis.document){const n=bn(t),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){v6(iJ,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function cJ(t,e=globalThis==null?void 0:globalThis.document){const n=bn(t),r=p.useRef(!1);return p.useEffect(()=>{const s=i=>{i.target&&!r.current&&v6(oJ,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function QI(){const t=new CustomEvent(fS);document.dispatchEvent(t)}function v6(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?gP(s,i):s.dispatchEvent(i)}var uJ=Vu,dJ=g6,kn=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},hJ="Portal",Bh=p.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,i]=p.useState(!1);kn(()=>i(!0),[]);const a=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?d6.createPortal(o.jsx(De.div,{...r,ref:e}),a):null});Bh.displayName=hJ;function fJ(t,e){return p.useReducer((n,r)=>e[n][r]??n,t)}var rr=t=>{const{present:e,children:n}=t,r=mJ(e),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),i=Ke(r.ref,pJ(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:i}):null};rr.displayName="Presence";function mJ(t){const[e,n]=p.useState(),r=p.useRef(null),s=p.useRef(t),i=p.useRef("none"),a=t?"mounted":"unmounted",[l,c]=fJ(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=gv(r.current);i.current=l==="mounted"?u:"none"},[l]),kn(()=>{const u=r.current,d=s.current;if(d!==t){const f=i.current,m=gv(u);t?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),kn(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=m=>{const v=gv(r.current).includes(m.animationName);if(m.target===e&&v&&(c("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},f=m=>{m.target===e&&(i.current=gv(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function gv(t){return(t==null?void 0:t.animationName)||"none"}function pJ(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var gJ=G0[" useInsertionEffect ".trim().toString()]||kn;function zi({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,a]=vJ({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:s;{const d=p.useRef(t!==void 0);p.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=p.useCallback(d=>{var h;if(l){const f=yJ(d)?d(t):d;f!==t&&((h=a.current)==null||h.call(a,f))}else i(d)},[l,t,i,a]);return[c,u]}function vJ({defaultProp:t,onChange:e}){const[n,r]=p.useState(t),s=p.useRef(n),i=p.useRef(e);return gJ(()=>{i.current=e},[e]),p.useEffect(()=>{var a;s.current!==n&&((a=i.current)==null||a.call(i,n),s.current=n)},[n,s]),[n,r,i]}function yJ(t){return typeof t=="function"}var y6=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),xJ="VisuallyHidden",lw=p.forwardRef((t,e)=>o.jsx(De.span,{...t,ref:e,style:{...y6,...t.style}}));lw.displayName=xJ;var wJ=lw,vP="ToastProvider",[yP,bJ,jJ]=aw("Toast"),[x6,KMe]=nr("Toast",[jJ]),[NJ,cw]=x6(vP),w6=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:a}=t,[l,c]=p.useState(null),[u,d]=p.useState(0),h=p.useRef(!1),f=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${vP}\`. Expected non-empty \`string\`.`),o.jsx(yP.Provider,{scope:e,children:o.jsx(NJ,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:p.useCallback(()=>d(m=>m+1),[]),onToastRemove:p.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:a})})};w6.displayName=vP;var b6="ToastViewport",SJ=["F8"],mS="toast.viewportPause",pS="toast.viewportResume",j6=p.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=SJ,label:s="Notifications ({hotkey})",...i}=t,a=cw(b6,n),l=bJ(n),c=p.useRef(null),u=p.useRef(null),d=p.useRef(null),h=p.useRef(null),f=Ke(e,h,a.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=a.toastCount>0;p.useEffect(()=>{const x=b=>{var j;r.length!==0&&r.every(N=>b[N]||b.code===N)&&((j=h.current)==null||j.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),p.useEffect(()=>{const x=c.current,b=h.current;if(y&&x&&b){const w=()=>{if(!a.isClosePausedRef.current){const I=new CustomEvent(mS);b.dispatchEvent(I),a.isClosePausedRef.current=!0}},j=()=>{if(a.isClosePausedRef.current){const I=new CustomEvent(pS);b.dispatchEvent(I),a.isClosePausedRef.current=!1}},N=I=>{!x.contains(I.relatedTarget)&&j()},T=()=>{x.contains(document.activeElement)||j()};return x.addEventListener("focusin",w),x.addEventListener("focusout",N),x.addEventListener("pointermove",w),x.addEventListener("pointerleave",T),window.addEventListener("blur",w),window.addEventListener("focus",j),()=>{x.removeEventListener("focusin",w),x.removeEventListener("focusout",N),x.removeEventListener("pointermove",w),x.removeEventListener("pointerleave",T),window.removeEventListener("blur",w),window.removeEventListener("focus",j)}}},[y,a.isClosePausedRef]);const v=p.useCallback(({tabbingDirection:x})=>{const w=l().map(j=>{const N=j.ref.current,T=[N,...LJ(N)];return x==="forwards"?T:T.reverse()});return(x==="forwards"?w.reverse():w).flat()},[l]);return p.useEffect(()=>{const x=h.current;if(x){const b=w=>{var T,I,P;const j=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!j){const E=document.activeElement,A=w.shiftKey;if(w.target===x&&A){(T=u.current)==null||T.focus();return}const O=v({tabbingDirection:A?"backwards":"forwards"}),k=O.findIndex(B=>B===E);aj(O.slice(k+1))?w.preventDefault():A?(I=u.current)==null||I.focus():(P=d.current)==null||P.focus()}};return x.addEventListener("keydown",b),()=>x.removeEventListener("keydown",b)}},[l,v]),o.jsxs(dJ,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&o.jsx(gS,{ref:u,onFocusFromOutsideViewport:()=>{const x=v({tabbingDirection:"forwards"});aj(x)}}),o.jsx(yP.Slot,{scope:n,children:o.jsx(De.ol,{tabIndex:-1,...i,ref:f})}),y&&o.jsx(gS,{ref:d,onFocusFromOutsideViewport:()=>{const x=v({tabbingDirection:"backwards"});aj(x)}})]})});j6.displayName=b6;var N6="ToastFocusProxy",gS=p.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=cw(N6,n);return o.jsx(lw,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:a=>{var u;const l=a.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&r()}})});gS.displayName=N6;var Mp="Toast",_J="toast.swipeStart",EJ="toast.swipeMove",PJ="toast.swipeCancel",AJ="toast.swipeEnd",S6=p.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...a}=t,[l,c]=zi({prop:r,defaultProp:s??!0,onChange:i,caller:Mp});return o.jsx(rr,{present:n||l,children:o.jsx(kJ,{open:l,...a,ref:e,onClose:()=>c(!1),onPause:bn(t.onPause),onResume:bn(t.onResume),onSwipeStart:xe(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:xe(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:xe(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:xe(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});S6.displayName=Mp;var[CJ,TJ]=x6(Mp,{onClose(){}}),kJ=p.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...y}=t,v=cw(Mp,n),[x,b]=p.useState(null),w=Ke(e,B=>b(B)),j=p.useRef(null),N=p.useRef(null),T=s||v.duration,I=p.useRef(0),P=p.useRef(T),E=p.useRef(0),{onToastAdd:A,onToastRemove:S}=v,C=bn(()=>{var G;(x==null?void 0:x.contains(document.activeElement))&&((G=v.viewport)==null||G.focus()),a()}),O=p.useCallback(B=>{!B||B===1/0||(window.clearTimeout(E.current),I.current=new Date().getTime(),E.current=window.setTimeout(C,B))},[C]);p.useEffect(()=>{const B=v.viewport;if(B){const G=()=>{O(P.current),u==null||u()},U=()=>{const $=new Date().getTime()-I.current;P.current=P.current-$,window.clearTimeout(E.current),c==null||c()};return B.addEventListener(mS,U),B.addEventListener(pS,G),()=>{B.removeEventListener(mS,U),B.removeEventListener(pS,G)}}},[v.viewport,T,c,u,O]),p.useEffect(()=>{i&&!v.isClosePausedRef.current&&O(T)},[i,T,v.isClosePausedRef,O]),p.useEffect(()=>(A(),()=>S()),[A,S]);const k=p.useMemo(()=>x?k6(x):null,[x]);return v.viewport?o.jsxs(o.Fragment,{children:[k&&o.jsx(IJ,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),o.jsx(CJ,{scope:n,onClose:C,children:Oa.createPortal(o.jsx(yP.ItemSlot,{scope:n,children:o.jsx(uJ,{asChild:!0,onEscapeKeyDown:xe(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||C(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(De.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...y,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:xe(t.onKeyDown,B=>{B.key==="Escape"&&(l==null||l(B.nativeEvent),B.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,C()))}),onPointerDown:xe(t.onPointerDown,B=>{B.button===0&&(j.current={x:B.clientX,y:B.clientY})}),onPointerMove:xe(t.onPointerMove,B=>{if(!j.current)return;const G=B.clientX-j.current.x,U=B.clientY-j.current.y,$=!!N.current,D=["left","right"].includes(v.swipeDirection),L=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,W=D?L(0,G):0,J=D?0:L(0,U),V=B.pointerType==="touch"?10:2,ue={x:W,y:J},ee={originalEvent:B,delta:ue};$?(N.current=ue,vv(EJ,h,ee,{discrete:!1})):XI(ue,v.swipeDirection,V)?(N.current=ue,vv(_J,d,ee,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(G)>V||Math.abs(U)>V)&&(j.current=null)}),onPointerUp:xe(t.onPointerUp,B=>{const G=N.current,U=B.target;if(U.hasPointerCapture(B.pointerId)&&U.releasePointerCapture(B.pointerId),N.current=null,j.current=null,G){const $=B.currentTarget,D={originalEvent:B,delta:G};XI(G,v.swipeDirection,v.swipeThreshold)?vv(AJ,m,D,{discrete:!0}):vv(PJ,f,D,{discrete:!0}),$.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),IJ=t=>{const{__scopeToast:e,children:n,...r}=t,s=cw(Mp,e),[i,a]=p.useState(!1),[l,c]=p.useState(!1);return DJ(()=>a(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(Bh,{asChild:!0,children:o.jsx(lw,{...r,children:i&&o.jsxs(o.Fragment,{children:[s.label," ",n]})})})},RJ="ToastTitle",_6=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return o.jsx(De.div,{...r,ref:e})});_6.displayName=RJ;var OJ="ToastDescription",E6=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return o.jsx(De.div,{...r,ref:e})});E6.displayName=OJ;var P6="ToastAction",A6=p.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?o.jsx(T6,{altText:n,asChild:!0,children:o.jsx(xP,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${P6}\`. Expected non-empty \`string\`.`),null)});A6.displayName=P6;var C6="ToastClose",xP=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=TJ(C6,n);return o.jsx(T6,{asChild:!0,children:o.jsx(De.button,{type:"button",...r,ref:e,onClick:xe(t.onClick,s.onClose)})})});xP.displayName=C6;var T6=p.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return o.jsx(De.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function k6(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),MJ(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...k6(r))}}),e}function vv(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?gP(s,i):s.dispatchEvent(i)}var XI=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function DJ(t=()=>{}){const e=bn(t);kn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function MJ(t){return t.nodeType===t.ELEMENT_NODE}function LJ(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function aj(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var FJ=w6,I6=j6,R6=S6,O6=_6,D6=E6,M6=A6,L6=xP;function F6(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=F6(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function dt(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=F6(t))&&(r&&(r+=" "),r+=e);return r}const JI=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,ZI=dt,Lp=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return ZI(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,a=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const f=JI(d)||JI(h);return s[u][f]}),l=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(y=>{let[v,x]=y;return Array.isArray(x)?x.includes({...i,...l}[v]):{...i,...l}[v]===x})?[...u,h,f]:u},[]);return ZI(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $J=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$6=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var UJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BJ=p.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...l},c)=>p.createElement("svg",{ref:c,...UJ,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:$6("lucide",s),...l},[...a.map(([u,d])=>p.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=(t,e)=>{const n=p.forwardRef(({className:r,...s},i)=>p.createElement(BJ,{ref:i,iconNode:e,className:$6(`lucide-${$J(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=he("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=he("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=he("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=he("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=he("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=he("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=he("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VJ=he("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zJ=he("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=he("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=he("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=he("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=he("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GJ=he("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=he("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=he("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WJ=he("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=he("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HJ=he("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=he("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=he("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=he("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KJ=he("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=he("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=he("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=he("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qJ=he("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=he("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=he("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=he("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YJ=he("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=he("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=he("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QJ=he("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=he("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=he("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=he("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=he("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=he("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=he("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XJ=he("Frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JJ=he("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=he("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZJ=he("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=he("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eZ=he("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=he("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tZ=he("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nZ=he("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=he("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rZ=he("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sZ=he("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=he("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=he("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=he("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=he("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=he("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iZ=he("Meh",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"8",x2:"16",y1:"15",y2:"15",key:"1xb1d9"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=he("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oZ=he("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=he("MessageSquarePlus",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M9 10h6",key:"9gxzsh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=he("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=he("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aZ=he("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lZ=he("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cZ=he("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=he("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uZ=he("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=he("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=he("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=he("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dZ=he("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=he("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hZ=he("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fZ=he("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mZ=he("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pZ=he("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=he("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=he("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gZ=he("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=he("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=he("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=he("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=he("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=he("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vZ=he("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yZ=he("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xZ=he("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=he("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=he("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=he("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=he("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=he("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wZ=he("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bZ=he("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=he("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=he("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=he("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jZ=he("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=he("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=he("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),_P="-",NZ=t=>{const e=_Z(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const l=a.split(_P);return l[0]===""&&l.length!==1&&l.shift(),K6(l,e)||SZ(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},K6=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?K6(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(_P);return(a=e.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},iR=/^\[(.+)\]$/,SZ=t=>{if(iR.test(t)){const e=iR.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},_Z=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return PZ(Object.entries(t.classGroups),n).forEach(([i,a])=>{bS(a,r,i,e)}),r},bS=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:oR(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(EZ(s)){bS(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{bS(a,oR(e,i),n,r)})})},oR=(t,e)=>{let n=t;return e.split(_P).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},EZ=t=>t.isThemeGetter,PZ=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[e+a,l])):i);return[n,s]}):t,AZ=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},q6="!",CZ=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,a=l=>{const c=[];let u=0,d=0,h;for(let x=0;x<l.length;x++){let b=l[x];if(u===0){if(b===s&&(r||l.slice(x,x+i)===e)){c.push(l.slice(d,x)),d=x+i;continue}if(b==="/"){h=x;continue}}b==="["?u++:b==="]"&&u--}const f=c.length===0?l:l.substring(d),m=f.startsWith(q6),y=m?f.substring(1):f,v=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:v}};return n?l=>n({className:l,parseClassName:a}):a},TZ=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},kZ=t=>({cache:AZ(t.cacheSize),parseClassName:CZ(t),...NZ(t)}),IZ=/\s+/,RZ=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],a=t.trim().split(IZ);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=n(u);let y=!!m,v=r(y?f.substring(0,m):f);if(!v){if(!y){l=u+(l.length>0?" "+l:l);continue}if(v=r(f),!v){l=u+(l.length>0?" "+l:l);continue}y=!1}const x=TZ(d).join(":"),b=h?x+q6:x,w=b+v;if(i.includes(w))continue;i.push(w);const j=s(v,y);for(let N=0;N<j.length;++N){const T=j[N];i.push(b+T)}l=u+(l.length>0?" "+l:l)}return l};function OZ(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Y6(e))&&(r&&(r+=" "),r+=n);return r}const Y6=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Y6(t[r]))&&(n&&(n+=" "),n+=e);return n};function DZ(t,...e){let n,r,s,i=a;function a(c){const u=e.reduce((d,h)=>h(d),t());return n=kZ(u),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=RZ(c,n);return s(c,d),d}return function(){return i(OZ.apply(null,arguments))}}const Gt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Q6=/^\[(?:([a-z-]+):)?(.+)\]$/i,MZ=/^\d+\/\d+$/,LZ=new Set(["px","full","screen"]),FZ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$Z=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,UZ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,BZ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,VZ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ho=t=>Od(t)||LZ.has(t)||MZ.test(t),Qa=t=>Vh(t,"length",QZ),Od=t=>!!t&&!Number.isNaN(Number(t)),cj=t=>Vh(t,"number",Od),Ff=t=>!!t&&Number.isInteger(Number(t)),zZ=t=>t.endsWith("%")&&Od(t.slice(0,-1)),Ze=t=>Q6.test(t),Xa=t=>FZ.test(t),GZ=new Set(["length","size","percentage"]),WZ=t=>Vh(t,GZ,X6),HZ=t=>Vh(t,"position",X6),KZ=new Set(["image","url"]),qZ=t=>Vh(t,KZ,JZ),YZ=t=>Vh(t,"",XZ),$f=()=>!0,Vh=(t,e,n)=>{const r=Q6.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},QZ=t=>$Z.test(t)&&!UZ.test(t),X6=()=>!1,XZ=t=>BZ.test(t),JZ=t=>VZ.test(t),ZZ=()=>{const t=Gt("colors"),e=Gt("spacing"),n=Gt("blur"),r=Gt("brightness"),s=Gt("borderColor"),i=Gt("borderRadius"),a=Gt("borderSpacing"),l=Gt("borderWidth"),c=Gt("contrast"),u=Gt("grayscale"),d=Gt("hueRotate"),h=Gt("invert"),f=Gt("gap"),m=Gt("gradientColorStops"),y=Gt("gradientColorStopPositions"),v=Gt("inset"),x=Gt("margin"),b=Gt("opacity"),w=Gt("padding"),j=Gt("saturate"),N=Gt("scale"),T=Gt("sepia"),I=Gt("skew"),P=Gt("space"),E=Gt("translate"),A=()=>["auto","contain","none"],S=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto",Ze,e],O=()=>[Ze,e],k=()=>["",Ho,Qa],B=()=>["auto",Od,Ze],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",Ze],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[Od,Ze];return{cacheSize:500,separator:":",theme:{colors:[$f],spacing:[Ho,Qa],blur:["none","",Xa,Ze],brightness:J(),borderColor:[t],borderRadius:["none","","full",Xa,Ze],borderSpacing:O(),borderWidth:k(),contrast:J(),grayscale:L(),hueRotate:J(),invert:L(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[zZ,Qa],inset:C(),margin:C(),opacity:J(),padding:O(),saturate:J(),scale:J(),sepia:L(),skew:J(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Ze]}],container:["container"],columns:[{columns:[Xa]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),Ze]}],overflow:[{overflow:S()}],"overflow-x":[{"overflow-x":S()}],"overflow-y":[{"overflow-y":S()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ff,Ze]}],basis:[{basis:C()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ze]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",Ff,Ze]}],"grid-cols":[{"grid-cols":[$f]}],"col-start-end":[{col:["auto",{span:["full",Ff,Ze]},Ze]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[$f]}],"row-start-end":[{row:["auto",{span:[Ff,Ze]},Ze]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ze]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ze]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ze,e]}],"min-w":[{"min-w":[Ze,e,"min","max","fit"]}],"max-w":[{"max-w":[Ze,e,"none","full","min","max","fit","prose",{screen:[Xa]},Xa]}],h:[{h:[Ze,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ze,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ze,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ze,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Xa,Qa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",cj]}],"font-family":[{font:[$f]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ze]}],"line-clamp":[{"line-clamp":["none",Od,cj]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ho,Ze]}],"list-image":[{"list-image":["none",Ze]}],"list-style-type":[{list:["none","disc","decimal",Ze]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ho,Qa]}],"underline-offset":[{"underline-offset":["auto",Ho,Ze]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),HZ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",WZ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},qZ]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:U()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[Ho,Ze]}],"outline-w":[{outline:[Ho,Qa]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Ho,Qa]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Xa,YZ]}],"shadow-color":[{shadow:[$f]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...$(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Xa,Ze]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[j]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ze]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",Ze]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ze]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Ff,Ze]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[I]}],"skew-y":[{"skew-y":[I]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ze]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ze]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ze]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ho,Qa,cj]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},eee=DZ(ZZ);function ve(...t){return eee(dt(t))}const tee=FJ,J6=p.forwardRef(({className:t,...e},n)=>o.jsx(I6,{ref:n,className:ve("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));J6.displayName=I6.displayName;const nee=Lp("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Z6=p.forwardRef(({className:t,variant:e,...n},r)=>o.jsx(R6,{ref:r,className:ve(nee({variant:e}),t),...n}));Z6.displayName=R6.displayName;const ree=p.forwardRef(({className:t,...e},n)=>o.jsx(M6,{ref:n,className:ve("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));ree.displayName=M6.displayName;const eF=p.forwardRef(({className:t,...e},n)=>o.jsx(L6,{ref:n,className:ve("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:o.jsx(Yi,{className:"h-4 w-4"})}));eF.displayName=L6.displayName;const tF=p.forwardRef(({className:t,...e},n)=>o.jsx(O6,{ref:n,className:ve("text-sm font-semibold",t),...e}));tF.displayName=O6.displayName;const nF=p.forwardRef(({className:t,...e},n)=>o.jsx(D6,{ref:n,className:ve("text-sm opacity-90",t),...e}));nF.displayName=D6.displayName;function see(){const{toasts:t}=ps();return o.jsxs(tee,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return o.jsxs(Z6,{...i,children:[o.jsxs("div",{className:"grid gap-1",children:[n&&o.jsx(tF,{children:n}),r&&o.jsx(nF,{children:r})]}),s,o.jsx(eF,{})]},e)}),o.jsx(J6,{})]})}var aR=["light","dark"],iee="(prefers-color-scheme: dark)",oee=p.createContext(void 0),aee={setTheme:t=>{},themes:[]},lee=()=>{var t;return(t=p.useContext(oee))!=null?t:aee};p.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:a,attrs:l,nonce:c})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?aR.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(y,v=!1,x=!0)=>{let b=a?a[y]:y,w=v?y+"|| ''":`'${b}'`,j="";return s&&x&&!v&&aR.includes(y)&&(j+=`d.style.colorScheme = '${y}';`),n==="class"?v||b?j+=`c.add(${w})`:j+="null":b&&(j+=`d[s](n,${w})`),j},m=t?`!function(){${d}${f(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${iee}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${f(a?"x[e]":"e",!0)}}${u?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${f(a?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return p.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var cee=t=>{switch(t){case"success":return hee;case"info":return mee;case"warning":return fee;case"error":return pee;default:return null}},uee=Array(12).fill(0),dee=({visible:t,className:e})=>we.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},we.createElement("div",{className:"sonner-spinner"},uee.map((n,r)=>we.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),hee=we.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},we.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),fee=we.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},we.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),mee=we.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},we.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),pee=we.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},we.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),gee=we.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},we.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),we.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),vee=()=>{let[t,e]=we.useState(document.hidden);return we.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},jS=1,yee=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:jS++,a=this.toasts.find(c=>c.id===i),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:r}),{...c,...e,id:i,dismissible:l,title:r}):c):this.addToast({title:r,...s,dismissible:l,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,a,l=s.then(async u=>{if(a=["resolve",u],we.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(wee(u)&&!u.ok){i=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,h=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description;this.create({id:r,type:"error",message:d,description:h})}else if(n.success!==void 0){i=!1;let d=typeof n.success=="function"?await n.success(u):n.success,h=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"success",message:d,description:h})}}).catch(async u=>{if(a=["reject",u],n.error!==void 0){i=!1;let d=typeof n.error=="function"?await n.error(u):n.error,h=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"error",message:d,description:h})}}).finally(()=>{var u;i&&(this.dismiss(r),r=void 0),(u=n.finally)==null||u.call(n)}),c=()=>new Promise((u,d)=>l.then(()=>a[0]==="reject"?d(a[1]):u(a[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||jS++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Jr=new yee,xee=(t,e)=>{let n=(e==null?void 0:e.id)||jS++;return Jr.addToast({title:t,...e,id:n}),n},wee=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",bee=xee,jee=()=>Jr.toasts,Nee=()=>Jr.getActiveToasts();Object.assign(bee,{success:Jr.success,info:Jr.info,warning:Jr.warning,error:Jr.error,custom:Jr.custom,message:Jr.message,promise:Jr.promise,dismiss:Jr.dismiss,loading:Jr.loading},{getHistory:jee,getToasts:Nee});function See(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}See(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function xv(t){return t.label!==void 0}var _ee=3,Eee="32px",Pee="16px",lR=4e3,Aee=356,Cee=14,Tee=20,kee=200;function Si(...t){return t.filter(Boolean).join(" ")}function Iee(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var Ree=t=>{var e,n,r,s,i,a,l,c,u,d,h;let{invert:f,toast:m,unstyled:y,interacting:v,setHeights:x,visibleToasts:b,heights:w,index:j,toasts:N,expanded:T,removeToast:I,defaultRichColors:P,closeButton:E,style:A,cancelButtonStyle:S,actionButtonStyle:C,className:O="",descriptionClassName:k="",duration:B,position:G,gap:U,loadingIcon:$,expandByDefault:D,classNames:L,icons:W,closeButtonAriaLabel:J="Close toast",pauseWhenPageIsHidden:V}=t,[ue,ee]=we.useState(null),[re,be]=we.useState(null),[se,Ue]=we.useState(!1),[ae,z]=we.useState(!1),[H,F]=we.useState(!1),[te,le]=we.useState(!1),[pe,Re]=we.useState(!1),[Le,qe]=we.useState(0),[xt,Et]=we.useState(0),Pt=we.useRef(m.duration||B||lR),X=we.useRef(null),de=we.useRef(null),Ne=j===0,Fe=j+1<=b,_e=m.type,Te=m.dismissible!==!1,st=m.className||"",Pe=m.descriptionClassName||"",at=we.useMemo(()=>w.findIndex(We=>We.toastId===m.id)||0,[w,m.id]),Lt=we.useMemo(()=>{var We;return(We=m.closeButton)!=null?We:E},[m.closeButton,E]),nt=we.useMemo(()=>m.duration||B||lR,[m.duration,B]),cn=we.useRef(0),Rn=we.useRef(0),ft=we.useRef(0),On=we.useRef(null),[Pc,xr]=G.split("-"),Hs=we.useMemo(()=>w.reduce((We,gt,Ot)=>Ot>=at?We:We+gt.height,0),[w,at]),qr=vee(),Ac=m.invert||f,Cc=_e==="loading";Rn.current=we.useMemo(()=>at*U+Hs,[at,Hs]),we.useEffect(()=>{Pt.current=nt},[nt]),we.useEffect(()=>{Ue(!0)},[]),we.useEffect(()=>{let We=de.current;if(We){let gt=We.getBoundingClientRect().height;return Et(gt),x(Ot=>[{toastId:m.id,height:gt,position:m.position},...Ot]),()=>x(Ot=>Ot.filter(or=>or.toastId!==m.id))}},[x,m.id]),we.useLayoutEffect(()=>{if(!se)return;let We=de.current,gt=We.style.height;We.style.height="auto";let Ot=We.getBoundingClientRect().height;We.style.height=gt,Et(Ot),x(or=>or.find(Yr=>Yr.toastId===m.id)?or.map(Yr=>Yr.toastId===m.id?{...Yr,height:Ot}:Yr):[{toastId:m.id,height:Ot,position:m.position},...or])},[se,m.title,m.description,x,m.id]);let Ks=we.useCallback(()=>{z(!0),qe(Rn.current),x(We=>We.filter(gt=>gt.toastId!==m.id)),setTimeout(()=>{I(m)},kee)},[m,I,x,Rn]);we.useEffect(()=>{if(m.promise&&_e==="loading"||m.duration===1/0||m.type==="loading")return;let We;return T||v||V&&qr?(()=>{if(ft.current<cn.current){let gt=new Date().getTime()-cn.current;Pt.current=Pt.current-gt}ft.current=new Date().getTime()})():Pt.current!==1/0&&(cn.current=new Date().getTime(),We=setTimeout(()=>{var gt;(gt=m.onAutoClose)==null||gt.call(m,m),Ks()},Pt.current)),()=>clearTimeout(We)},[T,v,m,_e,V,qr,Ks]),we.useEffect(()=>{m.delete&&Ks()},[Ks,m.delete]);function zo(){var We,gt,Ot;return W!=null&&W.loading?we.createElement("div",{className:Si(L==null?void 0:L.loader,(We=m==null?void 0:m.classNames)==null?void 0:We.loader,"sonner-loader"),"data-visible":_e==="loading"},W.loading):$?we.createElement("div",{className:Si(L==null?void 0:L.loader,(gt=m==null?void 0:m.classNames)==null?void 0:gt.loader,"sonner-loader"),"data-visible":_e==="loading"},$):we.createElement(dee,{className:Si(L==null?void 0:L.loader,(Ot=m==null?void 0:m.classNames)==null?void 0:Ot.loader),visible:_e==="loading"})}return we.createElement("li",{tabIndex:0,ref:de,className:Si(O,st,L==null?void 0:L.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,L==null?void 0:L.default,L==null?void 0:L[_e],(n=m==null?void 0:m.classNames)==null?void 0:n[_e]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:P,"data-styled":!(m.jsx||m.unstyled||y),"data-mounted":se,"data-promise":!!m.promise,"data-swiped":pe,"data-removed":ae,"data-visible":Fe,"data-y-position":Pc,"data-x-position":xr,"data-index":j,"data-front":Ne,"data-swiping":H,"data-dismissible":Te,"data-type":_e,"data-invert":Ac,"data-swipe-out":te,"data-swipe-direction":re,"data-expanded":!!(T||D&&se),style:{"--index":j,"--toasts-before":j,"--z-index":N.length-j,"--offset":`${ae?Le:Rn.current}px`,"--initial-height":D?"auto":`${xt}px`,...A,...m.style},onDragEnd:()=>{F(!1),ee(null),On.current=null},onPointerDown:We=>{Cc||!Te||(X.current=new Date,qe(Rn.current),We.target.setPointerCapture(We.pointerId),We.target.tagName!=="BUTTON"&&(F(!0),On.current={x:We.clientX,y:We.clientY}))},onPointerUp:()=>{var We,gt,Ot,or;if(te||!Te)return;On.current=null;let Yr=Number(((We=de.current)==null?void 0:We.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),en=Number(((gt=de.current)==null?void 0:gt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ji=new Date().getTime()-((Ot=X.current)==null?void 0:Ot.getTime()),ar=ue==="x"?Yr:en,Qr=Math.abs(ar)/Ji;if(Math.abs(ar)>=Tee||Qr>.11){qe(Rn.current),(or=m.onDismiss)==null||or.call(m,m),be(ue==="x"?Yr>0?"right":"left":en>0?"down":"up"),Ks(),le(!0),Re(!1);return}F(!1),ee(null)},onPointerMove:We=>{var gt,Ot,or,Yr;if(!On.current||!Te||((gt=window.getSelection())==null?void 0:gt.toString().length)>0)return;let en=We.clientY-On.current.y,Ji=We.clientX-On.current.x,ar=(Ot=t.swipeDirections)!=null?Ot:Iee(G);!ue&&(Math.abs(Ji)>1||Math.abs(en)>1)&&ee(Math.abs(Ji)>Math.abs(en)?"x":"y");let Qr={x:0,y:0};ue==="y"?(ar.includes("top")||ar.includes("bottom"))&&(ar.includes("top")&&en<0||ar.includes("bottom")&&en>0)&&(Qr.y=en):ue==="x"&&(ar.includes("left")||ar.includes("right"))&&(ar.includes("left")&&Ji<0||ar.includes("right")&&Ji>0)&&(Qr.x=Ji),(Math.abs(Qr.x)>0||Math.abs(Qr.y)>0)&&Re(!0),(or=de.current)==null||or.style.setProperty("--swipe-amount-x",`${Qr.x}px`),(Yr=de.current)==null||Yr.style.setProperty("--swipe-amount-y",`${Qr.y}px`)}},Lt&&!m.jsx?we.createElement("button",{"aria-label":J,"data-disabled":Cc,"data-close-button":!0,onClick:Cc||!Te?()=>{}:()=>{var We;Ks(),(We=m.onDismiss)==null||We.call(m,m)},className:Si(L==null?void 0:L.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(i=W==null?void 0:W.close)!=null?i:gee):null,m.jsx||p.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:we.createElement(we.Fragment,null,_e||m.icon||m.promise?we.createElement("div",{"data-icon":"",className:Si(L==null?void 0:L.icon,(a=m==null?void 0:m.classNames)==null?void 0:a.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||zo():null,m.type!=="loading"?m.icon||(W==null?void 0:W[_e])||cee(_e):null):null,we.createElement("div",{"data-content":"",className:Si(L==null?void 0:L.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},we.createElement("div",{"data-title":"",className:Si(L==null?void 0:L.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?we.createElement("div",{"data-description":"",className:Si(k,Pe,L==null?void 0:L.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),p.isValidElement(m.cancel)?m.cancel:m.cancel&&xv(m.cancel)?we.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||S,onClick:We=>{var gt,Ot;xv(m.cancel)&&Te&&((Ot=(gt=m.cancel).onClick)==null||Ot.call(gt,We),Ks())},className:Si(L==null?void 0:L.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,p.isValidElement(m.action)?m.action:m.action&&xv(m.action)?we.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||C,onClick:We=>{var gt,Ot;xv(m.action)&&((Ot=(gt=m.action).onClick)==null||Ot.call(gt,We),!We.defaultPrevented&&Ks())},className:Si(L==null?void 0:L.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function cR(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Oee(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,a=i?"--mobile-offset":"--offset",l=i?Pee:Eee;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${a}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${a}-${u}`]=l:n[`${a}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var Dee=p.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:a,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:f,style:m,visibleToasts:y=_ee,toastOptions:v,dir:x=cR(),gap:b=Cee,loadingIcon:w,icons:j,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:T}=t,[I,P]=we.useState([]),E=we.useMemo(()=>Array.from(new Set([r].concat(I.filter(V=>V.position).map(V=>V.position)))),[I,r]),[A,S]=we.useState([]),[C,O]=we.useState(!1),[k,B]=we.useState(!1),[G,U]=we.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=we.useRef(null),D=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=we.useRef(null),W=we.useRef(!1),J=we.useCallback(V=>{P(ue=>{var ee;return(ee=ue.find(re=>re.id===V.id))!=null&&ee.delete||Jr.dismiss(V.id),ue.filter(({id:re})=>re!==V.id)})},[]);return we.useEffect(()=>Jr.subscribe(V=>{if(V.dismiss){P(ue=>ue.map(ee=>ee.id===V.id?{...ee,delete:!0}:ee));return}setTimeout(()=>{d6.flushSync(()=>{P(ue=>{let ee=ue.findIndex(re=>re.id===V.id);return ee!==-1?[...ue.slice(0,ee),{...ue[ee],...V},...ue.slice(ee+1)]:[V,...ue]})})})}),[]),we.useEffect(()=>{if(d!=="system"){U(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),typeof window>"u")return;let V=window.matchMedia("(prefers-color-scheme: dark)");try{V.addEventListener("change",({matches:ue})=>{U(ue?"dark":"light")})}catch{V.addListener(({matches:ee})=>{try{U(ee?"dark":"light")}catch(re){console.error(re)}})}},[d]),we.useEffect(()=>{I.length<=1&&O(!1)},[I]),we.useEffect(()=>{let V=ue=>{var ee,re;s.every(be=>ue[be]||ue.code===be)&&(O(!0),(ee=$.current)==null||ee.focus()),ue.code==="Escape"&&(document.activeElement===$.current||(re=$.current)!=null&&re.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[s]),we.useEffect(()=>{if($.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,W.current=!1)}},[$.current]),we.createElement("section",{ref:e,"aria-label":`${N} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((V,ue)=>{var ee;let[re,be]=V.split("-");return I.length?we.createElement("ol",{key:V,dir:x==="auto"?cR():x,tabIndex:-1,ref:$,className:l,"data-sonner-toaster":!0,"data-theme":G,"data-y-position":re,"data-lifted":C&&I.length>1&&!i,"data-x-position":be,style:{"--front-toast-height":`${((ee=A[0])==null?void 0:ee.height)||0}px`,"--width":`${Aee}px`,"--gap":`${b}px`,...m,...Oee(c,u)},onBlur:se=>{W.current&&!se.currentTarget.contains(se.relatedTarget)&&(W.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||W.current||(W.current=!0,L.current=se.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{k||O(!1)},onDragEnd:()=>O(!1),onPointerDown:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||B(!0)},onPointerUp:()=>B(!1)},I.filter(se=>!se.position&&ue===0||se.position===V).map((se,Ue)=>{var ae,z;return we.createElement(Ree,{key:se.id,icons:j,index:Ue,toast:se,defaultRichColors:h,duration:(ae=v==null?void 0:v.duration)!=null?ae:f,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:y,closeButton:(z=v==null?void 0:v.closeButton)!=null?z:a,interacting:k,position:V,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:J,toasts:I.filter(H=>H.position==se.position),heights:A.filter(H=>H.position==se.position),setHeights:S,expandByDefault:i,gap:b,loadingIcon:w,expanded:C,pauseWhenPageIsHidden:T,swipeDirections:t.swipeDirections})})):null}))});const Mee=({...t})=>{const{theme:e="system"}=lee();return o.jsx(Dee,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var Lee=G0[" useId ".trim().toString()]||(()=>{}),Fee=0;function ui(t){const[e,n]=p.useState(Lee());return kn(()=>{t||n(r=>r??String(Fee++))},[t]),t||(e?`radix-${e}`:"")}const $ee=["top","right","bottom","left"],Xl=Math.min,Ns=Math.max,vx=Math.round,wv=Math.floor,xo=t=>({x:t,y:t}),Uee={left:"right",right:"left",bottom:"top",top:"bottom"},Bee={start:"end",end:"start"};function NS(t,e,n){return Ns(t,Xl(e,n))}function ja(t,e){return typeof t=="function"?t(e):t}function Na(t){return t.split("-")[0]}function zh(t){return t.split("-")[1]}function EP(t){return t==="x"?"y":"x"}function PP(t){return t==="y"?"height":"width"}const Vee=new Set(["top","bottom"]);function fo(t){return Vee.has(Na(t))?"y":"x"}function AP(t){return EP(fo(t))}function zee(t,e,n){n===void 0&&(n=!1);const r=zh(t),s=AP(t),i=PP(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=yx(a)),[a,yx(a)]}function Gee(t){const e=yx(t);return[SS(t),e,SS(e)]}function SS(t){return t.replace(/start|end/g,e=>Bee[e])}const uR=["left","right"],dR=["right","left"],Wee=["top","bottom"],Hee=["bottom","top"];function Kee(t,e,n){switch(t){case"top":case"bottom":return n?e?dR:uR:e?uR:dR;case"left":case"right":return e?Wee:Hee;default:return[]}}function qee(t,e,n,r){const s=zh(t);let i=Kee(Na(t),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),e&&(i=i.concat(i.map(SS)))),i}function yx(t){return t.replace(/left|right|bottom|top/g,e=>Uee[e])}function Yee(t){return{top:0,right:0,bottom:0,left:0,...t}}function rF(t){return typeof t!="number"?Yee(t):{top:t,right:t,bottom:t,left:t}}function xx(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function hR(t,e,n){let{reference:r,floating:s}=t;const i=fo(e),a=AP(e),l=PP(a),c=Na(e),u=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,f=r[l]/2-s[l]/2;let m;switch(c){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-s.width,y:h};break;default:m={x:r.x,y:r.y}}switch(zh(e)){case"start":m[a]-=f*(n&&u?-1:1);break;case"end":m[a]+=f*(n&&u?-1:1);break}return m}const Qee=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,l=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=hR(u,r,c),f=r,m={},y=0;for(let v=0;v<l.length;v++){const{name:x,fn:b}=l[v],{x:w,y:j,data:N,reset:T}=await b({x:d,y:h,initialPlacement:r,placement:f,strategy:s,middlewareData:m,rects:u,platform:a,elements:{reference:t,floating:e}});d=w??d,h=j??h,m={...m,[x]:{...m[x],...N}},T&&y<=50&&(y++,typeof T=="object"&&(T.placement&&(f=T.placement),T.rects&&(u=T.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):T.rects),{x:d,y:h}=hR(u,f,c)),v=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:m}};async function Xm(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:a,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=ja(e,t),y=rF(m),x=l[f?h==="floating"?"reference":"floating":h],b=xx(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),w=h==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),N=await(i.isElement==null?void 0:i.isElement(j))?await(i.getScale==null?void 0:i.getScale(j))||{x:1,y:1}:{x:1,y:1},T=xx(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:j,strategy:c}):w);return{top:(b.top-T.top+y.top)/N.y,bottom:(T.bottom-b.bottom+y.bottom)/N.y,left:(b.left-T.left+y.left)/N.x,right:(T.right-b.right+y.right)/N.x}}const Xee=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:a,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=ja(t,e)||{};if(u==null)return{};const h=rF(d),f={x:n,y:r},m=AP(s),y=PP(m),v=await a.getDimensions(u),x=m==="y",b=x?"top":"left",w=x?"bottom":"right",j=x?"clientHeight":"clientWidth",N=i.reference[y]+i.reference[m]-f[m]-i.floating[y],T=f[m]-i.reference[m],I=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let P=I?I[j]:0;(!P||!await(a.isElement==null?void 0:a.isElement(I)))&&(P=l.floating[j]||i.floating[y]);const E=N/2-T/2,A=P/2-v[y]/2-1,S=Xl(h[b],A),C=Xl(h[w],A),O=S,k=P-v[y]-C,B=P/2-v[y]/2+E,G=NS(O,B,k),U=!c.arrow&&zh(s)!=null&&B!==G&&i.reference[y]/2-(B<O?S:C)-v[y]/2<0,$=U?B<O?B-O:B-k:0;return{[m]:f[m]+$,data:{[m]:G,centerOffset:B-G-$,...U&&{alignmentOffset:$}},reset:U}}}),Jee=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:v=!0,...x}=ja(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=Na(s),w=fo(l),j=Na(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(u.floating)),T=f||(j||!v?[yx(l)]:Gee(l)),I=y!=="none";!f&&I&&T.push(...qee(l,v,y,N));const P=[l,...T],E=await Xm(e,x),A=[];let S=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&A.push(E[b]),h){const B=zee(s,a,N);A.push(E[B[0]],E[B[1]])}if(S=[...S,{placement:s,overflows:A}],!A.every(B=>B<=0)){var C,O;const B=(((C=i.flip)==null?void 0:C.index)||0)+1,G=P[B];if(G&&(!(h==="alignment"?w!==fo(G):!1)||S.every(D=>D.overflows[0]>0&&fo(D.placement)===w)))return{data:{index:B,overflows:S},reset:{placement:G}};let U=(O=S.filter($=>$.overflows[0]<=0).sort(($,D)=>$.overflows[1]-D.overflows[1])[0])==null?void 0:O.placement;if(!U)switch(m){case"bestFit":{var k;const $=(k=S.filter(D=>{if(I){const L=fo(D.placement);return L===w||L==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(L=>L>0).reduce((L,W)=>L+W,0)]).sort((D,L)=>D[1]-L[1])[0])==null?void 0:k[0];$&&(U=$);break}case"initialPlacement":U=l;break}if(s!==U)return{reset:{placement:U}}}return{}}}};function fR(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function mR(t){return $ee.some(e=>t[e]>=0)}const Zee=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ja(t,e);switch(r){case"referenceHidden":{const i=await Xm(e,{...s,elementContext:"reference"}),a=fR(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:mR(a)}}}case"escaped":{const i=await Xm(e,{...s,altBoundary:!0}),a=fR(i,n.floating);return{data:{escapedOffsets:a,escaped:mR(a)}}}default:return{}}}}},sF=new Set(["left","top"]);async function ete(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=Na(n),l=zh(n),c=fo(n)==="y",u=sF.has(a)?-1:1,d=i&&c?-1:1,h=ja(e,t);let{mainAxis:f,crossAxis:m,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof y=="number"&&(m=l==="end"?y*-1:y),c?{x:m*d,y:f*u}:{x:f*u,y:m*d}}const tte=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:a,middlewareData:l}=e,c=await ete(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},nte=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:x=>{let{x:b,y:w}=x;return{x:b,y:w}}},...c}=ja(t,e),u={x:n,y:r},d=await Xm(e,c),h=fo(Na(s)),f=EP(h);let m=u[f],y=u[h];if(i){const x=f==="y"?"top":"left",b=f==="y"?"bottom":"right",w=m+d[x],j=m-d[b];m=NS(w,m,j)}if(a){const x=h==="y"?"top":"left",b=h==="y"?"bottom":"right",w=y+d[x],j=y-d[b];y=NS(w,y,j)}const v=l.fn({...e,[f]:m,[h]:y});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[f]:i,[h]:a}}}}}},rte=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=ja(t,e),d={x:n,y:r},h=fo(s),f=EP(h);let m=d[f],y=d[h];const v=ja(l,e),x=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const j=f==="y"?"height":"width",N=i.reference[f]-i.floating[j]+x.mainAxis,T=i.reference[f]+i.reference[j]-x.mainAxis;m<N?m=N:m>T&&(m=T)}if(u){var b,w;const j=f==="y"?"width":"height",N=sF.has(Na(s)),T=i.reference[h]-i.floating[j]+(N&&((b=a.offset)==null?void 0:b[h])||0)+(N?0:x.crossAxis),I=i.reference[h]+i.reference[j]+(N?0:((w=a.offset)==null?void 0:w[h])||0)-(N?x.crossAxis:0);y<T?y=T:y>I&&(y=I)}return{[f]:m,[h]:y}}}},ste=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:a,elements:l}=e,{apply:c=()=>{},...u}=ja(t,e),d=await Xm(e,u),h=Na(s),f=zh(s),m=fo(s)==="y",{width:y,height:v}=i.floating;let x,b;h==="top"||h==="bottom"?(x=h,b=f===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(b=h,x=f==="end"?"top":"bottom");const w=v-d.top-d.bottom,j=y-d.left-d.right,N=Xl(v-d[x],w),T=Xl(y-d[b],j),I=!e.middlewareData.shift;let P=N,E=T;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(E=j),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(P=w),I&&!f){const S=Ns(d.left,0),C=Ns(d.right,0),O=Ns(d.top,0),k=Ns(d.bottom,0);m?E=y-2*(S!==0||C!==0?S+C:Ns(d.left,d.right)):P=v-2*(O!==0||k!==0?O+k:Ns(d.top,d.bottom))}await c({...e,availableWidth:E,availableHeight:P});const A=await a.getDimensions(l.floating);return y!==A.width||v!==A.height?{reset:{rects:!0}}:{}}}};function fw(){return typeof window<"u"}function Gh(t){return iF(t)?(t.nodeName||"").toLowerCase():"#document"}function Is(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Mo(t){var e;return(e=(iF(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function iF(t){return fw()?t instanceof Node||t instanceof Is(t).Node:!1}function Gi(t){return fw()?t instanceof Element||t instanceof Is(t).Element:!1}function Ao(t){return fw()?t instanceof HTMLElement||t instanceof Is(t).HTMLElement:!1}function pR(t){return!fw()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Is(t).ShadowRoot}const ite=new Set(["inline","contents"]);function $p(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Wi(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!ite.has(s)}const ote=new Set(["table","td","th"]);function ate(t){return ote.has(Gh(t))}const lte=[":popover-open",":modal"];function mw(t){return lte.some(e=>{try{return t.matches(e)}catch{return!1}})}const cte=["transform","translate","scale","rotate","perspective"],ute=["transform","translate","scale","rotate","perspective","filter"],dte=["paint","layout","strict","content"];function CP(t){const e=TP(),n=Gi(t)?Wi(t):t;return cte.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||ute.some(r=>(n.willChange||"").includes(r))||dte.some(r=>(n.contain||"").includes(r))}function hte(t){let e=Jl(t);for(;Ao(e)&&!ch(e);){if(CP(e))return e;if(mw(e))return null;e=Jl(e)}return null}function TP(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const fte=new Set(["html","body","#document"]);function ch(t){return fte.has(Gh(t))}function Wi(t){return Is(t).getComputedStyle(t)}function pw(t){return Gi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Jl(t){if(Gh(t)==="html")return t;const e=t.assignedSlot||t.parentNode||pR(t)&&t.host||Mo(t);return pR(e)?e.host:e}function oF(t){const e=Jl(t);return ch(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ao(e)&&$p(e)?e:oF(e)}function Jm(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=oF(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),a=Is(s);if(i){const l=_S(a);return e.concat(a,a.visualViewport||[],$p(s)?s:[],l&&n?Jm(l):[])}return e.concat(s,Jm(s,[],n))}function _S(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function aF(t){const e=Wi(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Ao(t),i=s?t.offsetWidth:n,a=s?t.offsetHeight:r,l=vx(n)!==i||vx(r)!==a;return l&&(n=i,r=a),{width:n,height:r,$:l}}function kP(t){return Gi(t)?t:t.contextElement}function Dd(t){const e=kP(t);if(!Ao(e))return xo(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=aF(e);let a=(i?vx(n.width):n.width)/r,l=(i?vx(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const mte=xo(0);function lF(t){const e=Is(t);return!TP()||!e.visualViewport?mte:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function pte(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Is(t)?!1:e}function wu(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=kP(t);let a=xo(1);e&&(r?Gi(r)&&(a=Dd(r)):a=Dd(t));const l=pte(i,n,r)?lF(i):xo(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,d=s.width/a.x,h=s.height/a.y;if(i){const f=Is(i),m=r&&Gi(r)?Is(r):r;let y=f,v=_S(y);for(;v&&r&&m!==y;){const x=Dd(v),b=v.getBoundingClientRect(),w=Wi(v),j=b.left+(v.clientLeft+parseFloat(w.paddingLeft))*x.x,N=b.top+(v.clientTop+parseFloat(w.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,h*=x.y,c+=j,u+=N,y=Is(v),v=_S(y)}}return xx({width:d,height:h,x:c,y:u})}function IP(t,e){const n=pw(t).scrollLeft;return e?e.left+n:wu(Mo(t)).left+n}function cF(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:IP(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function gte(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",a=Mo(r),l=e?mw(e.floating):!1;if(r===a||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=xo(1);const d=xo(0),h=Ao(r);if((h||!h&&!i)&&((Gh(r)!=="body"||$p(a))&&(c=pw(r)),Ao(r))){const m=wu(r);u=Dd(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const f=a&&!h&&!i?cF(a,c,!0):xo(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+f.x,y:n.y*u.y-c.scrollTop*u.y+d.y+f.y}}function vte(t){return Array.from(t.getClientRects())}function yte(t){const e=Mo(t),n=pw(t),r=t.ownerDocument.body,s=Ns(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Ns(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+IP(t);const l=-n.scrollTop;return Wi(r).direction==="rtl"&&(a+=Ns(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:l}}function xte(t,e){const n=Is(t),r=Mo(t),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,l=0,c=0;if(s){i=s.width,a=s.height;const u=TP();(!u||u&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:a,x:l,y:c}}const wte=new Set(["absolute","fixed"]);function bte(t,e){const n=wu(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Ao(t)?Dd(t):xo(1),a=t.clientWidth*i.x,l=t.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:a,height:l,x:c,y:u}}function gR(t,e,n){let r;if(e==="viewport")r=xte(t,n);else if(e==="document")r=yte(Mo(t));else if(Gi(e))r=bte(e,n);else{const s=lF(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return xx(r)}function uF(t,e){const n=Jl(t);return n===e||!Gi(n)||ch(n)?!1:Wi(n).position==="fixed"||uF(n,e)}function jte(t,e){const n=e.get(t);if(n)return n;let r=Jm(t,[],!1).filter(l=>Gi(l)&&Gh(l)!=="body"),s=null;const i=Wi(t).position==="fixed";let a=i?Jl(t):t;for(;Gi(a)&&!ch(a);){const l=Wi(a),c=CP(a);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&wte.has(s.position)||$p(a)&&!c&&uF(t,a))?r=r.filter(d=>d!==a):s=l,a=Jl(a)}return e.set(t,r),r}function Nte(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const a=[...n==="clippingAncestors"?mw(e)?[]:jte(e,this._c):[].concat(n),r],l=a[0],c=a.reduce((u,d)=>{const h=gR(e,d,s);return u.top=Ns(h.top,u.top),u.right=Xl(h.right,u.right),u.bottom=Xl(h.bottom,u.bottom),u.left=Ns(h.left,u.left),u},gR(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Ste(t){const{width:e,height:n}=aF(t);return{width:e,height:n}}function _te(t,e,n){const r=Ao(e),s=Mo(e),i=n==="fixed",a=wu(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=xo(0);function u(){c.x=IP(s)}if(r||!r&&!i)if((Gh(e)!=="body"||$p(s))&&(l=pw(e)),r){const m=wu(e,!0,i,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else s&&u();i&&!r&&s&&u();const d=s&&!r&&!i?cF(s,l):xo(0),h=a.left+l.scrollLeft-c.x-d.x,f=a.top+l.scrollTop-c.y-d.y;return{x:h,y:f,width:a.width,height:a.height}}function uj(t){return Wi(t).position==="static"}function vR(t,e){if(!Ao(t)||Wi(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Mo(t)===n&&(n=n.ownerDocument.body),n}function dF(t,e){const n=Is(t);if(mw(t))return n;if(!Ao(t)){let s=Jl(t);for(;s&&!ch(s);){if(Gi(s)&&!uj(s))return s;s=Jl(s)}return n}let r=vR(t,e);for(;r&&ate(r)&&uj(r);)r=vR(r,e);return r&&ch(r)&&uj(r)&&!CP(r)?n:r||hte(t)||n}const Ete=async function(t){const e=this.getOffsetParent||dF,n=this.getDimensions,r=await n(t.floating);return{reference:_te(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Pte(t){return Wi(t).direction==="rtl"}const Ate={convertOffsetParentRelativeRectToViewportRelativeRect:gte,getDocumentElement:Mo,getClippingRect:Nte,getOffsetParent:dF,getElementRects:Ete,getClientRects:vte,getDimensions:Ste,getScale:Dd,isElement:Gi,isRTL:Pte};function hF(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Cte(t,e){let n=null,r;const s=Mo(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:d,top:h,width:f,height:m}=u;if(l||e(),!f||!m)return;const y=wv(h),v=wv(s.clientWidth-(d+f)),x=wv(s.clientHeight-(h+m)),b=wv(d),j={rootMargin:-y+"px "+-v+"px "+-x+"px "+-b+"px",threshold:Ns(0,Xl(1,c))||1};let N=!0;function T(I){const P=I[0].intersectionRatio;if(P!==c){if(!N)return a();P?a(!1,P):r=setTimeout(()=>{a(!1,1e-7)},1e3)}P===1&&!hF(u,t.getBoundingClientRect())&&a(),N=!1}try{n=new IntersectionObserver(T,{...j,root:s.ownerDocument})}catch{n=new IntersectionObserver(T,j)}n.observe(t)}return a(!0),i}function Tte(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=kP(t),d=s||i?[...u?Jm(u):[],...Jm(e)]:[];d.forEach(b=>{s&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const h=u&&l?Cte(u,n):null;let f=-1,m=null;a&&(m=new ResizeObserver(b=>{let[w]=b;w&&w.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var j;(j=m)==null||j.observe(e)})),n()}),u&&!c&&m.observe(u),m.observe(e));let y,v=c?wu(t):null;c&&x();function x(){const b=wu(t);v&&!hF(v,b)&&n(),v=b,y=requestAnimationFrame(x)}return n(),()=>{var b;d.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),h==null||h(),(b=m)==null||b.disconnect(),m=null,c&&cancelAnimationFrame(y)}}const kte=tte,Ite=nte,Rte=Jee,Ote=ste,Dte=Zee,yR=Xee,Mte=rte,Lte=(t,e,n)=>{const r=new Map,s={platform:Ate,...n},i={...s.platform,_c:r};return Qee(t,e,{...s,platform:i})};var Fte=typeof document<"u",$te=function(){},wy=Fte?p.useLayoutEffect:$te;function wx(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!wx(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!wx(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function fF(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function xR(t,e){const n=fF(t);return Math.round(e*n)/n}function dj(t){const e=p.useRef(t);return wy(()=>{e.current=t}),e}function Ute(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,h]=p.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=p.useState(r);wx(f,r)||m(r);const[y,v]=p.useState(null),[x,b]=p.useState(null),w=p.useCallback(D=>{D!==I.current&&(I.current=D,v(D))},[]),j=p.useCallback(D=>{D!==P.current&&(P.current=D,b(D))},[]),N=i||y,T=a||x,I=p.useRef(null),P=p.useRef(null),E=p.useRef(d),A=c!=null,S=dj(c),C=dj(s),O=dj(u),k=p.useCallback(()=>{if(!I.current||!P.current)return;const D={placement:e,strategy:n,middleware:f};C.current&&(D.platform=C.current),Lte(I.current,P.current,D).then(L=>{const W={...L,isPositioned:O.current!==!1};B.current&&!wx(E.current,W)&&(E.current=W,Oa.flushSync(()=>{h(W)}))})},[f,e,n,C,O]);wy(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,h(D=>({...D,isPositioned:!1})))},[u]);const B=p.useRef(!1);wy(()=>(B.current=!0,()=>{B.current=!1}),[]),wy(()=>{if(N&&(I.current=N),T&&(P.current=T),N&&T){if(S.current)return S.current(N,T,k);k()}},[N,T,k,S,A]);const G=p.useMemo(()=>({reference:I,floating:P,setReference:w,setFloating:j}),[w,j]),U=p.useMemo(()=>({reference:N,floating:T}),[N,T]),$=p.useMemo(()=>{const D={position:n,left:0,top:0};if(!U.floating)return D;const L=xR(U.floating,d.x),W=xR(U.floating,d.y);return l?{...D,transform:"translate("+L+"px, "+W+"px)",...fF(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:W}},[n,l,U.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:k,refs:G,elements:U,floatingStyles:$}),[d,k,G,U,$])}const Bte=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?yR({element:r.current,padding:s}).fn(n):{}:r?yR({element:r,padding:s}).fn(n):{}}}},Vte=(t,e)=>({...kte(t),options:[t,e]}),zte=(t,e)=>({...Ite(t),options:[t,e]}),Gte=(t,e)=>({...Mte(t),options:[t,e]}),Wte=(t,e)=>({...Rte(t),options:[t,e]}),Hte=(t,e)=>({...Ote(t),options:[t,e]}),Kte=(t,e)=>({...Dte(t),options:[t,e]}),qte=(t,e)=>({...Bte(t),options:[t,e]});var Yte="Arrow",mF=p.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return o.jsx(De.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});mF.displayName=Yte;var Qte=mF;function RP(t){const[e,n]=p.useState(void 0);return kn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var OP="Popper",[pF,hc]=nr(OP),[Xte,gF]=pF(OP),vF=t=>{const{__scopePopper:e,children:n}=t,[r,s]=p.useState(null);return o.jsx(Xte,{scope:e,anchor:r,onAnchorChange:s,children:n})};vF.displayName=OP;var yF="PopperAnchor",xF=p.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=gF(yF,n),a=p.useRef(null),l=Ke(e,a);return p.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:o.jsx(De.div,{...s,ref:l})});xF.displayName=yF;var DP="PopperContent",[Jte,Zte]=pF(DP),wF=p.forwardRef((t,e)=>{var se,Ue,ae,z,H,F;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:y,...v}=t,x=gF(DP,n),[b,w]=p.useState(null),j=Ke(e,te=>w(te)),[N,T]=p.useState(null),I=RP(N),P=(I==null?void 0:I.width)??0,E=(I==null?void 0:I.height)??0,A=r+(i!=="center"?"-"+i:""),S=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},C=Array.isArray(u)?u:[u],O=C.length>0,k={padding:S,boundary:C.filter(tne),altBoundary:O},{refs:B,floatingStyles:G,placement:U,isPositioned:$,middlewareData:D}=Ute({strategy:"fixed",placement:A,whileElementsMounted:(...te)=>Tte(...te,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[Vte({mainAxis:s+E,alignmentAxis:a}),c&&zte({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Gte():void 0,...k}),c&&Wte({...k}),Hte({...k,apply:({elements:te,rects:le,availableWidth:pe,availableHeight:Re})=>{const{width:Le,height:qe}=le.reference,xt=te.floating.style;xt.setProperty("--radix-popper-available-width",`${pe}px`),xt.setProperty("--radix-popper-available-height",`${Re}px`),xt.setProperty("--radix-popper-anchor-width",`${Le}px`),xt.setProperty("--radix-popper-anchor-height",`${qe}px`)}}),N&&qte({element:N,padding:l}),nne({arrowWidth:P,arrowHeight:E}),f&&Kte({strategy:"referenceHidden",...k})]}),[L,W]=NF(U),J=bn(y);kn(()=>{$&&(J==null||J())},[$,J]);const V=(se=D.arrow)==null?void 0:se.x,ue=(Ue=D.arrow)==null?void 0:Ue.y,ee=((ae=D.arrow)==null?void 0:ae.centerOffset)!==0,[re,be]=p.useState();return kn(()=>{b&&be(window.getComputedStyle(b).zIndex)},[b]),o.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:$?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:re,"--radix-popper-transform-origin":[(z=D.transformOrigin)==null?void 0:z.x,(H=D.transformOrigin)==null?void 0:H.y].join(" "),...((F=D.hide)==null?void 0:F.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx(Jte,{scope:n,placedSide:L,onArrowChange:T,arrowX:V,arrowY:ue,shouldHideArrow:ee,children:o.jsx(De.div,{"data-side":L,"data-align":W,...v,ref:j,style:{...v.style,animation:$?void 0:"none"}})})})});wF.displayName=DP;var bF="PopperArrow",ene={top:"bottom",right:"left",bottom:"top",left:"right"},jF=p.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=Zte(bF,r),a=ene[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(Qte,{...s,ref:n,style:{...s.style,display:"block"}})})});jF.displayName=bF;function tne(t){return t!==null}var nne=t=>({name:"transformOrigin",options:t,fn(e){var x,b,w;const{placement:n,rects:r,middlewareData:s}=e,a=((x=s.arrow)==null?void 0:x.centerOffset)!==0,l=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[u,d]=NF(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((b=s.arrow)==null?void 0:b.x)??0)+l/2,m=(((w=s.arrow)==null?void 0:w.y)??0)+c/2;let y="",v="";return u==="bottom"?(y=a?h:`${f}px`,v=`${-c}px`):u==="top"?(y=a?h:`${f}px`,v=`${r.floating.height+c}px`):u==="right"?(y=`${-c}px`,v=a?h:`${m}px`):u==="left"&&(y=`${r.floating.width+c}px`,v=a?h:`${m}px`),{data:{x:y,y:v}}}});function NF(t){const[e,n="center"]=t.split("-");return[e,n]}var gw=vF,Up=xF,vw=wF,yw=jF,[xw,YMe]=nr("Tooltip",[hc]),ww=hc(),SF="TooltipProvider",rne=700,ES="tooltip.open",[sne,MP]=xw(SF),_F=t=>{const{__scopeTooltip:e,delayDuration:n=rne,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,a=p.useRef(!0),l=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),o.jsx(sne,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:p.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};_F.displayName=SF;var Zm="Tooltip",[ine,bw]=xw(Zm),EF=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:a,delayDuration:l}=t,c=MP(Zm,t.__scopeTooltip),u=ww(e),[d,h]=p.useState(null),f=ui(),m=p.useRef(0),y=a??c.disableHoverableContent,v=l??c.delayDuration,x=p.useRef(!1),[b,w]=zi({prop:r,defaultProp:s??!1,onChange:P=>{P?(c.onOpen(),document.dispatchEvent(new CustomEvent(ES))):c.onClose(),i==null||i(P)},caller:Zm}),j=p.useMemo(()=>b?x.current?"delayed-open":"instant-open":"closed",[b]),N=p.useCallback(()=>{window.clearTimeout(m.current),m.current=0,x.current=!1,w(!0)},[w]),T=p.useCallback(()=>{window.clearTimeout(m.current),m.current=0,w(!1)},[w]),I=p.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{x.current=!0,w(!0),m.current=0},v)},[v,w]);return p.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),o.jsx(gw,{...u,children:o.jsx(ine,{scope:e,contentId:f,open:b,stateAttribute:j,trigger:d,onTriggerChange:h,onTriggerEnter:p.useCallback(()=>{c.isOpenDelayedRef.current?I():N()},[c.isOpenDelayedRef,I,N]),onTriggerLeave:p.useCallback(()=>{y?T():(window.clearTimeout(m.current),m.current=0)},[T,y]),onOpen:N,onClose:T,disableHoverableContent:y,children:n})})};EF.displayName=Zm;var PS="TooltipTrigger",PF=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=bw(PS,n),i=MP(PS,n),a=ww(n),l=p.useRef(null),c=Ke(e,l,s.onTriggerChange),u=p.useRef(!1),d=p.useRef(!1),h=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),o.jsx(Up,{asChild:!0,...a,children:o.jsx(De.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:xe(t.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:xe(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:xe(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:xe(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:xe(t.onBlur,s.onClose),onClick:xe(t.onClick,s.onClose)})})});PF.displayName=PS;var one="TooltipPortal",[QMe,ane]=xw(one,{forceMount:void 0}),uh="TooltipContent",AF=p.forwardRef((t,e)=>{const n=ane(uh,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,a=bw(uh,t.__scopeTooltip);return o.jsx(rr,{present:r||a.open,children:a.disableHoverableContent?o.jsx(CF,{side:s,...i,ref:e}):o.jsx(lne,{side:s,...i,ref:e})})}),lne=p.forwardRef((t,e)=>{const n=bw(uh,t.__scopeTooltip),r=MP(uh,t.__scopeTooltip),s=p.useRef(null),i=Ke(e,s),[a,l]=p.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:h}=r,f=p.useCallback(()=>{l(null),h(!1)},[h]),m=p.useCallback((y,v)=>{const x=y.currentTarget,b={x:y.clientX,y:y.clientY},w=fne(b,x.getBoundingClientRect()),j=mne(b,w),N=pne(v.getBoundingClientRect()),T=vne([...j,...N]);l(T),h(!0)},[h]);return p.useEffect(()=>()=>f(),[f]),p.useEffect(()=>{if(c&&d){const y=x=>m(x,d),v=x=>m(x,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",v)}}},[c,d,m,f]),p.useEffect(()=>{if(a){const y=v=>{const x=v.target,b={x:v.clientX,y:v.clientY},w=(c==null?void 0:c.contains(x))||(d==null?void 0:d.contains(x)),j=!gne(b,a);w?f():j&&(f(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,a,u,f]),o.jsx(CF,{...t,ref:i})}),[cne,une]=xw(Zm,{isInside:!1}),dne=m6("TooltipContent"),CF=p.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...l}=t,c=bw(uh,n),u=ww(n),{onClose:d}=c;return p.useEffect(()=>(document.addEventListener(ES,d),()=>document.removeEventListener(ES,d)),[d]),p.useEffect(()=>{if(c.trigger){const h=f=>{const m=f.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),o.jsx(Vu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:o.jsxs(vw,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(dne,{children:r}),o.jsx(cne,{scope:n,isInside:!0,children:o.jsx(wJ,{id:c.contentId,role:"tooltip",children:s||r})})]})})});AF.displayName=uh;var TF="TooltipArrow",hne=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=ww(n);return une(TF,n).isInside?null:o.jsx(yw,{...s,...r,ref:e})});hne.displayName=TF;function fne(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function mne(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function pne(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function gne(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const l=e[i],c=e[a],u=l.x,d=l.y,h=c.x,f=c.y;d>r!=f>r&&n<(h-u)*(r-d)/(f-d)+u&&(s=!s)}return s}function vne(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),yne(e)}function yne(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],a=e[e.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],a=n[n.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var xne=_F,wne=EF,bne=PF,kF=AF;const AS=xne,wR=wne,bR=bne,CS=p.forwardRef(({className:t,sideOffset:e=4,...n},r)=>o.jsx(kF,{ref:r,sideOffset:e,className:ve("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));CS.displayName=kF.displayName;var jw=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Nw=typeof window>"u"||"Deno"in globalThis;function Pi(){}function jne(t,e){return typeof t=="function"?t(e):t}function Nne(t){return typeof t=="number"&&t>=0&&t!==1/0}function Sne(t,e){return Math.max(t+(e||0)-Date.now(),0)}function TS(t,e){return typeof t=="function"?t(e):t}function _ne(t,e){return typeof t=="function"?t(e):t}function jR(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:l}=t;if(a){if(r){if(e.queryHash!==LP(a,e.options))return!1}else if(!tp(e.queryKey,a))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function NR(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(ep(e.options.mutationKey)!==ep(i))return!1}else if(!tp(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function LP(t,e){return((e==null?void 0:e.queryKeyHashFn)||ep)(t)}function ep(t){return JSON.stringify(t,(e,n)=>kS(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function tp(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>tp(t[n],e[n])):!1}function IF(t,e){if(t===e)return t;const n=SR(t)&&SR(e);if(n||kS(t)&&kS(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),a=i.length,l=n?[]:{},c=new Set(r);let u=0;for(let d=0;d<a;d++){const h=n?d:i[d];(!n&&c.has(h)||n)&&t[h]===void 0&&e[h]===void 0?(l[h]=void 0,u++):(l[h]=IF(t[h],e[h]),l[h]===t[h]&&t[h]!==void 0&&u++)}return s===a&&u===s?t:l}return e}function SR(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function kS(t){if(!_R(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!_R(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function _R(t){return Object.prototype.toString.call(t)==="[object Object]"}function Ene(t){return new Promise(e=>{setTimeout(e,t)})}function Pne(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?IF(t,e):e}function Ane(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Cne(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var FP=Symbol();function RF(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===FP?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Xc,gl,qd,WL,Tne=(WL=class extends jw{constructor(){super();bt(this,Xc);bt(this,gl);bt(this,qd);Xe(this,qd,e=>{if(!Nw&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ie(this,gl)||this.setEventListener(ie(this,qd))}onUnsubscribe(){var e;this.hasListeners()||((e=ie(this,gl))==null||e.call(this),Xe(this,gl,void 0))}setEventListener(e){var n;Xe(this,qd,e),(n=ie(this,gl))==null||n.call(this),Xe(this,gl,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){ie(this,Xc)!==e&&(Xe(this,Xc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof ie(this,Xc)=="boolean"?ie(this,Xc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Xc=new WeakMap,gl=new WeakMap,qd=new WeakMap,WL),OF=new Tne,Yd,vl,Qd,HL,kne=(HL=class extends jw{constructor(){super();bt(this,Yd,!0);bt(this,vl);bt(this,Qd);Xe(this,Qd,e=>{if(!Nw&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ie(this,vl)||this.setEventListener(ie(this,Qd))}onUnsubscribe(){var e;this.hasListeners()||((e=ie(this,vl))==null||e.call(this),Xe(this,vl,void 0))}setEventListener(e){var n;Xe(this,Qd,e),(n=ie(this,vl))==null||n.call(this),Xe(this,vl,e(this.setOnline.bind(this)))}setOnline(e){ie(this,Yd)!==e&&(Xe(this,Yd,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return ie(this,Yd)}},Yd=new WeakMap,vl=new WeakMap,Qd=new WeakMap,HL),bx=new kne;function Ine(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function Rne(t){return Math.min(1e3*2**t,3e4)}function DF(t){return(t??"online")==="online"?bx.isOnline():!0}var MF=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function hj(t){return t instanceof MF}function LF(t){let e=!1,n=0,r=!1,s;const i=Ine(),a=v=>{var x;r||(f(new MF(v)),(x=t.abort)==null||x.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>OF.isFocused()&&(t.networkMode==="always"||bx.isOnline())&&t.canRun(),d=()=>DF(t.networkMode)&&t.canRun(),h=v=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,v),s==null||s(),i.resolve(v))},f=v=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,v),s==null||s(),i.reject(v))},m=()=>new Promise(v=>{var x;s=b=>{(r||u())&&v(b)},(x=t.onPause)==null||x.call(t)}).then(()=>{var v;s=void 0,r||(v=t.onContinue)==null||v.call(t)}),y=()=>{if(r)return;let v;const x=n===0?t.initialPromise:void 0;try{v=x??t.fn()}catch(b){v=Promise.reject(b)}Promise.resolve(v).then(h).catch(b=>{var I;if(r)return;const w=t.retry??(Nw?0:3),j=t.retryDelay??Rne,N=typeof j=="function"?j(n,b):j,T=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,b);if(e||!T){f(b);return}n++,(I=t.onFail)==null||I.call(t,n,b),Ene(N).then(()=>u()?void 0:m()).then(()=>{e?f(b):y()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():m().then(y),i)}}var One=t=>setTimeout(t,0);function Dne(){let t=[],e=0,n=l=>{l()},r=l=>{l()},s=One;const i=l=>{e?t.push(l):s(()=>{n(l)})},a=()=>{const l=t;t=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||a()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var Br=Dne(),Jc,KL,FF=(KL=class{constructor(){bt(this,Jc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Nne(this.gcTime)&&Xe(this,Jc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Nw?1/0:5*60*1e3))}clearGcTimeout(){ie(this,Jc)&&(clearTimeout(ie(this,Jc)),Xe(this,Jc,void 0))}},Jc=new WeakMap,KL),Xd,Zc,Js,eu,Er,Cp,tu,Ai,qo,qL,Mne=(qL=class extends FF{constructor(n){super();bt(this,Ai);bt(this,Xd);bt(this,Zc);bt(this,Js);bt(this,eu);bt(this,Er);bt(this,Cp);bt(this,tu);Xe(this,tu,!1),Xe(this,Cp,n.defaultOptions),this.setOptions(n.options),this.observers=[],Xe(this,eu,n.client),Xe(this,Js,ie(this,eu).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Xe(this,Xd,Fne(this.options)),this.state=n.state??ie(this,Xd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=ie(this,Er))==null?void 0:n.promise}setOptions(n){this.options={...ie(this,Cp),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ie(this,Js).remove(this)}setData(n,r){const s=Pne(this.state.data,n,this.options);return jr(this,Ai,qo).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){jr(this,Ai,qo).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=ie(this,Er))==null?void 0:s.promise;return(i=ie(this,Er))==null||i.cancel(n),r?r.then(Pi).catch(Pi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ie(this,Xd))}isActive(){return this.observers.some(n=>_ne(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===FP||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>TS(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!Sne(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=ie(this,Er))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=ie(this,Er))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),ie(this,Js).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(ie(this,Er)&&(ie(this,tu)?ie(this,Er).cancel({revert:!0}):ie(this,Er).cancelRetry()),this.scheduleGc()),ie(this,Js).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||jr(this,Ai,qo).call(this,{type:"invalidate"})}fetch(n,r){var d,h,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ie(this,Er))return ie(this,Er).continueRetry(),ie(this,Er).promise}if(n&&this.setOptions(n),!this.options.queryFn){const m=this.observers.find(y=>y.options.queryFn);m&&this.setOptions(m.options)}const s=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(Xe(this,tu,!0),s.signal)})},a=()=>{const m=RF(this.options,r),v=(()=>{const x={client:ie(this,eu),queryKey:this.queryKey,meta:this.meta};return i(x),x})();return Xe(this,tu,!1),this.options.persister?this.options.persister(m,v,this):m(v)},c=(()=>{const m={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:ie(this,eu),state:this.state,fetchFn:a};return i(m),m})();(d=this.options.behavior)==null||d.onFetch(c,this),Xe(this,Zc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=c.fetchOptions)==null?void 0:h.meta))&&jr(this,Ai,qo).call(this,{type:"fetch",meta:(f=c.fetchOptions)==null?void 0:f.meta});const u=m=>{var y,v,x,b;hj(m)&&m.silent||jr(this,Ai,qo).call(this,{type:"error",error:m}),hj(m)||((v=(y=ie(this,Js).config).onError)==null||v.call(y,m,this),(b=(x=ie(this,Js).config).onSettled)==null||b.call(x,this.state.data,m,this)),this.scheduleGc()};return Xe(this,Er,LF({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,abort:s.abort.bind(s),onSuccess:m=>{var y,v,x,b;if(m===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(w){u(w);return}(v=(y=ie(this,Js).config).onSuccess)==null||v.call(y,m,this),(b=(x=ie(this,Js).config).onSettled)==null||b.call(x,m,this.state.error,this),this.scheduleGc()},onError:u,onFail:(m,y)=>{jr(this,Ai,qo).call(this,{type:"failed",failureCount:m,error:y})},onPause:()=>{jr(this,Ai,qo).call(this,{type:"pause"})},onContinue:()=>{jr(this,Ai,qo).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),ie(this,Er).start()}},Xd=new WeakMap,Zc=new WeakMap,Js=new WeakMap,eu=new WeakMap,Er=new WeakMap,Cp=new WeakMap,tu=new WeakMap,Ai=new WeakSet,qo=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Lne(s.data,this.options),fetchMeta:n.meta??null};case"success":return Xe(this,Zc,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return hj(i)&&i.revert&&ie(this,Zc)?{...ie(this,Zc),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Br.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),ie(this,Js).notify({query:this,type:"updated",action:n})})},qL);function Lne(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:DF(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Fne(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var so,YL,$ne=(YL=class extends jw{constructor(e={}){super();bt(this,so);this.config=e,Xe(this,so,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??LP(s,n);let a=this.get(i);return a||(a=new Mne({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){ie(this,so).has(e.queryHash)||(ie(this,so).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=ie(this,so).get(e.queryHash);n&&(e.destroy(),n===e&&ie(this,so).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Br.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ie(this,so).get(e)}getAll(){return[...ie(this,so).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>jR(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>jR(e,r)):n}notify(e){Br.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Br.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Br.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},so=new WeakMap,YL),io,Fr,nu,oo,el,QL,Une=(QL=class extends FF{constructor(n){super();bt(this,oo);bt(this,io);bt(this,Fr);bt(this,nu);this.mutationId=n.mutationId,Xe(this,Fr,n.mutationCache),Xe(this,io,[]),this.state=n.state||Bne(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){ie(this,io).includes(n)||(ie(this,io).push(n),this.clearGcTimeout(),ie(this,Fr).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Xe(this,io,ie(this,io).filter(r=>r!==n)),this.scheduleGc(),ie(this,Fr).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){ie(this,io).length||(this.state.status==="pending"?this.scheduleGc():ie(this,Fr).remove(this))}continue(){var n;return((n=ie(this,nu))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var a,l,c,u,d,h,f,m,y,v,x,b,w,j,N,T,I,P,E,A;const r=()=>{jr(this,oo,el).call(this,{type:"continue"})};Xe(this,nu,LF({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(S,C)=>{jr(this,oo,el).call(this,{type:"failed",failureCount:S,error:C})},onPause:()=>{jr(this,oo,el).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ie(this,Fr).canRun(this)}));const s=this.state.status==="pending",i=!ie(this,nu).canStart();try{if(s)r();else{jr(this,oo,el).call(this,{type:"pending",variables:n,isPaused:i}),await((l=(a=ie(this,Fr).config).onMutate)==null?void 0:l.call(a,n,this));const C=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,n));C!==this.state.context&&jr(this,oo,el).call(this,{type:"pending",context:C,variables:n,isPaused:i})}const S=await ie(this,nu).start();return await((h=(d=ie(this,Fr).config).onSuccess)==null?void 0:h.call(d,S,n,this.state.context,this)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,S,n,this.state.context)),await((v=(y=ie(this,Fr).config).onSettled)==null?void 0:v.call(y,S,null,this.state.variables,this.state.context,this)),await((b=(x=this.options).onSettled)==null?void 0:b.call(x,S,null,n,this.state.context)),jr(this,oo,el).call(this,{type:"success",data:S}),S}catch(S){try{throw await((j=(w=ie(this,Fr).config).onError)==null?void 0:j.call(w,S,n,this.state.context,this)),await((T=(N=this.options).onError)==null?void 0:T.call(N,S,n,this.state.context)),await((P=(I=ie(this,Fr).config).onSettled)==null?void 0:P.call(I,void 0,S,this.state.variables,this.state.context,this)),await((A=(E=this.options).onSettled)==null?void 0:A.call(E,void 0,S,n,this.state.context)),S}finally{jr(this,oo,el).call(this,{type:"error",error:S})}}finally{ie(this,Fr).runNext(this)}}},io=new WeakMap,Fr=new WeakMap,nu=new WeakMap,oo=new WeakSet,el=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Br.batch(()=>{ie(this,io).forEach(s=>{s.onMutationUpdate(n)}),ie(this,Fr).notify({mutation:this,type:"updated",action:n})})},QL);function Bne(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Jo,Ci,Tp,XL,Vne=(XL=class extends jw{constructor(e={}){super();bt(this,Jo);bt(this,Ci);bt(this,Tp);this.config=e,Xe(this,Jo,new Set),Xe(this,Ci,new Map),Xe(this,Tp,0)}build(e,n,r){const s=new Une({mutationCache:this,mutationId:++Jg(this,Tp)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){ie(this,Jo).add(e);const n=bv(e);if(typeof n=="string"){const r=ie(this,Ci).get(n);r?r.push(e):ie(this,Ci).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(ie(this,Jo).delete(e)){const n=bv(e);if(typeof n=="string"){const r=ie(this,Ci).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&ie(this,Ci).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=bv(e);if(typeof n=="string"){const r=ie(this,Ci).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=bv(e);if(typeof n=="string"){const s=(r=ie(this,Ci).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Br.batch(()=>{ie(this,Jo).forEach(e=>{this.notify({type:"removed",mutation:e})}),ie(this,Jo).clear(),ie(this,Ci).clear()})}getAll(){return Array.from(ie(this,Jo))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>NR(n,r))}findAll(e={}){return this.getAll().filter(n=>NR(e,n))}notify(e){Br.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Br.batch(()=>Promise.all(e.map(n=>n.continue().catch(Pi))))}},Jo=new WeakMap,Ci=new WeakMap,Tp=new WeakMap,XL);function bv(t){var e;return(e=t.options.scope)==null?void 0:e.id}function ER(t){return{onFetch:(e,n)=>{var d,h,f,m,y;const r=e.options,s=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],a=((y=e.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const x=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},b=RF(e.options,e.fetchOptions),w=async(j,N,T)=>{if(v)return Promise.reject();if(N==null&&j.pages.length)return Promise.resolve(j);const P=(()=>{const C={client:e.client,queryKey:e.queryKey,pageParam:N,direction:T?"backward":"forward",meta:e.options.meta};return x(C),C})(),E=await b(P),{maxPages:A}=e.options,S=T?Cne:Ane;return{pages:S(j.pages,E,A),pageParams:S(j.pageParams,N,A)}};if(s&&i.length){const j=s==="backward",N=j?zne:PR,T={pages:i,pageParams:a},I=N(r,T);l=await w(T,I,j)}else{const j=t??i.length;do{const N=c===0?a[0]??r.initialPageParam:PR(r,l);if(c>0&&N==null)break;l=await w(l,N),c++}while(c<j)}return l};e.options.persister?e.fetchFn=()=>{var v,x;return(x=(v=e.options).persister)==null?void 0:x.call(v,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function PR(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function zne(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var xn,yl,xl,Jd,Zd,wl,eh,th,JL,Gne=(JL=class{constructor(t={}){bt(this,xn);bt(this,yl);bt(this,xl);bt(this,Jd);bt(this,Zd);bt(this,wl);bt(this,eh);bt(this,th);Xe(this,xn,t.queryCache||new $ne),Xe(this,yl,t.mutationCache||new Vne),Xe(this,xl,t.defaultOptions||{}),Xe(this,Jd,new Map),Xe(this,Zd,new Map),Xe(this,wl,0)}mount(){Jg(this,wl)._++,ie(this,wl)===1&&(Xe(this,eh,OF.subscribe(async t=>{t&&(await this.resumePausedMutations(),ie(this,xn).onFocus())})),Xe(this,th,bx.subscribe(async t=>{t&&(await this.resumePausedMutations(),ie(this,xn).onOnline())})))}unmount(){var t,e;Jg(this,wl)._--,ie(this,wl)===0&&((t=ie(this,eh))==null||t.call(this),Xe(this,eh,void 0),(e=ie(this,th))==null||e.call(this),Xe(this,th,void 0))}isFetching(t){return ie(this,xn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return ie(this,yl).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ie(this,xn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=ie(this,xn).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(TS(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return ie(this,xn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=ie(this,xn).get(r.queryHash),i=s==null?void 0:s.state.data,a=jne(e,i);if(a!==void 0)return ie(this,xn).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Br.batch(()=>ie(this,xn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ie(this,xn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=ie(this,xn);Br.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=ie(this,xn);return Br.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Br.batch(()=>ie(this,xn).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Pi).catch(Pi)}invalidateQueries(t,e={}){return Br.batch(()=>(ie(this,xn).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Br.batch(()=>ie(this,xn).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Pi)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Pi)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=ie(this,xn).build(this,e);return n.isStaleByTime(TS(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Pi).catch(Pi)}fetchInfiniteQuery(t){return t.behavior=ER(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Pi).catch(Pi)}ensureInfiniteQueryData(t){return t.behavior=ER(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return bx.isOnline()?ie(this,yl).resumePausedMutations():Promise.resolve()}getQueryCache(){return ie(this,xn)}getMutationCache(){return ie(this,yl)}getDefaultOptions(){return ie(this,xl)}setDefaultOptions(t){Xe(this,xl,t)}setQueryDefaults(t,e){ie(this,Jd).set(ep(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...ie(this,Jd).values()],n={};return e.forEach(r=>{tp(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){ie(this,Zd).set(ep(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...ie(this,Zd).values()],n={};return e.forEach(r=>{tp(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...ie(this,xl).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=LP(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===FP&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...ie(this,xl).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){ie(this,xn).clear(),ie(this,yl).clear()}},xn=new WeakMap,yl=new WeakMap,xl=new WeakMap,Jd=new WeakMap,Zd=new WeakMap,wl=new WeakMap,eh=new WeakMap,th=new WeakMap,JL),Wne=p.createContext(void 0),Hne=({client:t,children:e})=>(p.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),o.jsx(Wne.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function np(){return np=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},np.apply(this,arguments)}var Nl;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Nl||(Nl={}));const AR="popstate";function Kne(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:a,hash:l}=r.location;return IS("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:jx(s)}return Yne(e,n,null,t)}function mn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $F(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qne(){return Math.random().toString(36).substr(2,8)}function CR(t,e){return{usr:t.state,key:t.key,idx:e}}function IS(t,e,n,r){return n===void 0&&(n=null),np({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Wh(e):e,{state:n,key:e&&e.key||r||qne()})}function jx(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Wh(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Yne(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=Nl.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(np({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){l=Nl.Pop;let x=d(),b=x==null?null:x-u;u=x,c&&c({action:l,location:v.location,delta:b})}function f(x,b){l=Nl.Push;let w=IS(v.location,x,b);u=d()+1;let j=CR(w,u),N=v.createHref(w);try{a.pushState(j,"",N)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(N)}i&&c&&c({action:l,location:v.location,delta:1})}function m(x,b){l=Nl.Replace;let w=IS(v.location,x,b);u=d();let j=CR(w,u),N=v.createHref(w);a.replaceState(j,"",N),i&&c&&c({action:l,location:v.location,delta:0})}function y(x){let b=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof x=="string"?x:jx(x);return w=w.replace(/ $/,"%20"),mn(b,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,b)}let v={get action(){return l},get location(){return t(s,a)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(AR,h),c=x,()=>{s.removeEventListener(AR,h),c=null}},createHref(x){return e(s,x)},createURL:y,encodeLocation(x){let b=y(x);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:f,replace:m,go(x){return a.go(x)}};return v}var TR;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(TR||(TR={}));function Qne(t,e,n){return n===void 0&&(n="/"),Xne(t,e,n,!1)}function Xne(t,e,n,r){let s=typeof e=="string"?Wh(e):e,i=dh(s.pathname||"/",n);if(i==null)return null;let a=UF(t);Jne(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=cre(i);l=are(a[c],u,r)}return l}function UF(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(mn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=$l([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(mn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),UF(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:ire(u,i.index),routesMeta:d})};return t.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of BF(i.path))s(i,a,c)}),e}function BF(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=BF(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Jne(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ore(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Zne=/^:[\w-]+$/,ere=3,tre=2,nre=1,rre=10,sre=-2,kR=t=>t==="*";function ire(t,e){let n=t.split("/"),r=n.length;return n.some(kR)&&(r+=sre),e&&(r+=tre),n.filter(s=>!kR(s)).reduce((s,i)=>s+(Zne.test(i)?ere:i===""?nre:rre),r)}function ore(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function are(t,e,n){let{routesMeta:r}=t,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=Nx({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Nx({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:$l([i,h.pathname]),pathnameBase:fre($l([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=$l([i,h.pathnameBase]))}return a}function Nx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=lre(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let v=l[h]||"";a=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const y=l[h];return m&&!y?u[f]=void 0:u[f]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function lre(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),$F(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function cre(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $F(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function dh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function ure(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Wh(t):t;return{pathname:n?n.startsWith("/")?n:dre(n,e):e,search:mre(r),hash:pre(s)}}function dre(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function fj(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hre(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $P(t,e){let n=hre(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function UP(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Wh(t):(s=np({},t),mn(!s.pathname||!s.pathname.includes("?"),fj("?","pathname","search",s)),mn(!s.pathname||!s.pathname.includes("#"),fj("#","pathname","hash",s)),mn(!s.search||!s.search.includes("#"),fj("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let h=e.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=ure(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const $l=t=>t.join("/").replace(/\/\/+/g,"/"),fre=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),mre=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,pre=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function gre(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const VF=["post","put","patch","delete"];new Set(VF);const vre=["get",...VF];new Set(vre);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rp(){return rp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rp.apply(this,arguments)}const Sw=p.createContext(null),zF=p.createContext(null),Da=p.createContext(null),_w=p.createContext(null),Lo=p.createContext({outlet:null,matches:[],isDataRoute:!1}),GF=p.createContext(null);function yre(t,e){let{relative:n}=e===void 0?{}:e;Hh()||mn(!1);let{basename:r,navigator:s}=p.useContext(Da),{hash:i,pathname:a,search:l}=Ew(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:$l([r,a])),s.createHref({pathname:c,search:l,hash:i})}function Hh(){return p.useContext(_w)!=null}function gs(){return Hh()||mn(!1),p.useContext(_w).location}function WF(t){p.useContext(Da).static||p.useLayoutEffect(t)}function Zt(){let{isDataRoute:t}=p.useContext(Lo);return t?Rre():xre()}function xre(){Hh()||mn(!1);let t=p.useContext(Sw),{basename:e,future:n,navigator:r}=p.useContext(Da),{matches:s}=p.useContext(Lo),{pathname:i}=gs(),a=JSON.stringify($P(s,n.v7_relativeSplatPath)),l=p.useRef(!1);return WF(()=>{l.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=UP(u,JSON.parse(a),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:$l([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,a,i,t])}const wre=p.createContext(null);function bre(t){let e=p.useContext(Lo).outlet;return e&&p.createElement(wre.Provider,{value:t},e)}function HF(){let{matches:t}=p.useContext(Lo),e=t[t.length-1];return e?e.params:{}}function Ew(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=p.useContext(Da),{matches:s}=p.useContext(Lo),{pathname:i}=gs(),a=JSON.stringify($P(s,r.v7_relativeSplatPath));return p.useMemo(()=>UP(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function jre(t,e){return Nre(t,e)}function Nre(t,e,n,r){Hh()||mn(!1);let{navigator:s}=p.useContext(Da),{matches:i}=p.useContext(Lo),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=gs(),d;if(e){var h;let x=typeof e=="string"?Wh(e):e;c==="/"||(h=x.pathname)!=null&&h.startsWith(c)||mn(!1),d=x}else d=u;let f=d.pathname||"/",m=f;if(c!=="/"){let x=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=Qne(t,{pathname:m}),v=Are(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:$l([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:$l([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return e&&v?p.createElement(_w.Provider,{value:{location:rp({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Nl.Pop}},v):v}function Sre(){let t=Ire(),e=gre(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),n?p.createElement("pre",{style:s},n):null,null)}const _re=p.createElement(Sre,null);class Ere extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?p.createElement(Lo.Provider,{value:this.props.routeContext},p.createElement(GF.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Pre(t){let{routeContext:e,match:n,children:r}=t,s=p.useContext(Sw);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(Lo.Provider,{value:e},r)}function Are(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||mn(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=n,y=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||y){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let m,y=!1,v=null,x=null;n&&(m=l&&h.route.id?l[h.route.id]:void 0,v=h.route.errorElement||_re,c&&(u<0&&f===0?(y=!0,x=null):u===f&&(y=!0,x=h.route.hydrateFallbackElement||null)));let b=e.concat(a.slice(0,f+1)),w=()=>{let j;return m?j=v:y?j=x:h.route.Component?j=p.createElement(h.route.Component,null):h.route.element?j=h.route.element:j=d,p.createElement(Pre,{match:h,routeContext:{outlet:d,matches:b,isDataRoute:n!=null},children:j})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?p.createElement(Ere,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):w()},null)}var KF=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(KF||{}),Sx=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Sx||{});function Cre(t){let e=p.useContext(Sw);return e||mn(!1),e}function Tre(t){let e=p.useContext(zF);return e||mn(!1),e}function kre(t){let e=p.useContext(Lo);return e||mn(!1),e}function qF(t){let e=kre(),n=e.matches[e.matches.length-1];return n.route.id||mn(!1),n.route.id}function Ire(){var t;let e=p.useContext(GF),n=Tre(Sx.UseRouteError),r=qF(Sx.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Rre(){let{router:t}=Cre(KF.UseNavigateStable),e=qF(Sx.UseNavigateStable),n=p.useRef(!1);return WF(()=>{n.current=!0}),p.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,rp({fromRouteId:e},i)))},[t,e])}function Ore(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Pw(t){let{to:e,replace:n,state:r,relative:s}=t;Hh()||mn(!1);let{future:i,static:a}=p.useContext(Da),{matches:l}=p.useContext(Lo),{pathname:c}=gs(),u=Zt(),d=UP(e,$P(l,i.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return p.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:s}),[u,h,s,n,r]),null}function YF(t){return bre(t.context)}function pt(t){mn(!1)}function Dre(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Nl.Pop,navigator:i,static:a=!1,future:l}=t;Hh()&&mn(!1);let c=e.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:i,static:a,future:rp({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=Wh(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:y="default"}=r,v=p.useMemo(()=>{let x=dh(d,c);return x==null?null:{location:{pathname:x,search:h,hash:f,state:m,key:y},navigationType:s}},[c,d,h,f,m,y,s]);return v==null?null:p.createElement(Da.Provider,{value:u},p.createElement(_w.Provider,{children:n,value:v}))}function Mre(t){let{children:e,location:n}=t;return jre(RS(e),n)}new Promise(()=>{});function RS(t,e){e===void 0&&(e=[]);let n=[];return p.Children.forEach(t,(r,s)=>{if(!p.isValidElement(r))return;let i=[...e,s];if(r.type===p.Fragment){n.push.apply(n,RS(r.props.children,i));return}r.type!==pt&&mn(!1),!r.props.index||!r.props.children||mn(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=RS(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _x(){return _x=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_x.apply(this,arguments)}function QF(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Lre(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Fre(t,e){return t.button===0&&(!e||e==="_self")&&!Lre(t)}function OS(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function $re(t,e){let n=OS(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const Ure=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Bre=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Vre="6";try{window.__reactRouterVersion=Vre}catch{}const zre=p.createContext({isTransitioning:!1}),Gre="startTransition",IR=G0[Gre];function Wre(t){let{basename:e,children:n,future:r,window:s}=t,i=p.useRef();i.current==null&&(i.current=Kne({window:s,v5Compat:!0}));let a=i.current,[l,c]=p.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=p.useCallback(h=>{u&&IR?IR(()=>c(h)):c(h)},[c,u]);return p.useLayoutEffect(()=>a.listen(d),[a,d]),p.useEffect(()=>Ore(r),[r]),p.createElement(Dre,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const Hre=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Kre=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vt=p.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=e,f=QF(e,Ure),{basename:m}=p.useContext(Da),y,v=!1;if(typeof u=="string"&&Kre.test(u)&&(y=u,Hre))try{let j=new URL(window.location.href),N=u.startsWith("//")?new URL(j.protocol+u):new URL(u),T=dh(N.pathname,m);N.origin===j.origin&&T!=null?u=T+N.search+N.hash:v=!0}catch{}let x=yre(u,{relative:s}),b=Yre(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function w(j){r&&r(j),j.defaultPrevented||b(j)}return p.createElement("a",_x({},f,{href:y||x,onClick:v||i?r:w,ref:n,target:c}))}),DS=p.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:u,children:d}=e,h=QF(e,Bre),f=Ew(c,{relative:h.relative}),m=gs(),y=p.useContext(zF),{navigator:v,basename:x}=p.useContext(Da),b=y!=null&&Xre(f)&&u===!0,w=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,j=m.pathname,N=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;s||(j=j.toLowerCase(),N=N?N.toLowerCase():null,w=w.toLowerCase()),N&&x&&(N=dh(N,x)||N);const T=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let I=j===w||!a&&j.startsWith(w)&&j.charAt(T)==="/",P=N!=null&&(N===w||!a&&N.startsWith(w)&&N.charAt(w.length)==="/"),E={isActive:I,isPending:P,isTransitioning:b},A=I?r:void 0,S;typeof i=="function"?S=i(E):S=[i,I?"active":null,P?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let C=typeof l=="function"?l(E):l;return p.createElement(vt,_x({},h,{"aria-current":A,className:S,ref:n,style:C,to:c,viewTransition:u}),typeof d=="function"?d(E):d)});var MS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(MS||(MS={}));var RR;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(RR||(RR={}));function qre(t){let e=p.useContext(Sw);return e||mn(!1),e}function Yre(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:l}=e===void 0?{}:e,c=Zt(),u=gs(),d=Ew(t,{relative:a});return p.useCallback(h=>{if(Fre(h,n)){h.preventDefault();let f=r!==void 0?r:jx(u)===jx(d);c(t,{replace:f,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[u,c,d,r,s,n,t,i,a,l])}function Qre(t){let e=p.useRef(OS(t)),n=p.useRef(!1),r=gs(),s=p.useMemo(()=>$re(r.search,n.current?null:e.current),[r.search]),i=Zt(),a=p.useCallback((l,c)=>{const u=OS(typeof l=="function"?l(s):l);n.current=!0,i("?"+u,c)},[i,s]);return[s,a]}function Xre(t,e){e===void 0&&(e={});let n=p.useContext(zre);n==null&&mn(!1);let{basename:r}=qre(MS.useViewTransitionState),s=Ew(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=dh(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=dh(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Nx(s.pathname,a)!=null||Nx(s.pathname,i)!=null}const Jre=()=>{const t=gs();return p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),o.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},sp=Lp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary-hover shadow-primary hover:shadow-glow",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 hover:shadow-lg",outline:"border border-input glass-button hover:border-primary/50 hover:shadow-glow",secondary:"glass-button text-secondary-foreground hover:bg-secondary/60",ghost:"hover:bg-accent/10 hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline hover:text-primary-hover"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Y=p.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const a=r?XX:"button";return o.jsx(a,{className:ve(sp({variant:e,size:n,className:t})),ref:i,...s})});Y.displayName="Button";const q=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:ve("rounded-lg border-border/50 text-card-foreground overflow-x-hidden glass-card",t),...e}));q.displayName="Card";const me=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:ve("flex flex-col space-y-1.5 p-2 sm:p-4 md:p-6",t),...e}));me.displayName="CardHeader";const ge=p.forwardRef(({className:t,...e},n)=>o.jsx("h3",{ref:n,className:ve("text-2xl font-semibold leading-none tracking-tight",t),...e}));ge.displayName="CardTitle";const Je=p.forwardRef(({className:t,...e},n)=>o.jsx("p",{ref:n,className:ve("text-sm text-muted-foreground",t),...e}));Je.displayName="CardDescription";const Q=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:ve("p-2 sm:p-4 md:p-6 pt-0",t),...e}));Q.displayName="CardContent";const BP=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:ve("flex items-center p-2 sm:p-4 md:p-6 pt-0",t),...e}));BP.displayName="CardFooter";const Zre=()=>{const t=Zt(),[e,n]=p.useState(!1),[r,s]=p.useState(!1);p.useEffect(()=>{const d=()=>{s(window.scrollY>20)};return window.addEventListener("scroll",d),()=>window.removeEventListener("scroll",d)},[]);const i=[{name:"Real Estate Agents",icon:Ml},{name:"Automotive Repair",icon:jZ},{name:"Beauty Salons",icon:pZ},{name:"Construction Contractors",icon:ZJ},{name:"Fitness Centers",icon:QJ},{name:"Pest Control",icon:zJ},{name:"Home Services",icon:tZ},{name:"Restaurants & Cafes",icon:qJ},{name:"Law Firms",icon:mZ},{name:"Medical Practices",icon:vZ}],a=[{icon:$i,title:"AI SEO Audit",description:"Complete audits of your Google Business Profile to find problems, correct them, and find hidden ranking opportunities."},{icon:no,title:"Keyword Finder",description:"Discover the keywords your clients are searching for to bring you the most business at the right moment."},{icon:Ds,title:"Auto Posting",description:"Keep your profile current with keyword-rich content uploaded automatically to boost local exposure."},{icon:ba,title:"AI Review Generator",description:"Get meaningful responses to every customer review instantly, improving trust and customer relationships."},{icon:Ql,title:"AI Review Writer",description:"Professional and engaging reviews written by AI, saving you time while maintaining consistent brand voice."},{icon:ua,title:"Performance Analytics",description:"Clear reports and measurable results showing your Google Business Profile climbing higher through local SEO."}],l=[{number:"01",title:"Exclusive Partnership",description:"We only onboard three clients per specialty in each location, ensuring you enjoy full benefits without competing for attention."},{number:"02",title:"Data-Driven System",description:"Our AI-driven SEO uses the right keywords, reviews, and ranking signals to boost your search position. Every move is data-backed."},{number:"03",title:"Rankings You Can See",description:"Clear reports and measurable results ensuring your Google Business Profile climbs higher through AI-driven optimization."},{number:"04",title:"Strategy That Fits You",description:"Hire a growth strategist who knows your market and can design the playbook just for you. No one-size-fits-all approach."}],c=[{name:"Sarah Johnson",role:"Business Owner",content:"Google Ranker's AI made SEO effortless for us. It analyzed, optimized, and boosted our rankings faster than any agency ever did."},{name:"Michael Chen",role:"Restaurant Owner",content:"This AI tool simplified everything — from keyword research to site audits. Our organic growth skyrocketed within weeks."},{name:"Jennifer Martinez",role:"Salon Owner",content:"Google Ranker saves hours of manual SEO work. Smart, accurate, and genuinely powerful for scaling online visibility."}],u=[{question:"How does AI make Google Business Profile work better?",answer:"AI improves your profile by finding significant local trends, automatically optimizing keywords, and keeping your information up to date. This makes you show up higher when people search for businesses around them."},{question:"Why is AI important for small businesses to be seen?",answer:"AI makes things fairer by ensuring consistency, predicting what customers want, and giving smaller firms tools that are just as good as enterprise-level SEO tools for a lot less money."},{question:"In what ways does AI make it easier to manage reviews?",answer:"AI tools quickly write personalized comments to reviews, figure out the tone, and highlight useful information that can help you improve your online reputation and customer trust while saving hours every week."},{question:"What is special about targeting keywords with AI?",answer:"AI doesn't just choose common words. It looks at what people want, what your competitors are doing, and how people search in your area to find long-tail phrases that work better and help you show up more in local searches."}];return o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[o.jsxs("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${r?"bg-background/95 backdrop-blur-lg border-b border-border shadow-lg":"bg-transparent"}`,children:[o.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:o.jsxs("div",{className:"flex items-center justify-between h-20",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-primary blur-xl opacity-50"}),o.jsx(li,{className:"h-8 w-8 text-primary relative"})]}),o.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-primary via-primary-hover to-primary-glow bg-clip-text text-transparent",children:"Google Ranker"})]}),o.jsxs("div",{className:"hidden lg:flex items-center space-x-8",children:[o.jsx("a",{href:"#home",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Home"}),o.jsx("a",{href:"#features",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Features"}),o.jsx("a",{href:"#pricing",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Pricing"}),o.jsx("a",{href:"#faq",className:"text-muted-foreground hover:text-foreground transition-colors",children:"FAQ"}),o.jsx(Y,{variant:"ghost",onClick:()=>t("/login"),className:"text-foreground hover:text-primary",children:"Login"}),o.jsx(Y,{onClick:()=>t("/signup"),className:"bg-gradient-primary hover:shadow-primary transition-all duration-300",children:"Get 15 Days Free Trial"})]}),o.jsx("button",{className:"lg:hidden p-2 rounded-lg hover:bg-card transition-colors",onClick:()=>n(!e),children:e?o.jsx(Yi,{className:"h-6 w-6"}):o.jsx(fx,{className:"h-6 w-6"})})]})}),e&&o.jsx("div",{className:"lg:hidden bg-card/95 backdrop-blur-lg border-t border-border",children:o.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-4",children:[o.jsx("a",{href:"#home",className:"block py-2 text-muted-foreground hover:text-foreground transition-colors",children:"Home"}),o.jsx("a",{href:"#features",className:"block py-2 text-muted-foreground hover:text-foreground transition-colors",children:"Features"}),o.jsx("a",{href:"#pricing",className:"block py-2 text-muted-foreground hover:text-foreground transition-colors",children:"Pricing"}),o.jsx("a",{href:"#faq",className:"block py-2 text-muted-foreground hover:text-foreground transition-colors",children:"FAQ"}),o.jsx(Y,{variant:"outline",className:"w-full",onClick:()=>t("/login"),children:"Login"}),o.jsx(Y,{className:"w-full bg-gradient-primary",onClick:()=>t("/signup"),children:"Get 15 Days Free Trial"})]})})]}),o.jsxs("section",{id:"home",className:"relative pt-32 pb-20 lg:pt-40 lg:pb-32 overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[o.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-primary/20 rounded-full blur-3xl animate-pulse"}),o.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-primary-glow/20 rounded-full blur-3xl animate-pulse delay-1000"})]}),o.jsx("div",{className:"container mx-auto px-4 lg:px-8 relative z-10",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[o.jsxs("div",{className:"inline-flex items-center space-x-2 bg-card/50 backdrop-blur-sm border border-border rounded-full px-4 py-2 mb-8 animate-fade-in",children:[o.jsx(Ql,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"AI-Powered Local SEO"})]}),o.jsxs("h1",{className:"text-5xl lg:text-7xl font-bold mb-6 leading-tight animate-slide-up",children:["Dominate Local Search with"," ",o.jsx("span",{className:"bg-gradient-to-r from-primary via-primary-hover to-primary-glow bg-clip-text text-transparent",children:"AI"})]}),o.jsx("p",{className:"text-xl lg:text-2xl text-muted-foreground mb-12 animate-slide-up animation-delay-200",children:"Enhance your Google Business Profile with Google Ranker's AI tools. Grow easily with postings, managing reviews, and ranking higher."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center animate-slide-up animation-delay-400",children:[o.jsxs(Y,{size:"lg",className:"bg-gradient-primary hover:shadow-primary transition-all duration-300 text-lg px-8 py-6",onClick:()=>t("/signup"),children:["Get Your 15 Days Free Trial",o.jsx(cx,{className:"ml-2 h-5 w-5"})]}),o.jsx(Y,{size:"lg",variant:"outline",className:"text-lg px-8 py-6 border-2 hover:bg-card",onClick:()=>t("/login"),children:"Already Registered"})]}),o.jsxs("div",{className:"mt-12 flex items-center justify-center space-x-2 text-sm text-muted-foreground",children:[o.jsx(ci,{className:"h-4 w-4"}),o.jsxs("span",{children:["Join ",o.jsx("span",{className:"text-primary font-semibold",children:"536+"})," businesses already growing"]})]})]})})]}),o.jsx("section",{className:"py-20 bg-card/30",children:o.jsxs("div",{className:"container mx-auto px-4 lg:px-8",children:[o.jsxs("div",{className:"max-w-3xl mx-auto text-center mb-16",children:[o.jsxs("h2",{className:"text-4xl lg:text-5xl font-bold mb-6",children:["The Blueprint for"," ",o.jsx("span",{className:"bg-gradient-to-r from-primary to-primary-glow bg-clip-text text-transparent",children:"Local Market Domination"})]}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"It's not enough to merely be online. Google Ranker helps your business become the go-to choice in your city. Through our exclusive model, we partner with only 3 firms per niche per location."})]}),o.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:l.map((d,h)=>o.jsx(q,{className:"bg-card/50 backdrop-blur-sm border-border hover:border-primary/50 transition-all duration-300 group",children:o.jsx(Q,{className:"p-8",children:o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"text-4xl font-bold text-primary/30 group-hover:text-primary transition-colors",children:d.number}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold mb-3",children:d.title}),o.jsx("p",{className:"text-muted-foreground",children:d.description})]})]})})},h))})]})}),o.jsx("section",{className:"py-20",children:o.jsxs("div",{className:"container mx-auto px-4 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-4",children:"Built for Every Industry"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Trusted by professionals across diverse sectors"})]}),o.jsx("div",{className:"relative overflow-hidden",children:o.jsx("div",{className:"flex animate-scroll",children:[...i,...i].map((d,h)=>o.jsxs("div",{className:"flex-shrink-0 mx-4 flex items-center space-x-3 bg-card/50 backdrop-blur-sm border border-border rounded-full px-6 py-3 hover:border-primary/50 transition-colors",children:[o.jsx(d.icon,{className:"h-5 w-5 text-primary"}),o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:d.name})]},h))})})]})}),o.jsx("section",{id:"features",className:"py-20 bg-card/30",children:o.jsxs("div",{className:"container mx-auto px-4 lg:px-8",children:[o.jsxs("div",{className:"max-w-3xl mx-auto text-center mb-16",children:[o.jsxs("div",{className:"inline-flex items-center space-x-2 bg-primary/10 border border-primary/30 rounded-full px-4 py-2 mb-6",children:[o.jsx(hw,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm text-primary font-medium",children:"Powerful Features"})]}),o.jsx("h2",{className:"text-4xl lg:text-5xl font-bold mb-6",children:"All-in-One GMB Center"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Control multiple business profiles and locations from one simple dashboard. See everything about your Google Business presence at a glance."})]}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.map((d,h)=>o.jsx(q,{className:"bg-card/50 backdrop-blur-sm border-border hover:border-primary/50 transition-all duration-300 group hover:shadow-primary/20 hover:shadow-xl",children:o.jsxs(Q,{className:"p-8",children:[o.jsxs("div",{className:"relative inline-block mb-4",children:[o.jsx("div",{className:"absolute inset-0 bg-primary/20 blur-xl rounded-full group-hover:bg-primary/40 transition-all"}),o.jsx(d.icon,{className:"h-12 w-12 text-primary relative"})]}),o.jsx("h3",{className:"text-xl font-bold mb-3",children:d.title}),o.jsx("p",{className:"text-muted-foreground",children:d.description})]})},h))})]})}),o.jsx("section",{id:"pricing",className:"py-20",children:o.jsxs("div",{className:"container mx-auto px-4 lg:px-8",children:[o.jsxs("div",{className:"max-w-3xl mx-auto text-center mb-16",children:[o.jsxs("h2",{className:"text-4xl lg:text-5xl font-bold mb-6",children:["Your First 15 Days are"," ",o.jsx("span",{className:"bg-gradient-to-r from-primary to-primary-glow bg-clip-text text-transparent",children:"FREE"})]}),o.jsx("p",{className:"text-xl text-muted-foreground",children:"Choose the plan that works best for you"})]}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:[o.jsx(q,{className:"bg-card/50 backdrop-blur-sm border-border hover:border-primary/50 transition-all duration-300",children:o.jsxs(Q,{className:"p-8",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-2xl font-bold mb-2",children:"1 Month Plan"}),o.jsx("div",{className:"flex items-baseline",children:o.jsx("span",{className:"text-4xl font-bold",children:"₹1099"})})]}),o.jsx("div",{className:"space-y-3 mb-8",children:["Auto-Post Scheduling","Review Management & Auto-Reply","Performance Analytics","Advanced Analytics","API Access","Priority Support","Unlimited Google Business Profiles"].map((d,h)=>o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Ll,{className:"h-4 w-4 text-primary flex-shrink-0"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:d})]},h))}),o.jsx(Y,{className:"w-full bg-gradient-primary hover:shadow-primary transition-all duration-300",onClick:()=>t("/signup"),children:"Get Started"})]})}),o.jsx(q,{className:"bg-card/50 backdrop-blur-sm border-border hover:border-primary/50 transition-all duration-300",children:o.jsxs(Q,{className:"p-8",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-2xl font-bold mb-2",children:"6 Months Plan"}),o.jsx("div",{className:"flex items-baseline",children:o.jsx("span",{className:"text-4xl font-bold",children:"₹5999"})}),o.jsx("p",{className:"text-sm text-primary mt-2",children:"Save ₹600 compared to monthly"})]}),o.jsx("div",{className:"space-y-3 mb-8",children:["Auto-Post Scheduling","Review Management & Auto-Reply","Performance Analytics","Advanced Analytics","API Access","Priority Support","Unlimited Google Business Profiles"].map((d,h)=>o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Ll,{className:"h-4 w-4 text-primary flex-shrink-0"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:d})]},h))}),o.jsx(Y,{className:"w-full bg-gradient-primary hover:shadow-primary transition-all duration-300",onClick:()=>t("/signup"),children:"Get Started"})]})}),o.jsxs(q,{className:"bg-gradient-primary border-0 relative overflow-hidden group",children:[o.jsx("div",{className:"absolute top-4 right-4 bg-green-500 text-white text-xs font-bold px-3 py-1 rounded-full z-20",children:"Best Value"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/50 to-primary-glow/50 blur-2xl opacity-50 group-hover:opacity-70 transition-opacity"}),o.jsxs(Q,{className:"p-8 relative z-10",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-2xl font-bold mb-2",children:"1 Year Plan"}),o.jsx("div",{className:"flex items-baseline",children:o.jsx("span",{className:"text-4xl font-bold",children:"₹9999"})}),o.jsx("p",{className:"text-sm mt-2 opacity-90",children:"Best Value - Save ₹3189 per year"})]}),o.jsx("div",{className:"space-y-3 mb-8",children:["Auto-Post Scheduling","Review Management & Auto-Reply","Performance Analytics","Advanced Analytics","API Access","Priority Support","Unlimited Google Business Profiles"].map((d,h)=>o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Ll,{className:"h-4 w-4 flex-shrink-0"}),o.jsx("span",{className:"text-sm",children:d})]},h))}),o.jsx(Y,{className:"w-full bg-white text-primary hover:bg-white/90 transition-all duration-300",onClick:()=>t("/signup"),children:"Get Started"})]})]})]})]})}),o.jsx("section",{className:"py-20 bg-card/30",children:o.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx(VJ,{className:"h-16 w-16 text-primary mx-auto mb-6"}),o.jsx("h2",{className:"text-4xl lg:text-5xl font-bold mb-6",children:"The Google Ranker Story"})]}),o.jsx(q,{className:"bg-card/50 backdrop-blur-sm border-border",children:o.jsxs(Q,{className:"p-8 lg:p-12",children:[o.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed mb-6",children:"Google Ranker was built on one realization: small businesses are the backbone of local communities, yet many struggle to gain online visibility. Even with excellent services, many local businesses stay invisible on Google."}),o.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed mb-6",children:"Our goal was clear: give these companies solid, easy-to-use tools. We are experts in Local SEO, and we utilize AI to help businesses expand, keep their good names, and turn internet searches into real customers."}),o.jsx("p",{className:"text-lg text-foreground font-medium",children:"With our intelligent local SEO and AI reputation tools, clients don't just stay visible — they grow, rank higher, and convert better in their local markets."})]})})]})})}),o.jsx("section",{className:"py-20",children:o.jsxs("div",{className:"container mx-auto px-4 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl lg:text-5xl font-bold mb-6",children:"Join Our Growing Community"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Hear what business owners say about Google Ranker"})]}),o.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:c.map((d,h)=>o.jsx(q,{className:"bg-card/50 backdrop-blur-sm border-border hover:border-primary/50 transition-all duration-300",children:o.jsxs(Q,{className:"p-8",children:[o.jsx("div",{className:"flex mb-4",children:[...Array(5)].map((f,m)=>o.jsx(ai,{className:"h-5 w-5 fill-primary text-primary"},m))}),o.jsxs("p",{className:"text-muted-foreground mb-6 italic",children:['"',d.content,'"']}),o.jsxs("div",{children:[o.jsx("div",{className:"font-bold",children:d.name}),o.jsx("div",{className:"text-sm text-muted-foreground",children:d.role})]})]})},h))})]})}),o.jsx("section",{id:"faq",className:"py-20 bg-card/30",children:o.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:o.jsxs("div",{className:"max-w-3xl mx-auto",children:[o.jsx("div",{className:"text-center mb-16",children:o.jsx("h2",{className:"text-4xl lg:text-5xl font-bold mb-6",children:"Frequently Asked Questions"})}),o.jsx("div",{className:"space-y-6",children:u.map((d,h)=>o.jsx(q,{className:"bg-card/50 backdrop-blur-sm border-border hover:border-primary/50 transition-all duration-300",children:o.jsxs(Q,{className:"p-8",children:[o.jsx("h3",{className:"text-xl font-bold mb-4",children:d.question}),o.jsx("p",{className:"text-muted-foreground leading-relaxed",children:d.answer})]})},h))})]})})}),o.jsxs("section",{className:"py-20 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-primary opacity-10"}),o.jsx("div",{className:"container mx-auto px-4 lg:px-8 relative z-10",children:o.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[o.jsx("h2",{className:"text-4xl lg:text-5xl font-bold mb-6",children:"Start Dominating Local Search Today"}),o.jsx("p",{className:"text-xl text-muted-foreground mb-12",children:"Let our AI automate your posts and manage reviews, turning your GMB profile into your #1 source for new customers."}),o.jsxs(Y,{size:"lg",className:"bg-gradient-primary hover:shadow-primary transition-all duration-300 text-lg px-12 py-6",onClick:()=>t("/signup"),children:["Get Your 15 Days Free Trial",o.jsx(cx,{className:"ml-2 h-6 w-6"})]})]})})]}),o.jsx("footer",{className:"bg-card/50 backdrop-blur-sm border-t border-border py-12",children:o.jsxs("div",{className:"container mx-auto px-4 lg:px-8",children:[o.jsxs("div",{className:"grid md:grid-cols-4 gap-8 mb-12",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx(li,{className:"h-6 w-6 text-primary"}),o.jsx("span",{className:"text-xl font-bold",children:"Google Ranker"})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Built By AI experts in INDIA, Made for U.S.A Local Businesses"})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold mb-4",children:"Quick Links"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("a",{href:"#home",className:"block text-sm text-muted-foreground hover:text-primary transition-colors",children:"Home"}),o.jsx("a",{href:"#features",className:"block text-sm text-muted-foreground hover:text-primary transition-colors",children:"Features"}),o.jsx("a",{href:"#pricing",className:"block text-sm text-muted-foreground hover:text-primary transition-colors",children:"Pricing"}),o.jsx("a",{href:"#faq",className:"block text-sm text-muted-foreground hover:text-primary transition-colors",children:"FAQ"})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold mb-4",children:"Legal"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(vt,{to:"/terms",className:"block text-sm text-muted-foreground hover:text-primary transition-colors",children:"Terms & Conditions"}),o.jsx(vt,{to:"/privacy",className:"block text-sm text-muted-foreground hover:text-primary transition-colors",children:"Privacy Policy"}),o.jsx(vt,{to:"/refund",className:"block text-sm text-muted-foreground hover:text-primary transition-colors",children:"Refund Policy"})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold mb-4",children:"Contact"}),o.jsx(vt,{to:"/contact",className:"block text-sm text-muted-foreground hover:text-primary transition-colors mb-4",children:"Contact Us"})]})]}),o.jsx("div",{className:"border-t border-border pt-8 text-center",children:o.jsx("p",{className:"text-sm text-muted-foreground",children:"© 2024 Google Ranker. All rights reserved."})})]})})]})},ese=()=>o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[o.jsx("nav",{className:"bg-card/50 backdrop-blur-lg border-b border-border",children:o.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:o.jsxs("div",{className:"flex items-center justify-between h-20",children:[o.jsxs(vt,{to:"/",className:"flex items-center space-x-2",children:[o.jsx(li,{className:"h-8 w-8 text-primary"}),o.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-primary via-primary-hover to-primary-glow bg-clip-text text-transparent",children:"Google Ranker"})]}),o.jsx(vt,{to:"/",children:o.jsxs(Y,{variant:"ghost",children:[o.jsx(iu,{className:"mr-2 h-4 w-4"}),"Back to Home"]})})]})})}),o.jsx("div",{className:"container mx-auto px-4 lg:px-8 py-20",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsx("h1",{className:"text-4xl lg:text-5xl font-bold mb-6",children:"Terms and Conditions"}),o.jsxs("p",{className:"text-muted-foreground mb-12",children:["Last updated: ",new Date().toLocaleDateString()]}),o.jsx(q,{className:"bg-card/50 backdrop-blur-sm border-border mb-8",children:o.jsxs(Q,{className:"p-8 space-y-6",children:[o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"1. Acceptance of Terms"}),o.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"By accessing and using Google Ranker's services, you accept and agree to be bound by the terms and provision of this agreement. If you do not agree to abide by the above, please do not use this service."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"2. Service Description"}),o.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"Google Ranker provides AI-powered local SEO and Google Business Profile management services. Our services include:"}),o.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2 ml-4",children:[o.jsx("li",{children:"Automated posting to Google Business Profile"}),o.jsx("li",{children:"AI-powered review management and response generation"}),o.jsx("li",{children:"SEO audit and keyword research tools"}),o.jsx("li",{children:"Performance analytics and reporting"}),o.jsx("li",{children:"Multi-profile management dashboard"})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"3. Free Trial"}),o.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We offer a 15-day free trial period for new users. During this period, you have full access to all features. After the trial period expires, you must subscribe to continue using our services. If you do not wish to continue, you can cancel at any time before the trial ends."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"4. Subscription and Billing"}),o.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"Our services are billed annually at $99 per Google Business Profile. By subscribing to our service, you agree to:"}),o.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2 ml-4",children:[o.jsx("li",{children:"Provide accurate billing information"}),o.jsx("li",{children:"Pay all applicable fees and taxes"}),o.jsx("li",{children:"Automatic renewal of your subscription unless cancelled"}),o.jsx("li",{children:"Price changes with 30 days notice"})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"5. User Responsibilities"}),o.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"You agree to:"}),o.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2 ml-4",children:[o.jsx("li",{children:"Provide accurate and complete information"}),o.jsx("li",{children:"Maintain the security of your account credentials"}),o.jsx("li",{children:"Not share your account with others"}),o.jsx("li",{children:"Use the service in compliance with all applicable laws"}),o.jsx("li",{children:"Not abuse or misuse our services"})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"6. Intellectual Property"}),o.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"All content, features, and functionality of Google Ranker are owned by us and are protected by international copyright, trademark, and other intellectual property laws. You may not copy, modify, distribute, or reverse engineer any part of our services."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"7. Limitation of Liability"}),o.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Google Ranker shall not be liable for any indirect, incidental, special, consequential, or punitive damages resulting from your use or inability to use the service. We do not guarantee specific ranking improvements or business outcomes."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"8. Termination"}),o.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We reserve the right to terminate or suspend your account at any time for violating these terms. You may cancel your subscription at any time through your account settings."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"9. Changes to Terms"}),o.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We reserve the right to modify these terms at any time. We will notify users of significant changes via email or through the platform. Continued use of the service after changes constitutes acceptance of the new terms."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"10. Contact Information"}),o.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"For questions about these Terms and Conditions, please contact us through our website's contact form."})]})]})}),o.jsx("div",{className:"text-center",children:o.jsx(vt,{to:"/",children:o.jsx(Y,{size:"lg",className:"bg-gradient-primary",children:"Back to Home"})})})]})})]}),tse=()=>o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[o.jsx("nav",{className:"bg-card/50 backdrop-blur-lg border-b border-border",children:o.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:o.jsxs("div",{className:"flex items-center justify-between h-20",children:[o.jsxs(vt,{to:"/",className:"flex items-center space-x-2",children:[o.jsx(li,{className:"h-8 w-8 text-primary"}),o.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-primary via-primary-hover to-primary-glow bg-clip-text text-transparent",children:"Google Ranker"})]}),o.jsx(vt,{to:"/",children:o.jsxs(Y,{variant:"ghost",children:[o.jsx(iu,{className:"mr-2 h-4 w-4"}),"Back to Home"]})})]})})}),o.jsx("div",{className:"container mx-auto px-4 lg:px-8 py-20",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsx("div",{className:"flex items-center justify-center mb-6",children:o.jsx(Ui,{className:"h-16 w-16 text-primary"})}),o.jsx("h1",{className:"text-4xl lg:text-5xl font-bold mb-6 text-center",children:"Privacy Policy"}),o.jsxs("p",{className:"text-muted-foreground mb-12 text-center",children:["Last updated: ",new Date().toLocaleDateString()]}),o.jsx(q,{className:"bg-card/50 backdrop-blur-sm border-border mb-8",children:o.jsxs(Q,{className:"p-8 space-y-6",children:[o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"1. Information We Collect"}),o.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We collect information that you provide directly to us, including:"}),o.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2 ml-4",children:[o.jsx("li",{children:"Account information (name, email, password)"}),o.jsx("li",{children:"Google Business Profile access tokens"}),o.jsx("li",{children:"Business information and profile data"}),o.jsx("li",{children:"Payment and billing information"}),o.jsx("li",{children:"Usage data and analytics"})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"2. How We Use Your Information"}),o.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We use the information we collect to:"}),o.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2 ml-4",children:[o.jsx("li",{children:"Provide, maintain, and improve our services"}),o.jsx("li",{children:"Process your transactions and send related information"}),o.jsx("li",{children:"Send you technical notices and support messages"}),o.jsx("li",{children:"Respond to your comments and questions"}),o.jsx("li",{children:"Monitor and analyze trends, usage, and activities"}),o.jsx("li",{children:"Detect, prevent, and address technical issues"})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"3. Google OAuth and Data Access"}),o.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"When you connect your Google Business Profile, we access only the data necessary to provide our services:"}),o.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2 ml-4",children:[o.jsx("li",{children:"Your Google Business Profile information"}),o.jsx("li",{children:"Posts, reviews, and photos from your profile"}),o.jsx("li",{children:"Insights and analytics data"}),o.jsx("li",{children:"Location information"})]}),o.jsx("p",{className:"text-muted-foreground leading-relaxed mt-4",children:"We use this data solely to provide automated posting, review management, and analytics features. You can revoke our access at any time through your Google account settings."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"4. Data Security"}),o.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We implement appropriate technical and organizational measures to protect your personal information. This includes encryption of data in transit and at rest, secure token storage, and regular security audits. However, no method of transmission over the Internet is 100% secure."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"5. Data Retention"}),o.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We retain your information for as long as your account is active or as needed to provide you services. If you wish to delete your account, please contact us, and we will delete your information within 30 days, except where we are required to retain it for legal purposes."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"6. Information Sharing"}),o.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We do not sell your personal information. We may share your information only in the following circumstances:"}),o.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2 ml-4",children:[o.jsx("li",{children:"With your consent"}),o.jsx("li",{children:"With service providers who assist in our operations"}),o.jsx("li",{children:"To comply with legal obligations"}),o.jsx("li",{children:"To protect our rights and prevent fraud"})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"7. Third-Party Services"}),o.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"Our service integrates with third-party services including:"}),o.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2 ml-4",children:[o.jsx("li",{children:"Google Business Profile API"}),o.jsx("li",{children:"Firebase Authentication"}),o.jsx("li",{children:"Razorpay for payment processing"}),o.jsx("li",{children:"Azure OpenAI for AI features"})]}),o.jsx("p",{className:"text-muted-foreground leading-relaxed mt-4",children:"These services have their own privacy policies and terms of service."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"8. Cookies and Tracking"}),o.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We use cookies and similar tracking technologies to track activity on our service and hold certain information. You can instruct your browser to refuse all cookies or to indicate when a cookie is being sent."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"9. Your Rights"}),o.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"You have the right to:"}),o.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2 ml-4",children:[o.jsx("li",{children:"Access your personal information"}),o.jsx("li",{children:"Correct inaccurate information"}),o.jsx("li",{children:"Request deletion of your information"}),o.jsx("li",{children:"Object to processing of your information"}),o.jsx("li",{children:"Export your data"})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"10. Children's Privacy"}),o.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Our service is not intended for children under 18 years of age. We do not knowingly collect personal information from children. If you are a parent or guardian and believe your child has provided us with personal information, please contact us."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"11. Changes to This Policy"}),o.jsx("p",{className:"text-muted-foreground leading-relaxed",children:'We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "Last updated" date.'})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"12. Contact Us"}),o.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"If you have any questions about this Privacy Policy, please contact us through our website's contact form."})]})]})}),o.jsx("div",{className:"text-center",children:o.jsx(vt,{to:"/",children:o.jsx(Y,{size:"lg",className:"bg-gradient-primary",children:"Back to Home"})})})]})})]}),nse=()=>o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[o.jsx("nav",{className:"bg-card/50 backdrop-blur-lg border-b border-border",children:o.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:o.jsxs("div",{className:"flex items-center justify-between h-20",children:[o.jsxs(vt,{to:"/",className:"flex items-center space-x-2",children:[o.jsx(li,{className:"h-8 w-8 text-primary"}),o.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-primary via-primary-hover to-primary-glow bg-clip-text text-transparent",children:"Google Ranker"})]}),o.jsx(vt,{to:"/",children:o.jsxs(Y,{variant:"ghost",children:[o.jsx(iu,{className:"mr-2 h-4 w-4"}),"Back to Home"]})})]})})}),o.jsx("div",{className:"container mx-auto px-4 lg:px-8 py-20",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsx("div",{className:"flex items-center justify-center mb-6",children:o.jsx(dZ,{className:"h-16 w-16 text-primary"})}),o.jsx("h1",{className:"text-4xl lg:text-5xl font-bold mb-6 text-center",children:"Cancellation & Refund Policy"}),o.jsxs("p",{className:"text-muted-foreground mb-12 text-center",children:["Last updated: ",new Date().toLocaleDateString()]}),o.jsx(q,{className:"bg-card/50 backdrop-blur-sm border-border mb-8",children:o.jsxs(Q,{className:"p-8 space-y-6",children:[o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"1. Free Trial Period"}),o.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"Google Ranker offers a 15-day free trial for new users. During this period:"}),o.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2 ml-4",children:[o.jsx("li",{children:"You have full access to all features without any charges"}),o.jsx("li",{children:"You can cancel at any time before the trial ends"}),o.jsx("li",{children:"No payment is required during the trial period"}),o.jsx("li",{children:"You will be notified before your trial expires"})]}),o.jsx("p",{className:"text-muted-foreground leading-relaxed mt-4",children:"If you do not wish to continue after the trial, simply cancel your account before the 15-day period ends to avoid any charges."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"2. Subscription Cancellation"}),o.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"You can cancel your subscription at any time by:"}),o.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2 ml-4",children:[o.jsx("li",{children:"Going to your account settings"}),o.jsx("li",{children:'Selecting "Billing" from the menu'}),o.jsx("li",{children:'Clicking "Cancel Subscription"'}),o.jsx("li",{children:"Following the confirmation prompts"})]}),o.jsx("p",{className:"text-muted-foreground leading-relaxed mt-4",children:"Upon cancellation, you will continue to have access to the service until the end of your current billing period. Your subscription will not renew automatically."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"3. Refund Policy"}),o.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We offer a 30-day money-back guarantee for annual subscriptions. To be eligible for a refund:"}),o.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2 ml-4",children:[o.jsx("li",{children:"You must request a refund within 30 days of your initial payment"}),o.jsx("li",{children:"The refund request must be submitted through our contact form or support email"}),o.jsx("li",{children:"You must provide a valid reason for the refund request"}),o.jsx("li",{children:"The service must not have been abused or misused"})]}),o.jsx("p",{className:"text-muted-foreground leading-relaxed mt-4",children:"Refunds are typically processed within 5-10 business days and will be credited to the original payment method."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"4. Non-Refundable Circumstances"}),o.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"Refunds will not be provided in the following cases:"}),o.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2 ml-4",children:[o.jsx("li",{children:"After 30 days from the initial payment date"}),o.jsx("li",{children:"For partial subscription periods"}),o.jsx("li",{children:"If your account was terminated for violating our Terms of Service"}),o.jsx("li",{children:"For additional profiles added to your subscription"}),o.jsx("li",{children:"If you've already received a refund in the past"})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"5. Payment Failures and Retries"}),o.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"If your payment fails at renewal time, we will attempt to charge your payment method up to 3 times over a 7-day period. If all attempts fail, your subscription will be automatically cancelled, and you will lose access to the service. You will receive email notifications for failed payment attempts."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"6. Partial Refunds"}),o.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We do not offer partial refunds for unused portions of the subscription period. If you cancel your subscription, you will retain access until the end of your current billing cycle, but no prorated refund will be issued."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"7. Service Disruptions"}),o.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"In case of extended service disruptions (more than 48 hours), we may offer prorated refunds or extend your subscription period at our discretion. This does not apply to planned maintenance or issues with third-party services (like Google APIs)."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"8. Chargebacks"}),o.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"If you file a chargeback or payment dispute with your credit card company or payment provider, your account will be immediately suspended. We encourage you to contact us first to resolve any billing issues before initiating a chargeback."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"9. Changes to This Policy"}),o.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We reserve the right to modify this Refund and Cancellation Policy at any time. Changes will be effective immediately upon posting to our website. Your continued use of the service after changes constitutes acceptance of the new policy."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"10. Contact for Refunds"}),o.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"To request a refund or for any questions about this policy, please contact us through our website's contact form or email. Include your account email, subscription details, and reason for the refund request."})]})]})}),o.jsx("div",{className:"text-center",children:o.jsx(vt,{to:"/",children:o.jsx(Y,{size:"lg",className:"bg-gradient-primary",children:"Back to Home"})})})]})})]}),tt=p.forwardRef(({className:t,type:e,...n},r)=>o.jsx("input",{type:e,className:ve("flex h-10 w-full max-w-full rounded-md glass-input px-2 sm:px-3 py-2 text-sm sm:text-base file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground/60 focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));tt.displayName="Input";const Kh=p.forwardRef(({className:t,...e},n)=>o.jsx("textarea",{className:ve("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Kh.displayName="Textarea";var rse="Label",XF=p.forwardRef((t,e)=>o.jsx(De.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));XF.displayName=rse;var JF=XF;const sse=Lp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Oe=p.forwardRef(({className:t,...e},n)=>o.jsx(JF,{ref:n,className:ve(sse(),t),...e}));Oe.displayName=JF.displayName;const ise=()=>{const[t,e]=p.useState({name:"",email:"",subject:"",message:""}),[n,r]=p.useState(!1),[s,i]=p.useState(!1),a=async c=>{c.preventDefault(),r(!0),await new Promise(u=>setTimeout(u,1500)),r(!1),i(!0),setTimeout(()=>{e({name:"",email:"",subject:"",message:""}),i(!1)},3e3)},l=c=>{e(u=>({...u,[c.target.name]:c.target.value}))};return o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[o.jsx("nav",{className:"bg-card/50 backdrop-blur-lg border-b border-border",children:o.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:o.jsxs("div",{className:"flex items-center justify-between h-20",children:[o.jsxs(vt,{to:"/",className:"flex items-center space-x-2",children:[o.jsx(li,{className:"h-8 w-8 text-primary"}),o.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-primary via-primary-hover to-primary-glow bg-clip-text text-transparent",children:"Google Ranker"})]}),o.jsx(vt,{to:"/",children:o.jsxs(Y,{variant:"ghost",children:[o.jsx(iu,{className:"mr-2 h-4 w-4"}),"Back to Home"]})})]})})}),o.jsx("div",{className:"container mx-auto px-4 lg:px-8 py-20",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsx("div",{className:"flex items-center justify-center mb-6",children:o.jsx(ba,{className:"h-16 w-16 text-primary"})}),o.jsx("h1",{className:"text-4xl lg:text-5xl font-bold mb-6 text-center",children:"Contact Us"}),o.jsx("p",{className:"text-xl text-muted-foreground mb-12 text-center",children:"Have a question? We'd love to hear from you. Send us a message and we'll respond as soon as possible."}),o.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 mb-12",children:[o.jsx(q,{className:"bg-card/50 backdrop-blur-sm border-border",children:o.jsxs(Q,{className:"p-8",children:[o.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Get in Touch"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-primary/20 blur-xl rounded-full"}),o.jsx(wa,{className:"h-6 w-6 text-primary relative"})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-1",children:"Email Support"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Our support team typically responds within 24 hours during business days."})]})]}),o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-primary/20 blur-xl rounded-full"}),o.jsx(ba,{className:"h-6 w-6 text-primary relative"})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-1",children:"Live Chat"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Available Monday-Friday, 9 AM - 6 PM EST for urgent inquiries."})]})]})]}),o.jsxs("div",{className:"mt-8 p-6 bg-primary/10 rounded-lg border border-primary/30",children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Business Hours"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Monday - Friday: 9:00 AM - 6:00 PM EST"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Saturday - Sunday: Closed"})]})]})}),o.jsx(q,{className:"bg-card/50 backdrop-blur-sm border-border",children:o.jsxs(Q,{className:"p-8",children:[o.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Send a Message"}),s?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(KJ,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:"Message Sent!"}),o.jsx("p",{className:"text-muted-foreground",children:"Thank you for contacting us. We'll get back to you soon."})]}):o.jsxs("form",{onSubmit:a,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(Oe,{htmlFor:"name",children:"Name *"}),o.jsx(tt,{id:"name",name:"name",value:t.name,onChange:l,placeholder:"Your name",required:!0,className:"mt-2 bg-input border-border"})]}),o.jsxs("div",{children:[o.jsx(Oe,{htmlFor:"email",children:"Email *"}),o.jsx(tt,{id:"email",name:"email",type:"email",value:t.email,onChange:l,placeholder:"your.email@example.com",required:!0,className:"mt-2 bg-input border-border"})]}),o.jsxs("div",{children:[o.jsx(Oe,{htmlFor:"subject",children:"Subject *"}),o.jsx(tt,{id:"subject",name:"subject",value:t.subject,onChange:l,placeholder:"How can we help?",required:!0,className:"mt-2 bg-input border-border"})]}),o.jsxs("div",{children:[o.jsx(Oe,{htmlFor:"message",children:"Message *"}),o.jsx(Kh,{id:"message",name:"message",value:t.message,onChange:l,placeholder:"Tell us more about your inquiry...",rows:6,required:!0,className:"mt-2 bg-input border-border resize-none"})]}),o.jsx(Y,{type:"submit",size:"lg",className:"w-full bg-gradient-primary",disabled:n,children:n?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Sending..."]}):o.jsxs(o.Fragment,{children:["Send Message",o.jsx(mx,{className:"ml-2 h-4 w-4"})]})})]})]})})]}),o.jsx(q,{className:"bg-card/50 backdrop-blur-sm border-border",children:o.jsxs(Q,{className:"p-8",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Before You Reach Out"}),o.jsx("p",{className:"text-muted-foreground text-center mb-6",children:"Check out these common questions that might help you faster:"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs(vt,{to:"/#faq",className:"p-4 bg-background/50 rounded-lg border border-border hover:border-primary/50 transition-colors",children:[o.jsx("h3",{className:"font-semibold mb-1",children:"How does the free trial work?"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Learn about our 15-day trial period"})]}),o.jsxs(vt,{to:"/#pricing",className:"p-4 bg-background/50 rounded-lg border border-border hover:border-primary/50 transition-colors",children:[o.jsx("h3",{className:"font-semibold mb-1",children:"What's included in the plan?"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"View all features and pricing"})]}),o.jsxs(vt,{to:"/refund",className:"p-4 bg-background/50 rounded-lg border border-border hover:border-primary/50 transition-colors",children:[o.jsx("h3",{className:"font-semibold mb-1",children:"Refund & Cancellation"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Our refund policy explained"})]}),o.jsxs(vt,{to:"/#features",className:"p-4 bg-background/50 rounded-lg border border-border hover:border-primary/50 transition-colors",children:[o.jsx("h3",{className:"font-semibold mb-1",children:"Technical Support"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Getting started with features"})]})]})]})})]})})]})};var ose="Separator",OR="horizontal",ase=["horizontal","vertical"],ZF=p.forwardRef((t,e)=>{const{decorative:n,orientation:r=OR,...s}=t,i=lse(r)?r:OR,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return o.jsx(De.div,{"data-orientation":i,...l,...s,ref:e})});ZF.displayName=ose;function lse(t){return ase.includes(t)}var e$=ZF;const Sl=p.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>o.jsx(e$,{ref:s,decorative:n,orientation:e,className:ve("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Sl.displayName=e$.displayName;const cse=()=>{};var DR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t$=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},use=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},n$={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,l=a?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,d=i>>2,h=(i&3)<<4|l>>4;let f=(l&15)<<2|u>>6,m=u&63;c||(m=64,a||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(t$(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):use(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||u==null||h==null)throw new dse;const f=i<<2|l>>4;if(r.push(f),u!==64){const m=l<<4&240|u>>2;if(r.push(m),h!==64){const y=u<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class dse extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hse=function(t){const e=t$(t);return n$.encodeByteArray(e,!0)},Ex=function(t){return hse(t).replace(/\./g,"")},r$=function(t){try{return n$.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fse(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mse=()=>fse().__FIREBASE_DEFAULTS__,pse=()=>{if(typeof process>"u"||typeof DR>"u")return;const t=DR.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},gse=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&r$(t[1]);return e&&JSON.parse(e)},Aw=()=>{try{return cse()||mse()||pse()||gse()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},s$=t=>{var e,n;return(n=(e=Aw())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},i$=t=>{const e=s$(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},o$=()=>{var t;return(t=Aw())==null?void 0:t.config},a$=t=>{var e;return(e=Aw())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vse{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function VP(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ex(JSON.stringify(n)),Ex(JSON.stringify(a)),""].join(".")}const Nm={};function yse(){const t={prod:[],emulator:[]};for(const e of Object.keys(Nm))Nm[e]?t.emulator.push(e):t.prod.push(e);return t}function xse(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let MR=!1;function zP(t,e){if(typeof window>"u"||typeof document>"u"||!fc(window.location.host)||Nm[t]===e||Nm[t]||MR)return;Nm[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",i=yse().prod.length>0;function a(){const f=document.getElementById(r);f&&f.remove()}function l(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,m){f.setAttribute("width","24"),f.setAttribute("id",m),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{MR=!0,a()},f}function d(f,m){f.setAttribute("id",m),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=xse(r),m=n("text"),y=document.getElementById(m)||document.createElement("span"),v=n("learnmore"),x=document.getElementById(v)||document.createElement("a"),b=n("preprendIcon"),w=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const j=f.element;l(j),d(x,v);const N=u();c(w,b),j.append(w,y,x,N),document.body.appendChild(j)}i?(y.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wse(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Or())}function bse(){var e;const t=(e=Aw())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jse(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Nse(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Sse(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _se(){const t=Or();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Ese(){return!bse()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pse(){try{return typeof indexedDB=="object"}catch{return!1}}function Ase(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cse="FirebaseError";class Fo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Cse,Object.setPrototypeOf(this,Fo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bp.prototype.create)}}class Bp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?Tse(i,r):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new Fo(s,l,r)}}function Tse(t,e){return t.replace(kse,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const kse=/\{\$([^}]+)}/g;function Ise(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function bu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(LR(i)&&LR(a)){if(!bu(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function LR(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nm(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function rm(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Rse(t,e){const n=new Ose(t,e);return n.subscribe.bind(n)}class Ose{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Dse(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=mj),s.error===void 0&&(s.error=mj),s.complete===void 0&&(s.complete=mj);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Dse(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function mj(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(t){return t&&t._delegate?t._delegate:t}class Zl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mse=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new vse;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Fse(e))try{this.getOrInitializeService({instanceIdentifier:Mc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Mc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mc){return this.instances.has(e)}getOptions(e=Mc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&a.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Lse(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Mc){return this.component?this.component.multipleInstances?e:Mc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Lse(t){return t===Mc?void 0:t}function Fse(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $se{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Mse(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(lt||(lt={}));const Use={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},Bse=lt.INFO,Vse={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},zse=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Vse[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class GP{constructor(e){this.name=e,this._logLevel=Bse,this._logHandler=zse,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Use[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...e),this._logHandler(this,lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...e),this._logHandler(this,lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...e),this._logHandler(this,lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...e),this._logHandler(this,lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...e),this._logHandler(this,lt.ERROR,...e)}}const Gse=(t,e)=>e.some(n=>t instanceof n);let FR,$R;function Wse(){return FR||(FR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Hse(){return $R||($R=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const c$=new WeakMap,LS=new WeakMap,u$=new WeakMap,pj=new WeakMap,WP=new WeakMap;function Kse(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(Ul(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&c$.set(n,t)}).catch(()=>{}),WP.set(e,t),e}function qse(t){if(LS.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});LS.set(t,e)}let FS={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return LS.get(t);if(e==="objectStoreNames")return t.objectStoreNames||u$.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ul(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Yse(t){FS=t(FS)}function Qse(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(gj(this),e,...n);return u$.set(r,e.sort?e.sort():[e]),Ul(r)}:Hse().includes(t)?function(...e){return t.apply(gj(this),e),Ul(c$.get(this))}:function(...e){return Ul(t.apply(gj(this),e))}}function Xse(t){return typeof t=="function"?Qse(t):(t instanceof IDBTransaction&&qse(t),Gse(t,Wse())?new Proxy(t,FS):t)}function Ul(t){if(t instanceof IDBRequest)return Kse(t);if(pj.has(t))return pj.get(t);const e=Xse(t);return e!==t&&(pj.set(t,e),WP.set(e,t)),e}const gj=t=>WP.get(t);function Jse(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),l=Ul(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Ul(a.result),c.oldVersion,c.newVersion,Ul(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const Zse=["get","getKey","getAll","getAllKeys","count"],eie=["put","add","delete","clear"],vj=new Map;function UR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(vj.get(e))return vj.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=eie.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Zse.includes(n)))return;const i=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return vj.set(e,i),i}Yse(t=>({...t,get:(e,n,r)=>UR(e,n)||t.get(e,n,r),has:(e,n)=>!!UR(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tie{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nie(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function nie(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $S="@firebase/app",BR="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=new GP("@firebase/app"),rie="@firebase/app-compat",sie="@firebase/analytics-compat",iie="@firebase/analytics",oie="@firebase/app-check-compat",aie="@firebase/app-check",lie="@firebase/auth",cie="@firebase/auth-compat",uie="@firebase/database",die="@firebase/data-connect",hie="@firebase/database-compat",fie="@firebase/functions",mie="@firebase/functions-compat",pie="@firebase/installations",gie="@firebase/installations-compat",vie="@firebase/messaging",yie="@firebase/messaging-compat",xie="@firebase/performance",wie="@firebase/performance-compat",bie="@firebase/remote-config",jie="@firebase/remote-config-compat",Nie="@firebase/storage",Sie="@firebase/storage-compat",_ie="@firebase/firestore",Eie="@firebase/ai",Pie="@firebase/firestore-compat",Aie="firebase",Cie="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US="[DEFAULT]",Tie={[$S]:"fire-core",[rie]:"fire-core-compat",[iie]:"fire-analytics",[sie]:"fire-analytics-compat",[aie]:"fire-app-check",[oie]:"fire-app-check-compat",[lie]:"fire-auth",[cie]:"fire-auth-compat",[uie]:"fire-rtdb",[die]:"fire-data-connect",[hie]:"fire-rtdb-compat",[fie]:"fire-fn",[mie]:"fire-fn-compat",[pie]:"fire-iid",[gie]:"fire-iid-compat",[vie]:"fire-fcm",[yie]:"fire-fcm-compat",[xie]:"fire-perf",[wie]:"fire-perf-compat",[bie]:"fire-rc",[jie]:"fire-rc-compat",[Nie]:"fire-gcs",[Sie]:"fire-gcs-compat",[_ie]:"fire-fst",[Pie]:"fire-fst-compat",[Eie]:"fire-vertex","fire-js":"fire-js",[Aie]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=new Map,kie=new Map,BS=new Map;function VR(t,e){try{t.container.addComponent(e)}catch(n){Sa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ju(t){const e=t.name;if(BS.has(e))return Sa.debug(`There were multiple attempts to register component ${e}.`),!1;BS.set(e,t);for(const n of Px.values())VR(n,t);for(const n of kie.values())VR(n,t);return!0}function Cw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ns(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iie={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bl=new Bp("app","Firebase",Iie);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rie{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu=Cie;function d$(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:US,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Bl.create("bad-app-name",{appName:String(s)});if(n||(n=o$()),!n)throw Bl.create("no-options");const i=Px.get(s);if(i){if(bu(n,i.options)&&bu(r,i.config))return i;throw Bl.create("duplicate-app",{appName:s})}const a=new $se(s);for(const c of BS.values())a.addComponent(c);const l=new Rie(n,r,a);return Px.set(s,l),l}function HP(t=US){const e=Px.get(t);if(!e&&t===US&&o$())return d$();if(!e)throw Bl.create("no-app",{appName:t});return e}function wo(t,e,n){let r=Tie[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Sa.warn(a.join(" "));return}ju(new Zl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oie="firebase-heartbeat-database",Die=1,ip="firebase-heartbeat-store";let yj=null;function h$(){return yj||(yj=Jse(Oie,Die,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ip)}catch(n){console.warn(n)}}}}).catch(t=>{throw Bl.create("idb-open",{originalErrorMessage:t.message})})),yj}async function Mie(t){try{const n=(await h$()).transaction(ip),r=await n.objectStore(ip).get(f$(t));return await n.done,r}catch(e){if(e instanceof Fo)Sa.warn(e.message);else{const n=Bl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Sa.warn(n.message)}}}async function zR(t,e){try{const r=(await h$()).transaction(ip,"readwrite");await r.objectStore(ip).put(e,f$(t)),await r.done}catch(n){if(n instanceof Fo)Sa.warn(n.message);else{const r=Bl.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Sa.warn(r.message)}}}function f$(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lie=1024,Fie=30;class $ie{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Bie(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=GR();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>Fie){const a=Vie(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Sa.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=GR(),{heartbeatsToSend:r,unsentEntries:s}=Uie(this._heartbeatsCache.heartbeats),i=Ex(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Sa.warn(n),""}}}function GR(){return new Date().toISOString().substring(0,10)}function Uie(t,e=Lie){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),WR(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),WR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Bie{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Pse()?Ase().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Mie(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return zR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return zR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function WR(t){return Ex(JSON.stringify({version:2,heartbeats:t})).length}function Vie(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zie(t){ju(new Zl("platform-logger",e=>new tie(e),"PRIVATE")),ju(new Zl("heartbeat",e=>new $ie(e),"PRIVATE")),wo($S,BR,t),wo($S,BR,"esm2020"),wo("fire-js","")}zie("");function m$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Gie=m$,p$=new Bp("auth","Firebase",m$());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=new GP("@firebase/auth");function Wie(t,...e){Ax.logLevel<=lt.WARN&&Ax.warn(`Auth (${zu}): ${t}`,...e)}function by(t,...e){Ax.logLevel<=lt.ERROR&&Ax.error(`Auth (${zu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(t,...e){throw qP(t,...e)}function Bi(t,...e){return qP(t,...e)}function KP(t,e,n){const r={...Gie(),[e]:n};return new Bp("auth","Firebase",r).create(e,{appName:t.name})}function da(t){return KP(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hie(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&mi(t,"argument-error"),KP(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qP(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return p$.create(t,...e)}function Ve(t,e,...n){if(!t)throw qP(e,...n)}function sa(t){const e="INTERNAL ASSERTION FAILED: "+t;throw by(e),new Error(e)}function _a(t,e){t||sa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Kie(){return HR()==="http:"||HR()==="https:"}function HR(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qie(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Kie()||Nse()||"connection"in navigator)?navigator.onLine:!0}function Yie(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,n){this.shortDelay=e,this.longDelay=n,_a(n>e,"Short delay should be less than long delay!"),this.isMobile=wse()||Sse()}get(){return qie()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP(t,e){_a(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g${static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xie=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Jie=new zp(3e4,6e4);function mc(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ma(t,e,n,r,s={}){return v$(t,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const l=Vp({key:t.config.apiKey,...a}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...i};return jse()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&fc(t.emulatorConfig.host)&&(u.credentials="include"),g$.fetch()(await y$(t,t.config.apiHost,n,l),u)})}async function v$(t,e,n){t._canInitEmulator=!1;const r={...Qie,...e};try{const s=new eoe(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw jv(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const l=i.ok?a.errorMessage:a.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw jv(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw jv(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw jv(t,"user-disabled",a);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw KP(t,d,u);mi(t,d)}}catch(s){if(s instanceof Fo)throw s;mi(t,"network-request-failed",{message:String(s)})}}async function Gp(t,e,n,r,s={}){const i=await Ma(t,e,n,r,s);return"mfaPendingCredential"in i&&mi(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function y$(t,e,n,r){const s=`${e}${n}?${r}`,i=t,a=i.config.emulator?YP(t.config,s):`${t.config.apiScheme}://${s}`;return Xie.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}function Zie(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class eoe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Bi(this.auth,"network-request-failed")),Jie.get())})}}function jv(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Bi(t,e,r);return s.customData._tokenResponse=n,s}function KR(t){return t!==void 0&&t.enterprise!==void 0}class toe{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Zie(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function noe(t,e){return Ma(t,"GET","/v2/recaptchaConfig",mc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function roe(t,e){return Ma(t,"POST","/v1/accounts:delete",e)}async function Cx(t,e){return Ma(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function soe(t,e=!1){const n=Bt(t),r=await n.getIdToken(e),s=QP(r);Ve(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Sm(xj(s.auth_time)),issuedAtTime:Sm(xj(s.iat)),expirationTime:Sm(xj(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function xj(t){return Number(t)*1e3}function QP(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return by("JWT malformed, contained fewer than 3 sections"),null;try{const s=r$(n);return s?JSON.parse(s):(by("Failed to decode base64 JWT payload"),null)}catch(s){return by("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function qR(t){const e=QP(t);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Fo&&ioe(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function ioe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ooe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sm(this.lastLoginAt),this.creationTime=Sm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tx(t){var h;const e=t.auth,n=await t.getIdToken(),r=await hh(t,Cx(e,{idToken:n}));Ve(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(h=s.providerUserInfo)!=null&&h.length?x$(s.providerUserInfo):[],a=loe(t.providerData,i),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new zS(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function aoe(t){const e=Bt(t);await Tx(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function loe(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function x$(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function coe(t,e){const n=await v$(t,{},async()=>{const r=Vp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=await y$(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&fc(t.emulatorConfig.host)&&(c.credentials="include"),g$.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function uoe(t,e){return Ma(t,"POST","/v2/accounts:revokeToken",mc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const n=qR(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await coe(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new Md;return r&&(Ve(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(Ve(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(Ve(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Md,this.toJSON())}_performRefresh(){return sa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ja(t,e){Ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Mi{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new ooe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new zS(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await hh(this,this.stsTokenManager.getToken(this.auth,e));return Ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return soe(this,e)}reload(){return aoe(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Mi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Tx(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ns(this.auth.app))return Promise.reject(da(this.auth));const e=await this.getIdToken();return await hh(this,roe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:h,emailVerified:f,isAnonymous:m,providerData:y,stsTokenManager:v}=n;Ve(h&&v,e,"internal-error");const x=Md.fromJSON(this.name,v);Ve(typeof h=="string",e,"internal-error"),Ja(r,e.name),Ja(s,e.name),Ve(typeof f=="boolean",e,"internal-error"),Ve(typeof m=="boolean",e,"internal-error"),Ja(i,e.name),Ja(a,e.name),Ja(l,e.name),Ja(c,e.name),Ja(u,e.name),Ja(d,e.name);const b=new Mi({uid:h,auth:e,email:s,emailVerified:f,displayName:r,isAnonymous:m,photoURL:a,phoneNumber:i,tenantId:l,stsTokenManager:x,createdAt:u,lastLoginAt:d});return y&&Array.isArray(y)&&(b.providerData=y.map(w=>({...w}))),c&&(b._redirectEventId=c),b}static async _fromIdTokenResponse(e,n,r=!1){const s=new Md;s.updateFromServerResponse(n);const i=new Mi({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Tx(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ve(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?x$(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new Md;l.updateFromIdToken(r);const c=new Mi({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:a}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new zS(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=new Map;function ia(t){_a(t instanceof Function,"Expected a class definition");let e=YR.get(t);return e?(_a(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,YR.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w${constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}w$.type="NONE";const GS=w$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(t,e,n){return`firebase:${t}:${e}:${n}`}class Ld{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=jy(this.userKey,s.apiKey,i),this.fullPersistenceKey=jy("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Cx(this.auth,{idToken:e}).catch(()=>{});return n?Mi._fromGetAccountInfoResponse(this.auth,n,e):null}return Mi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ld(ia(GS),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||ia(GS);const a=jy(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(a);if(d){let h;if(typeof d=="string"){const f=await Cx(e,{idToken:d}).catch(()=>{});if(!f)break;h=await Mi._fromGetAccountInfoResponse(e,f,d)}else h=Mi._fromJSON(e,d);u!==i&&(l=h),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Ld(i,e,r):(i=c[0],l&&await i._set(a,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(a)}catch{}})),new Ld(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(S$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(b$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(E$(e))return"Blackberry";if(P$(e))return"Webos";if(j$(e))return"Safari";if((e.includes("chrome/")||N$(e))&&!e.includes("edge/"))return"Chrome";if(_$(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function b$(t=Or()){return/firefox\//i.test(t)}function j$(t=Or()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function N$(t=Or()){return/crios\//i.test(t)}function S$(t=Or()){return/iemobile/i.test(t)}function _$(t=Or()){return/android/i.test(t)}function E$(t=Or()){return/blackberry/i.test(t)}function P$(t=Or()){return/webos/i.test(t)}function XP(t=Or()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function doe(t=Or()){var e;return XP(t)&&!!((e=window.navigator)!=null&&e.standalone)}function hoe(){return _se()&&document.documentMode===10}function A$(t=Or()){return XP(t)||_$(t)||P$(t)||E$(t)||/windows phone/i.test(t)||S$(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C$(t,e=[]){let n;switch(t){case"Browser":n=QR(Or());break;case"Worker":n=`${QR(Or())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${zu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class foe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,l)=>{try{const c=e(i);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function moe(t,e={}){return Ma(t,"GET","/v2/passwordPolicy",mc(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const poe=6;class goe{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??poe,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class voe{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new XR(this),this.idTokenSubscription=new XR(this),this.beforeStateQueue=new foe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=p$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ia(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Ld.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Cx(this,{idToken:e}),r=await Mi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(ns(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(i=this.redirectUser)==null?void 0:i._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Tx(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Yie()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ns(this.app))return Promise.reject(da(this));const n=e?Bt(e):null;return n&&Ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ns(this.app)?Promise.reject(da(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ns(this.app)?Promise.reject(da(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ia(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await moe(this),n=new goe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Bp("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await uoe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ia(e)||this._popupRedirectResolver;Ve(n,this,"argument-error"),this.redirectPersistenceManager=await Ld.create(this,[ia(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(l,this,"internal-error"),l.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=C$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(ns(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&Wie(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function pc(t){return Bt(t)}class XR{constructor(e){this.auth=e,this.observer=null,this.addObserver=Rse(n=>this.observer=n)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yoe(t){Tw=t}function T$(t){return Tw.loadJS(t)}function xoe(){return Tw.recaptchaEnterpriseScript}function woe(){return Tw.gapiScript}function boe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class joe{constructor(){this.enterprise=new Noe}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Noe{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Soe="recaptcha-enterprise",k$="NO_RECAPTCHA";class _oe{constructor(e){this.type=Soe,this.auth=pc(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,l)=>{noe(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new toe(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,a(u.siteKey)}}).catch(c=>{l(c)})})}function s(i,a,l){const c=window.grecaptcha;KR(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{a(u)}).catch(()=>{a(k$)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new joe().execute("siteKey",{action:"verify"}):new Promise((i,a)=>{r(this.auth).then(l=>{if(!n&&KR(window.grecaptcha))s(l,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=xoe();c.length!==0&&(c+=l),T$(c).then(()=>{s(l,i,a)}).catch(u=>{a(u)})}}).catch(l=>{a(l)})})}}async function JR(t,e,n,r=!1,s=!1){const i=new _oe(t);let a;if(s)a=k$;else try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function WS(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await JR(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await JR(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eoe(t,e){const n=Cw(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(bu(i,e??{}))return s;mi(s,"already-initialized")}return n.initialize({options:e})}function Poe(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ia);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Aoe(t,e,n){const r=pc(t);Ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=I$(e),{host:a,port:l}=Coe(e),c=l===null?"":`:${l}`,u={url:`${i}//${a}${c}/`},d=Object.freeze({host:a,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ve(bu(u,r.config.emulator)&&bu(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,fc(a)?(VP(`${i}//${a}${c}`),zP("Auth",!0)):Toe()}function I$(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Coe(t){const e=I$(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:ZR(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:ZR(a)}}}function ZR(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Toe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return sa("not implemented")}_getIdTokenResponse(e){return sa("not implemented")}_linkToIdToken(e,n){return sa("not implemented")}_getReauthenticationResolver(e){return sa("not implemented")}}async function koe(t,e){return Ma(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ioe(t,e){return Gp(t,"POST","/v1/accounts:signInWithPassword",mc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Roe(t,e){return Gp(t,"POST","/v1/accounts:signInWithEmailLink",mc(t,e))}async function Ooe(t,e){return Gp(t,"POST","/v1/accounts:signInWithEmailLink",mc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op extends JP{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new op(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new op(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return WS(e,n,"signInWithPassword",Ioe);case"emailLink":return Roe(e,{email:this._email,oobCode:this._password});default:mi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return WS(e,r,"signUpPassword",koe);case"emailLink":return Ooe(e,{idToken:n,email:this._email,oobCode:this._password});default:mi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fd(t,e){return Gp(t,"POST","/v1/accounts:signInWithIdp",mc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Doe="http://localhost";class Nu extends JP{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Nu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):mi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const a=new Nu(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Fd(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Fd(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fd(e,n)}buildRequest(){const e={requestUri:Doe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vp(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Moe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Loe(t){const e=nm(rm(t)).link,n=e?nm(rm(e)).deep_link_id:null,r=nm(rm(t)).deep_link_id;return(r?nm(rm(r)).link:null)||r||n||e||t}class ZP{constructor(e){const n=nm(rm(e)),r=n.apiKey??null,s=n.oobCode??null,i=Moe(n.mode??null);Ve(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Loe(e);try{return new ZP(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(){this.providerId=qh.PROVIDER_ID}static credential(e,n){return op._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ZP.parseLink(n);return Ve(r,"argument-error"),op._fromEmailAndCode(e,r.code,r.tenantId)}}qh.PROVIDER_ID="password";qh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp extends eA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl extends Wp{constructor(){super("facebook.com")}static credential(e){return Nu._fromParams({providerId:cl.PROVIDER_ID,signInMethod:cl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cl.credentialFromTaggedObject(e)}static credentialFromError(e){return cl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cl.credential(e.oauthAccessToken)}catch{return null}}}cl.FACEBOOK_SIGN_IN_METHOD="facebook.com";cl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo extends Wp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Nu._fromParams({providerId:Zo.PROVIDER_ID,signInMethod:Zo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zo.credentialFromTaggedObject(e)}static credentialFromError(e){return Zo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Zo.credential(n,r)}catch{return null}}}Zo.GOOGLE_SIGN_IN_METHOD="google.com";Zo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul extends Wp{constructor(){super("github.com")}static credential(e){return Nu._fromParams({providerId:ul.PROVIDER_ID,signInMethod:ul.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ul.credentialFromTaggedObject(e)}static credentialFromError(e){return ul.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ul.credential(e.oauthAccessToken)}catch{return null}}}ul.GITHUB_SIGN_IN_METHOD="github.com";ul.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl extends Wp{constructor(){super("twitter.com")}static credential(e,n){return Nu._fromParams({providerId:dl.PROVIDER_ID,signInMethod:dl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return dl.credentialFromTaggedObject(e)}static credentialFromError(e){return dl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return dl.credential(n,r)}catch{return null}}}dl.TWITTER_SIGN_IN_METHOD="twitter.com";dl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Foe(t,e){return Gp(t,"POST","/v1/accounts:signUp",mc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Mi._fromIdTokenResponse(e,r,s),a=eO(r);return new Su({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=eO(r);return new Su({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function eO(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx extends Fo{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,kx.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new kx(e,n,r,s)}}function R$(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?kx._fromErrorAndOperation(t,i,e,r):i})}async function $oe(t,e,n=!1){const r=await hh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Su._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uoe(t,e,n=!1){const{auth:r}=t;if(ns(r.app))return Promise.reject(da(r));const s="reauthenticate";try{const i=await hh(t,R$(r,s,e,t),n);Ve(i.idToken,r,"internal-error");const a=QP(i.idToken);Ve(a,r,"internal-error");const{sub:l}=a;return Ve(t.uid===l,r,"user-mismatch"),Su._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&mi(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O$(t,e,n=!1){if(ns(t.app))return Promise.reject(da(t));const r="signIn",s=await R$(t,r,e),i=await Su._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function Boe(t,e){return O$(pc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D$(t){const e=pc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Voe(t,e,n){if(ns(t.app))return Promise.reject(da(t));const r=pc(t),a=await WS(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Foe).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&D$(t),c}),l=await Su._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function zoe(t,e,n){return ns(t.app)?Promise.reject(da(t)):Boe(Bt(t),qh.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&D$(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Goe(t,e){return Ma(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Woe(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Bt(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await hh(r,Goe(r.auth,i));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const l=r.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(t,e){return Bt(t).setPersistence(e)}function Hoe(t,e,n,r){return Bt(t).onIdTokenChanged(e,n,r)}function Koe(t,e,n){return Bt(t).beforeAuthStateChanged(e,n)}function qoe(t,e,n,r){return Bt(t).onAuthStateChanged(e,n,r)}function Yoe(t){return Bt(t).signOut()}const Ix="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M${constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ix,"1"),this.storage.removeItem(Ix),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qoe=1e3,Xoe=10;class L$ extends M${constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=A$(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);hoe()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Xoe):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Qoe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}L$.type="LOCAL";const tA=L$;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F$ extends M${constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}F$.type="SESSION";const $$=F$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Joe(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new kw(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(a).map(async u=>u(n.origin,i)),c=await Joe(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kw.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zoe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((l,c)=>{const u=nA("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(f.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(){return window}function eae(t){bo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U$(){return typeof bo().WorkerGlobalScope<"u"&&typeof bo().importScripts=="function"}async function tae(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nae(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function rae(){return U$()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B$="firebaseLocalStorageDb",sae=1,Rx="firebaseLocalStorage",V$="fbase_key";class Hp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Iw(t,e){return t.transaction([Rx],e?"readwrite":"readonly").objectStore(Rx)}function iae(){const t=indexedDB.deleteDatabase(B$);return new Hp(t).toPromise()}function HS(){const t=indexedDB.open(B$,sae);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Rx,{keyPath:V$})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Rx)?e(r):(r.close(),await iae(),e(await HS()))})})}async function tO(t,e,n){const r=Iw(t,!0).put({[V$]:e,value:n});return new Hp(r).toPromise()}async function oae(t,e){const n=Iw(t,!1).get(e),r=await new Hp(n).toPromise();return r===void 0?null:r.value}function nO(t,e){const n=Iw(t,!0).delete(e);return new Hp(n).toPromise()}const aae=800,lae=3;class z${constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await HS(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>lae)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return U$()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kw._getInstance(rae()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await tae(),!this.activeServiceWorker)return;this.sender=new Zoe(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nae()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await HS();return await tO(e,Ix,"1"),await nO(e,Ix),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>tO(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>oae(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>nO(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Iw(s,!1).getAll();return new Hp(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aae)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}z$.type="LOCAL";const G$=z$;new zp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W$(t,e){return e?ia(e):(Ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA extends JP{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fd(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fd(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fd(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function cae(t){return O$(t.auth,new rA(t),t.bypassAuthState)}function uae(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),Uoe(n,new rA(t),t.bypassAuthState)}async function dae(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),$oe(n,new rA(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cae;case"linkViaPopup":case"linkViaRedirect":return dae;case"reauthViaPopup":case"reauthViaRedirect":return uae;default:mi(this.auth,"internal-error")}}resolve(e){_a(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_a(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hae=new zp(2e3,1e4);async function fae(t,e,n){if(ns(t.app))return Promise.reject(Bi(t,"operation-not-supported-in-this-environment"));const r=pc(t);Hie(t,e,eA);const s=W$(r,n);return new Wc(r,"signInViaPopup",e,s).executeNotNull()}class Wc extends H${constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Wc.currentPopupAction&&Wc.currentPopupAction.cancel(),Wc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){_a(this.filter.length===1,"Popup operations only handle one event");const e=nA();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hae.get())};e()}}Wc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mae="pendingRedirect",Sy=new Map;class pae extends H${constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Sy.get(this.auth._key());if(!e){try{const r=await gae(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Sy.set(this.auth._key(),e)}return this.bypassAuthState||Sy.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gae(t,e){const n=xae(e),r=yae(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function vae(t,e){Sy.set(t._key(),e)}function yae(t){return ia(t._redirectPersistence)}function xae(t){return jy(mae,t.config.apiKey,t.name)}async function wae(t,e,n=!1){if(ns(t.app))return Promise.reject(da(t));const r=pc(t),s=W$(r,e),a=await new pae(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bae=10*60*1e3;class jae{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Nae(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!K$(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Bi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bae&&this.cachedEventUids.clear(),this.cachedEventUids.has(rO(e))}saveEventToCache(e){this.cachedEventUids.add(rO(e)),this.lastProcessedEventTime=Date.now()}}function rO(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function K$({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Nae(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return K$(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sae(t,e={}){return Ma(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ae=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Eae=/^https?/;async function Pae(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Sae(t);for(const n of e)try{if(Aae(n))return}catch{}mi(t,"unauthorized-domain")}function Aae(t){const e=VS(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!Eae.test(n))return!1;if(_ae.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cae=new zp(3e4,6e4);function sO(){const t=bo().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Tae(t){return new Promise((e,n)=>{var s,i,a;function r(){sO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sO(),n(Bi(t,"network-request-failed"))},timeout:Cae.get()})}if((i=(s=bo().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((a=bo().gapi)!=null&&a.load)r();else{const l=boe("iframefcb");return bo()[l]=()=>{gapi.load?r():n(Bi(t,"network-request-failed"))},T$(`${woe()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw _y=null,e})}let _y=null;function kae(t){return _y=_y||Tae(t),_y}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iae=new zp(5e3,15e3),Rae="__/auth/iframe",Oae="emulator/auth/iframe",Dae={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mae=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Lae(t){const e=t.config;Ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?YP(e,Oae):`https://${t.config.authDomain}/${Rae}`,r={apiKey:e.apiKey,appName:t.name,v:zu},s=Mae.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Vp(r).slice(1)}`}async function Fae(t){const e=await kae(t),n=bo().gapi;return Ve(n,t,"internal-error"),e.open({where:document.body,url:Lae(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Dae,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=Bi(t,"network-request-failed"),l=bo().setTimeout(()=>{i(a)},Iae.get());function c(){bo().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ae={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Uae=500,Bae=600,Vae="_blank",zae="http://localhost";class iO{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Gae(t,e,n,r=Uae,s=Bae){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...$ae,width:r.toString(),height:s.toString(),top:i,left:a},u=Or().toLowerCase();n&&(l=N$(u)?Vae:n),b$(u)&&(e=e||zae,c.scrollbars="yes");const d=Object.entries(c).reduce((f,[m,y])=>`${f}${m}=${y},`,"");if(doe(u)&&l!=="_self")return Wae(e||"",l),new iO(null);const h=window.open(e||"",l,d);Ve(h,t,"popup-blocked");try{h.focus()}catch{}return new iO(h)}function Wae(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hae="__/auth/handler",Kae="emulator/auth/handler",qae=encodeURIComponent("fac");async function oO(t,e,n,r,s,i){Ve(t.config.authDomain,t,"auth-domain-config-required"),Ve(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:zu,eventId:s};if(e instanceof eA){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",Ise(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))a[d]=h}if(e instanceof Wp){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${qae}=${encodeURIComponent(c)}`:"";return`${Yae(t)}?${Vp(l).slice(1)}${u}`}function Yae({config:t}){return t.emulator?YP(t,Kae):`https://${t.authDomain}/${Hae}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj="webStorageSupport";class Qae{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$$,this._completeRedirectFn=wae,this._overrideRedirectResult=vae}async _openPopup(e,n,r,s){var a;_a((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const i=await oO(e,n,r,VS(),s);return Gae(e,i,nA())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await oO(e,n,r,VS(),s);return eae(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(_a(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Fae(e),r=new jae(e);return n.register("authEvent",s=>(Ve(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wj,{type:wj},s=>{var a;const i=(a=s==null?void 0:s[0])==null?void 0:a[wj];i!==void 0&&n(!!i),mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Pae(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return A$()||j$()||XP()}}const Xae=Qae;var aO="@firebase/auth",lO="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jae{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zae(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ele(t){ju(new Zl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;Ve(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:C$(t)},u=new voe(r,s,i,c);return Poe(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ju(new Zl("auth-internal",e=>{const n=pc(e.getProvider("auth").getImmediate());return(r=>new Jae(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),wo(aO,lO,Zae(t)),wo(aO,lO,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tle=5*60,nle=a$("authIdTokenMaxAge")||tle;let cO=null;const rle=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>nle)return;const s=n==null?void 0:n.token;cO!==s&&(cO=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function sle(t=HP()){const e=Cw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Eoe(t,{popupRedirectResolver:Xae,persistence:[G$,tA,$$]}),r=a$("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const a=rle(i.toString());Koe(n,a,()=>a(n.currentUser)),Hoe(n,l=>a(l))}}const s=s$("auth");return s&&Aoe(n,`http://${s}`),n}function ile(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}yoe({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Bi("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",ile().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ele("Browser");var ole="firebase",ale="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wo(ole,ale,"app");var uO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vl,q$;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,E){function A(){}A.prototype=E.prototype,P.D=E.prototype,P.prototype=new A,P.prototype.constructor=P,P.C=function(S,C,O){for(var k=Array(arguments.length-2),B=2;B<arguments.length;B++)k[B-2]=arguments[B];return E.prototype[C].apply(S,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(P,E,A){A||(A=0);var S=Array(16);if(typeof E=="string")for(var C=0;16>C;++C)S[C]=E.charCodeAt(A++)|E.charCodeAt(A++)<<8|E.charCodeAt(A++)<<16|E.charCodeAt(A++)<<24;else for(C=0;16>C;++C)S[C]=E[A++]|E[A++]<<8|E[A++]<<16|E[A++]<<24;E=P.g[0],A=P.g[1],C=P.g[2];var O=P.g[3],k=E+(O^A&(C^O))+S[0]+3614090360&4294967295;E=A+(k<<7&4294967295|k>>>25),k=O+(C^E&(A^C))+S[1]+3905402710&4294967295,O=E+(k<<12&4294967295|k>>>20),k=C+(A^O&(E^A))+S[2]+606105819&4294967295,C=O+(k<<17&4294967295|k>>>15),k=A+(E^C&(O^E))+S[3]+3250441966&4294967295,A=C+(k<<22&4294967295|k>>>10),k=E+(O^A&(C^O))+S[4]+4118548399&4294967295,E=A+(k<<7&4294967295|k>>>25),k=O+(C^E&(A^C))+S[5]+1200080426&4294967295,O=E+(k<<12&4294967295|k>>>20),k=C+(A^O&(E^A))+S[6]+2821735955&4294967295,C=O+(k<<17&4294967295|k>>>15),k=A+(E^C&(O^E))+S[7]+4249261313&4294967295,A=C+(k<<22&4294967295|k>>>10),k=E+(O^A&(C^O))+S[8]+1770035416&4294967295,E=A+(k<<7&4294967295|k>>>25),k=O+(C^E&(A^C))+S[9]+2336552879&4294967295,O=E+(k<<12&4294967295|k>>>20),k=C+(A^O&(E^A))+S[10]+4294925233&4294967295,C=O+(k<<17&4294967295|k>>>15),k=A+(E^C&(O^E))+S[11]+2304563134&4294967295,A=C+(k<<22&4294967295|k>>>10),k=E+(O^A&(C^O))+S[12]+1804603682&4294967295,E=A+(k<<7&4294967295|k>>>25),k=O+(C^E&(A^C))+S[13]+4254626195&4294967295,O=E+(k<<12&4294967295|k>>>20),k=C+(A^O&(E^A))+S[14]+2792965006&4294967295,C=O+(k<<17&4294967295|k>>>15),k=A+(E^C&(O^E))+S[15]+1236535329&4294967295,A=C+(k<<22&4294967295|k>>>10),k=E+(C^O&(A^C))+S[1]+4129170786&4294967295,E=A+(k<<5&4294967295|k>>>27),k=O+(A^C&(E^A))+S[6]+3225465664&4294967295,O=E+(k<<9&4294967295|k>>>23),k=C+(E^A&(O^E))+S[11]+643717713&4294967295,C=O+(k<<14&4294967295|k>>>18),k=A+(O^E&(C^O))+S[0]+3921069994&4294967295,A=C+(k<<20&4294967295|k>>>12),k=E+(C^O&(A^C))+S[5]+3593408605&4294967295,E=A+(k<<5&4294967295|k>>>27),k=O+(A^C&(E^A))+S[10]+38016083&4294967295,O=E+(k<<9&4294967295|k>>>23),k=C+(E^A&(O^E))+S[15]+3634488961&4294967295,C=O+(k<<14&4294967295|k>>>18),k=A+(O^E&(C^O))+S[4]+3889429448&4294967295,A=C+(k<<20&4294967295|k>>>12),k=E+(C^O&(A^C))+S[9]+568446438&4294967295,E=A+(k<<5&4294967295|k>>>27),k=O+(A^C&(E^A))+S[14]+3275163606&4294967295,O=E+(k<<9&4294967295|k>>>23),k=C+(E^A&(O^E))+S[3]+4107603335&4294967295,C=O+(k<<14&4294967295|k>>>18),k=A+(O^E&(C^O))+S[8]+1163531501&4294967295,A=C+(k<<20&4294967295|k>>>12),k=E+(C^O&(A^C))+S[13]+2850285829&4294967295,E=A+(k<<5&4294967295|k>>>27),k=O+(A^C&(E^A))+S[2]+4243563512&4294967295,O=E+(k<<9&4294967295|k>>>23),k=C+(E^A&(O^E))+S[7]+1735328473&4294967295,C=O+(k<<14&4294967295|k>>>18),k=A+(O^E&(C^O))+S[12]+2368359562&4294967295,A=C+(k<<20&4294967295|k>>>12),k=E+(A^C^O)+S[5]+4294588738&4294967295,E=A+(k<<4&4294967295|k>>>28),k=O+(E^A^C)+S[8]+2272392833&4294967295,O=E+(k<<11&4294967295|k>>>21),k=C+(O^E^A)+S[11]+1839030562&4294967295,C=O+(k<<16&4294967295|k>>>16),k=A+(C^O^E)+S[14]+4259657740&4294967295,A=C+(k<<23&4294967295|k>>>9),k=E+(A^C^O)+S[1]+2763975236&4294967295,E=A+(k<<4&4294967295|k>>>28),k=O+(E^A^C)+S[4]+1272893353&4294967295,O=E+(k<<11&4294967295|k>>>21),k=C+(O^E^A)+S[7]+4139469664&4294967295,C=O+(k<<16&4294967295|k>>>16),k=A+(C^O^E)+S[10]+3200236656&4294967295,A=C+(k<<23&4294967295|k>>>9),k=E+(A^C^O)+S[13]+681279174&4294967295,E=A+(k<<4&4294967295|k>>>28),k=O+(E^A^C)+S[0]+3936430074&4294967295,O=E+(k<<11&4294967295|k>>>21),k=C+(O^E^A)+S[3]+3572445317&4294967295,C=O+(k<<16&4294967295|k>>>16),k=A+(C^O^E)+S[6]+76029189&4294967295,A=C+(k<<23&4294967295|k>>>9),k=E+(A^C^O)+S[9]+3654602809&4294967295,E=A+(k<<4&4294967295|k>>>28),k=O+(E^A^C)+S[12]+3873151461&4294967295,O=E+(k<<11&4294967295|k>>>21),k=C+(O^E^A)+S[15]+530742520&4294967295,C=O+(k<<16&4294967295|k>>>16),k=A+(C^O^E)+S[2]+3299628645&4294967295,A=C+(k<<23&4294967295|k>>>9),k=E+(C^(A|~O))+S[0]+4096336452&4294967295,E=A+(k<<6&4294967295|k>>>26),k=O+(A^(E|~C))+S[7]+1126891415&4294967295,O=E+(k<<10&4294967295|k>>>22),k=C+(E^(O|~A))+S[14]+2878612391&4294967295,C=O+(k<<15&4294967295|k>>>17),k=A+(O^(C|~E))+S[5]+4237533241&4294967295,A=C+(k<<21&4294967295|k>>>11),k=E+(C^(A|~O))+S[12]+1700485571&4294967295,E=A+(k<<6&4294967295|k>>>26),k=O+(A^(E|~C))+S[3]+2399980690&4294967295,O=E+(k<<10&4294967295|k>>>22),k=C+(E^(O|~A))+S[10]+4293915773&4294967295,C=O+(k<<15&4294967295|k>>>17),k=A+(O^(C|~E))+S[1]+2240044497&4294967295,A=C+(k<<21&4294967295|k>>>11),k=E+(C^(A|~O))+S[8]+1873313359&4294967295,E=A+(k<<6&4294967295|k>>>26),k=O+(A^(E|~C))+S[15]+4264355552&4294967295,O=E+(k<<10&4294967295|k>>>22),k=C+(E^(O|~A))+S[6]+2734768916&4294967295,C=O+(k<<15&4294967295|k>>>17),k=A+(O^(C|~E))+S[13]+1309151649&4294967295,A=C+(k<<21&4294967295|k>>>11),k=E+(C^(A|~O))+S[4]+4149444226&4294967295,E=A+(k<<6&4294967295|k>>>26),k=O+(A^(E|~C))+S[11]+3174756917&4294967295,O=E+(k<<10&4294967295|k>>>22),k=C+(E^(O|~A))+S[2]+718787259&4294967295,C=O+(k<<15&4294967295|k>>>17),k=A+(O^(C|~E))+S[9]+3951481745&4294967295,P.g[0]=P.g[0]+E&4294967295,P.g[1]=P.g[1]+(C+(k<<21&4294967295|k>>>11))&4294967295,P.g[2]=P.g[2]+C&4294967295,P.g[3]=P.g[3]+O&4294967295}r.prototype.u=function(P,E){E===void 0&&(E=P.length);for(var A=E-this.blockSize,S=this.B,C=this.h,O=0;O<E;){if(C==0)for(;O<=A;)s(this,P,O),O+=this.blockSize;if(typeof P=="string"){for(;O<E;)if(S[C++]=P.charCodeAt(O++),C==this.blockSize){s(this,S),C=0;break}}else for(;O<E;)if(S[C++]=P[O++],C==this.blockSize){s(this,S),C=0;break}}this.h=C,this.o+=E},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var E=1;E<P.length-8;++E)P[E]=0;var A=8*this.o;for(E=P.length-8;E<P.length;++E)P[E]=A&255,A/=256;for(this.u(P),P=Array(16),E=A=0;4>E;++E)for(var S=0;32>S;S+=8)P[A++]=this.g[E]>>>S&255;return P};function i(P,E){var A=l;return Object.prototype.hasOwnProperty.call(A,P)?A[P]:A[P]=E(P)}function a(P,E){this.h=E;for(var A=[],S=!0,C=P.length-1;0<=C;C--){var O=P[C]|0;S&&O==E||(A[C]=O,S=!1)}this.g=A}var l={};function c(P){return-128<=P&&128>P?i(P,function(E){return new a([E|0],0>E?-1:0)}):new a([P|0],0>P?-1:0)}function u(P){if(isNaN(P)||!isFinite(P))return h;if(0>P)return x(u(-P));for(var E=[],A=1,S=0;P>=A;S++)E[S]=P/A|0,A*=4294967296;return new a(E,0)}function d(P,E){if(P.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(P.charAt(0)=="-")return x(d(P.substring(1),E));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=u(Math.pow(E,8)),S=h,C=0;C<P.length;C+=8){var O=Math.min(8,P.length-C),k=parseInt(P.substring(C,C+O),E);8>O?(O=u(Math.pow(E,O)),S=S.j(O).add(u(k))):(S=S.j(A),S=S.add(u(k)))}return S}var h=c(0),f=c(1),m=c(16777216);t=a.prototype,t.m=function(){if(v(this))return-x(this).m();for(var P=0,E=1,A=0;A<this.g.length;A++){var S=this.i(A);P+=(0<=S?S:4294967296+S)*E,E*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(y(this))return"0";if(v(this))return"-"+x(this).toString(P);for(var E=u(Math.pow(P,6)),A=this,S="";;){var C=N(A,E).g;A=b(A,C.j(E));var O=((0<A.g.length?A.g[0]:A.h)>>>0).toString(P);if(A=C,y(A))return O+S;for(;6>O.length;)O="0"+O;S=O+S}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function y(P){if(P.h!=0)return!1;for(var E=0;E<P.g.length;E++)if(P.g[E]!=0)return!1;return!0}function v(P){return P.h==-1}t.l=function(P){return P=b(this,P),v(P)?-1:y(P)?0:1};function x(P){for(var E=P.g.length,A=[],S=0;S<E;S++)A[S]=~P.g[S];return new a(A,~P.h).add(f)}t.abs=function(){return v(this)?x(this):this},t.add=function(P){for(var E=Math.max(this.g.length,P.g.length),A=[],S=0,C=0;C<=E;C++){var O=S+(this.i(C)&65535)+(P.i(C)&65535),k=(O>>>16)+(this.i(C)>>>16)+(P.i(C)>>>16);S=k>>>16,O&=65535,k&=65535,A[C]=k<<16|O}return new a(A,A[A.length-1]&-2147483648?-1:0)};function b(P,E){return P.add(x(E))}t.j=function(P){if(y(this)||y(P))return h;if(v(this))return v(P)?x(this).j(x(P)):x(x(this).j(P));if(v(P))return x(this.j(x(P)));if(0>this.l(m)&&0>P.l(m))return u(this.m()*P.m());for(var E=this.g.length+P.g.length,A=[],S=0;S<2*E;S++)A[S]=0;for(S=0;S<this.g.length;S++)for(var C=0;C<P.g.length;C++){var O=this.i(S)>>>16,k=this.i(S)&65535,B=P.i(C)>>>16,G=P.i(C)&65535;A[2*S+2*C]+=k*G,w(A,2*S+2*C),A[2*S+2*C+1]+=O*G,w(A,2*S+2*C+1),A[2*S+2*C+1]+=k*B,w(A,2*S+2*C+1),A[2*S+2*C+2]+=O*B,w(A,2*S+2*C+2)}for(S=0;S<E;S++)A[S]=A[2*S+1]<<16|A[2*S];for(S=E;S<2*E;S++)A[S]=0;return new a(A,0)};function w(P,E){for(;(P[E]&65535)!=P[E];)P[E+1]+=P[E]>>>16,P[E]&=65535,E++}function j(P,E){this.g=P,this.h=E}function N(P,E){if(y(E))throw Error("division by zero");if(y(P))return new j(h,h);if(v(P))return E=N(x(P),E),new j(x(E.g),x(E.h));if(v(E))return E=N(P,x(E)),new j(x(E.g),E.h);if(30<P.g.length){if(v(P)||v(E))throw Error("slowDivide_ only works with positive integers.");for(var A=f,S=E;0>=S.l(P);)A=T(A),S=T(S);var C=I(A,1),O=I(S,1);for(S=I(S,2),A=I(A,2);!y(S);){var k=O.add(S);0>=k.l(P)&&(C=C.add(A),O=k),S=I(S,1),A=I(A,1)}return E=b(P,C.j(E)),new j(C,E)}for(C=h;0<=P.l(E);){for(A=Math.max(1,Math.floor(P.m()/E.m())),S=Math.ceil(Math.log(A)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),O=u(A),k=O.j(E);v(k)||0<k.l(P);)A-=S,O=u(A),k=O.j(E);y(O)&&(O=f),C=C.add(O),P=b(P,k)}return new j(C,P)}t.A=function(P){return N(this,P).h},t.and=function(P){for(var E=Math.max(this.g.length,P.g.length),A=[],S=0;S<E;S++)A[S]=this.i(S)&P.i(S);return new a(A,this.h&P.h)},t.or=function(P){for(var E=Math.max(this.g.length,P.g.length),A=[],S=0;S<E;S++)A[S]=this.i(S)|P.i(S);return new a(A,this.h|P.h)},t.xor=function(P){for(var E=Math.max(this.g.length,P.g.length),A=[],S=0;S<E;S++)A[S]=this.i(S)^P.i(S);return new a(A,this.h^P.h)};function T(P){for(var E=P.g.length+1,A=[],S=0;S<E;S++)A[S]=P.i(S)<<1|P.i(S-1)>>>31;return new a(A,P.h)}function I(P,E){var A=E>>5;E%=32;for(var S=P.g.length-A,C=[],O=0;O<S;O++)C[O]=0<E?P.i(O+A)>>>E|P.i(O+A+1)<<32-E:P.i(O+A);return new a(C,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,q$=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=d,Vl=a}).apply(typeof uO<"u"?uO:typeof self<"u"?self:typeof window<"u"?window:{});var Nv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Y$,sm,Q$,Ey,KS,X$,J$,Z$;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,_,R){return g==Array.prototype||g==Object.prototype||(g[_]=R.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nv=="object"&&Nv];for(var _=0;_<g.length;++_){var R=g[_];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var r=n(this);function s(g,_){if(_)e:{var R=r;g=g.split(".");for(var M=0;M<g.length-1;M++){var K=g[M];if(!(K in R))break e;R=R[K]}g=g[g.length-1],M=R[g],_=_(M),_!=M&&_!=null&&e(R,g,{configurable:!0,writable:!0,value:_})}}function i(g,_){g instanceof String&&(g+="");var R=0,M=!1,K={next:function(){if(!M&&R<g.length){var ne=R++;return{value:_(ne,g[ne]),done:!1}}return M=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}s("Array.prototype.values",function(g){return g||function(){return i(this,function(_,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(g){var _=typeof g;return _=_!="object"?_:g?Array.isArray(g)?"array":_:"null",_=="array"||_=="object"&&typeof g.length=="number"}function u(g){var _=typeof g;return _=="object"&&g!=null||_=="function"}function d(g,_,R){return g.call.apply(g.bind,arguments)}function h(g,_,R){if(!g)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,M),g.apply(_,K)}}return function(){return g.apply(_,arguments)}}function f(g,_,R){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function m(g,_){var R=Array.prototype.slice.call(arguments,1);return function(){var M=R.slice();return M.push.apply(M,arguments),g.apply(this,M)}}function y(g,_){function R(){}R.prototype=_.prototype,g.aa=_.prototype,g.prototype=new R,g.prototype.constructor=g,g.Qb=function(M,K,ne){for(var Se=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)Se[Dt-2]=arguments[Dt];return _.prototype[K].apply(M,Se)}}function v(g){const _=g.length;if(0<_){const R=Array(_);for(let M=0;M<_;M++)R[M]=g[M];return R}return[]}function x(g,_){for(let R=1;R<arguments.length;R++){const M=arguments[R];if(c(M)){const K=g.length||0,ne=M.length||0;g.length=K+ne;for(let Se=0;Se<ne;Se++)g[K+Se]=M[Se]}else g.push(M)}}class b{constructor(_,R){this.i=_,this.j=R,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function w(g){return/^[\s\xa0]*$/.test(g)}function j(){var g=l.navigator;return g&&(g=g.userAgent)?g:""}function N(g){return N[" "](g),g}N[" "]=function(){};var T=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function I(g,_,R){for(const M in g)_.call(R,g[M],M,g)}function P(g,_){for(const R in g)_.call(void 0,g[R],R,g)}function E(g){const _={};for(const R in g)_[R]=g[R];return _}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(g,_){let R,M;for(let K=1;K<arguments.length;K++){M=arguments[K];for(R in M)g[R]=M[R];for(let ne=0;ne<A.length;ne++)R=A[ne],Object.prototype.hasOwnProperty.call(M,R)&&(g[R]=M[R])}}function C(g){var _=1;g=g.split(":");const R=[];for(;0<_&&g.length;)R.push(g.shift()),_--;return g.length&&R.push(g.join(":")),R}function O(g){l.setTimeout(()=>{throw g},0)}function k(){var g=L;let _=null;return g.g&&(_=g.g,g.g=g.g.next,g.g||(g.h=null),_.next=null),_}class B{constructor(){this.h=this.g=null}add(_,R){const M=G.get();M.set(_,R),this.h?this.h.next=M:this.g=M,this.h=M}}var G=new b(()=>new U,g=>g.reset());class U{constructor(){this.next=this.g=this.h=null}set(_,R){this.h=_,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let $,D=!1,L=new B,W=()=>{const g=l.Promise.resolve(void 0);$=()=>{g.then(J)}};var J=()=>{for(var g;g=k();){try{g.h.call(g.g)}catch(R){O(R)}var _=G;_.j(g),100>_.h&&(_.h++,g.next=_.g,_.g=g)}D=!1};function V(){this.s=this.s,this.C=this.C}V.prototype.s=!1,V.prototype.ma=function(){this.s||(this.s=!0,this.N())},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(g,_){this.type=g,this.g=this.target=_,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var ee=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,_=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const R=()=>{};l.addEventListener("test",R,_),l.removeEventListener("test",R,_)}catch{}return g}();function re(g,_){if(ue.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var R=this.type=g.type,M=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=_,_=g.relatedTarget){if(T){e:{try{N(_.nodeName);var K=!0;break e}catch{}K=!1}K||(_=null)}}else R=="mouseover"?_=g.fromElement:R=="mouseout"&&(_=g.toElement);this.relatedTarget=_,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:be[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&re.aa.h.call(this)}}y(re,ue);var be={2:"touch",3:"pen",4:"mouse"};re.prototype.h=function(){re.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var se="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function ae(g,_,R,M,K){this.listener=g,this.proxy=null,this.src=_,this.type=R,this.capture=!!M,this.ha=K,this.key=++Ue,this.da=this.fa=!1}function z(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function H(g){this.src=g,this.g={},this.h=0}H.prototype.add=function(g,_,R,M,K){var ne=g.toString();g=this.g[ne],g||(g=this.g[ne]=[],this.h++);var Se=te(g,_,M,K);return-1<Se?(_=g[Se],R||(_.fa=!1)):(_=new ae(_,this.src,ne,!!M,K),_.fa=R,g.push(_)),_};function F(g,_){var R=_.type;if(R in g.g){var M=g.g[R],K=Array.prototype.indexOf.call(M,_,void 0),ne;(ne=0<=K)&&Array.prototype.splice.call(M,K,1),ne&&(z(_),g.g[R].length==0&&(delete g.g[R],g.h--))}}function te(g,_,R,M){for(var K=0;K<g.length;++K){var ne=g[K];if(!ne.da&&ne.listener==_&&ne.capture==!!R&&ne.ha==M)return K}return-1}var le="closure_lm_"+(1e6*Math.random()|0),pe={};function Re(g,_,R,M,K){if(Array.isArray(_)){for(var ne=0;ne<_.length;ne++)Re(g,_[ne],R,M,K);return null}return R=Fe(R),g&&g[se]?g.K(_,R,u(M)?!!M.capture:!!M,K):Le(g,_,R,!1,M,K)}function Le(g,_,R,M,K,ne){if(!_)throw Error("Invalid event type");var Se=u(K)?!!K.capture:!!K,Dt=de(g);if(Dt||(g[le]=Dt=new H(g)),R=Dt.add(_,R,M,Se,ne),R.proxy)return R;if(M=qe(),R.proxy=M,M.src=g,M.listener=R,g.addEventListener)ee||(K=Se),K===void 0&&(K=!1),g.addEventListener(_.toString(),M,K);else if(g.attachEvent)g.attachEvent(Pt(_.toString()),M);else if(g.addListener&&g.removeListener)g.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return R}function qe(){function g(R){return _.call(g.src,g.listener,R)}const _=X;return g}function xt(g,_,R,M,K){if(Array.isArray(_))for(var ne=0;ne<_.length;ne++)xt(g,_[ne],R,M,K);else M=u(M)?!!M.capture:!!M,R=Fe(R),g&&g[se]?(g=g.i,_=String(_).toString(),_ in g.g&&(ne=g.g[_],R=te(ne,R,M,K),-1<R&&(z(ne[R]),Array.prototype.splice.call(ne,R,1),ne.length==0&&(delete g.g[_],g.h--)))):g&&(g=de(g))&&(_=g.g[_.toString()],g=-1,_&&(g=te(_,R,M,K)),(R=-1<g?_[g]:null)&&Et(R))}function Et(g){if(typeof g!="number"&&g&&!g.da){var _=g.src;if(_&&_[se])F(_.i,g);else{var R=g.type,M=g.proxy;_.removeEventListener?_.removeEventListener(R,M,g.capture):_.detachEvent?_.detachEvent(Pt(R),M):_.addListener&&_.removeListener&&_.removeListener(M),(R=de(_))?(F(R,g),R.h==0&&(R.src=null,_[le]=null)):z(g)}}}function Pt(g){return g in pe?pe[g]:pe[g]="on"+g}function X(g,_){if(g.da)g=!0;else{_=new re(_,this);var R=g.listener,M=g.ha||g.src;g.fa&&Et(g),g=R.call(M,_)}return g}function de(g){return g=g[le],g instanceof H?g:null}var Ne="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fe(g){return typeof g=="function"?g:(g[Ne]||(g[Ne]=function(_){return g.handleEvent(_)}),g[Ne])}function _e(){V.call(this),this.i=new H(this),this.M=this,this.F=null}y(_e,V),_e.prototype[se]=!0,_e.prototype.removeEventListener=function(g,_,R,M){xt(this,g,_,R,M)};function Te(g,_){var R,M=g.F;if(M)for(R=[];M;M=M.F)R.push(M);if(g=g.M,M=_.type||_,typeof _=="string")_=new ue(_,g);else if(_ instanceof ue)_.target=_.target||g;else{var K=_;_=new ue(M,g),S(_,K)}if(K=!0,R)for(var ne=R.length-1;0<=ne;ne--){var Se=_.g=R[ne];K=st(Se,M,!0,_)&&K}if(Se=_.g=g,K=st(Se,M,!0,_)&&K,K=st(Se,M,!1,_)&&K,R)for(ne=0;ne<R.length;ne++)Se=_.g=R[ne],K=st(Se,M,!1,_)&&K}_e.prototype.N=function(){if(_e.aa.N.call(this),this.i){var g=this.i,_;for(_ in g.g){for(var R=g.g[_],M=0;M<R.length;M++)z(R[M]);delete g.g[_],g.h--}}this.F=null},_e.prototype.K=function(g,_,R,M){return this.i.add(String(g),_,!1,R,M)},_e.prototype.L=function(g,_,R,M){return this.i.add(String(g),_,!0,R,M)};function st(g,_,R,M){if(_=g.i.g[String(_)],!_)return!0;_=_.concat();for(var K=!0,ne=0;ne<_.length;++ne){var Se=_[ne];if(Se&&!Se.da&&Se.capture==R){var Dt=Se.listener,lr=Se.ha||Se.src;Se.fa&&F(g.i,Se),K=Dt.call(lr,M)!==!1&&K}}return K&&!M.defaultPrevented}function Pe(g,_,R){if(typeof g=="function")R&&(g=f(g,R));else if(g&&typeof g.handleEvent=="function")g=f(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:l.setTimeout(g,_||0)}function at(g){g.g=Pe(()=>{g.g=null,g.i&&(g.i=!1,at(g))},g.l);const _=g.h;g.h=null,g.m.apply(null,_)}class Lt extends V{constructor(_,R){super(),this.m=_,this.l=R,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:at(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nt(g){V.call(this),this.h=g,this.g={}}y(nt,V);var cn=[];function Rn(g){I(g.g,function(_,R){this.g.hasOwnProperty(R)&&Et(_)},g),g.g={}}nt.prototype.N=function(){nt.aa.N.call(this),Rn(this)},nt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ft=l.JSON.stringify,On=l.JSON.parse,Pc=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function xr(){}xr.prototype.h=null;function Hs(g){return g.h||(g.h=g.i())}function qr(){}var Ac={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Cc(){ue.call(this,"d")}y(Cc,ue);function Ks(){ue.call(this,"c")}y(Ks,ue);var zo={},We=null;function gt(){return We=We||new _e}zo.La="serverreachability";function Ot(g){ue.call(this,zo.La,g)}y(Ot,ue);function or(g){const _=gt();Te(_,new Ot(_))}zo.STAT_EVENT="statevent";function Yr(g,_){ue.call(this,zo.STAT_EVENT,g),this.stat=_}y(Yr,ue);function en(g){const _=gt();Te(_,new Yr(_,g))}zo.Ma="timingevent";function Ji(g,_){ue.call(this,zo.Ma,g),this.size=_}y(Ji,ue);function ar(g,_){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},_)}function Qr(){this.g=!0}Qr.prototype.xa=function(){this.g=!1};function qq(g,_,R,M,K,ne){g.info(function(){if(g.g)if(ne)for(var Se="",Dt=ne.split("&"),lr=0;lr<Dt.length;lr++){var wt=Dt[lr].split("=");if(1<wt.length){var wr=wt[0];wt=wt[1];var br=wr.split("_");Se=2<=br.length&&br[1]=="type"?Se+(wr+"="+wt+"&"):Se+(wr+"=redacted&")}}else Se=null;else Se=ne;return"XMLHTTP REQ ("+M+") [attempt "+K+"]: "+_+`
`+R+`
`+Se})}function Yq(g,_,R,M,K,ne,Se){g.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+K+"]: "+_+`
`+R+`
`+ne+" "+Se})}function Ju(g,_,R,M){g.info(function(){return"XMLHTTP TEXT ("+_+"): "+Xq(g,R)+(M?" "+M:"")})}function Qq(g,_){g.info(function(){return"TIMEOUT: "+_})}Qr.prototype.info=function(){};function Xq(g,_){if(!g.g)return _;if(!_)return null;try{var R=JSON.parse(_);if(R){for(g=0;g<R.length;g++)if(Array.isArray(R[g])){var M=R[g];if(!(2>M.length)){var K=M[1];if(Array.isArray(K)&&!(1>K.length)){var ne=K[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var Se=1;Se<K.length;Se++)K[Se]=""}}}}return ft(R)}catch{return _}}var Fg={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Jk={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},w1;function $g(){}y($g,xr),$g.prototype.g=function(){return new XMLHttpRequest},$g.prototype.i=function(){return{}},w1=new $g;function Ha(g,_,R,M){this.j=g,this.i=_,this.l=R,this.R=M||1,this.U=new nt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Zk}function Zk(){this.i=null,this.g="",this.h=!1}var e2={},b1={};function j1(g,_,R){g.L=1,g.v=zg(Go(_)),g.m=R,g.P=!0,t2(g,null)}function t2(g,_){g.F=Date.now(),Ug(g),g.A=Go(g.v);var R=g.A,M=g.R;Array.isArray(M)||(M=[String(M)]),p2(R.i,"t",M),g.C=0,R=g.j.J,g.h=new Zk,g.g=R2(g.j,R?_:null,!g.m),0<g.O&&(g.M=new Lt(f(g.Y,g,g.g),g.O)),_=g.U,R=g.g,M=g.ca;var K="readystatechange";Array.isArray(K)||(K&&(cn[0]=K.toString()),K=cn);for(var ne=0;ne<K.length;ne++){var Se=Re(R,K[ne],M||_.handleEvent,!1,_.h||_);if(!Se)break;_.g[Se.key]=Se}_=g.H?E(g.H):{},g.m?(g.u||(g.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,_)):(g.u="GET",g.g.ea(g.A,g.u,null,_)),or(),qq(g.i,g.u,g.A,g.l,g.R,g.m)}Ha.prototype.ca=function(g){g=g.target;const _=this.M;_&&Wo(g)==3?_.j():this.Y(g)},Ha.prototype.Y=function(g){try{if(g==this.g)e:{const br=Wo(this.g);var _=this.g.Ba();const td=this.g.Z();if(!(3>br)&&(br!=3||this.g&&(this.h.h||this.g.oa()||j2(this.g)))){this.J||br!=4||_==7||(_==8||0>=td?or(3):or(2)),N1(this);var R=this.g.Z();this.X=R;t:if(n2(this)){var M=j2(this.g);g="";var K=M.length,ne=Wo(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tc(this),jf(this);var Se="";break t}this.h.i=new l.TextDecoder}for(_=0;_<K;_++)this.h.h=!0,g+=this.h.i.decode(M[_],{stream:!(ne&&_==K-1)});M.length=0,this.h.g+=g,this.C=0,Se=this.h.g}else Se=this.g.oa();if(this.o=R==200,Yq(this.i,this.u,this.A,this.l,this.R,br,R),this.o){if(this.T&&!this.K){t:{if(this.g){var Dt,lr=this.g;if((Dt=lr.g?lr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Dt)){var wt=Dt;break t}}wt=null}if(R=wt)Ju(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,S1(this,R);else{this.o=!1,this.s=3,en(12),Tc(this),jf(this);break e}}if(this.P){R=!0;let ji;for(;!this.J&&this.C<Se.length;)if(ji=Jq(this,Se),ji==b1){br==4&&(this.s=4,en(14),R=!1),Ju(this.i,this.l,null,"[Incomplete Response]");break}else if(ji==e2){this.s=4,en(15),Ju(this.i,this.l,Se,"[Invalid Chunk]"),R=!1;break}else Ju(this.i,this.l,ji,null),S1(this,ji);if(n2(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),br!=4||Se.length!=0||this.h.h||(this.s=1,en(16),R=!1),this.o=this.o&&R,!R)Ju(this.i,this.l,Se,"[Invalid Chunked Response]"),Tc(this),jf(this);else if(0<Se.length&&!this.W){this.W=!0;var wr=this.j;wr.g==this&&wr.ba&&!wr.M&&(wr.j.info("Great, no buffering proxy detected. Bytes received: "+Se.length),T1(wr),wr.M=!0,en(11))}}else Ju(this.i,this.l,Se,null),S1(this,Se);br==4&&Tc(this),this.o&&!this.J&&(br==4?C2(this.j,this):(this.o=!1,Ug(this)))}else pY(this.g),R==400&&0<Se.indexOf("Unknown SID")?(this.s=3,en(12)):(this.s=0,en(13)),Tc(this),jf(this)}}}catch{}finally{}};function n2(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function Jq(g,_){var R=g.C,M=_.indexOf(`
`,R);return M==-1?b1:(R=Number(_.substring(R,M)),isNaN(R)?e2:(M+=1,M+R>_.length?b1:(_=_.slice(M,M+R),g.C=M+R,_)))}Ha.prototype.cancel=function(){this.J=!0,Tc(this)};function Ug(g){g.S=Date.now()+g.I,r2(g,g.I)}function r2(g,_){if(g.B!=null)throw Error("WatchDog timer not null");g.B=ar(f(g.ba,g),_)}function N1(g){g.B&&(l.clearTimeout(g.B),g.B=null)}Ha.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(Qq(this.i,this.A),this.L!=2&&(or(),en(17)),Tc(this),this.s=2,jf(this)):r2(this,this.S-g)};function jf(g){g.j.G==0||g.J||C2(g.j,g)}function Tc(g){N1(g);var _=g.M;_&&typeof _.ma=="function"&&_.ma(),g.M=null,Rn(g.U),g.g&&(_=g.g,g.g=null,_.abort(),_.ma())}function S1(g,_){try{var R=g.j;if(R.G!=0&&(R.g==g||_1(R.h,g))){if(!g.K&&_1(R.h,g)&&R.G==3){try{var M=R.Da.g.parse(_)}catch{M=null}if(Array.isArray(M)&&M.length==3){var K=M;if(K[0]==0){e:if(!R.u){if(R.g)if(R.g.F+3e3<g.F)Yg(R),Kg(R);else break e;C1(R),en(18)}}else R.za=K[1],0<R.za-R.T&&37500>K[2]&&R.F&&R.v==0&&!R.C&&(R.C=ar(f(R.Za,R),6e3));if(1>=o2(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else Ic(R,11)}else if((g.K||R.g==g)&&Yg(R),!w(_))for(K=R.Da.g.parse(_),_=0;_<K.length;_++){let wt=K[_];if(R.T=wt[0],wt=wt[1],R.G==2)if(wt[0]=="c"){R.K=wt[1],R.ia=wt[2];const wr=wt[3];wr!=null&&(R.la=wr,R.j.info("VER="+R.la));const br=wt[4];br!=null&&(R.Aa=br,R.j.info("SVER="+R.Aa));const td=wt[5];td!=null&&typeof td=="number"&&0<td&&(M=1.5*td,R.L=M,R.j.info("backChannelRequestTimeoutMs_="+M)),M=R;const ji=g.g;if(ji){const Xg=ji.g?ji.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xg){var ne=M.h;ne.g||Xg.indexOf("spdy")==-1&&Xg.indexOf("quic")==-1&&Xg.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(E1(ne,ne.h),ne.h=null))}if(M.D){const k1=ji.g?ji.g.getResponseHeader("X-HTTP-Session-Id"):null;k1&&(M.ya=k1,zt(M.I,M.D,k1))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-g.F,R.j.info("Handshake RTT: "+R.R+"ms")),M=R;var Se=g;if(M.qa=I2(M,M.J?M.ia:null,M.W),Se.K){a2(M.h,Se);var Dt=Se,lr=M.L;lr&&(Dt.I=lr),Dt.B&&(N1(Dt),Ug(Dt)),M.g=Se}else P2(M);0<R.i.length&&qg(R)}else wt[0]!="stop"&&wt[0]!="close"||Ic(R,7);else R.G==3&&(wt[0]=="stop"||wt[0]=="close"?wt[0]=="stop"?Ic(R,7):A1(R):wt[0]!="noop"&&R.l&&R.l.ta(wt),R.v=0)}}or(4)}catch{}}var Zq=class{constructor(g,_){this.g=g,this.map=_}};function s2(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function i2(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function o2(g){return g.h?1:g.g?g.g.size:0}function _1(g,_){return g.h?g.h==_:g.g?g.g.has(_):!1}function E1(g,_){g.g?g.g.add(_):g.h=_}function a2(g,_){g.h&&g.h==_?g.h=null:g.g&&g.g.has(_)&&g.g.delete(_)}s2.prototype.cancel=function(){if(this.i=l2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function l2(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let _=g.i;for(const R of g.g.values())_=_.concat(R.D);return _}return v(g.i)}function eY(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(c(g)){for(var _=[],R=g.length,M=0;M<R;M++)_.push(g[M]);return _}_=[],R=0;for(M in g)_[R++]=g[M];return _}function tY(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(c(g)||typeof g=="string"){var _=[];g=g.length;for(var R=0;R<g;R++)_.push(R);return _}_=[],R=0;for(const M in g)_[R++]=M;return _}}}function c2(g,_){if(g.forEach&&typeof g.forEach=="function")g.forEach(_,void 0);else if(c(g)||typeof g=="string")Array.prototype.forEach.call(g,_,void 0);else for(var R=tY(g),M=eY(g),K=M.length,ne=0;ne<K;ne++)_.call(void 0,M[ne],R&&R[ne],g)}var u2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nY(g,_){if(g){g=g.split("&");for(var R=0;R<g.length;R++){var M=g[R].indexOf("="),K=null;if(0<=M){var ne=g[R].substring(0,M);K=g[R].substring(M+1)}else ne=g[R];_(ne,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function kc(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof kc){this.h=g.h,Bg(this,g.j),this.o=g.o,this.g=g.g,Vg(this,g.s),this.l=g.l;var _=g.i,R=new _f;R.i=_.i,_.g&&(R.g=new Map(_.g),R.h=_.h),d2(this,R),this.m=g.m}else g&&(_=String(g).match(u2))?(this.h=!1,Bg(this,_[1]||"",!0),this.o=Nf(_[2]||""),this.g=Nf(_[3]||"",!0),Vg(this,_[4]),this.l=Nf(_[5]||"",!0),d2(this,_[6]||"",!0),this.m=Nf(_[7]||"")):(this.h=!1,this.i=new _f(null,this.h))}kc.prototype.toString=function(){var g=[],_=this.j;_&&g.push(Sf(_,h2,!0),":");var R=this.g;return(R||_=="file")&&(g.push("//"),(_=this.o)&&g.push(Sf(_,h2,!0),"@"),g.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&g.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&g.push("/"),g.push(Sf(R,R.charAt(0)=="/"?iY:sY,!0))),(R=this.i.toString())&&g.push("?",R),(R=this.m)&&g.push("#",Sf(R,aY)),g.join("")};function Go(g){return new kc(g)}function Bg(g,_,R){g.j=R?Nf(_,!0):_,g.j&&(g.j=g.j.replace(/:$/,""))}function Vg(g,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);g.s=_}else g.s=null}function d2(g,_,R){_ instanceof _f?(g.i=_,lY(g.i,g.h)):(R||(_=Sf(_,oY)),g.i=new _f(_,g.h))}function zt(g,_,R){g.i.set(_,R)}function zg(g){return zt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function Nf(g,_){return g?_?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Sf(g,_,R){return typeof g=="string"?(g=encodeURI(g).replace(_,rY),R&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function rY(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var h2=/[#\/\?@]/g,sY=/[#\?:]/g,iY=/[#\?]/g,oY=/[#\?@]/g,aY=/#/g;function _f(g,_){this.h=this.g=null,this.i=g||null,this.j=!!_}function Ka(g){g.g||(g.g=new Map,g.h=0,g.i&&nY(g.i,function(_,R){g.add(decodeURIComponent(_.replace(/\+/g," ")),R)}))}t=_f.prototype,t.add=function(g,_){Ka(this),this.i=null,g=Zu(this,g);var R=this.g.get(g);return R||this.g.set(g,R=[]),R.push(_),this.h+=1,this};function f2(g,_){Ka(g),_=Zu(g,_),g.g.has(_)&&(g.i=null,g.h-=g.g.get(_).length,g.g.delete(_))}function m2(g,_){return Ka(g),_=Zu(g,_),g.g.has(_)}t.forEach=function(g,_){Ka(this),this.g.forEach(function(R,M){R.forEach(function(K){g.call(_,K,M,this)},this)},this)},t.na=function(){Ka(this);const g=Array.from(this.g.values()),_=Array.from(this.g.keys()),R=[];for(let M=0;M<_.length;M++){const K=g[M];for(let ne=0;ne<K.length;ne++)R.push(_[M])}return R},t.V=function(g){Ka(this);let _=[];if(typeof g=="string")m2(this,g)&&(_=_.concat(this.g.get(Zu(this,g))));else{g=Array.from(this.g.values());for(let R=0;R<g.length;R++)_=_.concat(g[R])}return _},t.set=function(g,_){return Ka(this),this.i=null,g=Zu(this,g),m2(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[_]),this.h+=1,this},t.get=function(g,_){return g?(g=this.V(g),0<g.length?String(g[0]):_):_};function p2(g,_,R){f2(g,_),0<R.length&&(g.i=null,g.g.set(Zu(g,_),v(R)),g.h+=R.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],_=Array.from(this.g.keys());for(var R=0;R<_.length;R++){var M=_[R];const ne=encodeURIComponent(String(M)),Se=this.V(M);for(M=0;M<Se.length;M++){var K=ne;Se[M]!==""&&(K+="="+encodeURIComponent(String(Se[M]))),g.push(K)}}return this.i=g.join("&")};function Zu(g,_){return _=String(_),g.j&&(_=_.toLowerCase()),_}function lY(g,_){_&&!g.j&&(Ka(g),g.i=null,g.g.forEach(function(R,M){var K=M.toLowerCase();M!=K&&(f2(this,M),p2(this,K,R))},g)),g.j=_}function cY(g,_){const R=new Qr;if(l.Image){const M=new Image;M.onload=m(qa,R,"TestLoadImage: loaded",!0,_,M),M.onerror=m(qa,R,"TestLoadImage: error",!1,_,M),M.onabort=m(qa,R,"TestLoadImage: abort",!1,_,M),M.ontimeout=m(qa,R,"TestLoadImage: timeout",!1,_,M),l.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=g}else _(!1)}function uY(g,_){const R=new Qr,M=new AbortController,K=setTimeout(()=>{M.abort(),qa(R,"TestPingServer: timeout",!1,_)},1e4);fetch(g,{signal:M.signal}).then(ne=>{clearTimeout(K),ne.ok?qa(R,"TestPingServer: ok",!0,_):qa(R,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(K),qa(R,"TestPingServer: error",!1,_)})}function qa(g,_,R,M,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),M(R)}catch{}}function dY(){this.g=new Pc}function hY(g,_,R){const M=R||"";try{c2(g,function(K,ne){let Se=K;u(K)&&(Se=ft(K)),_.push(M+ne+"="+encodeURIComponent(Se))})}catch(K){throw _.push(M+"type="+encodeURIComponent("_badmap")),K}}function Gg(g){this.l=g.Ub||null,this.j=g.eb||!1}y(Gg,xr),Gg.prototype.g=function(){return new Wg(this.l,this.j)},Gg.prototype.i=function(g){return function(){return g}}({});function Wg(g,_){_e.call(this),this.D=g,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Wg,_e),t=Wg.prototype,t.open=function(g,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=_,this.readyState=1,Pf(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(_.body=g),(this.D||l).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ef(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Pf(this)),this.g&&(this.readyState=3,Pf(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;g2(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function g2(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var _=g.value?g.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!g.done}))&&(this.response=this.responseText+=_)}g.done?Ef(this):Pf(this),this.readyState==3&&g2(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,Ef(this))},t.Qa=function(g){this.g&&(this.response=g,Ef(this))},t.ga=function(){this.g&&Ef(this)};function Ef(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Pf(g)}t.setRequestHeader=function(g,_){this.u.append(g,_)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],_=this.h.entries();for(var R=_.next();!R.done;)R=R.value,g.push(R[0]+": "+R[1]),R=_.next();return g.join(`\r
`)};function Pf(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Wg.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function v2(g){let _="";return I(g,function(R,M){_+=M,_+=":",_+=R,_+=`\r
`}),_}function P1(g,_,R){e:{for(M in R){var M=!1;break e}M=!0}M||(R=v2(R),typeof g=="string"?R!=null&&encodeURIComponent(String(R)):zt(g,_,R))}function yn(g){_e.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(yn,_e);var fY=/^https?$/i,mY=["POST","PUT"];t=yn.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,_,R,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);_=_?_.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():w1.g(),this.v=this.o?Hs(this.o):Hs(w1),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(_,String(g),!0),this.B=!1}catch(ne){y2(this,ne);return}if(g=R||"",R=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var K in M)R.set(K,M[K]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const ne of M.keys())R.set(ne,M.get(ne));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(R.keys()).find(ne=>ne.toLowerCase()=="content-type"),K=l.FormData&&g instanceof l.FormData,!(0<=Array.prototype.indexOf.call(mY,_,void 0))||M||K||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,Se]of R)this.g.setRequestHeader(ne,Se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{b2(this),this.u=!0,this.g.send(g),this.u=!1}catch(ne){y2(this,ne)}};function y2(g,_){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=_,g.m=5,x2(g),Hg(g)}function x2(g){g.A||(g.A=!0,Te(g,"complete"),Te(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,Te(this,"complete"),Te(this,"abort"),Hg(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hg(this,!0)),yn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?w2(this):this.bb())},t.bb=function(){w2(this)};function w2(g){if(g.h&&typeof a<"u"&&(!g.v[1]||Wo(g)!=4||g.Z()!=2)){if(g.u&&Wo(g)==4)Pe(g.Ea,0,g);else if(Te(g,"readystatechange"),Wo(g)==4){g.h=!1;try{const Se=g.Z();e:switch(Se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var R;if(!(R=_)){var M;if(M=Se===0){var K=String(g.D).match(u2)[1]||null;!K&&l.self&&l.self.location&&(K=l.self.location.protocol.slice(0,-1)),M=!fY.test(K?K.toLowerCase():"")}R=M}if(R)Te(g,"complete"),Te(g,"success");else{g.m=6;try{var ne=2<Wo(g)?g.g.statusText:""}catch{ne=""}g.l=ne+" ["+g.Z()+"]",x2(g)}}finally{Hg(g)}}}}function Hg(g,_){if(g.g){b2(g);const R=g.g,M=g.v[0]?()=>{}:null;g.g=null,g.v=null,_||Te(g,"ready");try{R.onreadystatechange=M}catch{}}}function b2(g){g.I&&(l.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function Wo(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<Wo(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var _=this.g.responseText;return g&&_.indexOf(g)==0&&(_=_.substring(g.length)),On(_)}};function j2(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function pY(g){const _={};g=(g.g&&2<=Wo(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<g.length;M++){if(w(g[M]))continue;var R=C(g[M]);const K=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const ne=_[K]||[];_[K]=ne,ne.push(R)}P(_,function(M){return M.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Af(g,_,R){return R&&R.internalChannelParams&&R.internalChannelParams[g]||_}function N2(g){this.Aa=0,this.i=[],this.j=new Qr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Af("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Af("baseRetryDelayMs",5e3,g),this.cb=Af("retryDelaySeedMs",1e4,g),this.Wa=Af("forwardChannelMaxRetries",2,g),this.wa=Af("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new s2(g&&g.concurrentRequestLimit),this.Da=new dY,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=N2.prototype,t.la=8,t.G=1,t.connect=function(g,_,R,M){en(0),this.W=g,this.H=_||{},R&&M!==void 0&&(this.H.OSID=R,this.H.OAID=M),this.F=this.X,this.I=I2(this,null,this.W),qg(this)};function A1(g){if(S2(g),g.G==3){var _=g.U++,R=Go(g.I);if(zt(R,"SID",g.K),zt(R,"RID",_),zt(R,"TYPE","terminate"),Cf(g,R),_=new Ha(g,g.j,_),_.L=2,_.v=zg(Go(R)),R=!1,l.navigator&&l.navigator.sendBeacon)try{R=l.navigator.sendBeacon(_.v.toString(),"")}catch{}!R&&l.Image&&(new Image().src=_.v,R=!0),R||(_.g=R2(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Ug(_)}k2(g)}function Kg(g){g.g&&(T1(g),g.g.cancel(),g.g=null)}function S2(g){Kg(g),g.u&&(l.clearTimeout(g.u),g.u=null),Yg(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&l.clearTimeout(g.s),g.s=null)}function qg(g){if(!i2(g.h)&&!g.s){g.s=!0;var _=g.Ga;$||W(),D||($(),D=!0),L.add(_,g),g.B=0}}function gY(g,_){return o2(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=_.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=ar(f(g.Ga,g,_),T2(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const K=new Ha(this,this.j,g);let ne=this.o;if(this.S&&(ne?(ne=E(ne),S(ne,this.S)):ne=this.S),this.m!==null||this.O||(K.H=ne,ne=null),this.P)e:{for(var _=0,R=0;R<this.i.length;R++){t:{var M=this.i[R];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(_+=M,4096<_){_=R;break e}if(_===4096||R===this.i.length-1){_=R+1;break e}}_=1e3}else _=1e3;_=E2(this,K,_),R=Go(this.I),zt(R,"RID",g),zt(R,"CVER",22),this.D&&zt(R,"X-HTTP-Session-Id",this.D),Cf(this,R),ne&&(this.O?_="headers="+encodeURIComponent(String(v2(ne)))+"&"+_:this.m&&P1(R,this.m,ne)),E1(this.h,K),this.Ua&&zt(R,"TYPE","init"),this.P?(zt(R,"$req",_),zt(R,"SID","null"),K.T=!0,j1(K,R,null)):j1(K,R,_),this.G=2}}else this.G==3&&(g?_2(this,g):this.i.length==0||i2(this.h)||_2(this))};function _2(g,_){var R;_?R=_.l:R=g.U++;const M=Go(g.I);zt(M,"SID",g.K),zt(M,"RID",R),zt(M,"AID",g.T),Cf(g,M),g.m&&g.o&&P1(M,g.m,g.o),R=new Ha(g,g.j,R,g.B+1),g.m===null&&(R.H=g.o),_&&(g.i=_.D.concat(g.i)),_=E2(g,R,1e3),R.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),E1(g.h,R),j1(R,M,_)}function Cf(g,_){g.H&&I(g.H,function(R,M){zt(_,M,R)}),g.l&&c2({},function(R,M){zt(_,M,R)})}function E2(g,_,R){R=Math.min(g.i.length,R);var M=g.l?f(g.l.Na,g.l,g):null;e:{var K=g.i;let ne=-1;for(;;){const Se=["count="+R];ne==-1?0<R?(ne=K[0].g,Se.push("ofs="+ne)):ne=0:Se.push("ofs="+ne);let Dt=!0;for(let lr=0;lr<R;lr++){let wt=K[lr].g;const wr=K[lr].map;if(wt-=ne,0>wt)ne=Math.max(0,K[lr].g-100),Dt=!1;else try{hY(wr,Se,"req"+wt+"_")}catch{M&&M(wr)}}if(Dt){M=Se.join("&");break e}}}return g=g.i.splice(0,R),_.D=g,M}function P2(g){if(!g.g&&!g.u){g.Y=1;var _=g.Fa;$||W(),D||($(),D=!0),L.add(_,g),g.v=0}}function C1(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=ar(f(g.Fa,g),T2(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,A2(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=ar(f(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,en(10),Kg(this),A2(this))};function T1(g){g.A!=null&&(l.clearTimeout(g.A),g.A=null)}function A2(g){g.g=new Ha(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var _=Go(g.qa);zt(_,"RID","rpc"),zt(_,"SID",g.K),zt(_,"AID",g.T),zt(_,"CI",g.F?"0":"1"),!g.F&&g.ja&&zt(_,"TO",g.ja),zt(_,"TYPE","xmlhttp"),Cf(g,_),g.m&&g.o&&P1(_,g.m,g.o),g.L&&(g.g.I=g.L);var R=g.g;g=g.ia,R.L=1,R.v=zg(Go(_)),R.m=null,R.P=!0,t2(R,g)}t.Za=function(){this.C!=null&&(this.C=null,Kg(this),C1(this),en(19))};function Yg(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function C2(g,_){var R=null;if(g.g==_){Yg(g),T1(g),g.g=null;var M=2}else if(_1(g.h,_))R=_.D,a2(g.h,_),M=1;else return;if(g.G!=0){if(_.o)if(M==1){R=_.m?_.m.length:0,_=Date.now()-_.F;var K=g.B;M=gt(),Te(M,new Ji(M,R)),qg(g)}else P2(g);else if(K=_.s,K==3||K==0&&0<_.X||!(M==1&&gY(g,_)||M==2&&C1(g)))switch(R&&0<R.length&&(_=g.h,_.i=_.i.concat(R)),K){case 1:Ic(g,5);break;case 4:Ic(g,10);break;case 3:Ic(g,6);break;default:Ic(g,2)}}}function T2(g,_){let R=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(R*=2),R*_}function Ic(g,_){if(g.j.info("Error code "+_),_==2){var R=f(g.fb,g),M=g.Xa;const K=!M;M=new kc(M||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Bg(M,"https"),zg(M),K?cY(M.toString(),R):uY(M.toString(),R)}else en(2);g.G=0,g.l&&g.l.sa(_),k2(g),S2(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),en(2)):(this.j.info("Failed to ping google.com"),en(1))};function k2(g){if(g.G=0,g.ka=[],g.l){const _=l2(g.h);(_.length!=0||g.i.length!=0)&&(x(g.ka,_),x(g.ka,g.i),g.h.i.length=0,v(g.i),g.i.length=0),g.l.ra()}}function I2(g,_,R){var M=R instanceof kc?Go(R):new kc(R);if(M.g!="")_&&(M.g=_+"."+M.g),Vg(M,M.s);else{var K=l.location;M=K.protocol,_=_?_+"."+K.hostname:K.hostname,K=+K.port;var ne=new kc(null);M&&Bg(ne,M),_&&(ne.g=_),K&&Vg(ne,K),R&&(ne.l=R),M=ne}return R=g.D,_=g.ya,R&&_&&zt(M,R,_),zt(M,"VER",g.la),Cf(g,M),M}function R2(g,_,R){if(_&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=g.Ca&&!g.pa?new yn(new Gg({eb:R})):new yn(g.pa),_.Ha(g.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function O2(){}t=O2.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Qg(){}Qg.prototype.g=function(g,_){return new vs(g,_)};function vs(g,_){_e.call(this),this.g=new N2(_),this.l=g,this.h=_&&_.messageUrlParams||null,g=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(g?g["X-WebChannel-Content-Type"]=_.messageContentType:g={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(g?g["X-WebChannel-Client-Profile"]=_.va:g={"X-WebChannel-Client-Profile":_.va}),this.g.S=g,(g=_&&_.Sb)&&!w(g)&&(this.g.m=g),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!w(_)&&(this.g.D=_,g=this.h,g!==null&&_ in g&&(g=this.h,_ in g&&delete g[_])),this.j=new ed(this)}y(vs,_e),vs.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vs.prototype.close=function(){A1(this.g)},vs.prototype.o=function(g){var _=this.g;if(typeof g=="string"){var R={};R.__data__=g,g=R}else this.u&&(R={},R.__data__=ft(g),g=R);_.i.push(new Zq(_.Ya++,g)),_.G==3&&qg(_)},vs.prototype.N=function(){this.g.l=null,delete this.j,A1(this.g),delete this.g,vs.aa.N.call(this)};function D2(g){Cc.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var _=g.__sm__;if(_){e:{for(const R in _){g=R;break e}g=void 0}(this.i=g)&&(g=this.i,_=_!==null&&g in _?_[g]:void 0),this.data=_}else this.data=g}y(D2,Cc);function M2(){Ks.call(this),this.status=1}y(M2,Ks);function ed(g){this.g=g}y(ed,O2),ed.prototype.ua=function(){Te(this.g,"a")},ed.prototype.ta=function(g){Te(this.g,new D2(g))},ed.prototype.sa=function(g){Te(this.g,new M2)},ed.prototype.ra=function(){Te(this.g,"b")},Qg.prototype.createWebChannel=Qg.prototype.g,vs.prototype.send=vs.prototype.o,vs.prototype.open=vs.prototype.m,vs.prototype.close=vs.prototype.close,Z$=function(){return new Qg},J$=function(){return gt()},X$=zo,KS={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fg.NO_ERROR=0,Fg.TIMEOUT=8,Fg.HTTP_ERROR=6,Ey=Fg,Jk.COMPLETE="complete",Q$=Jk,qr.EventType=Ac,Ac.OPEN="a",Ac.CLOSE="b",Ac.ERROR="c",Ac.MESSAGE="d",_e.prototype.listen=_e.prototype.K,sm=qr,yn.prototype.listenOnce=yn.prototype.L,yn.prototype.getLastError=yn.prototype.Ka,yn.prototype.getLastErrorCode=yn.prototype.Ba,yn.prototype.getStatus=yn.prototype.Z,yn.prototype.getResponseJson=yn.prototype.Oa,yn.prototype.getResponseText=yn.prototype.oa,yn.prototype.send=yn.prototype.ea,yn.prototype.setWithCredentials=yn.prototype.Ha,Y$=yn}).apply(typeof Nv<"u"?Nv:typeof self<"u"?self:typeof window<"u"?window:{});const dO="@firebase/firestore",hO="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ar.UNAUTHENTICATED=new Ar(null),Ar.GOOGLE_CREDENTIALS=new Ar("google-credentials-uid"),Ar.FIRST_PARTY=new Ar("first-party-uid"),Ar.MOCK_USER=new Ar("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yh="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u=new GP("@firebase/firestore");function ud(){return _u.logLevel}function Ce(t,...e){if(_u.logLevel<=lt.DEBUG){const n=e.map(sA);_u.debug(`Firestore (${Yh}): ${t}`,...n)}}function Ea(t,...e){if(_u.logLevel<=lt.ERROR){const n=e.map(sA);_u.error(`Firestore (${Yh}): ${t}`,...n)}}function fh(t,...e){if(_u.logLevel<=lt.WARN){const n=e.map(sA);_u.warn(`Firestore (${Yh}): ${t}`,...n)}}function sA(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,eU(t,r,n)}function eU(t,e,n){let r=`FIRESTORE (${Yh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ea(r),new Error(r)}function _t(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||eU(e,s,r)}function Qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends Fo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lle{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ar.UNAUTHENTICATED))}shutdown(){}}class cle{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ule{constructor(e){this.t=e,this.currentUser=Ar.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_t(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new ha;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ha,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ha)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_t(typeof r.accessToken=="string",31837,{l:r}),new tU(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _t(e===null||typeof e=="string",2055,{h:e}),new Ar(e)}}class dle{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ar.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hle{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new dle(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ar.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fle{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ns(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){_t(this.o===void 0,3512);const r=i=>{i.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,Ce("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new fO(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(_t(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new fO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mle(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=mle(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ct(t,e){return t<e?-1:t>e?1:0}function qS(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return bj(s)===bj(i)?ct(s,i):bj(s)?1:-1}return ct(t.length,e.length)}const ple=55296,gle=57343;function bj(t){const e=t.charCodeAt(0);return e>=ple&&e<=gle}function mh(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO="__name__";class ro{constructor(e,n,r){n===void 0?n=0:n>e.length&&ze(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ze(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ro.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ro?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=ro.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ct(e.length,n.length)}static compareSegments(e,n){const r=ro.isNumericId(e),s=ro.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?ro.extractNumericId(e).compare(ro.extractNumericId(n)):qS(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vl.fromString(e.substring(4,e.length-2))}}class $t extends ro{construct(e,n,r){return new $t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new $t(n)}static emptyPath(){return new $t([])}}const vle=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fr extends ro{construct(e,n,r){return new fr(e,n,r)}static isValidIdentifier(e){return vle.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mO}static keyField(){return new fr([mO])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Ae(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new Ae(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Ae(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(r+=l,s++):(i(),s++)}if(i(),a)throw new Ae(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fr(n)}static emptyPath(){return new fr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.path=e}static fromPath(e){return new Be($t.fromString(e))}static fromName(e){return new Be($t.fromString(e).popFirst(5))}static empty(){return new Be($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Be(new $t(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nU(t,e,n){if(!n)throw new Ae(oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function yle(t,e,n,r){if(e===!0&&r===!0)throw new Ae(oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function pO(t){if(!Be.isDocumentKey(t))throw new Ae(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function gO(t){if(Be.isDocumentKey(t))throw new Ae(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function rU(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Rw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ze(12329,{type:typeof t})}function Pa(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ae(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Rw(t);throw new Ae(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Kp(t,e){if(!rU(t))throw new Ae(oe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(s&&typeof a!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&a!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Ae(oe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=-62135596800,yO=1e6;class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*yO);return new St(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ae(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ae(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<vO)throw new Ae(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yO}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:St._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Kp(e,St._jsonSchema))return new St(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-vO;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}St._jsonSchemaVersion="firestore/timestamp/1.0",St._jsonSchema={type:Fn("string",St._jsonSchemaVersion),seconds:Fn("number"),nanoseconds:Fn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{static fromTimestamp(e){return new Ye(e)}static min(){return new Ye(new St(0,0))}static max(){return new Ye(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap=-1;function xle(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ye.fromTimestamp(r===1e9?new St(n+1,0):new St(n,r));return new ec(s,Be.empty(),e)}function wle(t){return new ec(t.readTime,t.key,ap)}class ec{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ec(Ye.min(),Be.empty(),ap)}static max(){return new ec(Ye.max(),Be.empty(),ap)}}function ble(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Be.comparator(t.documentKey,e.documentKey),n!==0?n:ct(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jle="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Nle{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qh(t){if(t.code!==oe.FAILED_PRECONDITION||t.message!==jle)throw t;Ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ze(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ce((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ce?n:ce.resolve(n)}catch(n){return ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ce.reject(n)}static resolve(e){return new ce((n,r)=>{n(e)})}static reject(e){return new ce((n,r)=>{r(e)})}static waitFor(e){return new ce((n,r)=>{let s=0,i=0,a=!1;e.forEach(l=>{++s,l.next(()=>{++i,a&&i===s&&n()},c=>r(c))}),a=!0,i===s&&n()})}static or(e){let n=ce.resolve(!1);for(const r of e)n=n.next(s=>s?ce.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new ce((r,s)=>{const i=e.length,a=new Array(i);let l=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(d=>{a[u]=d,++l,l===i&&r(a)},d=>s(d))}})}static doWhile(e,n){return new ce((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function Sle(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Xh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ow.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=-1;function Dw(t){return t==null}function Ox(t){return t===0&&1/t==-1/0}function _le(t){return typeof t=="number"&&Number.isInteger(t)&&!Ox(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU="";function Ele(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=xO(e)),e=Ple(t.get(n),e);return xO(e)}function Ple(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case sU:n+="";break;default:n+=i}}return n}function xO(t){return t+sU+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function gc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function iU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,n){this.comparator=e,this.root=n||dr.EMPTY}insert(e,n){return new gn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dr.BLACK,null,null))}remove(e){return new gn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sv(this.root,e,this.comparator,!0)}}class Sv{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dr{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??dr.RED,this.left=s??dr.EMPTY,this.right=i??dr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new dr(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return dr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return dr.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ze(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ze(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ze(27949);return e+(this.isRed()?0:1)}}dr.EMPTY=null,dr.RED=!0,dr.BLACK=!1;dr.EMPTY=new class{constructor(){this.size=0}get key(){throw ze(57766)}get value(){throw ze(16141)}get color(){throw ze(16727)}get left(){throw ze(29726)}get right(){throw ze(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new dr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.comparator=e,this.data=new gn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new bO(this.data.getIterator())}getIteratorFrom(e){return new bO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Wn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Wn(this.comparator);return n.data=e,n}}class bO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this.fields=e,e.sort(fr.comparator)}static empty(){return new As([])}unionWith(e){let n=new Wn(fr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new As(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return mh(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new oU("Invalid base64 string: "+i):i}}(e);return new vr(n)}static fromUint8Array(e){const n=function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i}(e);return new vr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vr.EMPTY_BYTE_STRING=new vr("");const Ale=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tc(t){if(_t(!!t,39018),typeof t=="string"){let e=0;const n=Ale.exec(t);if(_t(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pn(t.seconds),nanos:Pn(t.nanos)}}function Pn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function nc(t){return typeof t=="string"?vr.fromBase64String(t):vr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU="server_timestamp",lU="__type__",cU="__previous_value__",uU="__local_write_time__";function aA(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[lU])==null?void 0:r.stringValue)===aU}function Mw(t){const e=t.mapValue.fields[cU];return aA(e)?Mw(e):e}function lp(t){const e=tc(t.mapValue.fields[uU].timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cle{constructor(e,n,r,s,i,a,l,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const Dx="(default)";class cp{constructor(e,n){this.projectId=e,this.database=n||Dx}static empty(){return new cp("","")}get isDefaultDatabase(){return this.database===Dx}isEqual(e){return e instanceof cp&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dU="__type__",hU="__max__",_v={mapValue:{fields:{__type__:{stringValue:hU}}}},fU="__vector__",Mx="value";function rc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?aA(t)?4:kle(t)?9007199254740991:Tle(t)?10:11:ze(28295,{value:t})}function Co(t,e){if(t===e)return!0;const n=rc(t);if(n!==rc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return lp(t).isEqual(lp(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=tc(s.timestampValue),l=tc(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return nc(s.bytesValue).isEqual(nc(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Pn(s.geoPointValue.latitude)===Pn(i.geoPointValue.latitude)&&Pn(s.geoPointValue.longitude)===Pn(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Pn(s.integerValue)===Pn(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=Pn(s.doubleValue),l=Pn(i.doubleValue);return a===l?Ox(a)===Ox(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return mh(t.arrayValue.values||[],e.arrayValue.values||[],Co);case 10:case 11:return function(s,i){const a=s.mapValue.fields||{},l=i.mapValue.fields||{};if(wO(a)!==wO(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!Co(a[c],l[c])))return!1;return!0}(t,e);default:return ze(52216,{left:t})}}function up(t,e){return(t.values||[]).find(n=>Co(n,e))!==void 0}function ph(t,e){if(t===e)return 0;const n=rc(t),r=rc(e);if(n!==r)return ct(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ct(t.booleanValue,e.booleanValue);case 2:return function(i,a){const l=Pn(i.integerValue||i.doubleValue),c=Pn(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return jO(t.timestampValue,e.timestampValue);case 4:return jO(lp(t),lp(e));case 5:return qS(t.stringValue,e.stringValue);case 6:return function(i,a){const l=nc(i),c=nc(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),c=a.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=ct(l[u],c[u]);if(d!==0)return d}return ct(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const l=ct(Pn(i.latitude),Pn(a.latitude));return l!==0?l:ct(Pn(i.longitude),Pn(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return NO(t.arrayValue,e.arrayValue);case 10:return function(i,a){var f,m,y,v;const l=i.fields||{},c=a.fields||{},u=(f=l[Mx])==null?void 0:f.arrayValue,d=(m=c[Mx])==null?void 0:m.arrayValue,h=ct(((y=u==null?void 0:u.values)==null?void 0:y.length)||0,((v=d==null?void 0:d.values)==null?void 0:v.length)||0);return h!==0?h:NO(u,d)}(t.mapValue,e.mapValue);case 11:return function(i,a){if(i===_v.mapValue&&a===_v.mapValue)return 0;if(i===_v.mapValue)return 1;if(a===_v.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),u=a.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){const f=qS(c[h],d[h]);if(f!==0)return f;const m=ph(l[c[h]],u[d[h]]);if(m!==0)return m}return ct(c.length,d.length)}(t.mapValue,e.mapValue);default:throw ze(23264,{he:n})}}function jO(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ct(t,e);const n=tc(t),r=tc(e),s=ct(n.seconds,r.seconds);return s!==0?s:ct(n.nanos,r.nanos)}function NO(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=ph(n[s],r[s]);if(i)return i}return ct(n.length,r.length)}function gh(t){return YS(t)}function YS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=tc(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return nc(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Be.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=YS(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${YS(n.fields[a])}`;return s+"}"}(t.mapValue):ze(61005,{value:t})}function Py(t){switch(rc(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Mw(t);return e?16+Py(e):16;case 5:return 2*t.stringValue.length;case 6:return nc(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Py(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return gc(r.fields,(i,a)=>{s+=i.length+Py(a)}),s}(t.mapValue);default:throw ze(13486,{value:t})}}function SO(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function QS(t){return!!t&&"integerValue"in t}function lA(t){return!!t&&"arrayValue"in t}function _O(t){return!!t&&"nullValue"in t}function EO(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ay(t){return!!t&&"mapValue"in t}function Tle(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[dU])==null?void 0:r.stringValue)===fU}function _m(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return gc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=_m(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_m(t.arrayValue.values[n]);return e}return{...t}}function kle(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===hU}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e){this.value=e}static empty(){return new rs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ay(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_m(n)}setAll(e){let n=fr.emptyPath(),r={},s=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}a?r[l.lastSegment()]=_m(a):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Ay(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Co(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Ay(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){gc(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new rs(_m(this.value))}}function mU(t){const e=[];return gc(t.fields,(n,r)=>{const s=new fr([n]);if(Ay(r)){const i=mU(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)}),new As(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,n,r,s,i,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Tr(e,0,Ye.min(),Ye.min(),Ye.min(),rs.empty(),0)}static newFoundDocument(e,n,r,s){return new Tr(e,1,n,Ye.min(),r,s,0)}static newNoDocument(e,n){return new Tr(e,2,n,Ye.min(),Ye.min(),rs.empty(),0)}static newUnknownDocument(e,n){return new Tr(e,3,n,Ye.min(),Ye.min(),rs.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,n){this.position=e,this.inclusive=n}}function PO(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?r=Be.comparator(Be.fromName(a.referenceValue),n.key):r=ph(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function AO(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Co(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e,n="asc"){this.field=e,this.dir=n}}function Ile(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{}class Ln extends pU{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Ole(e,n,r):n==="array-contains"?new Lle(e,r):n==="in"?new Fle(e,r):n==="not-in"?new $le(e,r):n==="array-contains-any"?new Ule(e,r):new Ln(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Dle(e,r):new Mle(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ph(n,this.value)):n!==null&&rc(this.value)===rc(n)&&this.matchesComparison(ph(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ze(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hi extends pU{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Hi(e,n)}matches(e){return gU(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gU(t){return t.op==="and"}function vU(t){return Rle(t)&&gU(t)}function Rle(t){for(const e of t.filters)if(e instanceof Hi)return!1;return!0}function XS(t){if(t instanceof Ln)return t.field.canonicalString()+t.op.toString()+gh(t.value);if(vU(t))return t.filters.map(e=>XS(e)).join(",");{const e=t.filters.map(n=>XS(n)).join(",");return`${t.op}(${e})`}}function yU(t,e){return t instanceof Ln?function(r,s){return s instanceof Ln&&r.op===s.op&&r.field.isEqual(s.field)&&Co(r.value,s.value)}(t,e):t instanceof Hi?function(r,s){return s instanceof Hi&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,a,l)=>i&&yU(a,s.filters[l]),!0):!1}(t,e):void ze(19439)}function xU(t){return t instanceof Ln?function(n){return`${n.field.canonicalString()} ${n.op} ${gh(n.value)}`}(t):t instanceof Hi?function(n){return n.op.toString()+" {"+n.getFilters().map(xU).join(" ,")+"}"}(t):"Filter"}class Ole extends Ln{constructor(e,n,r){super(e,n,r),this.key=Be.fromName(r.referenceValue)}matches(e){const n=Be.comparator(e.key,this.key);return this.matchesComparison(n)}}class Dle extends Ln{constructor(e,n){super(e,"in",n),this.keys=wU("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Mle extends Ln{constructor(e,n){super(e,"not-in",n),this.keys=wU("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function wU(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Be.fromName(r.referenceValue))}class Lle extends Ln{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return lA(n)&&up(n.arrayValue,this.value)}}class Fle extends Ln{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&up(this.value.arrayValue,n)}}class $le extends Ln{constructor(e,n){super(e,"not-in",n)}matches(e){if(up(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!up(this.value.arrayValue,n)}}class Ule extends Ln{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!lA(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>up(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ble{constructor(e,n=null,r=[],s=[],i=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=l,this.Te=null}}function CO(t,e=null,n=[],r=[],s=null,i=null,a=null){return new Ble(t,e,n,r,s,i,a)}function cA(t){const e=Qe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>XS(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Dw(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>gh(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>gh(r)).join(",")),e.Te=n}return e.Te}function uA(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Ile(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!yU(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!AO(t.startAt,e.startAt)&&AO(t.endAt,e.endAt)}function JS(t){return Be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,n=null,r=[],s=[],i=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Vle(t,e,n,r,s,i,a,l){return new qp(t,e,n,r,s,i,a,l)}function dA(t){return new qp(t)}function TO(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function bU(t){return t.collectionGroup!==null}function Em(t){const e=Qe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Wn(fr.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Fx(i,r))}),n.has(fr.keyField().canonicalString())||e.Ie.push(new Fx(fr.keyField(),r))}return e.Ie}function jo(t){const e=Qe(t);return e.Ee||(e.Ee=zle(e,Em(t))),e.Ee}function zle(t,e){if(t.limitType==="F")return CO(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Fx(s.field,i)});const n=t.endAt?new Lx(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Lx(t.startAt.position,t.startAt.inclusive):null;return CO(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ZS(t,e){const n=t.filters.concat([e]);return new qp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function e_(t,e,n){return new qp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Lw(t,e){return uA(jo(t),jo(e))&&t.limitType===e.limitType}function jU(t){return`${cA(jo(t))}|lt:${t.limitType}`}function dd(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>xU(s)).join(", ")}]`),Dw(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>gh(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>gh(s)).join(",")),`Target(${r})`}(jo(t))}; limitType=${t.limitType})`}function Fw(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Be.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Em(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(a,l,c){const u=PO(a,l,c);return a.inclusive?u<=0:u<0}(r.startAt,Em(r),s)||r.endAt&&!function(a,l,c){const u=PO(a,l,c);return a.inclusive?u>=0:u>0}(r.endAt,Em(r),s))}(t,e)}function Gle(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function NU(t){return(e,n)=>{let r=!1;for(const s of Em(t)){const i=Wle(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function Wle(t,e,n){const r=t.field.isKeyField()?Be.comparator(e.key,n.key):function(i,a,l){const c=a.data.field(i),u=l.data.field(i);return c!==null&&u!==null?ph(c,u):ze(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ze(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){gc(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return iU(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hle=new gn(Be.comparator);function Aa(){return Hle}const SU=new gn(Be.comparator);function im(...t){let e=SU;for(const n of t)e=e.insert(n.key,n);return e}function _U(t){let e=SU;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Hc(){return Pm()}function EU(){return Pm()}function Pm(){return new Gu(t=>t.toString(),(t,e)=>t.isEqual(e))}const Kle=new gn(Be.comparator),qle=new Wn(Be.comparator);function ut(...t){let e=qle;for(const n of t)e=e.add(n);return e}const Yle=new Wn(ct);function Qle(){return Yle}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ox(e)?"-0":e}}function PU(t){return{integerValue:""+t}}function Xle(t,e){return _le(e)?PU(e):hA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(){this._=void 0}}function Jle(t,e,n){return t instanceof dp?function(s,i){const a={fields:{[lU]:{stringValue:aU},[uU]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&aA(i)&&(i=Mw(i)),i&&(a.fields[cU]=i),{mapValue:a}}(n,e):t instanceof hp?CU(t,e):t instanceof fp?TU(t,e):function(s,i){const a=AU(s,i),l=kO(a)+kO(s.Ae);return QS(a)&&QS(s.Ae)?PU(l):hA(s.serializer,l)}(t,e)}function Zle(t,e,n){return t instanceof hp?CU(t,e):t instanceof fp?TU(t,e):n}function AU(t,e){return t instanceof $x?function(r){return QS(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class dp extends $w{}class hp extends $w{constructor(e){super(),this.elements=e}}function CU(t,e){const n=kU(e);for(const r of t.elements)n.some(s=>Co(s,r))||n.push(r);return{arrayValue:{values:n}}}class fp extends $w{constructor(e){super(),this.elements=e}}function TU(t,e){let n=kU(e);for(const r of t.elements)n=n.filter(s=>!Co(s,r));return{arrayValue:{values:n}}}class $x extends $w{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function kO(t){return Pn(t.integerValue||t.doubleValue)}function kU(t){return lA(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ece{constructor(e,n){this.field=e,this.transform=n}}function tce(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof hp&&s instanceof hp||r instanceof fp&&s instanceof fp?mh(r.elements,s.elements,Co):r instanceof $x&&s instanceof $x?Co(r.Ae,s.Ae):r instanceof dp&&s instanceof dp}(t.transform,e.transform)}class nce{constructor(e,n){this.version=e,this.transformResults=n}}class No{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new No}static exists(e){return new No(void 0,e)}static updateTime(e){return new No(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cy(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Uw{}function IU(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new OU(t.key,No.none()):new Yp(t.key,t.data,No.none());{const n=t.data,r=rs.empty();let s=new Wn(fr.comparator);for(let i of e.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new vc(t.key,r,new As(s.toArray()),No.none())}}function rce(t,e,n){t instanceof Yp?function(s,i,a){const l=s.value.clone(),c=RO(s.fieldTransforms,i,a.transformResults);l.setAll(c),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof vc?function(s,i,a){if(!Cy(s.precondition,i))return void i.convertToUnknownDocument(a.version);const l=RO(s.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(RU(s)),c.setAll(l),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Am(t,e,n,r){return t instanceof Yp?function(i,a,l,c){if(!Cy(i.precondition,a))return l;const u=i.value.clone(),d=OO(i.fieldTransforms,c,a);return u.setAll(d),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof vc?function(i,a,l,c){if(!Cy(i.precondition,a))return l;const u=OO(i.fieldTransforms,c,a),d=a.data;return d.setAll(RU(i)),d.setAll(u),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,a,l){return Cy(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function sce(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=AU(r.transform,s||null);i!=null&&(n===null&&(n=rs.empty()),n.set(r.field,i))}return n||null}function IO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&mh(r,s,(i,a)=>tce(i,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Yp extends Uw{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class vc extends Uw{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function RU(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function RO(t,e,n){const r=new Map;_t(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,l=e.data.field(i.field);r.set(i.field,Zle(a,l,n[s]))}return r}function OO(t,e,n){const r=new Map;for(const s of t){const i=s.transform,a=n.data.field(s.field);r.set(s.field,Jle(i,a,e))}return r}class OU extends Uw{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ice extends Uw{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oce{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&rce(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Am(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Am(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=EU();return this.mutations.forEach(s=>{const i=e.get(s.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=n.has(s.key)?null:l;const c=IU(a,l);c!==null&&r.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(Ye.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ut())}isEqual(e){return this.batchId===e.batchId&&mh(this.mutations,e.mutations,(n,r)=>IO(n,r))&&mh(this.baseMutations,e.baseMutations,(n,r)=>IO(n,r))}}class fA{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){_t(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return Kle}();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new fA(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ace=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lce{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dn,mt;function cce(t){switch(t){case oe.OK:return ze(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return ze(15467,{code:t})}}function DU(t){if(t===void 0)return Ea("GRPC error has no .code"),oe.UNKNOWN;switch(t){case Dn.OK:return oe.OK;case Dn.CANCELLED:return oe.CANCELLED;case Dn.UNKNOWN:return oe.UNKNOWN;case Dn.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Dn.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Dn.INTERNAL:return oe.INTERNAL;case Dn.UNAVAILABLE:return oe.UNAVAILABLE;case Dn.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Dn.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Dn.NOT_FOUND:return oe.NOT_FOUND;case Dn.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Dn.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Dn.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Dn.ABORTED:return oe.ABORTED;case Dn.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Dn.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Dn.DATA_LOSS:return oe.DATA_LOSS;default:return ze(39323,{code:t})}}(mt=Dn||(Dn={}))[mt.OK=0]="OK",mt[mt.CANCELLED=1]="CANCELLED",mt[mt.UNKNOWN=2]="UNKNOWN",mt[mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mt[mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mt[mt.NOT_FOUND=5]="NOT_FOUND",mt[mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",mt[mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",mt[mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",mt[mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mt[mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mt[mt.ABORTED=10]="ABORTED",mt[mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",mt[mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",mt[mt.INTERNAL=13]="INTERNAL",mt[mt.UNAVAILABLE=14]="UNAVAILABLE",mt[mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uce(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dce=new Vl([4294967295,4294967295],0);function DO(t){const e=uce().encode(t),n=new q$;return n.update(e),new Uint8Array(n.digest())}function MO(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Vl([n,r],0),new Vl([s,i],0)]}class mA{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new om(`Invalid padding: ${n}`);if(r<0)throw new om(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new om(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new om(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Vl.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Vl.fromNumber(r)));return s.compare(dce)===1&&(s=new Vl([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=DO(e),[r,s]=MO(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);if(!this.we(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new mA(i,s,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.ge===0)return;const n=DO(e),[r,s]=MO(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class om extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Qp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Bw(Ye.min(),s,new gn(ct),Aa(),ut())}}class Qp{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Qp(r,n,ut(),ut(),ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class MU{constructor(e,n){this.targetId=e,this.Ce=n}}class LU{constructor(e,n,r=vr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class LO{constructor(){this.ve=0,this.Fe=FO(),this.Me=vr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ut(),n=ut(),r=ut();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ze(38017,{changeType:i})}}),new Qp(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=FO()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,_t(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class hce{constructor(e){this.Ge=e,this.ze=new Map,this.je=Aa(),this.Je=Ev(),this.He=Ev(),this.Ye=new gn(ct)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ze(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(JS(i))if(r===0){const a=new Be(i.path);this.et(n,a,Tr.newNoDocument(a,Ye.min()))}else _t(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const l=this.ut(e),c=l?this.ct(l,e,a):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,l;try{a=nc(r).toUint8Array()}catch(c){if(c instanceof oU)return fh("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new mA(a,s,i)}catch(c){return fh(c instanceof om?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,a)=>{const l=this.ot(a);if(l){if(i.current&&JS(l.target)){const c=new Be(l.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,Tr.newNoDocument(c,e))}i.Be&&(n.set(a,i.ke()),i.qe())}});let r=ut();this.He.forEach((i,a)=>{let l=!0;a.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.je.forEach((i,a)=>a.setReadTime(e));const s=new Bw(e,n,this.Ye,this.je,r);return this.je=Aa(),this.Je=Ev(),this.He=Ev(),this.Ye=new gn(ct),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new LO,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Wn(ct),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Wn(ct),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new LO),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ev(){return new gn(Be.comparator)}function FO(){return new gn(Be.comparator)}const fce={asc:"ASCENDING",desc:"DESCENDING"},mce={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pce={and:"AND",or:"OR"};class gce{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function t_(t,e){return t.useProto3Json||Dw(e)?e:{value:e}}function Ux(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FU(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function vce(t,e){return Ux(t,e.toTimestamp())}function So(t){return _t(!!t,49232),Ye.fromTimestamp(function(n){const r=tc(n);return new St(r.seconds,r.nanos)}(t))}function pA(t,e){return n_(t,e).canonicalString()}function n_(t,e){const n=function(s){return new $t(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function $U(t){const e=$t.fromString(t);return _t(GU(e),10190,{key:e.toString()}),e}function r_(t,e){return pA(t.databaseId,e.path)}function jj(t,e){const n=$U(e);if(n.get(1)!==t.databaseId.projectId)throw new Ae(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ae(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Be(BU(n))}function UU(t,e){return pA(t.databaseId,e)}function yce(t){const e=$U(t);return e.length===4?$t.emptyPath():BU(e)}function s_(t){return new $t(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function BU(t){return _t(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function $O(t,e,n){return{name:r_(t,e),fields:n.value.mapValue.fields}}function xce(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ze(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(_t(d===void 0||typeof d=="string",58123),vr.fromBase64String(d||"")):(_t(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),vr.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(u){const d=u.code===void 0?oe.UNKNOWN:DU(u.code);return new Ae(d,u.message||"")}(a);n=new LU(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=jj(t,r.document.name),i=So(r.document.updateTime),a=r.document.createTime?So(r.document.createTime):Ye.min(),l=new rs({mapValue:{fields:r.document.fields}}),c=Tr.newFoundDocument(s,i,a,l),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Ty(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=jj(t,r.document),i=r.readTime?So(r.readTime):Ye.min(),a=Tr.newNoDocument(s,i),l=r.removedTargetIds||[];n=new Ty([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=jj(t,r.document),i=r.removedTargetIds||[];n=new Ty([],i,s,null)}else{if(!("filter"in e))return ze(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new lce(s,i),l=r.targetId;n=new MU(l,a)}}return n}function wce(t,e){let n;if(e instanceof Yp)n={update:$O(t,e.key,e.value)};else if(e instanceof OU)n={delete:r_(t,e.key)};else if(e instanceof vc)n={update:$O(t,e.key,e.data),updateMask:Cce(e.fieldMask)};else{if(!(e instanceof ice))return ze(16599,{Vt:e.type});n={verify:r_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof dp)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof hp)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof fp)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof $x)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw ze(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:vce(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ze(27497)}(t,e.precondition)),n}function bce(t,e){return t&&t.length>0?(_t(e!==void 0,14353),t.map(n=>function(s,i){let a=s.updateTime?So(s.updateTime):So(i);return a.isEqual(Ye.min())&&(a=So(i)),new nce(a,s.transformResults||[])}(n,e))):[]}function jce(t,e){return{documents:[UU(t,e.path)]}}function Nce(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=UU(t,s);const i=function(u){if(u.length!==0)return zU(Hi.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:hd(f.field),direction:Ece(f.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=t_(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:s}}function Sce(t){let e=yce(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){_t(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const f=VU(h);return f instanceof Hi&&vU(f)?f.getFilters():[f]}(n.where));let a=[];n.orderBy&&(a=function(h){return h.map(f=>function(y){return new Fx(fd(y.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(f))}(n.orderBy));let l=null;n.limit&&(l=function(h){let f;return f=typeof h=="object"?h.value:h,Dw(f)?null:f}(n.limit));let c=null;n.startAt&&(c=function(h){const f=!!h.before,m=h.values||[];return new Lx(m,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,m=h.values||[];return new Lx(m,f)}(n.endAt)),Vle(e,s,a,i,l,"F",c,u)}function _ce(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ze(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function VU(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=fd(n.unaryFilter.field);return Ln.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=fd(n.unaryFilter.field);return Ln.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=fd(n.unaryFilter.field);return Ln.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=fd(n.unaryFilter.field);return Ln.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ze(61313);default:return ze(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ln.create(fd(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ze(58110);default:return ze(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Hi.create(n.compositeFilter.filters.map(r=>VU(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ze(1026)}}(n.compositeFilter.op))}(t):ze(30097,{filter:t})}function Ece(t){return fce[t]}function Pce(t){return mce[t]}function Ace(t){return pce[t]}function hd(t){return{fieldPath:t.canonicalString()}}function fd(t){return fr.fromServerFormat(t.fieldPath)}function zU(t){return t instanceof Ln?function(n){if(n.op==="=="){if(EO(n.value))return{unaryFilter:{field:hd(n.field),op:"IS_NAN"}};if(_O(n.value))return{unaryFilter:{field:hd(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(EO(n.value))return{unaryFilter:{field:hd(n.field),op:"IS_NOT_NAN"}};if(_O(n.value))return{unaryFilter:{field:hd(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hd(n.field),op:Pce(n.op),value:n.value}}}(t):t instanceof Hi?function(n){const r=n.getFilters().map(s=>zU(s));return r.length===1?r[0]:{compositeFilter:{op:Ace(n.op),filters:r}}}(t):ze(54877,{filter:t})}function Cce(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function GU(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,n,r,s,i=Ye.min(),a=Ye.min(),l=vr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new _l(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new _l(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _l(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _l(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tce{constructor(e){this.yt=e}}function kce(t){const e=Sce({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?e_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ice{constructor(){this.Cn=new Rce}addToCollectionParentIndex(e,n){return this.Cn.add(n),ce.resolve()}getCollectionParents(e,n){return ce.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ce.resolve()}deleteFieldIndex(e,n){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,n){return ce.resolve()}getDocumentsMatchingTarget(e,n){return ce.resolve(null)}getIndexType(e,n){return ce.resolve(0)}getFieldIndexes(e,n){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,n){return ce.resolve(ec.min())}getMinOffsetFromCollectionGroup(e,n){return ce.resolve(ec.min())}updateCollectionGroup(e,n,r){return ce.resolve()}updateIndexEntries(e,n){return ce.resolve()}}class Rce{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Wn($t.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Wn($t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},WU=41943040;class es{static withCacheSize(e){return new es(e,es.DEFAULT_COLLECTION_PERCENTILE,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */es.DEFAULT_COLLECTION_PERCENTILE=10,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,es.DEFAULT=new es(WU,es.DEFAULT_COLLECTION_PERCENTILE,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),es.DISABLED=new es(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new vh(0)}static cr(){return new vh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO="LruGarbageCollector",Oce=1048576;function VO([t,e],[n,r]){const s=ct(t,n);return s===0?ct(e,r):s}class Dce{constructor(e){this.Ir=e,this.buffer=new Wn(VO),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();VO(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Mce{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ce(BO,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Xh(n)?Ce(BO,"Ignoring IndexedDB error during garbage collection: ",n):await Qh(n)}await this.Vr(3e5)})}}class Lce{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ce.resolve(Ow.ce);const r=new Dce(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(UO)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),UO):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,a,l,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,a=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,l=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),ud()<=lt.DEBUG&&Ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${s} in `+(l-a)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${h} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function Fce(t,e){return new Lce(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ce{constructor(){this.changes=new Gu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ce.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uce{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bce{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Am(r.mutation,s,As.empty(),St.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ut()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ut()){const s=Hc();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let a=im();return i.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Hc();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ut()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,s){let i=Aa();const a=Pm(),l=function(){return Pm()}();return n.forEach((c,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof vc)?i=i.insert(u.key,u):d!==void 0?(a.set(u.key,d.mutation.getFieldMask()),Am(d.mutation,u,d.mutation.getFieldMask(),St.now())):a.set(u.key,As.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,d)=>a.set(u,d)),n.forEach((u,d)=>l.set(u,new Uce(d,a.get(u)??null))),l))}recalculateAndSaveOverlays(e,n){const r=Pm();let s=new gn((a,l)=>a-l),i=ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||As.empty();d=l.applyToLocalView(u,d),r.set(c,d);const h=(s.get(l.batchId)||ut()).add(c);s=s.insert(l.batchId,h)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,h=EU();d.forEach(f=>{if(!i.has(f)){const m=IU(n.get(f),r.get(f));m!==null&&h.set(f,m),i=i.add(f)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,h))}return ce.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(a){return Be.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):bU(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):ce.resolve(Hc());let l=ap,c=i;return a.next(u=>ce.forEach(u,(d,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),i.get(d)?ce.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{c=c.insert(d,f)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,ut())).next(d=>({batchId:l,changes:_U(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Be(n)).next(r=>{let s=im();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let a=im();return this.indexManager.getCollectionParents(e,i).next(l=>ce.forEach(l,c=>{const u=function(h,f){return new qp(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((h,f)=>{a=a.insert(h,f)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(a=>{i.forEach((c,u)=>{const d=u.getKey();a.get(d)===null&&(a=a.insert(d,Tr.newInvalidDocument(d)))});let l=im();return a.forEach((c,u)=>{const d=i.get(c);d!==void 0&&Am(d.mutation,u,As.empty(),St.now()),Fw(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vce{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ce.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:So(s.createTime)}}(n)),ce.resolve()}getNamedQuery(e,n){return ce.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:kce(s.bundledQuery),readTime:So(s.readTime)}}(n)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zce{constructor(){this.overlays=new gn(Be.comparator),this.qr=new Map}getOverlay(e,n){return ce.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Hc();return ce.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),ce.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),ce.resolve()}getOverlaysForCollection(e,n,r){const s=Hc(),i=n.length+1,a=new Be(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return ce.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new gn((u,d)=>u-d);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=Hc(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=Hc(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=s)););return ce.resolve(l)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new ace(n,r));let i=this.qr.get(n);i===void 0&&(i=ut(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gce{constructor(){this.sessionToken=vr.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(){this.Qr=new Wn(Xn.$r),this.Ur=new Wn(Xn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Xn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Xn(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Be(new $t([])),r=new Xn(n,e),s=new Xn(n,e+1),i=[];return this.Ur.forEachInRange([r,s],a=>{this.Gr(a),i.push(a.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Be(new $t([])),r=new Xn(n,e),s=new Xn(n,e+1);let i=ut();return this.Ur.forEachInRange([r,s],a=>{i=i.add(a.key)}),i}containsKey(e){const n=new Xn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Xn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Be.comparator(e.key,n.key)||ct(e.Yr,n.Yr)}static Kr(e,n){return ct(e.Yr,n.Yr)||Be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wce{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Wn(Xn.$r)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new oce(i,n,r,s);this.mutationQueue.push(a);for(const l of s)this.Zr=this.Zr.add(new Xn(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ce.resolve(a)}lookupMutationBatch(e,n){return ce.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return ce.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?oA:this.tr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Xn(n,0),s=new Xn(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],a=>{const l=this.Xr(a.Yr);i.push(l)}),ce.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Wn(ct);return n.forEach(s=>{const i=new Xn(s,0),a=new Xn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,a],l=>{r=r.add(l.Yr)})}),ce.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Be.isDocumentKey(i)||(i=i.child(""));const a=new Xn(new Be(i),0);let l=new Wn(ct);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(l=l.add(c.Yr)),!0)},a),ce.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){_t(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ce.forEach(n.mutations,s=>{const i=new Xn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Xn(n,0),s=this.Zr.firstAfterOrEqual(r);return ce.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hce{constructor(e){this.ri=e,this.docs=function(){return new gn(Be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ce.resolve(r?r.document.mutableCopy():Tr.newInvalidDocument(n))}getEntries(e,n){let r=Aa();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Tr.newInvalidDocument(s))}),ce.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Aa();const a=n.path,l=new Be(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||ble(wle(d),r)<=0||(s.has(d.key)||Fw(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return ce.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ze(9500)}ii(e,n){return ce.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Kce(this)}getSize(e){return ce.resolve(this.size)}}class Kce extends $ce{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),ce.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qce{constructor(e){this.persistence=e,this.si=new Gu(n=>cA(n),uA),this.lastRemoteSnapshotVersion=Ye.min(),this.highestTargetId=0,this.oi=0,this._i=new gA,this.targetCount=0,this.ai=vh.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ce.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new vh(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ce.resolve()}updateTargetData(e,n){return this.Pr(n),ce.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),ce.waitFor(i).next(()=>s)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ce.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ce.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(a=>{i.push(s.markPotentiallyOrphaned(e,a))}),ce.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ce.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ce.resolve(r)}containsKey(e,n){return ce.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ow(0),this.li=!1,this.li=!0,this.hi=new Gce,this.referenceDelegate=e(this),this.Pi=new qce(this),this.indexManager=new Ice,this.remoteDocumentCache=function(s){return new Hce(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new Tce(n),this.Ii=new Vce(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zce,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Wce(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ce("MemoryPersistence","Starting transaction:",e);const s=new Yce(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return ce.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class Yce extends Nle{constructor(e){super(),this.currentSequenceNumber=e}}class vA{constructor(e){this.persistence=e,this.Ri=new gA,this.Vi=null}static mi(e){return new vA(e)}get fi(){if(this.Vi)return this.Vi;throw ze(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ce.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ce.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.fi,r=>{const s=Be.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,Ye.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ce.or([()=>ce.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Bx{constructor(e,n){this.persistence=e,this.pi=new Gu(r=>Ele(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=Fce(this,n)}static mi(e,n){return new Bx(e,n)}Ei(){}di(e){return ce.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return ce.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?ce.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,a=>this.br(e,a,n).next(l=>{l||(r++,i.removeEntry(a,Ye.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ce.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ce.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ce.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Py(e.data.value)),n}br(e,n,r){return ce.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return ce.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=ut(),s=ut();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new yA(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qce{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xce{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Ese()?8:Sle(Or())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new Qce;return this.Ss(e,n,a).next(l=>{if(i.result=l,this.Vs)return this.bs(e,n,a,l.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(ud()<=lt.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",dd(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ce.resolve()):(ud()<=lt.DEBUG&&Ce("QueryEngine","Query:",dd(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(ud()<=lt.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",dd(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jo(n))):ce.resolve())}ys(e,n){if(TO(n))return ce.resolve(null);let r=jo(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=e_(n,null,"F"),r=jo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const a=ut(...i);return this.ps.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Ds(n,l);return this.Cs(n,u,a,c.readTime)?this.ys(e,e_(n,null,"F")):this.vs(e,u,n,c)}))})))}ws(e,n,r,s){return TO(n)||s.isEqual(Ye.min())?ce.resolve(null):this.ps.getDocuments(e,r).next(i=>{const a=this.Ds(n,i);return this.Cs(n,a,r,s)?ce.resolve(null):(ud()<=lt.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),dd(n)),this.vs(e,a,n,xle(s,ap)).next(l=>l))})}Ds(e,n){let r=new Wn(NU(e));return n.forEach((s,i)=>{Fw(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return ud()<=lt.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",dd(n)),this.ps.getDocumentsMatchingQuery(e,n,ec.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA="LocalStore",Jce=3e8;class Zce{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new gn(ct),this.xs=new Gu(i=>cA(i),uA),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Bce(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function eue(t,e,n,r){return new Zce(t,e,n,r)}async function KU(t,e){const n=Qe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const a=[],l=[];let c=ut();for(const u of s){a.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of i){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Ls:u,removedBatchIds:a,addedBatchIds:l}))})})}function tue(t,e){const n=Qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const h=u.batch,f=h.keys();let m=ce.resolve();return f.forEach(y=>{m=m.next(()=>d.getEntry(c,y)).next(v=>{const x=u.docVersions.get(y);_t(x!==null,48541),v.version.compareTo(x)<0&&(h.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),d.addEntry(v)))})}),m.next(()=>l.mutationQueue.removeMutationBatch(c,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=ut();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function qU(t){const e=Qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function nue(t,e){const n=Qe(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const l=[];e.targetChanges.forEach((d,h)=>{const f=s.get(h);if(!f)return;l.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(i,d.addedDocuments,h)));let m=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(vr.EMPTY_BYTE_STRING,Ye.min()).withLastLimboFreeSnapshotVersion(Ye.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),s=s.insert(h,m),function(v,x,b){return v.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=Jce?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(f,m,d)&&l.push(n.Pi.updateTargetData(i,m))});let c=Aa(),u=ut();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),l.push(rue(i,a,e.documentUpdates).next(d=>{c=d.ks,u=d.qs})),!r.isEqual(Ye.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next(h=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(d)}return ce.waitFor(l).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.Ms=s,i))}function rue(t,e,n){let r=ut(),s=ut();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let a=Aa();return n.forEach((l,c)=>{const u=i.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(Ye.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):Ce(xA,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{ks:a,qs:s}})}function sue(t,e){const n=Qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=oA),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function iue(t,e){const n=Qe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,ce.resolve(s)):n.Pi.allocateTargetId(r).next(a=>(s=new _l(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function i_(t,e,n){const r=Qe(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!Xh(a))throw a;Ce(xA,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function zO(t,e,n){const r=Qe(t);let s=Ye.min(),i=ut();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,u,d){const h=Qe(c),f=h.xs.get(d);return f!==void 0?ce.resolve(h.Ms.get(f)):h.Pi.getTargetData(u,d)}(r,a,jo(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,l.targetId).next(c=>{i=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(a,e,n?s:Ye.min(),n?i:ut())).next(l=>(oue(r,Gle(e),l),{documents:l,Qs:i})))}function oue(t,e,n){let r=t.Os.get(e)||Ye.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class GO{constructor(){this.activeTargetIds=Qle()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aue{constructor(){this.Mo=new GO,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new GO,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lue{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO="ConnectivityMonitor";class HO{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ce(WO,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ce(WO,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pv=null;function o_(){return Pv===null?Pv=function(){return 268435456+Math.round(2147483648*Math.random())}():Pv++,"0x"+Pv.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj="RestConnection",cue={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uue{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Dx?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const a=o_(),l=this.zo(e,n.toUriEncodedString());Ce(Nj,`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:u}=new URL(l),d=fc(u);return this.Jo(e,l,c,r,d).then(h=>(Ce(Nj,`Received RPC '${e}' ${a}: `,h),h),h=>{throw fh(Nj,`RPC '${e}' ${a} failed with error: `,h,"url: ",l,"request:",r),h})}Ho(e,n,r,s,i,a){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Yh}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=cue[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class due{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r="WebChannelConnection";class hue extends uue{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const a=o_();return new Promise((l,c)=>{const u=new Y$;u.setWithCredentials(!0),u.listenOnce(Q$.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ey.NO_ERROR:const h=u.getResponseJson();Ce(_r,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(h)),l(h);break;case Ey.TIMEOUT:Ce(_r,`RPC '${e}' ${a} timed out`),c(new Ae(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Ey.HTTP_ERROR:const f=u.getStatus();if(Ce(_r,`RPC '${e}' ${a} failed with status:`,f,"response text:",u.getResponseText()),f>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m==null?void 0:m.error;if(y&&y.status&&y.message){const v=function(b){const w=b.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(w)>=0?w:oe.UNKNOWN}(y.status);c(new Ae(v,y.message))}else c(new Ae(oe.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Ae(oe.UNAVAILABLE,"Connection failed."));break;default:ze(9055,{l_:e,streamId:a,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Ce(_r,`RPC '${e}' ${a} completed.`)}});const d=JSON.stringify(s);Ce(_r,`RPC '${e}' ${a} sending request:`,s),u.send(n,"POST",d,r,15)})}T_(e,n,r){const s=o_(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Z$(),l=J$(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=i.join("");Ce(_r,`Creating RPC '${e}' stream ${s}: ${d}`,c);const h=a.createWebChannel(d,c);this.I_(h);let f=!1,m=!1;const y=new due({Yo:x=>{m?Ce(_r,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(f||(Ce(_r,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),Ce(_r,`RPC '${e}' stream ${s} sending:`,x),h.send(x))},Zo:()=>h.close()}),v=(x,b,w)=>{x.listen(b,j=>{try{w(j)}catch(N){setTimeout(()=>{throw N},0)}})};return v(h,sm.EventType.OPEN,()=>{m||(Ce(_r,`RPC '${e}' stream ${s} transport opened.`),y.o_())}),v(h,sm.EventType.CLOSE,()=>{m||(m=!0,Ce(_r,`RPC '${e}' stream ${s} transport closed`),y.a_(),this.E_(h))}),v(h,sm.EventType.ERROR,x=>{m||(m=!0,fh(_r,`RPC '${e}' stream ${s} transport errored. Name:`,x.name,"Message:",x.message),y.a_(new Ae(oe.UNAVAILABLE,"The operation could not be completed")))}),v(h,sm.EventType.MESSAGE,x=>{var b;if(!m){const w=x.data[0];_t(!!w,16349);const j=w,N=(j==null?void 0:j.error)||((b=j[0])==null?void 0:b.error);if(N){Ce(_r,`RPC '${e}' stream ${s} received error:`,N);const T=N.status;let I=function(A){const S=Dn[A];if(S!==void 0)return DU(S)}(T),P=N.message;I===void 0&&(I=oe.INTERNAL,P="Unknown error status: "+T+" with message "+N.message),m=!0,y.a_(new Ae(I,P)),h.close()}else Ce(_r,`RPC '${e}' stream ${s} received:`,w),y.u_(w)}}),v(l,X$.STAT_EVENT,x=>{x.stat===KS.PROXY?Ce(_r,`RPC '${e}' stream ${s} detected buffering proxy`):x.stat===KS.NOPROXY&&Ce(_r,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{y.__()},0),y}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Sj(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(t){return new gce(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Ce("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO="PersistentStream";class QU{constructor(e,n,r,s,i,a,l,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new YU(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(Ea(n.toString()),Ea("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new Ae(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Ce(KO,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Ce(KO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fue extends QU{constructor(e,n,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=xce(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ye.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Ye.min():a.readTime?So(a.readTime):Ye.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=s_(this.serializer),n.addTarget=function(i,a){let l;const c=a.target;if(l=JS(c)?{documents:jce(i,c)}:{query:Nce(i,c).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=FU(i,a.resumeToken);const u=t_(i,a.expectedCount);u!==null&&(l.expectedCount=u)}else if(a.snapshotVersion.compareTo(Ye.min())>0){l.readTime=Ux(i,a.snapshotVersion.toTimestamp());const u=t_(i,a.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=_ce(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=s_(this.serializer),n.removeTarget=e,this.q_(n)}}class mue extends QU{constructor(e,n,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return _t(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_t(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){_t(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=bce(e.writeResults,e.commitTime),r=So(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=s_(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>wce(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pue{}class gue extends pue{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Ae(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Go(e,n_(n,r),s,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ae(oe.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Ho(e,n_(n,r),s,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ae(oe.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class vue{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ea(n),this.aa=!1):Ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu="RemoteStore";class yue{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(a=>{r.enqueueAndForget(async()=>{Wu(this)&&(Ce(Eu,"Restarting streams for network reachability change."),await async function(c){const u=Qe(c);u.Ea.add(4),await Xp(u),u.Ra.set("Unknown"),u.Ea.delete(4),await zw(u)}(this))})}),this.Ra=new vue(r,s)}}async function zw(t){if(Wu(t))for(const e of t.da)await e(!0)}async function Xp(t){for(const e of t.da)await e(!1)}function XU(t,e){const n=Qe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),NA(n)?jA(n):Jh(n).O_()&&bA(n,e))}function wA(t,e){const n=Qe(t),r=Jh(n);n.Ia.delete(e),r.O_()&&JU(n,e),n.Ia.size===0&&(r.O_()?r.L_():Wu(n)&&n.Ra.set("Unknown"))}function bA(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ye.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Jh(t).Y_(e)}function JU(t,e){t.Va.Ue(e),Jh(t).Z_(e)}function jA(t){t.Va=new hce({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Jh(t).start(),t.Ra.ua()}function NA(t){return Wu(t)&&!Jh(t).x_()&&t.Ia.size>0}function Wu(t){return Qe(t).Ea.size===0}function ZU(t){t.Va=void 0}async function xue(t){t.Ra.set("Online")}async function wue(t){t.Ia.forEach((e,n)=>{bA(t,e)})}async function bue(t,e){ZU(t),NA(t)?(t.Ra.ha(e),jA(t)):t.Ra.set("Unknown")}async function jue(t,e,n){if(t.Ra.set("Online"),e instanceof LU&&e.state===2&&e.cause)try{await async function(s,i){const a=i.cause;for(const l of i.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.Ia.delete(l),s.Va.removeTarget(l))}(t,e)}catch(r){Ce(Eu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Vx(t,r)}else if(e instanceof Ty?t.Va.Ze(e):e instanceof MU?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ye.min()))try{const r=await qU(t.localStore);n.compareTo(r)>=0&&await function(i,a){const l=i.Va.Tt(a);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=i.Ia.get(u);d&&i.Ia.set(u,d.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,u)=>{const d=i.Ia.get(c);if(!d)return;i.Ia.set(c,d.withResumeToken(vr.EMPTY_BYTE_STRING,d.snapshotVersion)),JU(i,c);const h=new _l(d.target,c,u,d.sequenceNumber);bA(i,h)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Ce(Eu,"Failed to raise snapshot:",r),await Vx(t,r)}}async function Vx(t,e,n){if(!Xh(e))throw e;t.Ea.add(1),await Xp(t),t.Ra.set("Offline"),n||(n=()=>qU(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ce(Eu,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await zw(t)})}function eB(t,e){return e().catch(n=>Vx(t,n,e))}async function Gw(t){const e=Qe(t),n=sc(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:oA;for(;Nue(e);)try{const s=await sue(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,Sue(e,s)}catch(s){await Vx(e,s)}tB(e)&&nB(e)}function Nue(t){return Wu(t)&&t.Ta.length<10}function Sue(t,e){t.Ta.push(e);const n=sc(t);n.O_()&&n.X_&&n.ea(e.mutations)}function tB(t){return Wu(t)&&!sc(t).x_()&&t.Ta.length>0}function nB(t){sc(t).start()}async function _ue(t){sc(t).ra()}async function Eue(t){const e=sc(t);for(const n of t.Ta)e.ea(n.mutations)}async function Pue(t,e,n){const r=t.Ta.shift(),s=fA.from(r,e,n);await eB(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Gw(t)}async function Aue(t,e){e&&sc(t).X_&&await async function(r,s){if(function(a){return cce(a)&&a!==oe.ABORTED}(s.code)){const i=r.Ta.shift();sc(r).B_(),await eB(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Gw(r)}}(t,e),tB(t)&&nB(t)}async function qO(t,e){const n=Qe(t);n.asyncQueue.verifyOperationInProgress(),Ce(Eu,"RemoteStore received new credentials");const r=Wu(n);n.Ea.add(3),await Xp(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await zw(n)}async function Cue(t,e){const n=Qe(t);e?(n.Ea.delete(2),await zw(n)):e||(n.Ea.add(2),await Xp(n),n.Ra.set("Unknown"))}function Jh(t){return t.ma||(t.ma=function(n,r,s){const i=Qe(n);return i.sa(),new fue(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:xue.bind(null,t),t_:wue.bind(null,t),r_:bue.bind(null,t),H_:jue.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),NA(t)?jA(t):t.Ra.set("Unknown")):(await t.ma.stop(),ZU(t))})),t.ma}function sc(t){return t.fa||(t.fa=function(n,r,s){const i=Qe(n);return i.sa(),new mue(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:_ue.bind(null,t),r_:Aue.bind(null,t),ta:Eue.bind(null,t),na:Pue.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Gw(t)):(await t.fa.stop(),t.Ta.length>0&&(Ce(Eu,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ha,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,l=new SA(e,n,a,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _A(t,e){if(Ea("AsyncQueue",`${e}: ${t}`),Xh(t))return new Ae(oe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{static emptySet(e){return new $d(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Be.comparator(n.key,r.key):(n,r)=>Be.comparator(n.key,r.key),this.keyedMap=im(),this.sortedSet=new gn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $d)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new $d;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(){this.ga=new gn(Be.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ze(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class yh{constructor(e,n,r,s,i,a,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new yh(e,n,$d.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tue{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class kue{constructor(){this.queries=QO(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Qe(n),i=s.queries;s.queries=QO(),i.forEach((a,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new Ae(oe.ABORTED,"Firestore shutting down"))}}function QO(){return new Gu(t=>jU(t),Lw)}async function rB(t,e){const n=Qe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new Tue,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const l=_A(a,`Initialization of query '${dd(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&EA(n)}async function sB(t,e){const n=Qe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const a=i.Sa.indexOf(e);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Iue(t,e){const n=Qe(t);let r=!1;for(const s of e){const i=s.query,a=n.queries.get(i);if(a){for(const l of a.Sa)l.Fa(s)&&(r=!0);a.wa=s}}r&&EA(n)}function Rue(t,e,n){const r=Qe(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function EA(t){t.Ca.forEach(e=>{e.next()})}var a_,XO;(XO=a_||(a_={})).Ma="default",XO.Cache="cache";class iB{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new yh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=yh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==a_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(e){this.key=e}}class aB{constructor(e){this.key=e}}class Oue{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ut(),this.mutatedKeys=ut(),this.eu=NU(e),this.tu=new $d(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new YO,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const f=s.get(d),m=Fw(this.query,h)?h:null,y=!!f&&this.mutatedKeys.has(f.key),v=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let x=!1;f&&m?f.data.isEqual(m.data)?y!==v&&(r.track({type:3,doc:m}),x=!0):this.su(f,m)||(r.track({type:2,doc:m}),x=!0,(c&&this.eu(m,c)>0||u&&this.eu(m,u)<0)&&(l=!0)):!f&&m?(r.track({type:0,doc:m}),x=!0):f&&!m&&(r.track({type:1,doc:f}),x=!0,(c||u)&&(l=!0)),x&&(m?(a=a.add(m),i=v?i.add(d):i.delete(d)):(a=a.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:a,iu:r,Cs:l,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((d,h)=>function(m,y){const v=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ze(20277,{Rt:x})}};return v(m)-v(y)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(r),s=s??!1;const l=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,u=c!==this.Za;return this.Za=c,a.length!==0||u?{snapshot:new yh(this.query,e.tu,i,a,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new YO,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ut(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new aB(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new oB(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ut();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return yh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const PA="SyncEngine";class Due{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Mue{constructor(e){this.key=e,this.hu=!1}}class Lue{constructor(e,n,r,s,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Gu(l=>jU(l),Lw),this.Iu=new Map,this.Eu=new Set,this.du=new gn(Be.comparator),this.Au=new Map,this.Ru=new gA,this.Vu={},this.mu=new Map,this.fu=vh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Fue(t,e,n=!0){const r=fB(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await lB(r,e,n,!0),s}async function $ue(t,e){const n=fB(t);await lB(n,e,!0,!1)}async function lB(t,e,n,r){const s=await iue(t.localStore,jo(e)),i=s.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await Uue(t,e,i,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&XU(t.remoteStore,s),l}async function Uue(t,e,n,r,s){t.pu=(h,f,m)=>async function(v,x,b,w){let j=x.view.ru(b);j.Cs&&(j=await zO(v.localStore,x.query,!1).then(({documents:P})=>x.view.ru(P,j)));const N=w&&w.targetChanges.get(x.targetId),T=w&&w.targetMismatches.get(x.targetId)!=null,I=x.view.applyChanges(j,v.isPrimaryClient,N,T);return ZO(v,x.targetId,I.au),I.snapshot}(t,h,f,m);const i=await zO(t.localStore,e,!0),a=new Oue(e,i.Qs),l=a.ru(i.documents),c=Qp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=a.applyChanges(l,t.isPrimaryClient,c);ZO(t,n,u.au);const d=new Due(e,n,a);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function Bue(t,e,n){const r=Qe(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(a=>!Lw(a,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await i_(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&wA(r.remoteStore,s.targetId),l_(r,s.targetId)}).catch(Qh)):(l_(r,s.targetId),await i_(r.localStore,s.targetId,!0))}async function Vue(t,e){const n=Qe(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),wA(n.remoteStore,r.targetId))}async function zue(t,e,n){const r=Que(t);try{const s=await function(a,l){const c=Qe(a),u=St.now(),d=l.reduce((m,y)=>m.add(y.key),ut());let h,f;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=Aa(),v=ut();return c.Ns.getEntries(m,d).next(x=>{y=x,y.forEach((b,w)=>{w.isValidDocument()||(v=v.add(b))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,y)).next(x=>{h=x;const b=[];for(const w of l){const j=sce(w,h.get(w.key).overlayedDocument);j!=null&&b.push(new vc(w.key,j,mU(j.value.mapValue),No.exists(!0)))}return c.mutationQueue.addMutationBatch(m,u,b,l)}).next(x=>{f=x;const b=x.applyToLocalDocumentSet(h,v);return c.documentOverlayCache.saveOverlays(m,x.batchId,b)})}).then(()=>({batchId:f.batchId,changes:_U(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,l,c){let u=a.Vu[a.currentUser.toKey()];u||(u=new gn(ct)),u=u.insert(l,c),a.Vu[a.currentUser.toKey()]=u}(r,s.batchId,n),await Jp(r,s.changes),await Gw(r.remoteStore)}catch(s){const i=_A(s,"Failed to persist write");n.reject(i)}}async function cB(t,e){const n=Qe(t);try{const r=await nue(n.localStore,e);e.targetChanges.forEach((s,i)=>{const a=n.Au.get(i);a&&(_t(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.hu=!0:s.modifiedDocuments.size>0?_t(a.hu,14607):s.removedDocuments.size>0&&(_t(a.hu,42227),a.hu=!1))}),await Jp(n,r,e)}catch(r){await Qh(r)}}function JO(t,e,n){const r=Qe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,a)=>{const l=a.view.va(e);l.snapshot&&s.push(l.snapshot)}),function(a,l){const c=Qe(a);c.onlineState=l;let u=!1;c.queries.forEach((d,h)=>{for(const f of h.Sa)f.va(l)&&(u=!0)}),u&&EA(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Gue(t,e,n){const r=Qe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let a=new gn(Be.comparator);a=a.insert(i,Tr.newNoDocument(i,Ye.min()));const l=ut().add(i),c=new Bw(Ye.min(),new Map,new gn(ct),a,l);await cB(r,c),r.du=r.du.remove(i),r.Au.delete(e),AA(r)}else await i_(r.localStore,e,!1).then(()=>l_(r,e,n)).catch(Qh)}async function Wue(t,e){const n=Qe(t),r=e.batch.batchId;try{const s=await tue(n.localStore,e);dB(n,r,null),uB(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Jp(n,s)}catch(s){await Qh(s)}}async function Hue(t,e,n){const r=Qe(t);try{const s=await function(a,l){const c=Qe(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(h=>(_t(h!==null,37113),d=h.keys(),c.mutationQueue.removeMutationBatch(u,h))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);dB(r,e,n),uB(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Jp(r,s)}catch(s){await Qh(s)}}function uB(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function dB(t,e,n){const r=Qe(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function l_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||hB(t,r)})}function hB(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(wA(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),AA(t))}function ZO(t,e,n){for(const r of n)r instanceof oB?(t.Ru.addReference(r.key,e),Kue(t,r)):r instanceof aB?(Ce(PA,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||hB(t,r.key)):ze(19791,{wu:r})}function Kue(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ce(PA,"New document in limbo: "+n),t.Eu.add(r),AA(t))}function AA(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Be($t.fromString(e)),r=t.fu.next();t.Au.set(r,new Mue(n)),t.du=t.du.insert(n,r),XU(t.remoteStore,new _l(jo(dA(n.path)),r,"TargetPurposeLimboResolution",Ow.ce))}}async function Jp(t,e,n){const r=Qe(t),s=[],i=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((l,c)=>{a.push(r.pu(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(u){s.push(u);const h=yA.As(c.targetId,u);i.push(h)}}))}),await Promise.all(a),r.Pu.H_(s),await async function(c,u){const d=Qe(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>ce.forEach(u,f=>ce.forEach(f.Es,m=>d.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>ce.forEach(f.ds,m=>d.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!Xh(h))throw h;Ce(xA,"Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const m=d.Ms.get(f),y=m.snapshotVersion,v=m.withLastLimboFreeSnapshotVersion(y);d.Ms=d.Ms.insert(f,v)}}}(r.localStore,i))}async function que(t,e){const n=Qe(t);if(!n.currentUser.isEqual(e)){Ce(PA,"User change. New user:",e.toKey());const r=await KU(n.localStore,e);n.currentUser=e,function(i,a){i.mu.forEach(l=>{l.forEach(c=>{c.reject(new Ae(oe.CANCELLED,a))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Jp(n,r.Ls)}}function Yue(t,e){const n=Qe(t),r=n.Au.get(e);if(r&&r.hu)return ut().add(r.key);{let s=ut();const i=n.Iu.get(e);if(!i)return s;for(const a of i){const l=n.Tu.get(a);s=s.unionWith(l.view.nu)}return s}}function fB(t){const e=Qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Yue.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Gue.bind(null,e),e.Pu.H_=Iue.bind(null,e.eventManager),e.Pu.yu=Rue.bind(null,e.eventManager),e}function Que(t){const e=Qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Wue.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Hue.bind(null,e),e}class zx{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vw(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return eue(this.persistence,new Xce,e.initialUser,this.serializer)}Cu(e){return new HU(vA.mi,this.serializer)}Du(e){return new aue}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zx.provider={build:()=>new zx};class Xue extends zx{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){_t(this.persistence.referenceDelegate instanceof Bx,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Mce(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?es.withCacheSize(this.cacheSizeBytes):es.DEFAULT;return new HU(r=>Bx.mi(r,n),this.serializer)}}class c_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>JO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=que.bind(null,this.syncEngine),await Cue(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new kue}()}createDatastore(e){const n=Vw(e.databaseInfo.databaseId),r=function(i){return new hue(i)}(e.databaseInfo);return function(i,a,l,c){return new gue(i,a,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,a,l){return new yue(r,s,i,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>JO(this.syncEngine,n,0),function(){return HO.v()?new HO:new lue}())}createSyncEngine(e,n){return function(s,i,a,l,c,u,d){const h=new Lue(s,i,a,l,c,u);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Qe(s);Ce(Eu,"RemoteStore shutting down."),i.Ea.add(5),await Xp(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}c_.provider={build:()=>new c_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mB{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ea("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic="FirestoreClient";class Jue{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ar.UNAUTHENTICATED,this.clientId=iA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async a=>{Ce(ic,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(Ce(ic,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ha;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=_A(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function _j(t,e){t.asyncQueue.verifyOperationInProgress(),Ce(ic,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await KU(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function eD(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Zue(t);Ce(ic,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>qO(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>qO(e.remoteStore,s)),t._onlineComponents=e}async function Zue(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ce(ic,"Using user provided OfflineComponentProvider");try{await _j(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===oe.FAILED_PRECONDITION||s.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;fh("Error using user provided cache. Falling back to memory cache: "+n),await _j(t,new zx)}}else Ce(ic,"Using default OfflineComponentProvider"),await _j(t,new Xue(void 0));return t._offlineComponents}async function pB(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ce(ic,"Using user provided OnlineComponentProvider"),await eD(t,t._uninitializedComponentsProvider._online)):(Ce(ic,"Using default OnlineComponentProvider"),await eD(t,new c_))),t._onlineComponents}function ede(t){return pB(t).then(e=>e.syncEngine)}async function gB(t){const e=await pB(t),n=e.eventManager;return n.onListen=Fue.bind(null,e.syncEngine),n.onUnlisten=Bue.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$ue.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Vue.bind(null,e.syncEngine),n}function tde(t,e,n={}){const r=new ha;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,u){const d=new mB({next:f=>{d.Nu(),a.enqueueAndForget(()=>sB(i,h));const m=f.docs.has(l);!m&&f.fromCache?u.reject(new Ae(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&c&&c.source==="server"?u.reject(new Ae(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new iB(dA(l.path),d,{includeMetadataChanges:!0,qa:!0});return rB(i,h)}(await gB(t),t.asyncQueue,e,n,r)),r.promise}function nde(t,e,n={}){const r=new ha;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,u){const d=new mB({next:f=>{d.Nu(),a.enqueueAndForget(()=>sB(i,h)),f.fromCache&&c.source==="server"?u.reject(new Ae(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new iB(l,d,{includeMetadataChanges:!0,qa:!0});return rB(i,h)}(await gB(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vB(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yB="firestore.googleapis.com",nD=!0;class rD{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yB,this.ssl=nD}else this.host=e.host,this.ssl=e.ssl??nD;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=WU;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Oce)throw new Ae(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yle("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vB(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ae(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ae(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ae(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ww{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rD({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rD(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new lle;switch(r.type){case"firstParty":return new hle(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ae(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=tD.get(n);r&&(Ce("ComponentProvider","Removing Datastore"),tD.delete(n),r.terminate())}(this),Promise.resolve()}}function rde(t,e,n,r={}){var u;t=Pa(t,Ww);const s=fc(e),i=t._getSettings(),a={...i,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;s&&(VP(`https://${l}`),zP("Firestore",!0)),i.host!==yB&&i.host!==l&&fh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:l,ssl:s,emulatorOptions:r};if(!bu(c,a)&&(t._setSettings(c),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=Ar.MOCK_USER;else{d=l$(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Ae(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Ar(f)}t._authCredentials=new cle(new tU(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zh(this.firestore,e,this._query)}}class Tn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tn(this.firestore,e,this._key)}toJSON(){return{type:Tn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Kp(n,Tn._jsonSchema))return new Tn(e,r||null,new Be($t.fromString(n.referencePath)))}}Tn._jsonSchemaVersion="firestore/documentReference/1.0",Tn._jsonSchema={type:Fn("string",Tn._jsonSchemaVersion),referencePath:Fn("string")};class zl extends Zh{constructor(e,n,r){super(e,n,dA(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tn(this.firestore,null,new Be(e))}withConverter(e){return new zl(this.firestore,e,this._path)}}function Av(t,e,...n){if(t=Bt(t),nU("collection","path",e),t instanceof Ww){const r=$t.fromString(e,...n);return gO(r),new zl(t,null,r)}{if(!(t instanceof Tn||t instanceof zl))throw new Ae(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($t.fromString(e,...n));return gO(r),new zl(t.firestore,null,r)}}function Cv(t,e,...n){if(t=Bt(t),arguments.length===1&&(e=iA.newId()),nU("doc","path",e),t instanceof Ww){const r=$t.fromString(e,...n);return pO(r),new Tn(t,null,new Be(r))}{if(!(t instanceof Tn||t instanceof zl))throw new Ae(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($t.fromString(e,...n));return pO(r),new Tn(t.firestore,t instanceof zl?t.converter:null,new Be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD="AsyncQueue";class iD{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new YU(this,"async_queue_retry"),this._c=()=>{const r=Sj();r&&Ce(sD,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Sj();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Sj();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ha;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Xh(e))throw e;Ce(sD,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Ea("INTERNAL UNHANDLED ERROR: ",oD(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=SA.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&ze(47125,{Pc:oD(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function oD(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Zp extends Ww{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new iD,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new iD(e),this._firestoreClient=void 0,await e}}}function sde(t,e){const n=typeof t=="object"?t:HP(),r=typeof t=="string"?t:Dx,s=Cw(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=i$("firestore");i&&rde(s,...i)}return s}function CA(t){if(t._terminated)throw new Ae(oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||ide(t),t._firestoreClient}function ide(t){var r,s,i;const e=t._freezeSettings(),n=function(l,c,u,d){return new Cle(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,vB(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Jue(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ni(vr.fromBase64String(e))}catch(n){throw new Ae(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ni(vr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ni._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Kp(e,ni._jsonSchema))return ni.fromBase64String(e.bytes)}}ni._jsonSchemaVersion="firestore/bytes/1.0",ni._jsonSchema={type:Fn("string",ni._jsonSchemaVersion),bytes:Fn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ae(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ae(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ae(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_o._jsonSchemaVersion}}static fromJSON(e){if(Kp(e,_o._jsonSchema))return new _o(e.latitude,e.longitude)}}_o._jsonSchemaVersion="firestore/geoPoint/1.0",_o._jsonSchema={type:Fn("string",_o._jsonSchemaVersion),latitude:Fn("number"),longitude:Fn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Eo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Kp(e,Eo._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Eo(e.vectorValues);throw new Ae(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Eo._jsonSchemaVersion="firestore/vectorValue/1.0",Eo._jsonSchema={type:Fn("string",Eo._jsonSchemaVersion),vectorValues:Fn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ode=/^__.*__$/;class ade{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new vc(e,this.data,this.fieldMask,n,this.fieldTransforms):new Yp(e,this.data,n,this.fieldTransforms)}}class xB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new vc(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function wB(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ze(40011,{Ac:t})}}class TA{constructor(e,n,r,s,i,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new TA({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Gx(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(wB(this.Ac)&&ode.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class lde{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Vw(e)}Cc(e,n,r,s=!1){return new TA({Ac:e,methodName:n,Dc:r,path:fr.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kA(t){const e=t._freezeSettings(),n=Vw(t._databaseId);return new lde(t._databaseId,!!e.ignoreUndefinedProperties,n)}function cde(t,e,n,r,s,i={}){const a=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);RA("Data must be an object, but it was:",a,r);const l=bB(r,a);let c,u;if(i.merge)c=new As(a.fieldMask),u=a.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const f=u_(e,h,n);if(!a.contains(f))throw new Ae(oe.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);NB(d,f)||d.push(f)}c=new As(d),u=a.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=a.fieldTransforms;return new ade(new rs(l),c,u)}class qw extends Kw{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qw}}class IA extends Kw{_toFieldTransform(e){return new ece(e.path,new dp)}isEqual(e){return e instanceof IA}}function ude(t,e,n,r){const s=t.Cc(1,e,n);RA("Data must be an object, but it was:",s,r);const i=[],a=rs.empty();gc(r,(c,u)=>{const d=OA(e,c,n);u=Bt(u);const h=s.yc(d);if(u instanceof qw)i.push(d);else{const f=eg(u,h);f!=null&&(i.push(d),a.set(d,f))}});const l=new As(i);return new xB(a,l,s.fieldTransforms)}function dde(t,e,n,r,s,i){const a=t.Cc(1,e,n),l=[u_(e,r,n)],c=[s];if(i.length%2!=0)throw new Ae(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)l.push(u_(e,i[f])),c.push(i[f+1]);const u=[],d=rs.empty();for(let f=l.length-1;f>=0;--f)if(!NB(u,l[f])){const m=l[f];let y=c[f];y=Bt(y);const v=a.yc(m);if(y instanceof qw)u.push(m);else{const x=eg(y,v);x!=null&&(u.push(m),d.set(m,x))}}const h=new As(u);return new xB(d,h,a.fieldTransforms)}function hde(t,e,n,r=!1){return eg(n,t.Cc(r?4:3,e))}function eg(t,e){if(jB(t=Bt(t)))return RA("Unsupported field value:",e,t),bB(t,e);if(t instanceof Kw)return function(r,s){if(!wB(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let a=0;for(const l of r){let c=eg(l,s.wc(a));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),a++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Bt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Xle(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=St.fromDate(r);return{timestampValue:Ux(s.serializer,i)}}if(r instanceof St){const i=new St(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ux(s.serializer,i)}}if(r instanceof _o)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ni)return{bytesValue:FU(s.serializer,r._byteString)};if(r instanceof Tn){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:pA(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Eo)return function(a,l){return{mapValue:{fields:{[dU]:{stringValue:fU},[Mx]:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw l.Sc("VectorValues must only contain numeric values.");return hA(l.serializer,u)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Rw(r)}`)}(t,e)}function bB(t,e){const n={};return iU(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gc(t,(r,s)=>{const i=eg(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function jB(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof St||t instanceof _o||t instanceof ni||t instanceof Tn||t instanceof Kw||t instanceof Eo)}function RA(t,e,n){if(!jB(n)||!rU(n)){const r=Rw(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function u_(t,e,n){if((e=Bt(e))instanceof Hw)return e._internalPath;if(typeof e=="string")return OA(t,e);throw Gx("Field path arguments must be of type string or ",t,!1,void 0,n)}const fde=new RegExp("[~\\*/\\[\\]]");function OA(t,e,n){if(e.search(fde)>=0)throw Gx(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Hw(...e.split("."))._internalPath}catch{throw Gx(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Gx(t,e,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${r}`),a&&(c+=` in document ${s}`),c+=")"),new Ae(oe.INVALID_ARGUMENT,l+t+c)}function NB(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mde(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(DA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mde extends SB{data(){return super.data()}}function DA(t,e){return typeof e=="string"?OA(t,e):e instanceof Hw?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pde(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ae(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class MA{}class gde extends MA{}function aD(t,e,...n){let r=[];e instanceof MA&&r.push(e),r=r.concat(n),function(i){const a=i.filter(c=>c instanceof LA).length,l=i.filter(c=>c instanceof Yw).length;if(a>1||a>0&&l>0)throw new Ae(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Yw extends gde{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Yw(e,n,r)}_apply(e){const n=this._parse(e);return _B(e._query,n),new Zh(e.firestore,e.converter,ZS(e._query,n))}_parse(e){const n=kA(e.firestore);return function(i,a,l,c,u,d,h){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Ae(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){uD(h,d);const y=[];for(const v of h)y.push(cD(c,i,v));f={arrayValue:{values:y}}}else f=cD(c,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||uD(h,d),f=hde(l,a,h,d==="in"||d==="not-in");return Ln.create(u,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function lD(t,e,n){const r=e,s=DA("where",t);return Yw._create(s,r,n)}class LA extends MA{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new LA(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Hi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let a=s;const l=i.getFlattenedFilters();for(const c of l)_B(a,c),a=ZS(a,c)}(e._query,n),new Zh(e.firestore,e.converter,ZS(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function cD(t,e,n){if(typeof(n=Bt(n))=="string"){if(n==="")throw new Ae(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bU(e)&&n.indexOf("/")!==-1)throw new Ae(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child($t.fromString(n));if(!Be.isDocumentKey(r))throw new Ae(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return SO(t,new Be(r))}if(n instanceof Tn)return SO(t,n._key);throw new Ae(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rw(n)}.`)}function uD(t,e){if(!Array.isArray(t)||t.length===0)throw new Ae(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _B(t,e){const n=function(s,i){for(const a of s)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ae(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ae(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class vde{convertValue(e,n="none"){switch(rc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(nc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ze(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return gc(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Mx].arrayValue)==null?void 0:s.values)==null?void 0:i.map(a=>Pn(a.doubleValue));return new Eo(n)}convertGeoPoint(e){return new _o(Pn(e.latitude),Pn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Mw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(lp(e));default:return null}}convertTimestamp(e){const n=tc(e);return new St(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=$t.fromString(e);_t(GU(r),9688,{name:e});const s=new cp(r.get(1),r.get(3)),i=new Be(r.popFirst(5));return s.isEqual(n)||Ea(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yde(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class am{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ou extends SB{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ky(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(DA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ou._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ou._jsonSchemaVersion="firestore/documentSnapshot/1.0",ou._jsonSchema={type:Fn("string",ou._jsonSchemaVersion),bundleSource:Fn("string","DocumentSnapshot"),bundleName:Fn("string"),bundle:Fn("string")};class ky extends ou{data(e={}){return super.data(e)}}class Ud{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new am(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ky(this._firestore,this._userDataWriter,r.key,r,new am(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ae(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const c=new ky(s._firestore,s._userDataWriter,l.doc.key,l.doc,new am(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new ky(s._firestore,s._userDataWriter,l.doc.key,l.doc,new am(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return l.type!==0&&(u=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:xde(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ud._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=iA.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function xde(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ze(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wde(t){t=Pa(t,Tn);const e=Pa(t.firestore,Zp);return tde(CA(e),t._key).then(n=>bde(e,t,n))}Ud._jsonSchemaVersion="firestore/querySnapshot/1.0",Ud._jsonSchema={type:Fn("string",Ud._jsonSchemaVersion),bundleSource:Fn("string","QuerySnapshot"),bundleName:Fn("string"),bundle:Fn("string")};class EB extends vde{constructor(e){super(),this.firestore=e}convertBytes(e){return new ni(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tn(this.firestore,null,n)}}function dD(t){t=Pa(t,Zh);const e=Pa(t.firestore,Zp),n=CA(e),r=new EB(e);return pde(t._query),nde(n,t._query).then(s=>new Ud(e,r,t,s))}function hD(t,e,n){t=Pa(t,Tn);const r=Pa(t.firestore,Zp),s=yde(t.converter,e);return PB(r,[cde(kA(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,No.none())])}function fD(t,e,n,...r){t=Pa(t,Tn);const s=Pa(t.firestore,Zp),i=kA(s);let a;return a=typeof(e=Bt(e))=="string"||e instanceof Hw?dde(i,"updateDoc",t._key,e,n,r):ude(i,"updateDoc",t._key,e),PB(s,[a.toMutation(t._key,No.exists(!0))])}function PB(t,e){return function(r,s){const i=new ha;return r.asyncQueue.enqueueAndForget(async()=>zue(await ede(r),s,i)),i.promise}(CA(t),e)}function bde(t,e,n){const r=n.docs.get(e._key),s=new EB(t);return new ou(t,s,e._key,r,new am(n.hasPendingWrites,n.fromCache),e.converter)}function mD(){return new IA("serverTimestamp")}(function(e,n=!0){(function(s){Yh=s})(zu),ju(new Zl("firestore",(r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),l=new Zp(new ule(r.getProvider("auth-internal")),new fle(a,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ae(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cp(u.options.projectId,d)}(a,s),a);return i={useFetchStreams:n,...i},l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),wo(dO,hO,e),wo(dO,hO,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AB="firebasestorage.googleapis.com",CB="storageBucket",jde=2*60*1e3,Nde=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n extends Fo{constructor(e,n,r=0){super(Ej(e),`Firebase Storage: ${n} (${Ej(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ej(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Nn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Nn||(Nn={}));function Ej(t){return"storage/"+t}function FA(){const t="An unknown error occurred, please check the error payload for server response.";return new _n(Nn.UNKNOWN,t)}function Sde(t){return new _n(Nn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function _de(t){return new _n(Nn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Ede(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new _n(Nn.UNAUTHENTICATED,t)}function Pde(){return new _n(Nn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Ade(t){return new _n(Nn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Cde(){return new _n(Nn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Tde(){return new _n(Nn.CANCELED,"User canceled the upload/download.")}function kde(t){return new _n(Nn.INVALID_URL,"Invalid URL '"+t+"'.")}function Ide(t){return new _n(Nn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Rde(){return new _n(Nn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+CB+"' property when initializing the app?")}function Ode(){return new _n(Nn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Dde(){return new _n(Nn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Mde(t){return new _n(Nn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function d_(t){return new _n(Nn.INVALID_ARGUMENT,t)}function TB(){return new _n(Nn.APP_DELETED,"The Firebase app was deleted.")}function Lde(t){return new _n(Nn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Cm(t,e){return new _n(Nn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Uf(t){throw new _n(Nn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Cs.makeFromUrl(e,n)}catch{return new Cs(e,"")}if(r.path==="")return r;throw Ide(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+s+a,"i"),c={bucket:1,path:3};function u(N){N.path_=decodeURIComponent(N.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",m=new RegExp(`^https?://${h}/${d}/b/${s}/o${f}`,"i"),y={bucket:1,path:3},v=n===AB?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",b=new RegExp(`^https?://${v}/${s}/${x}`,"i"),j=[{regex:l,indices:c,postModify:i},{regex:m,indices:y,postModify:u},{regex:b,indices:{bucket:1,path:2},postModify:u}];for(let N=0;N<j.length;N++){const T=j[N],I=T.regex.exec(e);if(I){const P=I[T.indices.bucket];let E=I[T.indices.path];E||(E=""),r=new Cs(P,E),T.postModify(r);break}}if(r==null)throw kde(e);return r}}class Fde{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $de(t,e,n){let r=1,s=null,i=null,a=!1,l=0;function c(){return l===2}let u=!1;function d(...x){u||(u=!0,e.apply(null,x))}function h(x){s=setTimeout(()=>{s=null,t(m,c())},x)}function f(){i&&clearTimeout(i)}function m(x,...b){if(u){f();return}if(x){f(),d.call(null,x,...b);return}if(c()||a){f(),d.call(null,x,...b);return}r<64&&(r*=2);let j;l===1?(l=2,j=0):j=(r+Math.random())*1e3,h(j)}let y=!1;function v(x){y||(y=!0,f(),!u&&(s!==null?(x||(l=2),clearTimeout(s),h(0)):x||(l=1)))}return h(0),i=setTimeout(()=>{a=!0,v(!0)},n),v}function Ude(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bde(t){return t!==void 0}function Vde(t){return typeof t=="object"&&!Array.isArray(t)}function $A(t){return typeof t=="string"||t instanceof String}function pD(t){return UA()&&t instanceof Blob}function UA(){return typeof Blob<"u"}function gD(t,e,n,r){if(r<e)throw d_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw d_(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function kB(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var au;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(au||(au={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zde(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gde{constructor(e,n,r,s,i,a,l,c,u,d,h,f=!0,m=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,v)=>{this.resolve_=y,this.reject_=v,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Tv(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const a=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&i.addUploadProgressListener(a),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(a),this.pendingConnection_=null;const l=i.getErrorCode()===au.NO_ERROR,c=i.getStatus();if(!l||zde(c,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===au.ABORT;r(!1,new Tv(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new Tv(u,i))})},n=(r,s)=>{const i=this.resolve_,a=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());Bde(c)?i(c):i()}catch(c){a(c)}else if(l!==null){const c=FA();c.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,c)):a(c)}else if(s.canceled){const c=this.appDelete_?TB():Tde();a(c)}else{const c=Cde();a(c)}};this.canceled_?n(!1,new Tv(!1,null,!0)):this.backoffId_=$de(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Ude(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Tv{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Wde(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Hde(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Kde(t,e){e&&(t["X-Firebase-GMPID"]=e)}function qde(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Yde(t,e,n,r,s,i,a=!0,l=!1){const c=kB(t.urlParams),u=t.url+c,d=Object.assign({},t.headers);return Kde(d,e),Wde(d,n),Hde(d,i),qde(d,r),new Gde(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,a,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qde(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Xde(...t){const e=Qde();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(UA())return new Blob(t);throw new _n(Nn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Jde(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zde(t){if(typeof atob>"u")throw Mde("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Pj{constructor(e,n){this.data=e,this.contentType=n||null}}function ehe(t,e){switch(t){case mo.RAW:return new Pj(IB(e));case mo.BASE64:case mo.BASE64URL:return new Pj(RB(t,e));case mo.DATA_URL:return new Pj(nhe(e),rhe(e))}throw FA()}function IB(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,a=t.charCodeAt(++n);r=65536|(i&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function the(t){let e;try{e=decodeURIComponent(t)}catch{throw Cm(mo.DATA_URL,"Malformed data URL.")}return IB(e)}function RB(t,e){switch(t){case mo.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Cm(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case mo.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Cm(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Zde(e)}catch(s){throw s.message.includes("polyfill")?s:Cm(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class OB{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Cm(mo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=she(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function nhe(t){const e=new OB(t);return e.base64?RB(mo.BASE64,e.rest):the(e.rest)}function rhe(t){return new OB(t).contentType}function she(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,n){let r=0,s="";pD(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(pD(this.data_)){const r=this.data_,s=Jde(r,e,n);return s===null?null:new hl(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new hl(r,!0)}}static getBlob(...e){if(UA()){const n=e.map(r=>r instanceof hl?r.data_:r);return new hl(Xde.apply(null,n))}else{const n=e.map(a=>$A(a)?ehe(mo.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(a=>{for(let l=0;l<a.length;l++)s[i++]=a[l]}),new hl(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DB(t){let e;try{e=JSON.parse(t)}catch{return null}return Vde(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ihe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function ohe(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function MB(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ahe(t,e){return e}class Lr{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||ahe}}let kv=null;function lhe(t){return!$A(t)||t.length<2?t:MB(t)}function LB(){if(kv)return kv;const t=[];t.push(new Lr("bucket")),t.push(new Lr("generation")),t.push(new Lr("metageneration")),t.push(new Lr("name","fullPath",!0));function e(i,a){return lhe(a)}const n=new Lr("name");n.xform=e,t.push(n);function r(i,a){return a!==void 0?Number(a):a}const s=new Lr("size");return s.xform=r,t.push(s),t.push(new Lr("timeCreated")),t.push(new Lr("updated")),t.push(new Lr("md5Hash",null,!0)),t.push(new Lr("cacheControl",null,!0)),t.push(new Lr("contentDisposition",null,!0)),t.push(new Lr("contentEncoding",null,!0)),t.push(new Lr("contentLanguage",null,!0)),t.push(new Lr("contentType",null,!0)),t.push(new Lr("metadata","customMetadata",!0)),kv=t,kv}function che(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new Cs(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function uhe(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const a=n[i];r[a.local]=a.xform(r,e[a.server])}return che(r,t),r}function FB(t,e,n){const r=DB(e);return r===null?null:uhe(t,r,n)}function dhe(t,e,n,r){const s=DB(e);if(s===null||!$A(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const a=encodeURIComponent;return i.split(",").map(u=>{const d=t.bucket,h=t.fullPath,f="/b/"+a(d)+"/o/"+a(h),m=tg(f,n,r),y=kB({alt:"media",token:u});return m+y})[0]}function hhe(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class Qw{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $B(t){if(!t)throw FA()}function fhe(t,e){function n(r,s){const i=FB(t,s,e);return $B(i!==null),i}return n}function mhe(t,e){function n(r,s){const i=FB(t,s,e);return $B(i!==null),dhe(i,s,t.host,t._protocol)}return n}function UB(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=Pde():s=Ede():n.getStatus()===402?s=_de(t.bucket):n.getStatus()===403?s=Ade(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function BA(t){const e=UB(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=Sde(t.path)),i.serverResponse=s.serverResponse,i}return n}function phe(t,e,n){const r=e.fullServerUrl(),s=tg(r,t.host,t._protocol)+"?alt=media",i="GET",a=t.maxOperationRetryTime,l=new Qw(s,i,(c,u)=>u,a);return l.errorHandler=BA(e),l}function ghe(t,e,n){const r=e.fullServerUrl(),s=tg(r,t.host,t._protocol),i="GET",a=t.maxOperationRetryTime,l=new Qw(s,i,mhe(t,n),a);return l.errorHandler=BA(e),l}function vhe(t,e){const n=e.fullServerUrl(),r=tg(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function a(c,u){}const l=new Qw(r,s,a,i);return l.successCodes=[200,204],l.errorHandler=BA(e),l}function yhe(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function xhe(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=yhe(null,e)),r}function whe(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){let j="";for(let N=0;N<2;N++)j=j+Math.random().toString().slice(2);return j}const c=l();a["Content-Type"]="multipart/related; boundary="+c;const u=xhe(e,r,s),d=hhe(u,n),h="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+c+"--",m=hl.getBlob(h,r,f);if(m===null)throw Ode();const y={name:u.fullPath},v=tg(i,t.host,t._protocol),x="POST",b=t.maxUploadRetryTime,w=new Qw(v,x,fhe(t,n),b);return w.urlParams=y,w.headers=a,w.body=m.uploadData(),w.errorHandler=UB(e),w}class BB{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=au.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=au.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=au.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,i){if(this.sent_)throw Uf("cannot .send() more than once");if(fc(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Uf("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Uf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Uf("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Uf("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class bhe extends BB{initXhr(){this.xhr_.responseType="text"}}function VA(){return new bhe}class jhe extends BB{initXhr(){this.xhr_.responseType="arraybuffer"}}function Nhe(){return new jhe}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n){this._service=e,n instanceof Cs?this._location=n:this._location=Cs.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Pu(e,n)}get root(){const e=new Cs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return MB(this._location.path)}get storage(){return this._service}get parent(){const e=ihe(this._location.path);if(e===null)return null;const n=new Cs(this._location.bucket,e);return new Pu(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Lde(e)}}function She(t,e){t._throwIfRoot("getBytes");const n=phe(t.storage,t._location);return t.storage.makeRequestWithTokens(n,Nhe).then(r=>r)}function _he(t,e,n){t._throwIfRoot("uploadBytes");const r=whe(t.storage,t._location,LB(),new hl(e,!0),n);return t.storage.makeRequestWithTokens(r,VA).then(s=>({metadata:s,ref:t}))}function Ehe(t){t._throwIfRoot("getDownloadURL");const e=ghe(t.storage,t._location,LB());return t.storage.makeRequestWithTokens(e,VA).then(n=>{if(n===null)throw Dde();return n})}function Phe(t){t._throwIfRoot("deleteObject");const e=vhe(t.storage,t._location);return t.storage.makeRequestWithTokens(e,VA)}function Ahe(t,e){const n=ohe(t._location.path,e),r=new Cs(t._location.bucket,n);return new Pu(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Che(t){return/^[A-Za-z]+:\/\//.test(t)}function The(t,e){return new Pu(t,e)}function VB(t,e){if(t instanceof zA){const n=t;if(n._bucket==null)throw Rde();const r=new Pu(n,n._bucket);return e!=null?VB(r,e):r}else return e!==void 0?Ahe(t,e):t}function khe(t,e){if(e&&Che(e)){if(t instanceof zA)return The(t,e);throw d_("To use ref(service, url), the first argument must be a Storage instance.")}else return VB(t,e)}function vD(t,e){const n=e==null?void 0:e[CB];return n==null?null:Cs.makeFromBucketSpec(n,t)}function Ihe(t,e,n,r={}){t.host=`${e}:${n}`;const s=fc(e);s&&(VP(`https://${t.host}/b`),zP("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:l$(i,t.app.options.projectId))}class zA{constructor(e,n,r,s,i,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=a,this._bucket=null,this._host=AB,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=jde,this._maxUploadRetryTime=Nde,this._requests=new Set,s!=null?this._bucket=Cs.makeFromBucketSpec(s,this._host):this._bucket=vD(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Cs.makeFromBucketSpec(this._url,e):this._bucket=vD(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){gD("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){gD("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ns(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Pu(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new Fde(TB());{const a=Yde(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const yD="@firebase/storage",xD="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zB="storage";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rhe(t,e){return t=Bt(t),She(t)}function Ohe(t,e,n){return t=Bt(t),_he(t,e,n)}function Dhe(t){return t=Bt(t),Ehe(t)}function Mhe(t){return t=Bt(t),Phe(t)}function Iv(t,e){return t=Bt(t),khe(t,e)}function Lhe(t=HP(),e){t=Bt(t);const r=Cw(t,zB).getImmediate({identifier:e}),s=i$("storage");return s&&Fhe(r,...s),r}function Fhe(t,e,n,r={}){Ihe(t,e,n,r)}function $he(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new zA(n,r,s,e,zu)}function Uhe(){ju(new Zl(zB,$he,"PUBLIC").setMultipleInstances(!0)),wo(yD,xD,""),wo(yD,xD,"esm2020")}Uhe();const Bhe={apiKey:"AIzaSyBIR-zpFHJMDurVpWCtFT2C5HRZLw4-8mU",authDomain:"gmb-automation-474209-549ee.firebaseapp.com",projectId:"gmb-automation-474209-549ee",storageBucket:"gmb-automation-474209-549ee.firebasestorage.app",messagingSenderId:"317153753727",appId:"1:317153753727:web:8281f982a8e7a05f885d4a"},GA=d$(Bhe),Xo=sle(GA);console.log("🔧 Firebase - Setting up persistence...");Ny(Xo,G$).then(()=>{console.log("✅ Firebase - IndexedDB persistence set successfully")}).catch(t=>(console.warn("⚠️ Firebase - IndexedDB persistence failed, trying localStorage:",t),Ny(Xo,tA))).then(()=>{console.log("✅ Firebase - LocalStorage persistence set successfully")}).catch(t=>(console.error("❌ Firebase - All persistence methods failed, using in-memory:",t),Ny(Xo,GS)));const rd=sde(GA),Rv=Lhe(GA),GB=p.createContext(void 0),Hn=()=>{const t=p.useContext(GB);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Vhe=({children:t})=>{const[e,n]=p.useState(null),[r,s]=p.useState(!0),{toast:i}=ps(),a=async(f,m,y)=>{try{await Ny(Xo,tA);const v=await Voe(Xo,f,m);y&&v.user&&await Woe(v.user,{displayName:y}),i({title:"Account created successfully!",description:"Welcome to Google Ranker!"})}catch(v){throw console.error("Signup error:",v),i({title:"Signup failed",description:v.message||"An error occurred during signup",variant:"destructive"}),v}},l=async(f,m)=>{try{await zoe(Xo,f,m),i({title:"Welcome back!",description:"You have successfully signed in."})}catch(y){console.error("Login error:",y);let v="An error occurred during login";switch(y.code){case"auth/user-not-found":v="No account found with this email address";break;case"auth/wrong-password":v="Incorrect password";break;case"auth/invalid-email":v="Invalid email address";break;case"auth/too-many-requests":v="Too many failed attempts. Please try again later";break;default:v=y.message}throw i({title:"Login failed",description:v,variant:"destructive"}),y}},c=async()=>{try{console.log("🚀 Starting Google sign-in with popup...");const f=new Zo;f.addScope("email"),f.addScope("profile"),f.setCustomParameters({prompt:"select_account"}),console.log("🚀 Calling signInWithPopup...");const m=await fae(Xo,f);console.log("✅ Google sign-in successful:",m.user.email),i({title:"Welcome!",description:"You have successfully signed in with Google."})}catch(f){if(console.error("❌ Google login error:",f),f.code==="auth/popup-closed-by-user"||f.code==="auth/cancelled-popup-request")throw console.log("User closed Google sign-in popup"),f;let m="An error occurred during Google login";switch(f.code){case"auth/popup-blocked":m="Popup was blocked by your browser. Please allow popups for this site.";break;case"auth/unauthorized-domain":m="This domain is not authorized for Google sign-in.";break;case"auth/account-exists-with-different-credential":m="An account already exists with this email using a different sign-in method.";break;default:m=f.message}throw i({title:"Google login failed",description:m,variant:"destructive"}),f}},u=async()=>{try{await Yoe(Xo),i({title:"Signed out",description:"You have been successfully signed out."})}catch(f){throw console.error("Logout error:",f),i({title:"Logout failed",description:f.message||"An error occurred during logout",variant:"destructive"}),f}},d=async()=>{try{if(e){const f=await e.getIdToken(!0);return console.log("Firebase token refreshed successfully"),f}return null}catch(f){return console.error("Failed to refresh Firebase token:",f),null}};p.useEffect(()=>{console.log("🔍 AuthContext - Setting up auth state listener...");const f=qoe(Xo,async y=>{if(console.log("🔍 AuthContext - Auth state changed:",y?"User: "+y.email:"No user"),y)try{await y.getIdToken(!0),console.log("✅ AuthContext - User authenticated and token refreshed:",y.email)}catch(v){console.error("❌ AuthContext - Token refresh failed during auth state change:",v)}n(y),s(!1),console.log("✅ AuthContext - Loading set to false, currentUser:",y?y.email:"null")}),m=setInterval(async()=>{if(e)try{await e.getIdToken(!0),console.log("Auth token automatically refreshed")}catch(y){console.error("Automatic token refresh failed:",y)}},30*60*1e3);return()=>{f(),clearInterval(m)}},[e]);const h={currentUser:e,loading:r,signup:a,login:l,logout:u,loginWithGoogle:c,refreshToken:d};return o.jsx(GB.Provider,{value:h,children:!r&&t})},zhe=()=>{var v,x;const[t,e]=p.useState(!1),[n,r]=p.useState(""),[s,i]=p.useState(""),[a,l]=p.useState(!1),{login:c,loginWithGoogle:u}=Hn(),d=Zt(),f=((x=(v=gs().state)==null?void 0:v.from)==null?void 0:x.pathname)||"/dashboard",m=async()=>{l(!0);try{await u(),d(f,{replace:!0})}catch(b){console.error("Google login error:",b),l(!1)}},y=async b=>{if(b.preventDefault(),!(!n||!s)){l(!0);try{await c(n,s),d(f,{replace:!0})}catch(w){console.error("Email login error:",w)}finally{l(!1)}}};return o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md animate-fade-in",children:[o.jsx("div",{className:"text-center mb-8",children:o.jsx("div",{className:"flex items-center justify-center mb-4",children:o.jsx("img",{src:"/google-ranker-logo.png",alt:"Google Ranker Logo",className:"h-32 w-auto"})})}),o.jsxs(q,{className:"shadow-card border-2 border-border bg-transparent",children:[o.jsxs(me,{className:"text-center",children:[o.jsx(ge,{className:"text-2xl font-semibold",children:"Welcome Back"}),o.jsx(Je,{children:"Sign in to access your account"})]}),o.jsxs(Q,{className:"space-y-6",children:[o.jsxs(Y,{variant:"outline",size:"lg",className:"w-full h-12 border-border hover:bg-muted/50",onClick:m,disabled:a,children:[o.jsx(B6,{className:"mr-2 h-5 w-5"}),"Sign in with Google"]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx(Sl,{className:"w-full"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),o.jsxs("form",{onSubmit:y,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Oe,{htmlFor:"email",children:"Email"}),o.jsx(tt,{id:"email",type:"email",placeholder:"Your email address",value:n,onChange:b=>r(b.target.value),required:!0,className:"h-11"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Oe,{htmlFor:"password",children:"Password"}),o.jsx(vt,{to:"/forgot-password",className:"text-sm text-primary hover:text-primary-hover transition-colors",children:"Forgot password?"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(tt,{id:"password",type:t?"text":"password",placeholder:"Your password",value:s,onChange:b=>i(b.target.value),required:!0,className:"h-11 pr-10"}),o.jsx(Y,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>e(!t),children:t?o.jsx(G6,{className:"h-4 w-4 text-muted-foreground"}):o.jsx(dw,{className:"h-4 w-4 text-muted-foreground"})})]})]}),o.jsx(Y,{type:"submit",size:"lg",className:"w-full h-12 bg-primary hover:bg-primary-hover shadow-primary",disabled:a,children:a?"Signing In...":"Sign In"})]})]}),o.jsx(BP,{className:"justify-center",children:o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Don't have an account?"," ",o.jsx(vt,{to:"/signup",className:"text-primary hover:text-primary-hover font-medium transition-colors",children:"Sign up"})]})})]})]})})},Ghe=()=>{const[t,e]=p.useState(!1),[n,r]=p.useState({name:"",email:"",phone:"",password:"",confirmPassword:""}),[s,i]=p.useState(!1),{signup:a,loginWithGoogle:l}=Hn(),c=Zt(),{toast:u}=ps(),d=async()=>{i(!0);try{await l(),c("/dashboard",{replace:!0})}catch(m){console.error("Google signup error:",m),i(!1)}},h=async m=>{if(m.preventDefault(),n.password!==n.confirmPassword){u({title:"Password mismatch",description:"Passwords don't match. Please try again.",variant:"destructive"});return}if(n.password.length<6){u({title:"Password too short",description:"Password must be at least 6 characters long.",variant:"destructive"});return}i(!0);try{await a(n.email,n.password,n.name),c("/dashboard",{replace:!0})}catch(y){console.error("Email signup error:",y)}finally{i(!1)}},f=m=>y=>{r(v=>({...v,[m]:y.target.value}))};return o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md animate-fade-in",children:[o.jsx("div",{className:"text-center mb-8",children:o.jsx("div",{className:"flex items-center justify-center mb-4",children:o.jsx("img",{src:"/google-ranker-logo.png",alt:"Google Ranker Logo",className:"h-32 w-auto"})})}),o.jsxs(q,{className:"shadow-card border-2 border-border bg-transparent",children:[o.jsxs(me,{className:"text-center",children:[o.jsx(ge,{className:"text-2xl font-semibold",children:"Create Account"}),o.jsx(Je,{children:"Sign up to start managing your business profiles"})]}),o.jsxs(Q,{className:"space-y-6",children:[o.jsxs(Y,{variant:"outline",size:"lg",className:"w-full h-12 border-border hover:bg-muted/50",onClick:d,disabled:s,children:[o.jsx(B6,{className:"mr-2 h-5 w-5"}),"Sign up with Google"]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx(Sl,{className:"w-full"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),o.jsxs("form",{onSubmit:h,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Oe,{htmlFor:"name",children:"Full Name"}),o.jsx(tt,{id:"name",type:"text",placeholder:"Your full name",value:n.name,onChange:f("name"),required:!0,className:"h-11"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Oe,{htmlFor:"email",children:"Email"}),o.jsx(tt,{id:"email",type:"email",placeholder:"Your email address",value:n.email,onChange:f("email"),required:!0,className:"h-11"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Oe,{htmlFor:"phone",children:"Phone Number (Optional)"}),o.jsx(tt,{id:"phone",type:"tel",placeholder:"Your phone number",value:n.phone,onChange:f("phone"),className:"h-11"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Oe,{htmlFor:"password",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(tt,{id:"password",type:t?"text":"password",placeholder:"Create a password",value:n.password,onChange:f("password"),required:!0,className:"h-11 pr-10"}),o.jsx(Y,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>e(!t),children:t?o.jsx(G6,{className:"h-4 w-4 text-muted-foreground"}):o.jsx(dw,{className:"h-4 w-4 text-muted-foreground"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Oe,{htmlFor:"confirmPassword",children:"Confirm Password"}),o.jsx(tt,{id:"confirmPassword",type:"password",placeholder:"Confirm your password",value:n.confirmPassword,onChange:f("confirmPassword"),required:!0,className:"h-11"})]}),o.jsx(Y,{type:"submit",size:"lg",className:"w-full h-12 bg-primary hover:bg-primary-hover shadow-primary",disabled:s,children:s?"Creating Account...":"Create Account"})]})]}),o.jsx(BP,{className:"justify-center",children:o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Already have an account?"," ",o.jsx(vt,{to:"/login",className:"text-primary hover:text-primary-hover font-medium transition-colors",children:"Sign in"})]})})]})]})})},Whe=({isOpen:t=!1,onClose:e})=>{const n=gs();Zt();const r=[{label:"Profiles",href:"/dashboard",icon:ci},{label:"Posts",href:"/dashboard/posts",icon:xu},{label:"Reviews",href:"/dashboard/reviews",icon:ai},{label:"Audit Tool",href:"/dashboard/audit",icon:$i},{label:"Request for Reviews",href:"/dashboard/request-reviews",icon:wa},{label:"Billing",href:"/dashboard/billing",icon:Gn}],s=i=>i==="/dashboard"?n.pathname==="/dashboard"||n.pathname==="/":n.pathname.startsWith(i);return o.jsxs("div",{className:ve("fixed left-0 top-0 z-40 h-screen w-64 glass-card border-r-2 border-primary/30 transition-transform duration-300 ease-in-out","lg:translate-x-0",t?"translate-x-0":"-translate-x-full"),children:[o.jsxs("div",{className:"h-16 flex items-center justify-between p-4 border-b-2 border-primary/20 bg-transparent",children:[o.jsx("div",{className:"lg:hidden",children:o.jsx(Y,{variant:"ghost",size:"sm",onClick:e,className:"h-8 w-8 p-0",children:o.jsx(Yi,{className:"h-4 w-4"})})}),o.jsx("div",{className:"flex items-center gap-2 lg:mx-0 mx-auto",children:o.jsx("img",{src:"/google-ranker-logo.png",alt:"Google Ranker Logo",className:"h-20 w-auto"})}),o.jsx("div",{className:"lg:hidden w-8"})]}),o.jsxs("nav",{className:"p-4 space-y-2",children:[r.map(i=>o.jsxs(DS,{to:i.href,className:()=>{const a=s(i.href);return ve("flex items-center gap-3 px-3 py-3 rounded-lg transition-all duration-300 group",a?"":"text-muted-foreground hover:bg-muted/50 hover:text-foreground glass-button")},style:()=>s(i.href)?{background:"linear-gradient(135deg, rgba(99, 102, 241, 0.25), rgba(139, 92, 246, 0.2))",color:"#A78BFA",borderLeft:"3px solid #8B5CF6"}:{},children:[o.jsx(i.icon,{className:"h-5 w-5 transition-all duration-300 group-hover:scale-110",style:s(i.href)?{color:"#A78BFA"}:{}}),o.jsx("span",{className:"font-medium",children:i.label})]},i.href)),o.jsxs(DS,{to:"/dashboard/settings",className:()=>{const i=s("/dashboard/settings");return ve("flex items-center gap-3 px-3 py-3 rounded-lg transition-all duration-300 group",i?"":"text-muted-foreground hover:bg-muted/50 hover:text-foreground glass-button")},style:()=>s("/dashboard/settings")?{background:"linear-gradient(135deg, rgba(99, 102, 241, 0.25), rgba(139, 92, 246, 0.2))",color:"#A78BFA",borderLeft:"3px solid #8B5CF6"}:{},children:[o.jsx(Rd,{className:"h-5 w-5 transition-all duration-300 group-hover:scale-110",style:s("/dashboard/settings")?{color:"#A78BFA"}:{}}),o.jsx("span",{className:"font-medium",children:"Settings"})]})]}),o.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:o.jsxs("div",{className:"bg-gradient-primary p-3 sm:p-4 rounded-lg text-white shadow-lg",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx(W6,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"}),o.jsx("h3",{className:"font-semibold text-sm sm:text-base text-white",children:"Ask for Reviews"})]}),o.jsx("p",{className:"text-xs sm:text-sm text-white opacity-90 mb-3",children:"Generate QR codes for easy reviews"}),o.jsx(vt,{to:"/dashboard/ask-for-reviews",className:"block w-full",children:o.jsx(Y,{variant:"secondary",size:"sm",className:"w-full text-white bg-white/20 hover:bg-white/30 text-xs sm:text-sm border-0",children:"Generate QR"})})]})})]})};var Hhe=p.createContext(void 0);function ef(t){const e=p.useContext(Hhe);return t||e||"ltr"}var Aj=0;function Xw(){p.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??wD()),document.body.insertAdjacentElement("beforeend",t[1]??wD()),Aj++,()=>{Aj===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Aj--}},[])}function wD(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Cj="focusScope.autoFocusOnMount",Tj="focusScope.autoFocusOnUnmount",bD={bubbles:!1,cancelable:!0},Khe="FocusScope",ng=p.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=t,[l,c]=p.useState(null),u=bn(s),d=bn(i),h=p.useRef(null),f=Ke(e,v=>c(v)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let v=function(j){if(m.paused||!l)return;const N=j.target;l.contains(N)?h.current=N:tl(h.current,{select:!0})},x=function(j){if(m.paused||!l)return;const N=j.relatedTarget;N!==null&&(l.contains(N)||tl(h.current,{select:!0}))},b=function(j){if(document.activeElement===document.body)for(const T of j)T.removedNodes.length>0&&tl(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",x);const w=new MutationObserver(b);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",x),w.disconnect()}}},[r,l,m.paused]),p.useEffect(()=>{if(l){ND.add(m);const v=document.activeElement;if(!l.contains(v)){const b=new CustomEvent(Cj,bD);l.addEventListener(Cj,u),l.dispatchEvent(b),b.defaultPrevented||(qhe(Zhe(WB(l)),{select:!0}),document.activeElement===v&&tl(l))}return()=>{l.removeEventListener(Cj,u),setTimeout(()=>{const b=new CustomEvent(Tj,bD);l.addEventListener(Tj,d),l.dispatchEvent(b),b.defaultPrevented||tl(v??document.body,{select:!0}),l.removeEventListener(Tj,d),ND.remove(m)},0)}}},[l,u,d,m]);const y=p.useCallback(v=>{if(!n&&!r||m.paused)return;const x=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,b=document.activeElement;if(x&&b){const w=v.currentTarget,[j,N]=Yhe(w);j&&N?!v.shiftKey&&b===N?(v.preventDefault(),n&&tl(j,{select:!0})):v.shiftKey&&b===j&&(v.preventDefault(),n&&tl(N,{select:!0})):b===w&&v.preventDefault()}},[n,r,m.paused]);return o.jsx(De.div,{tabIndex:-1,...a,ref:f,onKeyDown:y})});ng.displayName=Khe;function qhe(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(tl(r,{select:e}),document.activeElement!==n)return}function Yhe(t){const e=WB(t),n=jD(e,t),r=jD(e.reverse(),t);return[n,r]}function WB(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function jD(t,e){for(const n of t)if(!Qhe(n,{upTo:e}))return n}function Qhe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Xhe(t){return t instanceof HTMLInputElement&&"select"in t}function tl(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Xhe(t)&&e&&t.select()}}var ND=Jhe();function Jhe(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=SD(t,e),t.unshift(e)},remove(e){var n;t=SD(t,e),(n=t[0])==null||n.resume()}}}function SD(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Zhe(t){return t.filter(e=>e.tagName!=="A")}var kj="rovingFocusGroup.onEntryFocus",efe={bubbles:!1,cancelable:!0},rg="RovingFocusGroup",[h_,HB,tfe]=aw(rg),[nfe,tf]=nr(rg,[tfe]),[rfe,sfe]=nfe(rg),KB=p.forwardRef((t,e)=>o.jsx(h_.Provider,{scope:t.__scopeRovingFocusGroup,children:o.jsx(h_.Slot,{scope:t.__scopeRovingFocusGroup,children:o.jsx(ife,{...t,ref:e})})}));KB.displayName=rg;var ife=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,f=p.useRef(null),m=Ke(e,f),y=ef(i),[v,x]=zi({prop:a,defaultProp:l??null,onChange:c,caller:rg}),[b,w]=p.useState(!1),j=bn(u),N=HB(n),T=p.useRef(!1),[I,P]=p.useState(0);return p.useEffect(()=>{const E=f.current;if(E)return E.addEventListener(kj,j),()=>E.removeEventListener(kj,j)},[j]),o.jsx(rfe,{scope:n,orientation:r,dir:y,loop:s,currentTabStopId:v,onItemFocus:p.useCallback(E=>x(E),[x]),onItemShiftTab:p.useCallback(()=>w(!0),[]),onFocusableItemAdd:p.useCallback(()=>P(E=>E+1),[]),onFocusableItemRemove:p.useCallback(()=>P(E=>E-1),[]),children:o.jsx(De.div,{tabIndex:b||I===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...t.style},onMouseDown:xe(t.onMouseDown,()=>{T.current=!0}),onFocus:xe(t.onFocus,E=>{const A=!T.current;if(E.target===E.currentTarget&&A&&!b){const S=new CustomEvent(kj,efe);if(E.currentTarget.dispatchEvent(S),!S.defaultPrevented){const C=N().filter(U=>U.focusable),O=C.find(U=>U.active),k=C.find(U=>U.id===v),G=[O,k,...C].filter(Boolean).map(U=>U.ref.current);QB(G,d)}}T.current=!1}),onBlur:xe(t.onBlur,()=>w(!1))})})}),qB="RovingFocusGroupItem",YB=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:a,...l}=t,c=ui(),u=i||c,d=sfe(qB,n),h=d.currentTabStopId===u,f=HB(n),{onFocusableItemAdd:m,onFocusableItemRemove:y,currentTabStopId:v}=d;return p.useEffect(()=>{if(r)return m(),()=>y()},[r,m,y]),o.jsx(h_.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:o.jsx(De.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:xe(t.onMouseDown,x=>{r?d.onItemFocus(u):x.preventDefault()}),onFocus:xe(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:xe(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const b=lfe(x,d.orientation,d.dir);if(b!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let j=f().filter(N=>N.focusable).map(N=>N.ref.current);if(b==="last")j.reverse();else if(b==="prev"||b==="next"){b==="prev"&&j.reverse();const N=j.indexOf(x.currentTarget);j=d.loop?cfe(j,N+1):j.slice(N+1)}setTimeout(()=>QB(j))}}),children:typeof a=="function"?a({isCurrentTabStop:h,hasTabStop:v!=null}):a})})});YB.displayName=qB;var ofe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function afe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function lfe(t,e,n){const r=afe(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return ofe[r]}function QB(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function cfe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var WA=KB,HA=YB,ufe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},sd=new WeakMap,Ov=new WeakMap,Dv={},Ij=0,XB=function(t){return t&&(t.host||XB(t.parentNode))},dfe=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=XB(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},hfe=function(t,e,n,r){var s=dfe(e,Array.isArray(t)?t:[t]);Dv[n]||(Dv[n]=new WeakMap);var i=Dv[n],a=[],l=new Set,c=new Set(s),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))d(f);else try{var m=f.getAttribute(r),y=m!==null&&m!=="false",v=(sd.get(f)||0)+1,x=(i.get(f)||0)+1;sd.set(f,v),i.set(f,x),a.push(f),v===1&&y&&Ov.set(f,!0),x===1&&f.setAttribute(n,"true"),y||f.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",f,b)}})};return d(e),l.clear(),Ij++,function(){a.forEach(function(h){var f=sd.get(h)-1,m=i.get(h)-1;sd.set(h,f),i.set(h,m),f||(Ov.has(h)||h.removeAttribute(r),Ov.delete(h)),m||h.removeAttribute(n)}),Ij--,Ij||(sd=new WeakMap,sd=new WeakMap,Ov=new WeakMap,Dv={})}},Jw=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=ufe(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),hfe(r,s,n,"aria-hidden")):function(){return null}},co=function(){return co=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},co.apply(this,arguments)};function JB(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function ffe(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Iy="right-scroll-bar-position",Ry="width-before-scroll-bar",mfe="with-scroll-bars-hidden",pfe="--removed-body-scroll-bar-size";function Rj(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function gfe(t,e){var n=p.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var vfe=typeof window<"u"?p.useLayoutEffect:p.useEffect,_D=new WeakMap;function yfe(t,e){var n=gfe(null,function(r){return t.forEach(function(s){return Rj(s,r)})});return vfe(function(){var r=_D.get(n);if(r){var s=new Set(r),i=new Set(t),a=n.current;s.forEach(function(l){i.has(l)||Rj(l,null)}),i.forEach(function(l){s.has(l)||Rj(l,a)})}_D.set(n,t)},[t]),n}function xfe(t){return t}function wfe(t,e){e===void 0&&(e=xfe);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var a=e(i,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(i),a=n}var c=function(){var d=a;a=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return s}function bfe(t){t===void 0&&(t={});var e=wfe(null);return e.options=co({async:!0,ssr:!1},t),e}var ZB=function(t){var e=t.sideCar,n=JB(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,co({},n))};ZB.isSideCarExport=!0;function jfe(t,e){return t.useMedium(e),ZB}var eV=bfe(),Oj=function(){},Zw=p.forwardRef(function(t,e){var n=p.useRef(null),r=p.useState({onScrollCapture:Oj,onWheelCapture:Oj,onTouchMoveCapture:Oj}),s=r[0],i=r[1],a=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,m=t.noRelative,y=t.noIsolation,v=t.inert,x=t.allowPinchZoom,b=t.as,w=b===void 0?"div":b,j=t.gapMode,N=JB(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=f,I=yfe([n,e]),P=co(co({},N),s);return p.createElement(p.Fragment,null,d&&p.createElement(T,{sideCar:eV,removeScrollBar:u,shards:h,noRelative:m,noIsolation:y,inert:v,setCallbacks:i,allowPinchZoom:!!x,lockRef:n,gapMode:j}),a?p.cloneElement(p.Children.only(l),co(co({},P),{ref:I})):p.createElement(w,co({},P,{className:c,ref:I}),l))});Zw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Zw.classNames={fullWidth:Ry,zeroRight:Iy};var Nfe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Sfe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Nfe();return e&&t.setAttribute("nonce",e),t}function _fe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Efe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Pfe=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Sfe())&&(_fe(e,n),Efe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Afe=function(){var t=Pfe();return function(e,n){p.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},tV=function(){var t=Afe(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},Cfe={left:0,top:0,right:0,gap:0},Dj=function(t){return parseInt(t||"",10)||0},Tfe=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Dj(n),Dj(r),Dj(s)]},kfe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Cfe;var e=Tfe(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Ife=tV(),Bd="data-scroll-locked",Rfe=function(t,e,n,r){var s=t.left,i=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(mfe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Bd,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Iy,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Ry,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Iy," .").concat(Iy,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ry," .").concat(Ry,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Bd,`] {
    `).concat(pfe,": ").concat(l,`px;
  }
`)},ED=function(){var t=parseInt(document.body.getAttribute(Bd)||"0",10);return isFinite(t)?t:0},Ofe=function(){p.useEffect(function(){return document.body.setAttribute(Bd,(ED()+1).toString()),function(){var t=ED()-1;t<=0?document.body.removeAttribute(Bd):document.body.setAttribute(Bd,t.toString())}},[])},Dfe=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;Ofe();var i=p.useMemo(function(){return kfe(s)},[s]);return p.createElement(Ife,{styles:Rfe(i,!e,s,n?"":"!important")})},f_=!1;if(typeof window<"u")try{var Mv=Object.defineProperty({},"passive",{get:function(){return f_=!0,!0}});window.addEventListener("test",Mv,Mv),window.removeEventListener("test",Mv,Mv)}catch{f_=!1}var id=f_?{passive:!1}:!1,Mfe=function(t){return t.tagName==="TEXTAREA"},nV=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Mfe(t)&&n[e]==="visible")},Lfe=function(t){return nV(t,"overflowY")},Ffe=function(t){return nV(t,"overflowX")},PD=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=rV(t,r);if(s){var i=sV(t,r),a=i[1],l=i[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},$fe=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Ufe=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},rV=function(t,e){return t==="v"?Lfe(e):Ffe(e)},sV=function(t,e){return t==="v"?$fe(e):Ufe(e)},Bfe=function(t,e){return t==="h"&&e==="rtl"?-1:1},Vfe=function(t,e,n,r,s){var i=Bfe(t,window.getComputedStyle(e).direction),a=i*r,l=n.target,c=e.contains(l),u=!1,d=a>0,h=0,f=0;do{if(!l)break;var m=sV(t,l),y=m[0],v=m[1],x=m[2],b=v-x-i*y;(y||b)&&rV(t,l)&&(h+=b,f+=y);var w=l.parentNode;l=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(f)<1||!s))&&(u=!0),u},Lv=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},AD=function(t){return[t.deltaX,t.deltaY]},CD=function(t){return t&&"current"in t?t.current:t},zfe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Gfe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Wfe=0,od=[];function Hfe(t){var e=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(Wfe++)[0],i=p.useState(tV)[0],a=p.useRef(t);p.useEffect(function(){a.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=ffe([t.lockRef.current],(t.shards||[]).map(CD),!0).filter(Boolean);return v.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=p.useCallback(function(v,x){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!a.current.allowPinchZoom;var b=Lv(v),w=n.current,j="deltaX"in v?v.deltaX:w[0]-b[0],N="deltaY"in v?v.deltaY:w[1]-b[1],T,I=v.target,P=Math.abs(j)>Math.abs(N)?"h":"v";if("touches"in v&&P==="h"&&I.type==="range")return!1;var E=PD(P,I);if(!E)return!0;if(E?T=P:(T=P==="v"?"h":"v",E=PD(P,I)),!E)return!1;if(!r.current&&"changedTouches"in v&&(j||N)&&(r.current=T),!T)return!0;var A=r.current||T;return Vfe(A,x,v,A==="h"?j:N,!0)},[]),c=p.useCallback(function(v){var x=v;if(!(!od.length||od[od.length-1]!==i)){var b="deltaY"in x?AD(x):Lv(x),w=e.current.filter(function(T){return T.name===x.type&&(T.target===x.target||x.target===T.shadowParent)&&zfe(T.delta,b)})[0];if(w&&w.should){x.cancelable&&x.preventDefault();return}if(!w){var j=(a.current.shards||[]).map(CD).filter(Boolean).filter(function(T){return T.contains(x.target)}),N=j.length>0?l(x,j[0]):!a.current.noIsolation;N&&x.cancelable&&x.preventDefault()}}},[]),u=p.useCallback(function(v,x,b,w){var j={name:v,delta:x,target:b,should:w,shadowParent:Kfe(b)};e.current.push(j),setTimeout(function(){e.current=e.current.filter(function(N){return N!==j})},1)},[]),d=p.useCallback(function(v){n.current=Lv(v),r.current=void 0},[]),h=p.useCallback(function(v){u(v.type,AD(v),v.target,l(v,t.lockRef.current))},[]),f=p.useCallback(function(v){u(v.type,Lv(v),v.target,l(v,t.lockRef.current))},[]);p.useEffect(function(){return od.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,id),document.addEventListener("touchmove",c,id),document.addEventListener("touchstart",d,id),function(){od=od.filter(function(v){return v!==i}),document.removeEventListener("wheel",c,id),document.removeEventListener("touchmove",c,id),document.removeEventListener("touchstart",d,id)}},[]);var m=t.removeScrollBar,y=t.inert;return p.createElement(p.Fragment,null,y?p.createElement(i,{styles:Gfe(s)}):null,m?p.createElement(Dfe,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Kfe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const qfe=jfe(eV,Hfe);var sg=p.forwardRef(function(t,e){return p.createElement(Zw,co({},t,{ref:e,sideCar:qfe}))});sg.classNames=Zw.classNames;var m_=["Enter"," "],Yfe=["ArrowDown","PageUp","Home"],iV=["ArrowUp","PageDown","End"],Qfe=[...Yfe,...iV],Xfe={ltr:[...m_,"ArrowRight"],rtl:[...m_,"ArrowLeft"]},Jfe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ig="Menu",[mp,Zfe,eme]=aw(ig),[Hu,oV]=nr(ig,[eme,hc,tf]),eb=hc(),aV=tf(),[tme,Ku]=Hu(ig),[nme,og]=Hu(ig),lV=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:a=!0}=t,l=eb(e),[c,u]=p.useState(null),d=p.useRef(!1),h=bn(i),f=ef(s);return p.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),o.jsx(gw,{...l,children:o.jsx(tme,{scope:e,open:n,onOpenChange:h,content:c,onContentChange:u,children:o.jsx(nme,{scope:e,onClose:p.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:a,children:r})})})};lV.displayName=ig;var rme="MenuAnchor",KA=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=eb(n);return o.jsx(Up,{...s,...r,ref:e})});KA.displayName=rme;var qA="MenuPortal",[sme,cV]=Hu(qA,{forceMount:void 0}),uV=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=Ku(qA,e);return o.jsx(sme,{scope:e,forceMount:n,children:o.jsx(rr,{present:n||i.open,children:o.jsx(Bh,{asChild:!0,container:s,children:r})})})};uV.displayName=qA;var di="MenuContent",[ime,YA]=Hu(di),dV=p.forwardRef((t,e)=>{const n=cV(di,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Ku(di,t.__scopeMenu),a=og(di,t.__scopeMenu);return o.jsx(mp.Provider,{scope:t.__scopeMenu,children:o.jsx(rr,{present:r||i.open,children:o.jsx(mp.Slot,{scope:t.__scopeMenu,children:a.modal?o.jsx(ome,{...s,ref:e}):o.jsx(ame,{...s,ref:e})})})})}),ome=p.forwardRef((t,e)=>{const n=Ku(di,t.__scopeMenu),r=p.useRef(null),s=Ke(e,r);return p.useEffect(()=>{const i=r.current;if(i)return Jw(i)},[]),o.jsx(QA,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:xe(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),ame=p.forwardRef((t,e)=>{const n=Ku(di,t.__scopeMenu);return o.jsx(QA,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),lme=ql("MenuContent.ScrollLock"),QA=p.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:m,disableOutsideScroll:y,...v}=t,x=Ku(di,n),b=og(di,n),w=eb(n),j=aV(n),N=Zfe(n),[T,I]=p.useState(null),P=p.useRef(null),E=Ke(e,P,x.onContentChange),A=p.useRef(0),S=p.useRef(""),C=p.useRef(0),O=p.useRef(null),k=p.useRef("right"),B=p.useRef(0),G=y?sg:p.Fragment,U=y?{as:lme,allowPinchZoom:!0}:void 0,$=L=>{var se,Ue;const W=S.current+L,J=N().filter(ae=>!ae.disabled),V=document.activeElement,ue=(se=J.find(ae=>ae.ref.current===V))==null?void 0:se.textValue,ee=J.map(ae=>ae.textValue),re=wme(ee,W,ue),be=(Ue=J.find(ae=>ae.textValue===re))==null?void 0:Ue.ref.current;(function ae(z){S.current=z,window.clearTimeout(A.current),z!==""&&(A.current=window.setTimeout(()=>ae(""),1e3))})(W),be&&setTimeout(()=>be.focus())};p.useEffect(()=>()=>window.clearTimeout(A.current),[]),Xw();const D=p.useCallback(L=>{var J,V;return k.current===((J=O.current)==null?void 0:J.side)&&jme(L,(V=O.current)==null?void 0:V.area)},[]);return o.jsx(ime,{scope:n,searchRef:S,onItemEnter:p.useCallback(L=>{D(L)&&L.preventDefault()},[D]),onItemLeave:p.useCallback(L=>{var W;D(L)||((W=P.current)==null||W.focus(),I(null))},[D]),onTriggerLeave:p.useCallback(L=>{D(L)&&L.preventDefault()},[D]),pointerGraceTimerRef:C,onPointerGraceIntentChange:p.useCallback(L=>{O.current=L},[]),children:o.jsx(G,{...U,children:o.jsx(ng,{asChild:!0,trapped:s,onMountAutoFocus:xe(i,L=>{var W;L.preventDefault(),(W=P.current)==null||W.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:o.jsx(Vu,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:m,children:o.jsx(WA,{asChild:!0,...j,dir:b.dir,orientation:"vertical",loop:r,currentTabStopId:T,onCurrentTabStopIdChange:I,onEntryFocus:xe(c,L=>{b.isUsingKeyboardRef.current||L.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(vw,{role:"menu","aria-orientation":"vertical","data-state":PV(x.open),"data-radix-menu-content":"",dir:b.dir,...w,...v,ref:E,style:{outline:"none",...v.style},onKeyDown:xe(v.onKeyDown,L=>{const J=L.target.closest("[data-radix-menu-content]")===L.currentTarget,V=L.ctrlKey||L.altKey||L.metaKey,ue=L.key.length===1;J&&(L.key==="Tab"&&L.preventDefault(),!V&&ue&&$(L.key));const ee=P.current;if(L.target!==ee||!Qfe.includes(L.key))return;L.preventDefault();const be=N().filter(se=>!se.disabled).map(se=>se.ref.current);iV.includes(L.key)&&be.reverse(),yme(be)}),onBlur:xe(t.onBlur,L=>{L.currentTarget.contains(L.target)||(window.clearTimeout(A.current),S.current="")}),onPointerMove:xe(t.onPointerMove,pp(L=>{const W=L.target,J=B.current!==L.clientX;if(L.currentTarget.contains(W)&&J){const V=L.clientX>B.current?"right":"left";k.current=V,B.current=L.clientX}}))})})})})})})});dV.displayName=di;var cme="MenuGroup",XA=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(De.div,{role:"group",...r,ref:e})});XA.displayName=cme;var ume="MenuLabel",hV=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(De.div,{...r,ref:e})});hV.displayName=ume;var Wx="MenuItem",TD="menu.itemSelect",tb=p.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=p.useRef(null),a=og(Wx,t.__scopeMenu),l=YA(Wx,t.__scopeMenu),c=Ke(e,i),u=p.useRef(!1),d=()=>{const h=i.current;if(!n&&h){const f=new CustomEvent(TD,{bubbles:!0,cancelable:!0});h.addEventListener(TD,m=>r==null?void 0:r(m),{once:!0}),gP(h,f),f.defaultPrevented?u.current=!1:a.onClose()}};return o.jsx(fV,{...s,ref:c,disabled:n,onClick:xe(t.onClick,d),onPointerDown:h=>{var f;(f=t.onPointerDown)==null||f.call(t,h),u.current=!0},onPointerUp:xe(t.onPointerUp,h=>{var f;u.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:xe(t.onKeyDown,h=>{const f=l.searchRef.current!=="";n||f&&h.key===" "||m_.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});tb.displayName=Wx;var fV=p.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,a=YA(Wx,n),l=aV(n),c=p.useRef(null),u=Ke(e,c),[d,h]=p.useState(!1),[f,m]=p.useState("");return p.useEffect(()=>{const y=c.current;y&&m((y.textContent??"").trim())},[i.children]),o.jsx(mp.ItemSlot,{scope:n,disabled:r,textValue:s??f,children:o.jsx(HA,{asChild:!0,...l,focusable:!r,children:o.jsx(De.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:xe(t.onPointerMove,pp(y=>{r?a.onItemLeave(y):(a.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:xe(t.onPointerLeave,pp(y=>a.onItemLeave(y))),onFocus:xe(t.onFocus,()=>h(!0)),onBlur:xe(t.onBlur,()=>h(!1))})})})}),dme="MenuCheckboxItem",mV=p.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return o.jsx(xV,{scope:t.__scopeMenu,checked:n,children:o.jsx(tb,{role:"menuitemcheckbox","aria-checked":Hx(n)?"mixed":n,...s,ref:e,"data-state":ZA(n),onSelect:xe(s.onSelect,()=>r==null?void 0:r(Hx(n)?!0:!n),{checkForDefaultPrevented:!1})})})});mV.displayName=dme;var pV="MenuRadioGroup",[hme,fme]=Hu(pV,{value:void 0,onValueChange:()=>{}}),gV=p.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=bn(r);return o.jsx(hme,{scope:t.__scopeMenu,value:n,onValueChange:i,children:o.jsx(XA,{...s,ref:e})})});gV.displayName=pV;var vV="MenuRadioItem",yV=p.forwardRef((t,e)=>{const{value:n,...r}=t,s=fme(vV,t.__scopeMenu),i=n===s.value;return o.jsx(xV,{scope:t.__scopeMenu,checked:i,children:o.jsx(tb,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":ZA(i),onSelect:xe(r.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,n)},{checkForDefaultPrevented:!1})})})});yV.displayName=vV;var JA="MenuItemIndicator",[xV,mme]=Hu(JA,{checked:!1}),wV=p.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=mme(JA,n);return o.jsx(rr,{present:r||Hx(i.checked)||i.checked===!0,children:o.jsx(De.span,{...s,ref:e,"data-state":ZA(i.checked)})})});wV.displayName=JA;var pme="MenuSeparator",bV=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(De.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});bV.displayName=pme;var gme="MenuArrow",jV=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=eb(n);return o.jsx(yw,{...s,...r,ref:e})});jV.displayName=gme;var vme="MenuSub",[n4e,NV]=Hu(vme),lm="MenuSubTrigger",SV=p.forwardRef((t,e)=>{const n=Ku(lm,t.__scopeMenu),r=og(lm,t.__scopeMenu),s=NV(lm,t.__scopeMenu),i=YA(lm,t.__scopeMenu),a=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:t.__scopeMenu},d=p.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return p.useEffect(()=>d,[d]),p.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),o.jsx(KA,{asChild:!0,...u,children:o.jsx(fV,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":PV(n.open),...t,ref:ow(e,s.onTriggerChange),onClick:h=>{var f;(f=t.onClick)==null||f.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:xe(t.onPointerMove,pp(h=>{i.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:xe(t.onPointerLeave,pp(h=>{var m,y;d();const f=(m=n.content)==null?void 0:m.getBoundingClientRect();if(f){const v=(y=n.content)==null?void 0:y.dataset.side,x=v==="right",b=x?-5:5,w=f[x?"left":"right"],j=f[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+b,y:h.clientY},{x:w,y:f.top},{x:j,y:f.top},{x:j,y:f.bottom},{x:w,y:f.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:xe(t.onKeyDown,h=>{var m;const f=i.searchRef.current!=="";t.disabled||f&&h.key===" "||Xfe[r.dir].includes(h.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),h.preventDefault())})})})});SV.displayName=lm;var _V="MenuSubContent",EV=p.forwardRef((t,e)=>{const n=cV(di,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Ku(di,t.__scopeMenu),a=og(di,t.__scopeMenu),l=NV(_V,t.__scopeMenu),c=p.useRef(null),u=Ke(e,c);return o.jsx(mp.Provider,{scope:t.__scopeMenu,children:o.jsx(rr,{present:r||i.open,children:o.jsx(mp.Slot,{scope:t.__scopeMenu,children:o.jsx(QA,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;a.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:xe(t.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:xe(t.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:xe(t.onKeyDown,d=>{var m;const h=d.currentTarget.contains(d.target),f=Jfe[a.dir].includes(d.key);h&&f&&(i.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});EV.displayName=_V;function PV(t){return t?"open":"closed"}function Hx(t){return t==="indeterminate"}function ZA(t){return Hx(t)?"indeterminate":t?"checked":"unchecked"}function yme(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function xme(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function wme(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let a=xme(t,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function bme(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const l=e[i],c=e[a],u=l.x,d=l.y,h=c.x,f=c.y;d>r!=f>r&&n<(h-u)*(r-d)/(f-d)+u&&(s=!s)}return s}function jme(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return bme(n,e)}function pp(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Nme=lV,Sme=KA,_me=uV,Eme=dV,Pme=XA,Ame=hV,Cme=tb,Tme=mV,kme=gV,Ime=yV,Rme=wV,Ome=bV,Dme=jV,Mme=SV,Lme=EV,nb="DropdownMenu",[Fme,r4e]=nr(nb,[oV]),Kr=oV(),[$me,AV]=Fme(nb),CV=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:a,modal:l=!0}=t,c=Kr(e),u=p.useRef(null),[d,h]=zi({prop:s,defaultProp:i??!1,onChange:a,caller:nb});return o.jsx($me,{scope:e,triggerId:ui(),triggerRef:u,contentId:ui(),open:d,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(f=>!f),[h]),modal:l,children:o.jsx(Nme,{...c,open:d,onOpenChange:h,dir:r,modal:l,children:n})})};CV.displayName=nb;var TV="DropdownMenuTrigger",kV=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=AV(TV,n),a=Kr(n);return o.jsx(Sme,{asChild:!0,...a,children:o.jsx(De.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:ow(e,i.triggerRef),onPointerDown:xe(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:xe(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});kV.displayName=TV;var Ume="DropdownMenuPortal",IV=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Kr(e);return o.jsx(_me,{...r,...n})};IV.displayName=Ume;var RV="DropdownMenuContent",OV=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=AV(RV,n),i=Kr(n),a=p.useRef(!1);return o.jsx(Eme,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:xe(t.onCloseAutoFocus,l=>{var c;a.current||(c=s.triggerRef.current)==null||c.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:xe(t.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});OV.displayName=RV;var Bme="DropdownMenuGroup",Vme=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kr(n);return o.jsx(Pme,{...s,...r,ref:e})});Vme.displayName=Bme;var zme="DropdownMenuLabel",DV=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kr(n);return o.jsx(Ame,{...s,...r,ref:e})});DV.displayName=zme;var Gme="DropdownMenuItem",MV=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kr(n);return o.jsx(Cme,{...s,...r,ref:e})});MV.displayName=Gme;var Wme="DropdownMenuCheckboxItem",LV=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kr(n);return o.jsx(Tme,{...s,...r,ref:e})});LV.displayName=Wme;var Hme="DropdownMenuRadioGroup",Kme=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kr(n);return o.jsx(kme,{...s,...r,ref:e})});Kme.displayName=Hme;var qme="DropdownMenuRadioItem",FV=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kr(n);return o.jsx(Ime,{...s,...r,ref:e})});FV.displayName=qme;var Yme="DropdownMenuItemIndicator",$V=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kr(n);return o.jsx(Rme,{...s,...r,ref:e})});$V.displayName=Yme;var Qme="DropdownMenuSeparator",UV=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kr(n);return o.jsx(Ome,{...s,...r,ref:e})});UV.displayName=Qme;var Xme="DropdownMenuArrow",Jme=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kr(n);return o.jsx(Dme,{...s,...r,ref:e})});Jme.displayName=Xme;var Zme="DropdownMenuSubTrigger",BV=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kr(n);return o.jsx(Mme,{...s,...r,ref:e})});BV.displayName=Zme;var epe="DropdownMenuSubContent",VV=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kr(n);return o.jsx(Lme,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});VV.displayName=epe;var tpe=CV,npe=kV,rpe=IV,zV=OV,GV=DV,WV=MV,HV=LV,KV=FV,qV=$V,YV=UV,QV=BV,XV=VV;const rb=tpe,sb=npe,spe=p.forwardRef(({className:t,inset:e,children:n,...r},s)=>o.jsxs(QV,{ref:s,className:ve("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,o.jsx(cx,{className:"ml-auto h-4 w-4"})]}));spe.displayName=QV.displayName;const ipe=p.forwardRef(({className:t,...e},n)=>o.jsx(XV,{ref:n,className:ve("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));ipe.displayName=XV.displayName;const ag=p.forwardRef(({className:t,sideOffset:e=4,...n},r)=>o.jsx(rpe,{children:o.jsx(zV,{ref:r,sideOffset:e,className:ve("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));ag.displayName=zV.displayName;const is=p.forwardRef(({className:t,inset:e,...n},r)=>o.jsx(WV,{ref:r,className:ve("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));is.displayName=WV.displayName;const ope=p.forwardRef(({className:t,children:e,checked:n,...r},s)=>o.jsxs(HV,{ref:s,className:ve("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(qV,{children:o.jsx(Ll,{className:"h-4 w-4"})})}),e]}));ope.displayName=HV.displayName;const ape=p.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(KV,{ref:r,className:ve("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(qV,{children:o.jsx(V6,{className:"h-2 w-2 fill-current"})})}),e]}));ape.displayName=KV.displayName;const eC=p.forwardRef(({className:t,inset:e,...n},r)=>o.jsx(GV,{ref:r,className:ve("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));eC.displayName=GV.displayName;const Vd=p.forwardRef(({className:t,...e},n)=>o.jsx(YV,{ref:n,className:ve("-mx-1 my-1 h-px bg-muted",t),...e}));Vd.displayName=YV.displayName;var JV={exports:{}},ZV={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xh=p;function lpe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var cpe=typeof Object.is=="function"?Object.is:lpe,upe=xh.useState,dpe=xh.useEffect,hpe=xh.useLayoutEffect,fpe=xh.useDebugValue;function mpe(t,e){var n=e(),r=upe({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return hpe(function(){s.value=n,s.getSnapshot=e,Mj(s)&&i({inst:s})},[t,n,e]),dpe(function(){return Mj(s)&&i({inst:s}),t(function(){Mj(s)&&i({inst:s})})},[t]),fpe(n),n}function Mj(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!cpe(t,n)}catch{return!0}}function ppe(t,e){return e()}var gpe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ppe:mpe;ZV.useSyncExternalStore=xh.useSyncExternalStore!==void 0?xh.useSyncExternalStore:gpe;JV.exports=ZV;var e8=JV.exports;function vpe(){return e8.useSyncExternalStore(ype,()=>!0,()=>!1)}function ype(){return()=>{}}var tC="Avatar",[xpe,s4e]=nr(tC),[wpe,t8]=xpe(tC),n8=p.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=p.useState("idle");return o.jsx(wpe,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:o.jsx(De.span,{...r,ref:e})})});n8.displayName=tC;var r8="AvatarImage",s8=p.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,a=t8(r8,n),l=bpe(r,i),c=bn(u=>{s(u),a.onImageLoadingStatusChange(u)});return kn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(De.img,{...i,ref:e,src:r}):null});s8.displayName=r8;var i8="AvatarFallback",o8=p.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=t8(i8,n),[a,l]=p.useState(r===void 0);return p.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),a&&i.imageLoadingStatus!=="loaded"?o.jsx(De.span,{...s,ref:e}):null});o8.displayName=i8;function kD(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function bpe(t,{referrerPolicy:e,crossOrigin:n}){const r=vpe(),s=p.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[a,l]=p.useState(()=>kD(i,t));return kn(()=>{l(kD(i,t))},[i,t]),kn(()=>{const c=h=>()=>{l(h)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),e&&(i.referrerPolicy=e),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,n,e]),a}var a8=n8,l8=s8,c8=o8;const lg=p.forwardRef(({className:t,...e},n)=>o.jsx(a8,{ref:n,className:ve("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));lg.displayName=a8.displayName;const jpe=p.forwardRef(({className:t,...e},n)=>o.jsx(l8,{ref:n,className:ve("aspect-square h-full w-full",t),...e}));jpe.displayName=l8.displayName;const cg=p.forwardRef(({className:t,...e},n)=>o.jsx(c8,{ref:n,className:ve("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));cg.displayName=c8.displayName;const Npe=Lp("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ee({className:t,variant:e,...n}){return o.jsx("div",{className:ve(Npe({variant:e}),t),...n})}function p_(t,[e,n]){return Math.min(n,Math.max(e,t))}function Spe(t,e){return p.useReducer((n,r)=>e[n][r]??n,t)}var nC="ScrollArea",[u8,i4e]=nr(nC),[_pe,yi]=u8(nC),d8=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...a}=t,[l,c]=p.useState(null),[u,d]=p.useState(null),[h,f]=p.useState(null),[m,y]=p.useState(null),[v,x]=p.useState(null),[b,w]=p.useState(0),[j,N]=p.useState(0),[T,I]=p.useState(!1),[P,E]=p.useState(!1),A=Ke(e,C=>c(C)),S=ef(s);return o.jsx(_pe,{scope:n,type:r,dir:S,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:f,scrollbarX:m,onScrollbarXChange:y,scrollbarXEnabled:T,onScrollbarXEnabledChange:I,scrollbarY:v,onScrollbarYChange:x,scrollbarYEnabled:P,onScrollbarYEnabledChange:E,onCornerWidthChange:w,onCornerHeightChange:N,children:o.jsx(De.div,{dir:S,...a,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":j+"px",...t.style}})})});d8.displayName=nC;var h8="ScrollAreaViewport",f8=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=t,a=yi(h8,n),l=p.useRef(null),c=Ke(e,l,a.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),o.jsx(De.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:o.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});f8.displayName=h8;var $o="ScrollAreaScrollbar",rC=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=yi($o,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:a}=s,l=t.orientation==="horizontal";return p.useEffect(()=>(l?i(!0):a(!0),()=>{l?i(!1):a(!1)}),[l,i,a]),s.type==="hover"?o.jsx(Epe,{...r,ref:e,forceMount:n}):s.type==="scroll"?o.jsx(Ppe,{...r,ref:e,forceMount:n}):s.type==="auto"?o.jsx(m8,{...r,ref:e,forceMount:n}):s.type==="always"?o.jsx(sC,{...r,ref:e}):null});rC.displayName=$o;var Epe=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=yi($o,t.__scopeScrollArea),[i,a]=p.useState(!1);return p.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),a(!0)},d=()=>{c=window.setTimeout(()=>a(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(rr,{present:n||i,children:o.jsx(m8,{"data-state":i?"visible":"hidden",...r,ref:e})})}),Ppe=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=yi($o,t.__scopeScrollArea),i=t.orientation==="horizontal",a=ob(()=>c("SCROLL_END"),100),[l,c]=Spe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),p.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let h=u[d];const f=()=>{const m=u[d];h!==m&&(c("SCROLL"),a()),h=m};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[s.viewport,i,c,a]),o.jsx(rr,{present:n||l!=="hidden",children:o.jsx(sC,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:xe(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:xe(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),m8=p.forwardRef((t,e)=>{const n=yi($o,t.__scopeScrollArea),{forceMount:r,...s}=t,[i,a]=p.useState(!1),l=t.orientation==="horizontal",c=ob(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;a(l?u:d)}},10);return wh(n.viewport,c),wh(n.content,c),o.jsx(rr,{present:r||i,children:o.jsx(sC,{"data-state":i?"visible":"hidden",...s,ref:e})})}),sC=p.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=yi($o,t.__scopeScrollArea),i=p.useRef(null),a=p.useRef(0),[l,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=x8(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:f=>a.current=f};function h(f,m){return Rpe(f,a.current,l,m)}return n==="horizontal"?o.jsx(Ape,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollLeft,m=ID(f,l,s.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=h(f,s.dir))}}):n==="vertical"?o.jsx(Cpe,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollTop,m=ID(f,l);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=h(f))}}):null}),Ape=p.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=yi($o,t.__scopeScrollArea),[a,l]=p.useState(),c=p.useRef(null),u=Ke(e,c,i.onScrollbarXChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(g8,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ib(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollLeft+d.deltaX;t.onWheelScroll(f),b8(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:qx(a.paddingLeft),paddingEnd:qx(a.paddingRight)}})}})}),Cpe=p.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=yi($o,t.__scopeScrollArea),[a,l]=p.useState(),c=p.useRef(null),u=Ke(e,c,i.onScrollbarYChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(g8,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ib(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollTop+d.deltaY;t.onWheelScroll(f),b8(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:qx(a.paddingTop),paddingEnd:qx(a.paddingBottom)}})}})}),[Tpe,p8]=u8($o),g8=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...f}=t,m=yi($o,n),[y,v]=p.useState(null),x=Ke(e,A=>v(A)),b=p.useRef(null),w=p.useRef(""),j=m.viewport,N=r.content-r.viewport,T=bn(d),I=bn(c),P=ob(h,10);function E(A){if(b.current){const S=A.clientX-b.current.left,C=A.clientY-b.current.top;u({x:S,y:C})}}return p.useEffect(()=>{const A=S=>{const C=S.target;(y==null?void 0:y.contains(C))&&T(S,N)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[j,y,N,T]),p.useEffect(I,[r,I]),wh(y,P),wh(m.content,P),o.jsx(Tpe,{scope:n,scrollbar:y,hasThumb:s,onThumbChange:bn(i),onThumbPointerUp:bn(a),onThumbPositionChange:I,onThumbPointerDown:bn(l),children:o.jsx(De.div,{...f,ref:x,style:{position:"absolute",...f.style},onPointerDown:xe(t.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),b.current=y.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),E(A))}),onPointerMove:xe(t.onPointerMove,E),onPointerUp:xe(t.onPointerUp,A=>{const S=A.target;S.hasPointerCapture(A.pointerId)&&S.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=w.current,m.viewport&&(m.viewport.style.scrollBehavior=""),b.current=null})})})}),Kx="ScrollAreaThumb",v8=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=p8(Kx,t.__scopeScrollArea);return o.jsx(rr,{present:n||s.hasThumb,children:o.jsx(kpe,{ref:e,...r})})}),kpe=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,i=yi(Kx,n),a=p8(Kx,n),{onThumbPositionChange:l}=a,c=Ke(e,h=>a.onThumbChange(h)),u=p.useRef(void 0),d=ob(()=>{u.current&&(u.current(),u.current=void 0)},100);return p.useEffect(()=>{const h=i.viewport;if(h){const f=()=>{if(d(),!u.current){const m=Ope(h,l);u.current=m,l()}};return l(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[i.viewport,d,l]),o.jsx(De.div,{"data-state":a.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:xe(t.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),y=h.clientX-m.left,v=h.clientY-m.top;a.onThumbPointerDown({x:y,y:v})}),onPointerUp:xe(t.onPointerUp,a.onThumbPointerUp)})});v8.displayName=Kx;var iC="ScrollAreaCorner",y8=p.forwardRef((t,e)=>{const n=yi(iC,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?o.jsx(Ipe,{...t,ref:e}):null});y8.displayName=iC;var Ipe=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=yi(iC,n),[i,a]=p.useState(0),[l,c]=p.useState(0),u=!!(i&&l);return wh(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),wh(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),a(d)}),u?o.jsx(De.div,{...r,ref:e,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function qx(t){return t?parseInt(t,10):0}function x8(t,e){const n=t/e;return isNaN(n)?0:n}function ib(t){const e=x8(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function Rpe(t,e,n,r="ltr"){const s=ib(n),i=s/2,a=e||i,l=s-a,c=n.scrollbar.paddingStart+a,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return w8([c,u],h)(t)}function ID(t,e,n="ltr"){const r=ib(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,a=e.content-e.viewport,l=i-r,c=n==="ltr"?[0,a]:[a*-1,0],u=p_(t,c);return w8([0,a],[0,l])(u)}function w8(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function b8(t,e){return t>0&&t<e}var Ope=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function s(){const i={left:t.scrollLeft,top:t.scrollTop},a=n.left!==i.left,l=n.top!==i.top;(a||l)&&e(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function ob(t,e){const n=bn(t),r=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),p.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function wh(t,e){const n=bn(e);kn(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}var j8=d8,Dpe=f8,Mpe=y8;const N8=p.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(j8,{ref:r,className:ve("relative overflow-hidden",t),...n,children:[o.jsx(Dpe,{className:"h-full w-full rounded-[inherit]",children:e}),o.jsx(S8,{}),o.jsx(Mpe,{})]}));N8.displayName=j8.displayName;const S8=p.forwardRef(({className:t,orientation:e="vertical",...n},r)=>o.jsx(rC,{ref:r,orientation:e,className:ve("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:o.jsx(v8,{className:"relative flex-1 rounded-full bg-border"})}));S8.displayName=rC.displayName;class Lpe{constructor(){et(this,"subscriptionKey");et(this,"endpoint");et(this,"deployment");et(this,"apiVersion");et(this,"lastRequestTime",0);et(this,"minRequestInterval",1e3);this.subscriptionKey="1TPW16ifwPJccSiQPSHq63nU7IcT6R9DrduIHBYwCm5jbUWiSbkLJQQJ99BDACYeBjFXJ3w3AAABACOG3Yia",this.endpoint="https://agentplus.openai.azure.com/",this.deployment="gpt-4o",this.apiVersion="2024-02-15-preview",this.subscriptionKey&&this.endpoint?(console.log("✅ Azure OpenAI configuration loaded"),console.log("🔑 Endpoint:",this.endpoint),console.log("🚀 Deployment:",this.deployment),console.log("📅 API Version:",this.apiVersion),this.testApiKey().catch(e=>{console.warn("⚠️ Azure OpenAI API test failed:",e.message)})):console.warn("⚠️ Azure OpenAI not configured. AI features will not work.")}async testApiKey(){if(!this.subscriptionKey||!this.endpoint||!this.deployment||!this.apiVersion)return!1;try{console.log("🧪 Testing Azure OpenAI API configuration...");const e=`${this.endpoint}/openai/deployments/${this.deployment}/chat/completions?api-version=${this.apiVersion}`,n=await fetch(e,{method:"POST",headers:{"api-key":this.subscriptionKey,"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"user",content:"test"}],max_tokens:1,temperature:0})});if(n.ok||n.status===400)return console.log("✅ Azure OpenAI API configuration is valid and working!"),!0;{const r=await n.json().catch(()=>({}));return console.error("❌ Azure OpenAI API test failed:",n.status,r),n.status===401&&(console.error("🔑 CRITICAL: Your Azure OpenAI API key is invalid or expired!"),console.error("📋 Possible issues:"),console.error("   • Subscription key is incorrect or has typos"),console.error("   • Key has been revoked or expired"),console.error("   • Endpoint URL is incorrect"),console.error("   • Deployment name is incorrect"),console.error("   • API version is not supported"),console.error("🔗 Check your Azure OpenAI resource in the Azure portal")),!1}}catch(e){return console.error("🚨 Error testing Azure OpenAI API:",e),!1}}async rateLimitedRequest(e,n){const s=Date.now()-this.lastRequestTime;if(s<this.minRequestInterval){const i=this.minRequestInterval-s;console.log(`⏳ Rate limiting: waiting ${i}ms before next request`),await new Promise(a=>setTimeout(a,i))}this.lastRequestTime=Date.now();try{const i=await fetch(e,n);if(i.status===429){console.log("⚠️ Rate limited by OpenAI, implementing exponential backoff...");const a=i.headers.get("retry-after"),l=a?parseInt(a)*1e3:5e3;return console.log(`⏳ Waiting ${l}ms before retry...`),await new Promise(c=>setTimeout(c,l)),this.lastRequestTime=Date.now(),fetch(e,n)}return i}catch(i){throw i.name==="AbortError"?(console.warn("⏰ OpenAI API request timed out"),new Error("OpenAI API request timed out. Please try again.")):(console.error("🚨 OpenAI API request failed:",i),i)}}getSmartButtonForCategory(e,n,r){const s=e.toLowerCase(),i=r||`https://www.google.com/search?q=${encodeURIComponent(n)}`;return s.includes("restaurant")||s.includes("food")||s.includes("cafe")||s.includes("dining")||s.includes("pizza")||s.includes("delivery")?{actionType:"ORDER",url:i}:s.includes("salon")||s.includes("spa")||s.includes("beauty")||s.includes("health")||s.includes("dental")||s.includes("medical")||s.includes("appointment")||s.includes("consultation")||s.includes("fitness")||s.includes("gym")?{actionType:"BOOK",url:i}:s.includes("retail")||s.includes("store")||s.includes("shop")||s.includes("clothing")||s.includes("fashion")||s.includes("jewelry")||s.includes("electronics")||s.includes("furniture")?{actionType:"SHOP",url:i}:s.includes("education")||s.includes("training")||s.includes("school")||s.includes("academy")||s.includes("course")||s.includes("class")||s.includes("learning")||s.includes("tuition")?{actionType:"SIGN_UP",url:i}:{actionType:"LEARN_MORE",url:i}}getFallbackContent(e,n,r,s,i){throw new Error("AI content generation is required. Please configure Azure OpenAI in your environment settings.")}enforceWordLimit(e,n=120){const r=e.trim().split(/\s+/);if(r.length<=n)return e;console.warn(`⚠️ Content exceeds ${n} words (${r.length} words), truncating...`);const s=r.slice(0,n).join(" "),i=s.lastIndexOf("."),a=s.lastIndexOf("!"),l=s.lastIndexOf("?"),c=Math.max(i,a,l);return c>s.length-10?s.substring(0,c+1):s+(s.endsWith(".")||s.endsWith("!")||s.endsWith("?")?"":"...")}async generatePostContent(e,n,r,s,i){var y,v,x,b;if(!e||e.trim()==="")throw new Error("Business information is required to generate content.");if(!this.subscriptionKey||!this.endpoint||!this.deployment||!this.apiVersion)throw new Error("Azure OpenAI not configured. Please configure Azure OpenAI in your environment settings to generate content.");const a=typeof r=="string"?r.split(",").map(w=>w.trim()).filter(w=>w.length>0):r,l=a.length>0?a.join(", "):"quality service, customer satisfaction",c=new Date().getHours(),u=new Date().getDay(),d=Date.now()%10,h=[`Write a post for a ${n} business. Name: ${e}. Location: ${s||"local area"}. Focus on: ${l}. Write exactly 100-120 words. Mention the name once. Talk about actual ${n} services/features. End with one clear action.`,`Create a post about what ${e} offers as a ${n}${s?` in ${s}`:""}. Focus areas: ${l}. Write 100-120 words. For hotels: mention rooms, amenities. For restaurants: food, atmosphere. For services: expertise, results. One name mention only.`,`Write about why customers choose this ${n}. Business: ${e}${s?` in ${s}`:""}. Highlight: ${l}. Exactly 100-120 words. Focus on real benefits specific to ${n}. Single name mention. Natural tone.`,`Describe the ${n} experience at ${e}${s?`, ${s}`:""}. Keywords: ${l}. Write 100-120 words focusing on what customers actually experience. One business name mention. Conversational style.`,`Explain what makes this ${n} special. Name: ${e}${s?`, located in ${s}`:""}. Strengths: ${l}. Write exactly 100-120 words about actual ${n} value. Mention name once only. End with action.`],f=(c+u+d)%h.length,m=h[f];console.log(`🎯 Using prompt variation #${f+1} for variety`),console.log("🤖 Generating content with Azure OpenAI..."),console.log("📝 Prompt:",m.substring(0,100)+"...");try{const w=new AbortController,j=setTimeout(()=>w.abort(),3e4),N=`${this.endpoint}/openai/deployments/${this.deployment}/chat/completions?api-version=${this.apiVersion}`,T=await this.rateLimitedRequest(N,{method:"POST",headers:{"api-key":this.subscriptionKey,"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"system",content:"You write natural Google Business Profile posts. RULES: 1) Write 100-120 words exactly. 2) Mention business name ONLY ONCE. 3) Focus on what the business actually offers - for hotels: rooms, amenities, stays; for restaurants: food, dining; for services: solutions, expertise. 4) Never repeat the business name or use it as an adjective. 5) Write conversationally, not like an ad. 6) Be specific to the business type."},{role:"user",content:m}],max_tokens:150,temperature:.9}),signal:w.signal});if(clearTimeout(j),!T.ok){const S=await T.json().catch(()=>({}));throw console.error("🚨 OpenAI API Error:",T.status,S),T.status===401?(console.error("🔑 API Key Issue - Your Azure OpenAI subscription key is invalid or expired"),console.error("💡 Solutions:"),console.error("   1. Check your subscription key in the Azure portal"),console.error("   2. Verify the endpoint URL is correct"),console.error("   3. Ensure the deployment name matches your Azure OpenAI deployment"),console.error("   4. Check the API version is supported"),new Error("Azure OpenAI API key is invalid or expired. Please check your Azure OpenAI configuration.")):T.status===429?(console.error("🚫 Rate limit exceeded - too many requests"),new Error("Azure OpenAI rate limit exceeded. Please try again later.")):T.status===403?(console.error("🚫 Access denied - insufficient permissions"),new Error("Azure OpenAI access denied. Check your subscription and permissions.")):new Error(`Azure OpenAI API error: ${T.status} - ${((y=S.error)==null?void 0:y.message)||"Unknown error"}`)}const P=(b=(x=(v=(await T.json()).choices[0])==null?void 0:v.message)==null?void 0:x.content)==null?void 0:b.trim();if(!P)throw new Error("No content generated by Azure OpenAI");console.log("✅ Content generated successfully with Azure OpenAI"),console.log("📝 Generated content:",P.substring(0,100)+"...");const E=this.enforceWordLimit(P),A=E.trim().split(/\s+/).length;return console.log(`📊 Final content word count: ${A}/120 words (min: 100)`),{content:E,callToAction:this.getSmartButtonForCategory(n,e,i)}}catch(w){throw console.error("Failed to generate content with Azure OpenAI:",w),new Error("Failed to generate AI content. Please check your Azure OpenAI configuration and try again.")}}async validateApiKey(){return await this.testApiKey()}getApiKeyStatus(){const e=!!(this.subscriptionKey&&this.endpoint&&this.deployment&&this.apiVersion);return{configured:e,format:e?"Azure OpenAI":"None",preview:e?`Endpoint: ${this.endpoint}, Deployment: ${this.deployment}`:"Not configured"}}async generateAIResponse(e,n){var r,s,i;if(!this.subscriptionKey||!this.endpoint||!this.deployment||!this.apiVersion)throw new Error("Azure OpenAI not configured. Please check your configuration.");console.log("🤖 Generating AI response with Azure OpenAI...");try{const a=new AbortController,l=setTimeout(()=>a.abort(),6e4),c=`${this.endpoint}/openai/deployments/${this.deployment}/chat/completions?api-version=${this.apiVersion}`,u=await this.rateLimitedRequest(c,{method:"POST",headers:{"api-key":this.subscriptionKey,"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"user",content:e}],max_tokens:2e3,temperature:.7}),signal:a.signal});if(clearTimeout(l),!u.ok){const f=await u.json().catch(()=>({}));throw console.error("🚨 OpenAI API Error:",u.status,f),new Error(`Azure OpenAI API error: ${u.status}`)}const h=(i=(s=(r=(await u.json()).choices[0])==null?void 0:r.message)==null?void 0:s.content)==null?void 0:i.trim();if(!h)throw new Error("No response generated by Azure OpenAI");return console.log("✅ AI response generated successfully"),h}catch(a){throw console.error("Failed to generate AI response:",a),new Error("Failed to generate AI insights. Please try again.")}}getFallbackReviewResponse(e,n){throw new Error("Azure OpenAI is required to generate review responses. Please configure Azure OpenAI in your environment settings.")}async generateReviewResponse(e,n,r){var a,l,c,u;if(!this.subscriptionKey||!this.endpoint||!this.deployment||!this.apiVersion)throw new Error("Azure OpenAI is required to generate review responses. Please configure Azure OpenAI in your environment settings.");const s=r>=4?"grateful and professional":"understanding and solution-focused",i=`Generate a professional response to this Google Business review for "${e}":

Review (${r}/5 stars): "${n}"

Requirements:
- Keep response under 120 words maximum
- Be ${s}
- ${r>=4?"Thank them for their positive feedback":"Acknowledge their concerns and offer to resolve issues"}
- Include the business name naturally
- Be authentic and personalized
- ${r<4?"Offer to discuss offline if appropriate":"Invite them to return"}

Generate ONLY the response text, no additional formatting.`;try{const d=`${this.endpoint}/openai/deployments/${this.deployment}/chat/completions?api-version=${this.apiVersion}`,h=await this.rateLimitedRequest(d,{method:"POST",headers:{"api-key":this.subscriptionKey,"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"system",content:"You are a professional customer service representative responding to Google Business reviews. Be authentic, helpful, and appropriately emotional. Keep responses under 120 words."},{role:"user",content:i}],max_tokens:120,temperature:.6})});if(!h.ok){const y=await h.json().catch(()=>({}));throw new Error(`Azure OpenAI API error: ${h.status} - ${((a=y.error)==null?void 0:a.message)||"Unknown error"}`)}const m=(u=(c=(l=(await h.json()).choices[0])==null?void 0:l.message)==null?void 0:c.content)==null?void 0:u.trim();if(!m)throw new Error("No response generated by Azure OpenAI");return m}catch(d){throw console.error("Failed to generate review response with Azure OpenAI:",d),new Error("Failed to generate AI review response. Please check your Azure OpenAI configuration and try again.")}}}const El=new Lpe,Fpe=(t,e)=>El.generateAIResponse(t,e);typeof window<"u"&&(window.openaiService=El,window.testAzureOpenAI=async()=>{console.log("🧪 Manual Azure OpenAI API Test");const t=El.getApiKeyStatus();if(console.log("📊 API Configuration Status:",t),t.configured){console.log("🔍 Testing API configuration validity...");const e=await El.validateApiKey();if(console.log(e?"✅ Azure OpenAI is working!":"❌ Azure OpenAI failed test"),e){console.log("🎯 Testing content generation...");try{const n=await El.generatePostContent("Test Business","service",["quality","professional","reliable"],"Test Location");console.log("✅ Content generated successfully:",n.content.substring(0,100)+"...")}catch(n){console.error("❌ Content generation failed:",n.message)}}}else console.warn("⚠️ Azure OpenAI not configured")},console.log("🛠️ Azure OpenAI Debug Tools Available:"),console.log("   window.openaiService - Access the service directly"),console.log("   window.testAzureOpenAI() - Run comprehensive API test"));class $pe{constructor(){et(this,"STORAGE_PATH","DATA");et(this,"isStorageAvailable",!1);et(this,"STORAGE_TIMEOUT",1e4)}async saveTokens(e,n,r){if(!e){console.log("⚠️ No userId provided, skipping save");return}if(!this.isStorageAvailable){console.log("⚠️ Firebase Storage unavailable, skipping save");return}try{console.log("💾 Saving tokens to Firebase Storage for user:",e);const s={googleTokens:n,userInfo:r,lastUpdated:Date.now()},i=JSON.stringify(s),a=new Blob([i],{type:"application/json"}),l=Iv(Rv,`${this.STORAGE_PATH}/users/${e}/tokens.json`),c=Ohe(l,a);await this.withTimeout(c,this.STORAGE_TIMEOUT),console.log("✅ Tokens saved to Firebase Storage successfully for user:",e)}catch(s){console.warn("⚠️ Failed to save tokens to Firebase Storage:",s),this.handleStorageError(s)}}async getTokens(e){if(!this.isStorageAvailable||!e)return console.log("⚠️ Firebase Storage unavailable or no userId, skipping retrieval"),null;try{console.log("📖 Retrieving tokens from Firebase Storage for user:",e);const n=Iv(Rv,`${this.STORAGE_PATH}/users/${e}/tokens.json`),r=Rhe(n),s=await this.withTimeout(r,this.STORAGE_TIMEOUT),a=new TextDecoder().decode(s),c=JSON.parse(a).googleTokens,u=Date.now();return c.expires_at&&u>=c.expires_at?(console.log("⚠️ Tokens are expired, removing from Firebase Storage"),this.deleteTokens(e).catch(d=>console.warn("Failed to delete expired tokens:",d)),null):(console.log("✅ Tokens retrieved from Firebase Storage successfully for user:",e),c)}catch(n){return console.warn("⚠️ Error retrieving tokens from Firebase Storage:",n),this.handleStorageError(n),null}}async deleteTokens(e){if(!this.isStorageAvailable||!e){console.log("⚠️ Firebase Storage unavailable or no userId, skipping delete");return}try{console.log("🗑️ Deleting tokens from Firebase Storage for user:",e);const n=Iv(Rv,`${this.STORAGE_PATH}/users/${e}/tokens.json`),r=Mhe(n);await this.withTimeout(r,this.STORAGE_TIMEOUT),console.log("✅ Tokens deleted from Firebase Storage successfully for user:",e)}catch(n){console.warn("⚠️ Error deleting tokens from Firebase Storage:",n),this.handleStorageError(n)}}async hasTokens(e){try{if(!e)return!1;const n=Iv(Rv,`${this.STORAGE_PATH}/users/${e}/tokens.json`);return await Dhe(n),!0}catch{return console.log("ℹ️ No tokens found in Firebase Storage for user:",e),!1}}async migrateFromLocalStorage(e){if(!this.isStorageAvailable||!e)return console.log("⚠️ Firebase Storage unavailable or no userId, skipping migration"),!1;try{if(await this.getTokens(e))return console.log("ℹ️ Tokens already exist in Firebase Storage, skipping migration"),!0;const r=localStorage.getItem("google_business_tokens"),s=localStorage.getItem("google_business_connected");if(r&&s==="true")try{const i=JSON.parse(r),a={access_token:i.access_token,token_type:i.token_type||"Bearer",expires_in:i.expires_in||3600,scope:i.scope||"",refresh_token:i.refresh_token,stored_at:Date.now(),expires_at:Date.now()+(i.expires_in||3600)*1e3};return await this.saveTokens(e,a),console.log("✅ Successfully migrated tokens from localStorage to Firebase Storage"),localStorage.removeItem("google_business_tokens"),localStorage.removeItem("google_business_connected"),console.log("🧹 Cleared tokens from localStorage after migration"),!0}catch(i){return console.error("❌ Error parsing localStorage tokens for migration:",i),!1}return console.log("ℹ️ No tokens found in localStorage to migrate"),!1}catch(n){return console.warn("⚠️ Error during token migration:",n),!1}}async withTimeout(e,n){const r=new Promise((s,i)=>{setTimeout(()=>i(new Error(`Firebase Storage operation timed out after ${n}ms`)),n)});return Promise.race([e,r])}handleStorageError(e){const n=(e==null?void 0:e.message)||"Unknown error",r=n.includes("offline")||n.includes("timeout")||n.includes("transport errored")||n.includes("network error")||n.includes("Failed to fetch"),s=n.includes("quota")||n.includes("rate")||n.includes("too many requests"),i=n.includes("permission")||n.includes("unauthorized")||n.includes("forbidden"),a=n.includes("object does not exist")||n.includes("not found")||n.includes("404");r?(console.log("⚠️ Firebase Storage network connectivity issues detected, temporarily disabling"),this.isStorageAvailable=!1,setTimeout(()=>{console.log("🔄 Re-enabling Firebase Storage after network issue resolution attempt"),this.isStorageAvailable=!0},3e4)):s?(console.log("⚠️ Firebase Storage quota/rate limit exceeded, temporarily disabling"),this.isStorageAvailable=!1,setTimeout(()=>{console.log("🔄 Re-enabling Firebase Storage after quota cooldown"),this.isStorageAvailable=!0},12e4)):i?console.error("❌ Firebase Storage permission error - this may require manual intervention:",n):a?console.log("ℹ️ File not found in Firebase Storage (normal for first-time users)"):(console.log("⚠️ Firebase Storage error (keeping service available):",n),this.isStorageAvailable=!1,setTimeout(()=>{this.isStorageAvailable=!0},1e4))}}const ad=new $pe;class Upe{constructor(){et(this,"cache",new Map);et(this,"DEFAULT_TTL",5*60*1e3);et(this,"LONG_TTL",30*60*1e3);this.loadCacheFromStorage(),setInterval(()=>this.saveCacheToStorage(),3e4)}get(e){const n=this.cache.get(e);return n?Date.now()>n.expiresAt?(console.log(`[Cache] EXPIRED: ${e}`),this.cache.delete(e),null):(console.log(`[Cache] HIT: ${e}`),n.data):(console.log(`[Cache] MISS: ${e}`),null)}set(e,n,r){const s=r||this.DEFAULT_TTL,i={data:n,timestamp:Date.now(),expiresAt:Date.now()+s};this.cache.set(e,i),console.log(`[Cache] SET: ${e} (TTL: ${s}ms)`)}invalidate(e){this.cache.delete(e),console.log(`[Cache] INVALIDATED: ${e}`)}invalidatePattern(e){const n=new RegExp(e),r=[];this.cache.forEach((s,i)=>{n.test(i)&&r.push(i)}),r.forEach(s=>this.cache.delete(s)),console.log(`[Cache] INVALIDATED ${r.length} entries matching pattern: ${e}`)}clear(){this.cache.clear(),console.log("[Cache] CLEARED all entries"),this.saveCacheToStorage()}loadCacheFromStorage(){try{const e=localStorage.getItem("gbp_cache");if(e){const n=JSON.parse(e),r=Date.now();Object.entries(n).forEach(([s,i])=>{i.expiresAt>r&&this.cache.set(s,i)}),console.log(`[Cache] Loaded ${this.cache.size} entries from storage`)}}catch(e){console.error("[Cache] Failed to load from storage:",e)}}saveCacheToStorage(){try{const e={};this.cache.forEach((n,r)=>{e[r]=n}),localStorage.setItem("gbp_cache",JSON.stringify(e)),console.log(`[Cache] Saved ${this.cache.size} entries to storage`)}catch(e){console.error("[Cache] Failed to save to storage:",e)}}getAccountsCacheKey(e){return`accounts:${e||"default"}`}getLocationsCacheKey(e){return`locations:${e}`}getReviewsCacheKey(e){return`reviews:${e}`}getPostsCacheKey(e){return`posts:${e}`}cacheAccounts(e,n){const r=this.getAccountsCacheKey(n);this.set(r,e,this.LONG_TTL)}getCachedAccounts(e){const n=this.getAccountsCacheKey(e);return this.get(n)}cacheLocations(e,n){const r=this.getLocationsCacheKey(e);this.set(r,n,this.DEFAULT_TTL)}getCachedLocations(e){const n=this.getLocationsCacheKey(e);return this.get(n)}batchCache(e){e.accounts&&this.cacheAccounts(e.accounts),e.locations&&Object.entries(e.locations).forEach(([n,r])=>{this.cacheLocations(n,r)})}}const eo=new Upe,RD=["https://www.googleapis.com/auth/business.manage","https://www.googleapis.com/auth/plus.business.manage","profile","email"];class Bpe{constructor(){et(this,"clientId");et(this,"accessToken",null);et(this,"isGoogleLibLoaded",!1);et(this,"backendUrl");et(this,"currentUserId",null);et(this,"cache",new Map);et(this,"CACHE_TTL",2*60*1e3);et(this,"connectionMonitorInterval",null);et(this,"lastConnectionCheck",0);et(this,"connectionFailures",0);et(this,"MAX_CONNECTION_FAILURES",3);this.clientId="574451618275-vl5r928f5pj6ogj4le1o75tilhiagmfu.apps.googleusercontent.com",this.backendUrl="http://localhost:5000",this.initializeGoogleAPI()}async initializeGoogleAPI(){return new Promise(e=>{var i,a;if((a=(i=window.google)==null?void 0:i.accounts)!=null&&a.oauth2){console.log("✅ DEBUGGING: Google Identity Services already available"),this.isGoogleLibLoaded=!0,e();return}let n=0;const r=50,s=()=>{var l,c;n++,(c=(l=window.google)==null?void 0:l.accounts)!=null&&c.oauth2?(console.log("✅ DEBUGGING: Google Identity Services loaded after waiting"),this.isGoogleLibLoaded=!0,e()):n>=r?(console.error("❌ DEBUGGING: Timeout waiting for Google Identity Services"),e()):(console.log(`⏳ DEBUGGING: Waiting for Google Identity Services... (${n}/${r})`),setTimeout(s,100))};if(document.querySelector('script[src*="accounts.google.com/gsi/client"]'))console.log("📥 DEBUGGING: Google Identity Services script already in DOM, checking availability..."),s();else{console.log("📥 DEBUGGING: Loading Google Identity Services script...");const l=document.createElement("script");l.src="https://accounts.google.com/gsi/client",l.async=!0,l.defer=!0,l.onload=()=>{console.log("📥 DEBUGGING: Google Identity Services script loaded, checking availability..."),s()},l.onerror=()=>{console.error("❌ DEBUGGING: Failed to load Google Identity Services script"),e()},document.head.appendChild(l)}})}async connectGoogleBusiness(){console.log("🔄 Starting backend OAuth flow for permanent connection...");try{const e=await fetch(`${this.backendUrl}/auth/google/url?userId=${this.currentUserId||""}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error("Failed to get OAuth URL from backend");const{authUrl:n}=await e.json();console.log("✅ Got OAuth URL from backend"),sessionStorage.setItem("oauth_return_url",window.location.pathname),console.log("🔄 Redirecting to Google OAuth..."),window.location.href=n}catch(e){throw console.error("❌ Backend OAuth flow error:",e),e}}setCurrentUserId(e){this.currentUserId=e,console.log("🔍 DEBUGGING: Current user ID set to:",e)}async loadStoredTokens(e){try{const n=e||this.currentUserId;if(console.log("🔍 DEBUGGING loadStoredTokens:",{userIdProvided:!!e,currentUserIdSet:!!this.currentUserId,userIdToUse:n}),sessionStorage.getItem("oauth_success")==="true"&&(console.log("✅ OAuth just completed via redirect, clearing session flags"),sessionStorage.removeItem("oauth_success"),sessionStorage.removeItem("oauth_complete")),!n)return console.log("❌ No userId available to fetch tokens"),!1;try{console.log("🔍 Fetching tokens from backend for user:",n);const r=await fetch(`${this.backendUrl}/auth/google/token-status/${n}`);if(r.ok){const s=await r.json();if(s.hasRefreshToken&&s.refresh_token)return this.accessToken=s.access_token||s.refresh_token,console.log("✅ Loaded permanent tokens from backend for user:",n),console.log("✅ Token expires at:",new Date(s.expiry_date||Date.now()+36e5).toISOString()),this.startConnectionMonitoring(),!0;console.log("⚠️ Backend has tokens but no refresh token available")}}catch(r){console.warn("⚠️ Backend token fetch failed:",r)}try{console.log("🔄 Trying fallback: Loading tokens from Firebase Storage (frontend)...");const r=await ad.getTokens(n);if(r&&r.access_token)return this.accessToken=r.access_token,console.log("✅ Loaded tokens from Firebase Storage (frontend fallback)"),localStorage.setItem("google_business_tokens",JSON.stringify(r)),this.startConnectionMonitoring(),!0}catch(r){console.warn("⚠️ Firebase Storage (frontend) token fetch failed:",r)}return console.log("❌ No valid stored tokens found in backend or Firebase Storage"),!1}catch(n){return console.error("❌ Error loading stored tokens:",n),!1}}async backgroundSyncToFirestore(e,n){try{const r={access_token:n.access_token,token_type:n.token_type||"Bearer",expires_in:n.expires_in||3600,scope:n.scope||"",refresh_token:n.refresh_token,stored_at:n.stored_at||Date.now(),expires_at:n.expires_at||Date.now()+n.expires_in*1e3};await ad.saveTokens(e,r),console.log("🔄 Background sync to Firestore completed")}catch(r){console.debug("Background Firestore sync failed (non-critical):",r)}}getCacheKey(e,n){return`${e}-${JSON.stringify(n)}`}getFromCache(e){const n=this.cache.get(e);return n&&Date.now()<n.expires?(console.log(`📦 Cache hit for: ${e}`),n.data):(n&&this.cache.delete(e),null)}setCache(e,n){this.cache.set(e,{data:n,expires:Date.now()+this.CACHE_TTL}),console.log(`💾 Cached result for: ${e}`)}async storeTokensInFirestore(e){try{if(!this.currentUserId){console.log("ℹ️ No current user ID, skipping Firestore token storage");return}await ad.saveTokens(this.currentUserId,e),console.log("✅ DEBUGGING: Tokens also stored in Firestore")}catch(n){console.warn("⚠️ Failed to store tokens in Firestore (non-critical):",n)}}isTokenExpired(){const e=localStorage.getItem("google_business_tokens");if(!e)return console.log("❌ No tokens found in localStorage"),!0;try{const n=JSON.parse(e),r=n.expires_at||n.stored_at+n.expires_in*1e3,s=Date.now(),i=30*60*1e3,a=s>=r-i,l=Math.max(0,(r-s)/1e3/60);return console.log(`🔍 Token expiry check: ${a?"EXPIRED/EXPIRING SOON":"VALID"} (${l.toFixed(1)} minutes left)`),a}catch(n){return console.error("❌ Error parsing tokens for expiry check:",n),!0}}async validateTokens(){try{if(!this.accessToken)return console.log("❌ No access token available for validation"),!1;console.log("🔍 Validating token with Google...");const e=await fetch(`https://www.googleapis.com/oauth2/v1/tokeninfo?access_token=${this.accessToken}`,{method:"GET"});if(e.ok){const n=await e.json();return console.log("✅ Token validation successful, expires in:",n.expires_in,"seconds"),!0}else return console.log("❌ Token validation failed with status:",e.status),!1}catch(e){return console.error("❌ Token validation error:",e),!1}}async refreshAccessToken(){let n=null;for(let r=1;r<=3;r++)try{if(console.log(`🔄 Token refresh attempt ${r}/3`),this.currentUserId){console.log("🔄 Attempting backend token refresh..."),await this.refreshTokenViaBackend(),console.log("✅ Backend token refresh successful");return}console.log("🔄 Attempting frontend token refresh..."),await this.refreshTokenViaFrontend(),console.log("✅ Frontend token refresh successful");return}catch(s){if(n=s,console.warn(`⚠️ Token refresh attempt ${r} failed:`,s),!this.isRetryableError(s)||r===3){console.error(`❌ Token refresh failed after ${r} attempts`);break}const a=Math.pow(2,r-1)*1e3;console.log(`⏳ Retrying token refresh in ${a}ms...`),await new Promise(l=>setTimeout(l,a))}throw n||new Error("Token refresh failed after all retry attempts")}isRetryableError(e){const n=e.message.toLowerCase();return["network error","fetch failed","connection failed","timeout","temporarily unavailable","service unavailable","too many requests"].some(s=>n.includes(s))}async refreshTokenViaBackend(){if(!this.currentUserId)throw new Error("User ID required for backend token refresh");try{let e=null,n=null;try{n=await ad.getTokens(this.currentUserId),e=(n==null?void 0:n.refresh_token)||null,e&&console.log("✅ Found refresh token in Firebase Storage")}catch(a){console.warn("⚠️ Firebase Storage token retrieval failed:",a)}if(!e)try{const a=localStorage.getItem("google_business_tokens");if(a){const l=JSON.parse(a);e=l.refresh_token,e&&(console.log("✅ Found refresh token in localStorage (fallback)"),n=l)}}catch(a){console.warn("⚠️ localStorage token retrieval failed:",a)}if(!e)try{const a=await fetch(`${this.backendUrl}/auth/google/token-status/${this.currentUserId}`);a.ok&&(e=(await a.json()).refresh_token,e&&console.log("✅ Found refresh token in backend storage"))}catch(a){console.warn("⚠️ Backend token check failed:",a)}if(!e)throw new Error("No refresh token available from any source (Firebase Storage, localStorage, or backend)");console.log("🔄 Using backend to refresh Google access token...");const r=await fetch(`${this.backendUrl}/auth/google/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:e,userId:this.currentUserId})});if(!r.ok){let a;try{a=await r.json()}catch{a={error:r.statusText}}throw console.error("❌ Backend refresh failed:",{status:r.status,statusText:r.statusText,error:a}),r.status===401?(localStorage.removeItem("google_business_tokens"),this.accessToken=null,new Error("Token refresh failed: Invalid or expired refresh token. Please reconnect your Google Business Profile.")):new Error(`Backend refresh failed: ${a.error||a.message||r.statusText}`)}const s=await r.json();console.log("✅ Backend token refresh successful"),this.accessToken=s.tokens.access_token;const i={access_token:s.tokens.access_token,token_type:"Bearer",expires_in:s.tokens.expires_in||3600,scope:s.tokens.scope||(n==null?void 0:n.scope)||RD.join(" "),refresh_token:s.tokens.refresh_token||e,stored_at:Date.now(),expires_at:s.tokens.expiry_date||Date.now()+(s.tokens.expires_in||3600)*1e3};localStorage.setItem("google_business_tokens",JSON.stringify(i)),localStorage.setItem("google_business_connection_time",Date.now().toString());try{await this.storeTokensInFirestore(i),console.log("✅ Tokens stored in Firebase Storage successfully")}catch(a){console.warn("⚠️ Failed to store tokens in Firebase Storage, continuing with localStorage only:",a)}}catch(e){throw console.error("❌ Backend token refresh failed:",e),e}}async refreshTokenViaFrontend(){return new Promise((e,n)=>{var s,i;if(!((i=(s=window.google)==null?void 0:s.accounts)!=null&&i.oauth2)){n(new Error("Google Identity Services not loaded"));return}console.log("🔄 Refreshing Google access token via frontend..."),window.google.accounts.oauth2.initTokenClient({client_id:this.clientId,scope:RD.join(" "),prompt:"consent",include_granted_scopes:!0,callback:a=>{if(a.error){console.error("❌ Frontend token refresh failed:",a.error),n(new Error(`Token refresh failed: ${a.error}`));return}console.log("✅ Frontend token refreshed successfully"),this.accessToken=a.access_token;const l={access_token:a.access_token,token_type:"Bearer",expires_in:a.expires_in||3600,scope:a.scope,refresh_token:a.refresh_token,stored_at:Date.now(),expires_at:Date.now()+(a.expires_in||3600)*1e3};localStorage.setItem("google_business_tokens",JSON.stringify(l)),localStorage.setItem("google_business_connection_time",Date.now().toString()),this.storeTokensInFirestore(l).catch(c=>{console.warn("⚠️ Failed to store refreshed tokens in Firebase Storage:",c)}),e()}}).requestAccessToken()})}async ensureValidToken(){if(this.isTokenExpired()){console.log("Token expired or expiring soon, refreshing..."),await this.refreshAccessToken();return}const e="last_token_validation",n=localStorage.getItem(e),r=Date.now(),s=5*60*1e3;(!n||r-parseInt(n)>s)&&(console.log("🔍 Performing periodic token validation with Google..."),await this.validateTokens()?localStorage.setItem(e,r.toString()):(console.log("❌ Token validation failed, forcing refresh..."),await this.refreshAccessToken()))}async handleUnauthorizedAndRetry(e,n){console.log(`🔑 Got 401 for ${e}, attempting to refresh token...`);try{this.invalidateOperationCache(e),await this.refreshAccessToken(),console.log(`🔄 Token refreshed, retrying ${e}...`);const r=await n();if(r.ok){const s=await r.json();if(console.log(`✅ Retry successful after token refresh for ${e}`),e==="accounts"){const i=s.accounts||[];if(i.length===0)throw new Error("No Google Business Profile accounts found.");return i}else return e==="reviews"?s.reviews||[]:e==="posts"?s.posts||[]:s}else{if(r.status===401)throw console.error(`❌ Still getting 401 after token refresh for ${e} - token may be permanently invalid`),new Error(`Authentication failed permanently. Please reconnect your Google Business Profile. (${e})`);if(r.status===403)throw console.error(`❌ Permission denied for ${e} - insufficient permissions`),new Error(`Access denied. Please ensure your Google Business Profile has the required permissions for ${e}.`);if(r.status===429)throw console.error(`❌ Rate limit exceeded for ${e}`),new Error(`Too many requests. Please wait a moment before trying again. (${e})`);{const s=await r.json().catch(()=>({error:r.statusText}));throw new Error(`Retry failed for ${e}: ${s.error||r.statusText}`)}}}catch(r){throw console.error(`❌ Token refresh/retry failed for ${e}:`,r),r instanceof Error&&r.message.includes("Authentication")?r:new Error(`Authentication expired. Please reconnect your Google Business Profile. (${e})`)}}invalidateOperationCache(e){e==="accounts"?(eo.invalidatePattern("accounts:.*"),eo.invalidatePattern("locations:.*")):e==="reviews"?eo.invalidatePattern("reviews:.*"):e==="posts"&&eo.invalidatePattern("posts:.*"),console.log(`🗑️ Cleared cache for ${e} after authentication refresh`)}async getBusinessAccounts(){var e,n;try{const r=eo.getCachedAccounts(this.currentUserId);if(r)return console.log("✅ Using cached Google Business Profile accounts"),r;if(await this.ensureValidToken(),!this.accessToken)throw new Error("No access token available");console.log("Fetching Google Business Profile accounts via backend API"),console.log("🔍 ACCOUNTS DEBUG: Backend URL being used:",this.backendUrl),console.log("🔍 ACCOUNTS DEBUG: VITE_BACKEND_URL env var:","http://localhost:5000"),console.log("🔍 ACCOUNTS DEBUG: Full URL:",`${this.backendUrl}/api/accounts`);const s=new AbortController,i=setTimeout(()=>s.abort(),5e3),a=await fetch(`${this.backendUrl}/api/accounts?_t=${Date.now()}`,{method:"GET",headers:{Authorization:`Bearer ${this.accessToken}`,"Content-Type":"application/json"},signal:s.signal});if(clearTimeout(i),!a.ok){const f=await a.json();if(console.error("Backend accounts API error:",f),a.status===401)return await this.handleUnauthorizedAndRetry("accounts",()=>fetch(`${this.backendUrl}/api/accounts?_t=${Date.now()}`,{method:"GET",headers:{Authorization:`Bearer ${this.accessToken}`,"Content-Type":"application/json"}}));throw a.status===403?new Error("Access denied. Please ensure your Google Business Profile has the required permissions."):new Error(`Failed to fetch accounts: ${a.statusText}`)}const l=await a.json();console.log(`Google Business Profile accounts received via backend (${l.apiUsed}):`,l);const c=l.accounts||[];if(c.length===0)throw new Error("No Google Business Profile accounts found. Please ensure you have a verified Google Business Profile.");const u=[],d=c.map(async f=>{console.log("🔍 DEBUGGING: Processing account:",f);try{const m=await this.getAccountLocations(f.name);return console.log(`🔍 DEBUGGING: Got ${m.length} locations for account ${f.name}`),{account:f,locations:m}}catch(m){return console.warn(`⚠️ Failed to load locations for account ${f.name}:`,m),{account:f,locations:[]}}}),h=await Promise.all(d);for(const{account:f,locations:m}of h)for(const y of m){let v="VERIFIED";(e=y.metadata)!=null&&e.suspended?v="SUSPENDED":(n=y.metadata)!=null&&n.duplicate&&(v="DUPLICATE"),console.log("🔍 DEBUGGING: Location state mapping:",{locationName:y.displayName,metadata:y.metadata,finalState:v}),u.push({name:y.name,accountName:y.displayName,type:"BUSINESS",role:"OWNER",state:v,locations:[y]})}return eo.cacheAccounts(u,this.currentUserId),console.log("✅ Cached business accounts for faster future loads"),u}catch(r){if(console.error("Error fetching business accounts:",r),r instanceof TypeError&&r.message.includes("fetch"))return console.warn("CORS blocked API access - creating accounts with demo locations"),[{name:"accounts/your-business-account",accountName:"Your Business Account",type:"BUSINESS",role:"OWNER",state:"VERIFIED",locations:[{name:"accounts/your-business-account/locations/location-1",locationId:"location-1",displayName:"Main Business Location",address:{addressLines:["[CORS blocked - add backend for real data]"],locality:"Your City",administrativeArea:"Your State",postalCode:"12345",countryCode:"US"},phoneNumber:"+1 (555) 123-4567",websiteUrl:"https://yourbusiness.com",categories:[{name:"Your Business Category",categoryId:"your_category"}],metadata:{duplicate:!1,suspended:!1,canDelete:!1,canUpdate:!0}}]}];throw r}}async getAccountLocations(e){try{const n=e.split("/").pop()||e,r=eo.getCachedLocations(n);if(r)return console.log("✅ Using cached locations for account:",e),r;if(!this.accessToken)throw new Error("No access token available");console.log("Fetching locations via backend API with pagination:",e);const s=new AbortController,i=setTimeout(()=>s.abort(),4e3),a=await fetch(`${this.backendUrl}/api/accounts/${encodeURIComponent(e)}/locations`,{method:"GET",headers:{Authorization:`Bearer ${this.accessToken}`,"Content-Type":"application/json"},signal:s.signal});if(clearTimeout(i),console.log("🔍 DEBUGGING: Backend locations response status:",a.status),!a.ok){const h=await a.text();console.error(`❌ DEBUGGING: Locations API error (${a.status}):`,h),console.error("❌ DEBUGGING: This should trigger fallback to demo locations...");try{const f=JSON.parse(h);console.error("❌ DEBUGGING: Parsed error:",f)}catch{console.error("❌ DEBUGGING: Raw error text:",h)}return a.status===400?(console.warn(`⚠️ Account ${e} - Google Business Profile locations API returned 400. Creating demo locations.`),[{name:`${e}/locations/sitaram-guest-house`,locationId:"sitaram-guest-house",displayName:"SITARAM GUEST HOUSE",address:{addressLines:["Varanasi"],locality:"Varanasi",administrativeArea:"Uttar Pradesh",postalCode:"221001",countryCode:"IN"},phoneNumber:"",websiteUrl:"",categories:[{name:"Guest House",categoryId:"guest_house"}],metadata:{duplicate:!1,suspended:!1,canDelete:!1,canUpdate:!0}},{name:`${e}/locations/tree-house-retreat`,locationId:"tree-house-retreat",displayName:"Tree House Retreat Mohani",address:{addressLines:["Kullu"],locality:"Kullu",administrativeArea:"Himachal Pradesh",postalCode:"175101",countryCode:"IN"},phoneNumber:"",websiteUrl:"",categories:[{name:"Resort",categoryId:"resort"}],metadata:{duplicate:!1,suspended:!1,canDelete:!1,canUpdate:!0}},{name:`${e}/locations/kevins-bed-breakfast`,locationId:"kevins-bed-breakfast",displayName:"KEVINS BED & BREAKFAST",address:{addressLines:["Port Blair"],locality:"Port Blair",administrativeArea:"Andaman and Nicobar Islands",postalCode:"744101",countryCode:"IN"},phoneNumber:"",websiteUrl:"",categories:[{name:"Bed & Breakfast",categoryId:"bed_breakfast"}],metadata:{duplicate:!1,suspended:!1,canDelete:!1,canUpdate:!0}}]):a.status===403||a.status===404?(console.warn(`No locations found or insufficient permissions for account ${e}`),[]):a.status===0?(console.warn("CORS blocked locations API call - this is expected in frontend-only mode"),[]):[]}const l=await a.json();console.log("✅ Backend locations API succeeded! Data:",l);const c=l.locations||[];console.log(`✅ Found ${c.length} locations via backend with pagination`),console.log("✅ First location sample:",c[0]);const u=c.map(h=>{var f,m,y,v,x,b,w,j,N;return{name:h.name,locationId:this.extractLocationId(h.name),displayName:h.title||h.displayName||"Unnamed Location",title:h.title,storefrontAddress:h.storefrontAddress,phoneNumbers:h.phoneNumbers,websiteUri:h.websiteUri,categories:h.categories,profile:h.profile,regularHours:h.regularHours,serviceArea:h.serviceArea,labels:h.labels,languageCode:h.languageCode,openInfo:h.openInfo,specialHours:h.specialHours,latlng:h.latlng,metadata:h.metadata,address:{addressLines:((f=h.storefrontAddress)==null?void 0:f.addressLines)||[],locality:((m=h.storefrontAddress)==null?void 0:m.locality)||"",administrativeArea:((y=h.storefrontAddress)==null?void 0:y.administrativeArea)||"",postalCode:((v=h.storefrontAddress)==null?void 0:v.postalCode)||"",countryCode:((x=h.storefrontAddress)==null?void 0:x.regionCode)||""},phoneNumber:((w=(b=h.phoneNumbers)==null?void 0:b[0])==null?void 0:w.number)||"",websiteUrl:h.websiteUri,categoriesFormatted:((j=h.categories)!=null&&j.primaryCategory?[h.categories.primaryCategory]:[]).concat(((N=h.categories)==null?void 0:N.additionalCategories)||[]).map(T=>({name:T.displayName||T.name||T,categoryId:T.categoryId||T.name||T}))}}),d=e.split("/").pop()||e;return eo.cacheLocations(d,u),console.log("✅ Cached locations for account:",e),u}catch(n){return console.error("Error fetching account locations:",n),[]}}extractLocationId(e){const n=e.split("/");return n[n.length-1]}extractIdFromName(e){const n=e.split("/");return n[n.length-1]}generatePostSuggestions(e,n="business"){return[`🌟 Thank you to all our amazing customers for making ${e} what it is today! Your support means everything to us. #CustomerAppreciation #ThankYou`,`📍 Visit us at ${e}! We're committed to providing exceptional service and creating memorable experiences for every customer. #QualityService #CustomerFirst`,`💼 At ${e}, we believe in building lasting relationships with our community. Come experience the difference that personalized service makes! #CommunityFirst #Excellence`,`🔥 Exciting things are happening at ${e}! Stay tuned for our latest updates and special offers. Follow us to never miss out! #StayTuned #SpecialOffers`,`👥 Our team at ${e} is dedicated to exceeding your expectations. We're here to serve you with professionalism and care. #TeamExcellence #CustomerCare`]}generateReviewReplySuggestions(e,n){return e>=4?["Thank you so much for your wonderful review! We're thrilled that you had a great experience with us. Your feedback motivates our team to continue providing excellent service. We look forward to serving you again soon! 🌟","We're delighted to hear about your positive experience! Thank you for taking the time to share your feedback. It means a lot to our team. We can't wait to welcome you back! ⭐","Your kind words truly made our day! We're so happy we could provide you with exceptional service. Thank you for choosing us and for this amazing review. See you again soon! 😊"]:e===3?["Thank you for your feedback. We appreciate you taking the time to share your experience. We're always looking for ways to improve, and your input is valuable to us. Please don't hesitate to reach out if there's anything specific we can do better. 👍","We appreciate your honest review. Your experience matters to us, and we'd love the opportunity to make it even better next time. Please feel free to contact us directly to discuss how we can improve. Thank you for giving us a chance! 🤝","Thank you for your review. We value all feedback as it helps us grow and improve our services. We'd welcome the chance to discuss your experience further and show you the improvements we've made. Hope to see you again! 💪"]:["Thank you for bringing this to our attention. We sincerely apologize that your experience didn't meet your expectations. Your feedback is important to us, and we'd like the opportunity to make this right. Please contact us directly so we can discuss this further and improve. 🙏","We're truly sorry to hear about your experience. This is not the level of service we strive to provide. We take your feedback seriously and would appreciate the chance to discuss this with you directly to ensure this doesn't happen again. Please reach out to us. 🤝","Thank you for your honest feedback. We apologize that we fell short of your expectations. We're committed to learning from this experience and making improvements. We'd love the opportunity to regain your trust. Please contact us directly to discuss. 💙"]}async getLocationPosts(e){var n;try{if(!this.accessToken)throw new Error("No access token available");const r=this.getCacheKey("posts",{locationNameOrId:e}),s=this.getFromCache(r);if(s)return s;console.log("Fetching posts for location via backend:",e);let i;e.includes("/")?i=this.extractLocationId(e):i=e;const a=await fetch(`${this.backendUrl}/api/locations/${i}/posts`,{method:"GET",headers:{Authorization:`Bearer ${this.accessToken}`,"Content-Type":"application/json"}});if(!a.ok){if(a.status===401)return await this.handleUnauthorizedAndRetry("posts",()=>fetch(`${this.backendUrl}/api/locations/${i}/posts`,{method:"GET",headers:{Authorization:`Bearer ${this.accessToken}`,"Content-Type":"application/json"}}));const u=await a.json();throw console.error("Backend posts fetch error:",u),new Error(`Failed to fetch posts: ${a.status}`)}const l=await a.json();console.log("✅ Posts fetched successfully via backend:",((n=l.posts)==null?void 0:n.length)||0);const c=(l.posts||[]).map(u=>({id:this.extractIdFromName(u.name),name:u.name,locationName:e,summary:u.summary,callToAction:u.callToAction,media:u.media,topicType:u.topicType||"STANDARD",languageCode:u.languageCode||"en",createTime:u.createTime,updateTime:u.updateTime,searchUrl:u.searchUrl}));return this.setCache(r,c),c}catch(r){return console.error("Error fetching location posts via backend:",r),[]}}async createLocationPost(e,n){var r,s,i,a,l,c,u,d,h,f;try{if(!this.accessToken)throw new Error("No access token available");console.log("🚀 Creating real post via backend API"),console.log("Location Input:",e,"Type:",typeof e),console.log("Post Data:",n);let m;e.includes("/")?(m=encodeURIComponent(e),console.log("🔍 Using encoded full location name:",m)):(m=e,console.log("🔍 Using location ID directly:",m));const y=`${this.backendUrl}/api/locations/${m}/posts`;console.log("🔍 Final API URL:",y);const v={summary:n.summary,topicType:n.topicType||"STANDARD",callToAction:n.callToAction};console.log("🔍 Request body:",v);const x=await fetch(y,{method:"POST",headers:{Authorization:`Bearer ${this.accessToken}`,"Content-Type":"application/json"},body:JSON.stringify(v)});if(console.log("🔍 Response status:",x.status),console.log("🔍 Response headers:",Object.fromEntries(x.headers.entries())),!x.ok){const N=await x.text();if(console.error("❌ Backend post creation error (raw response):",N),N.trim().startsWith("<!DOCTYPE")||N.trim().startsWith("<html"))throw new Error(`Backend returned HTML error page instead of JSON. URL: ${y}. This usually means the endpoint doesn't exist or there's a routing issue.`);let T;try{T=JSON.parse(N)}catch{throw new Error(`Backend returned non-JSON response: ${N.substring(0,200)}...`)}throw console.error("❌ Parsed error data:",T),x.status===404?new Error(`Post endpoint not found. Please check if the location ID is correct: ${m}`):x.status===503?new Error("Google Business Profile API temporarily unavailable. Please try again in a few minutes."):new Error(`Failed to create post: ${x.status} - ${T.error}`)}const b=await x.json();console.log("✅ Real post created successfully via backend:",b);const w={id:this.extractIdFromName(((r=b.post)==null?void 0:r.name)||""),name:((s=b.post)==null?void 0:s.name)||"",locationName:e,summary:((i=b.post)==null?void 0:i.summary)||n.summary,callToAction:((a=b.post)==null?void 0:a.callToAction)||n.callToAction,media:((l=b.post)==null?void 0:l.media)||[],topicType:((c=b.post)==null?void 0:c.topicType)||n.topicType||"STANDARD",languageCode:((u=b.post)==null?void 0:u.languageCode)||"en",createTime:((d=b.post)==null?void 0:d.createTime)||new Date().toISOString(),updateTime:((h=b.post)==null?void 0:h.updateTime)||new Date().toISOString(),searchUrl:(f=b.post)==null?void 0:f.searchUrl},j=this.getCacheKey("posts",{locationNameOrId:e});return this.cache.delete(j),console.log("🗑️ Invalidated post cache for location after creation"),w}catch(m){throw console.error("❌ Error creating location post via backend:",m),m}}async getLocationReviews(e,n={}){var r;try{if(!this.accessToken)throw new Error("No access token available");const s=this.getCacheKey("reviews",{locationName:e});if(!n.forceRefresh){const d=this.getFromCache(s);if(d)return d}console.log("Fetching reviews for location via backend:",e,"options:",n);const i=this.extractLocationId(e),a=new URL(`${this.backendUrl}/api/locations/${i}/reviews`);n.forceRefresh&&(a.searchParams.append("forceRefresh","true"),a.searchParams.append("_t",Date.now().toString()));const l=await fetch(a.toString(),{method:"GET",headers:{Authorization:`Bearer ${this.accessToken}`,"Content-Type":"application/json"}});if(!l.ok){if(l.status===401)return await this.handleUnauthorizedAndRetry("reviews",()=>fetch(a.toString(),{method:"GET",headers:{Authorization:`Bearer ${this.accessToken}`,"Content-Type":"application/json"}}));const d=await l.json();if(console.error("Backend reviews fetch error:",d),l.status===503)return console.warn("⚠️ Google Business Profile API temporarily unavailable. This is normal during high usage periods."),[];throw new Error(`Failed to fetch reviews: ${d.error||l.statusText}`)}const c=await l.json();console.log("✅ Reviews fetched successfully via backend:",((r=c.reviews)==null?void 0:r.length)||0);const u=(c.reviews||[]).map(d=>{var h,f;return{id:this.extractIdFromName(d.name),name:d.name,reviewer:{displayName:((h=d.reviewer)==null?void 0:h.displayName)||"Anonymous",profilePhotoUrl:(f=d.reviewer)==null?void 0:f.profilePhotoUrl},starRating:d.starRating||5,comment:d.comment||"",createTime:d.createTime,updateTime:d.updateTime,reply:d.reply?{comment:d.reply.comment,updateTime:d.reply.updateTime}:void 0}});return this.setCache(s,u),u}catch(s){return console.error("Error fetching location reviews via backend:",s),[]}}async replyToReview(e,n){try{if(!this.accessToken)throw new Error("No access token available");console.log("🚀 Replying to review via backend API:",e,"with text:",n);const r=e.split("/"),s=r[3],i=r[5],a=await fetch(`${this.backendUrl}/api/locations/${s}/reviews/${i}/reply`,{method:"PUT",headers:{Authorization:`Bearer ${this.accessToken}`,"Content-Type":"application/json"},body:JSON.stringify({comment:n})});if(!a.ok){const d=await a.json();throw console.error("❌ Backend review reply error:",d),new Error(`Failed to reply to review: ${a.status} - ${d.error}`)}const l=await a.json();console.log("✅ Review reply sent successfully via backend:",l);const c=`accounts/${e.split("/")[1]}/locations/${s}`,u=this.getCacheKey("reviews",{locationName:c});this.cache.delete(u),console.log("🗑️ Invalidated review cache for location after reply")}catch(r){throw console.error("❌ Error replying to review via backend:",r),r}}async permanentDisconnect(){try{const e=[],n=this.accessToken;localStorage.removeItem("google_business_tokens"),localStorage.removeItem("google_business_connected"),localStorage.removeItem("google_business_connection_time"),localStorage.removeItem("last_token_validation"),this.accessToken=null,this.stopConnectionMonitoring(),this.cache.clear(),eo.clear(),n&&e.push(fetch(`https://oauth2.googleapis.com/revoke?token=${n}`,{method:"POST"}).catch(r=>{console.debug("Token revocation failed (non-critical):",r)})),this.currentUserId&&e.push(ad.deleteTokens(this.currentUserId).then(()=>console.log("✅ Tokens permanently deleted from Firebase Storage")).catch(r=>console.debug("Firebase deletion failed (non-critical):",r))),e.length>0&&await Promise.race([Promise.allSettled(e),new Promise(r=>setTimeout(r,2e3))]),console.log("✅ Permanent disconnect completed - all tokens deleted everywhere")}catch(e){console.error("Error during permanent disconnect:",e)}}async disconnect(){try{const e=[],n=this.accessToken;if(this.currentUserId&&n){const r=localStorage.getItem("google_business_tokens");if(r)try{const s=JSON.parse(r);console.log("💾 Saving tokens to Firebase before disconnect..."),e.push(ad.saveTokens(this.currentUserId,s).then(()=>console.log("✅ Tokens preserved in Firebase Storage")).catch(i=>console.warn("⚠️ Failed to preserve tokens in Firebase:",i)))}catch(s){console.warn("Failed to parse tokens for Firebase backup:",s)}}if(localStorage.removeItem("google_business_tokens"),localStorage.removeItem("google_business_connected"),localStorage.removeItem("google_business_connection_time"),localStorage.removeItem("last_token_validation"),this.accessToken=null,this.stopConnectionMonitoring(),this.cache.clear(),eo.clear(),e.length>0)try{await Promise.race([Promise.allSettled(e),new Promise(r=>setTimeout(r,2e3))])}catch(r){console.debug("Some disconnect operations failed (non-critical):",r)}console.log("✅ Disconnect completed successfully - tokens preserved in Firebase")}catch(e){console.error("Error disconnecting Google Business Profile:",e),console.log("⚠️ Disconnect completed with some errors (non-critical)")}}async recoverConnection(){try{return console.log("🔄 Attempting connection recovery..."),await this.loadStoredTokens(this.currentUserId)?(await this.validateTokens()||(console.log("🔄 Stored tokens invalid, attempting refresh..."),await this.refreshAccessToken()),await this.validateTokens(),console.log("✅ Connection recovery successful"),!0):(console.log("❌ No stored tokens available for recovery"),!1)}catch(e){return console.error("❌ Connection recovery failed:",e),!1}}isConnected(){const e=!!this.accessToken;return console.log("Connection check:",{hasToken:e,connected:e}),e}getAccessToken(){return this.accessToken}async getLocationPhotos(e){var n;try{if(!this.accessToken)throw new Error("No access token available");console.log("Fetching photos for location via backend:",e);const r=await fetch(`${this.backendUrl}/api/locations/${e}/photos`,{method:"GET",headers:{Authorization:`Bearer ${this.accessToken}`,"Content-Type":"application/json"}});if(!r.ok){const i=await r.json();return console.error("Backend photos fetch error:",i),r.status===401?await this.handleUnauthorizedAndRetry("photos",()=>fetch(`${this.backendUrl}/api/locations/${e}/photos`,{method:"GET",headers:{Authorization:`Bearer ${this.accessToken}`,"Content-Type":"application/json"}})):(console.warn("Photos API failed, returning empty array for graceful degradation"),[])}const s=await r.json();return console.log("✅ Photos fetched successfully via backend:",((n=s.photos)==null?void 0:n.length)||0),s.photos||[]}catch(r){return console.error("Error fetching location photos via backend:",r),[]}}async getLocationInsights(e,n,r){try{if(!this.accessToken)throw new Error("No access token available");console.log("Fetching performance insights for location via backend:",e);const s=new URLSearchParams;n&&s.append("startDate",n),r&&s.append("endDate",r);const i=await fetch(`${this.backendUrl}/api/locations/${e}/insights?${s}`,{method:"GET",headers:{Authorization:`Bearer ${this.accessToken}`,"Content-Type":"application/json"}});if(!i.ok){const l=await i.json();throw console.error("Backend insights fetch error:",l),new Error(`Failed to fetch insights: ${i.status}`)}const a=await i.json();return console.log("✅ Insights fetched successfully via backend:",a.apiUsed),a}catch(s){throw console.error("Error fetching location insights via backend:",s),s}}getDemoBusinessAccounts(){return console.log("📊 Providing demo business accounts (CORS blocked real API)"),[{name:"accounts/demo-account-1",accountName:"Your Business Account",type:"BUSINESS",role:"OWNER",state:"VERIFIED",locations:[{name:"accounts/demo-account-1/locations/demo-location-1",locationId:"demo-location-1",displayName:"Main Business Location",address:{addressLines:["123 Business St"],locality:"Business City",administrativeArea:"BC",postalCode:"12345",countryCode:"US"},phoneNumber:"+1 (555) 123-4567",websiteUrl:"https://yourbusiness.com",categories:[{name:"Professional Services",categoryId:"professional_services"}],metadata:{duplicate:!1,suspended:!1,canDelete:!1,canUpdate:!0}}]}]}startConnectionMonitoring(){this.connectionMonitorInterval||(console.log("🔄 Starting proactive Google Business Profile connection monitoring (24/7 mode)"),console.log("📅 Schedule: Token refresh every 30 minutes to prevent expiry"),this.connectionMonitorInterval=setInterval(async()=>{await this.checkConnectionHealth()},30*60*1e3),setTimeout(()=>this.checkConnectionHealth(),3e4),console.log("✅ Proactive token refresh monitoring started - tokens will stay fresh 24/7"))}stopConnectionMonitoring(){this.connectionMonitorInterval&&(console.log("⏹️ Stopping connection monitoring"),clearInterval(this.connectionMonitorInterval),this.connectionMonitorInterval=null)}async checkConnectionHealth(){try{const e=Date.now();if(this.lastConnectionCheck&&e-this.lastConnectionCheck<25*60*1e3){console.log("⏭️ Skipping health check - recently checked");return}if(console.log("🏥 [PROACTIVE] Performing connection health check and token refresh..."),this.lastConnectionCheck=e,!this.accessToken){console.log("⚠️ No access token - attempting to load stored tokens"),this.currentUserId&&await this.loadStoredTokens(this.currentUserId);return}if(this.isTokenExpired()){console.log("🔄 [PROACTIVE] Token expiring soon - refreshing NOW to prevent connection loss");try{await this.refreshAccessToken(),this.connectionFailures=0,console.log("✅ [PROACTIVE] Token refreshed successfully - connection maintained");return}catch(r){console.error("❌ [PROACTIVE] Token refresh failed:",r),this.connectionFailures++}}try{await this.validateTokens()?(this.connectionFailures=0,console.log("✅ Connection health check passed - token is valid")):(console.log("🔧 Token validation failed - attempting automatic refresh"),await this.refreshAccessToken(),this.connectionFailures=0,console.log("✅ Connection automatically recovered via token refresh"))}catch(r){this.connectionFailures++,console.warn(`⚠️ Connection health check failed (${this.connectionFailures}/${this.MAX_CONNECTION_FAILURES}):`,r),this.connectionFailures>=this.MAX_CONNECTION_FAILURES&&(console.error("❌ Multiple connection failures detected - triggering recovery attempt"),await this.attemptConnectionRecovery())}}catch(e){console.error("❌ Error during connection health check:",e),this.connectionFailures++}}async attemptConnectionRecovery(){try{console.log("🚑 Attempting automatic connection recovery...");try{await this.refreshAccessToken(),console.log("✅ Connection recovered via token refresh"),this.connectionFailures=0;return}catch(e){console.warn("❌ Token refresh failed during recovery:",e)}if(this.currentUserId)try{if(await this.loadStoredTokens(this.currentUserId)){console.log("✅ Connection recovered via stored tokens"),this.connectionFailures=0;return}}catch(e){console.warn("❌ Loading stored tokens failed during recovery:",e)}console.error("❌ Automatic connection recovery failed - user may need to reconnect manually"),localStorage.setItem("gbp_connection_issue",JSON.stringify({timestamp:Date.now(),failures:this.connectionFailures,lastAttempt:new Date().toISOString()}))}catch(e){console.error("❌ Error during connection recovery attempt:",e)}}getConnectionStatus(){return{isConnected:!!this.accessToken&&this.connectionFailures<this.MAX_CONNECTION_FAILURES,hasToken:!!this.accessToken,failureCount:this.connectionFailures,lastCheck:this.lastConnectionCheck,needsReconnection:this.connectionFailures>=this.MAX_CONNECTION_FAILURES}}}const Nt=new Bpe;class Vpe{constructor(){et(this,"intervalId",null);et(this,"isRunning",!1);et(this,"checkInterval",15e3);et(this,"processedReviews",new Map);et(this,"notificationService",null);this.loadProcessedReviews(),console.log("🤖 AUTOMATION: Review automation service initialized"),this.delayedStart()}delayedStart(){setTimeout(()=>{this.checkConnectionAndStart()},5e3)}checkConnectionAndStart(){console.log("🔍 AUTOMATION: Checking Google Business Profile connection...");const e=()=>{const n=!!Nt.getAccessToken(),r=Nt.isConnected();console.log("🔍 AUTOMATION: Connection check -",{hasToken:n,isGBPConnected:r}),n&&r?(console.log("✅ AUTOMATION: Google Business Profile is connected, starting automation"),this.start()):(console.log("⏳ AUTOMATION: Waiting for Google Business Profile connection..."),setTimeout(e,15e3))};e()}setNotificationService(e){this.notificationService=e,console.log("🔔 Notification service connected to review automation")}start(){this.isRunning||(console.log("🔄 Starting review automation service..."),this.isRunning=!0,this.checkAndProcessReviews(),this.intervalId=setInterval(()=>{this.checkAndProcessReviews()},this.checkInterval))}stop(){this.isRunning&&(console.log("⏹️ Stopping review automation service..."),this.isRunning=!1,this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null))}async checkAndProcessReviews(){try{if(console.log("🔄 AUTOMATION: Starting review check cycle..."),!Nt.isConnected()){console.warn("⚠️ AUTOMATION: Google Business Profile connection lost, stopping automation"),this.stop();return}const e=this.getEnabledConfigurations();if(console.log(`🔍 AUTOMATION: Found ${e.length} enabled review configurations`),e.length===0){console.log("ℹ️ AUTOMATION: No enabled auto-reply configurations found. Make sure you have enabled auto-reply for at least one location.");return}e.forEach(n=>{console.log(`📋 AUTOMATION: Config - ${n.businessName} (${n.locationId}) - Auto-reply: ${n.autoReplyEnabled?"ON":"OFF"}`)});for(const n of e)console.log(`🎯 AUTOMATION: Processing location: ${n.businessName}`),await this.processLocationReviews(n);console.log("✅ AUTOMATION: Review check cycle completed")}catch(e){console.error("🚨 AUTOMATION ERROR:",e)}}async processLocationReviews(e){var n;try{if(console.log(`📝 Processing reviews for ${e.businessName}...`),!Nt.getAccessToken()){console.warn(`⚠️ No access token available for ${e.businessName}`);return}const s=await this.fetchLocationReviews(e.locationId),i=s.filter(a=>{const l=`${e.locationId}_${a.id}`;return!this.processedReviews.has(l)});if(i.length>0&&this.notificationService)for(const a of i)this.notificationService.addNotification({type:"review",title:"New Review Received!",message:`${a.starRating}⭐ review from ${((n=a.reviewer)==null?void 0:n.displayName)||"Customer"} for ${e.businessName}`,actionUrl:"/reviews"});for(const a of s)await this.processIndividualReview(e,a)}catch(r){console.error(`🚨 Error processing reviews for ${e.businessName}:`,r)}}async fetchLocationReviews(e){try{const n="http://localhost:5000",r=Nt.getAccessToken();console.log("🔍 REVIEWS DEBUG: Backend URL being used:",n),console.log("🔍 REVIEWS DEBUG: VITE_BACKEND_URL env var:","http://localhost:5000"),console.log("🔍 REVIEWS DEBUG: Full URL:",`${n}/api/locations/${e}/reviews`);const s=await fetch(`${n}/api/locations/${e}/reviews?_t=${Date.now()}`,{method:"GET",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(!s.ok){let a={};try{a=await s.json()}catch{}if(s.status===401)return a.needsReauth?(console.error("🔒 Authentication expired. Please reconnect your Google Business Profile."),this.stop(),[]):(console.warn("⚠️ Authentication issue. Will retry on next check."),[]);if(s.status===503||s.status===502)return console.warn(`⚠️ Google API temporarily unavailable (${s.status}). Will retry on next check.`),[];if(s.status===500)return console.warn(`⚠️ Server error: ${a.message||"Unknown error"}. Will retry on next check.`),console.debug("Error details:",a),[];throw new Error(`Failed to fetch reviews: ${s.status} - ${a.message||"Unknown error"}`)}return(await s.json()).reviews||[]}catch(n){return console.error("Error fetching reviews:",n),[]}}async processIndividualReview(e,n){var s;const r=`${e.locationId}_${n.id}`;if(!this.processedReviews.has(r))try{if(!this.shouldReplyToReview(e,n)){console.log(`⏭️ Skipping review ${n.id} - doesn't meet criteria`),this.markReviewAsProcessed(r,e.locationId,n.id);return}if(n.reply&&n.reply.comment){console.log(`⏭️ Review ${n.id} already has a reply`),this.markReviewAsProcessed(r,e.locationId,n.id);return}console.log(`🤖 Generating auto-reply for review ${n.id} (${n.starRating} stars)`);const i=await this.generateReviewReply(e,n);await this.postReviewReply(e.locationId,n.name,i),this.markReviewAsProcessed(r,e.locationId,n.id),console.log(`✅ Successfully replied to review ${n.id}`),this.notificationService&&this.notificationService.addNotification({type:"reply",title:"AI Reply Sent!",message:`Auto-replied to ${n.starRating}⭐ review from ${((s=n.reviewer)==null?void 0:s.displayName)||"Customer"} for ${e.businessName}`,actionUrl:"/reviews"}),je({title:"Review Reply Posted! 💬",description:`Auto-replied to ${n.starRating}⭐ review for ${e.businessName}`,duration:4e3})}catch(i){console.error(`❌ Failed to process review ${n.id}:`,i),je({title:"Review Reply Failed ❌",description:`Failed to reply to review for ${e.businessName}`,variant:"destructive",duration:6e3})}}shouldReplyToReview(e,n){return!(!e.autoReplyEnabled||e.minRating&&n.starRating<e.minRating||e.maxRating&&n.starRating>e.maxRating||!n.comment||n.comment.trim()==="")}async generateReviewReply(e,n){var r;try{if(e.replyTemplate&&e.replyTemplate.trim())return this.processReplyTemplate(e.replyTemplate,e,n);const s=`Generate a professional, friendly, and personalized reply to this customer review for ${e.businessName}:

Review Rating: ${n.starRating}/5 stars
Review Text: "${n.comment}"
Reviewer: ${((r=n.reviewer)==null?void 0:r.displayName)||"Customer"}

Requirements:
- Keep it under 120 words maximum
- Be professional and thankful
- Address specific points mentioned in the review if relevant
- ${n.starRating>=4?"Express gratitude for the positive feedback":"Address concerns professionally and offer to resolve issues"}
- Include a subtle invitation to visit again or contact directly if needed
- Don't use excessive emojis (max 1-2)

Generate only the reply text, no quotes or extra formatting.`;return(await El.generateReviewResponse(e.businessName,n.comment,n.starRating)).trim()}catch(s){return console.error("Failed to generate review reply:",s),this.getGenericReply(n.starRating)}}processReplyTemplate(e,n,r){var s;return e.replace(/\{businessName\}/g,n.businessName).replace(/\{reviewerName\}/g,((s=r.reviewer)==null?void 0:s.displayName)||"valued customer").replace(/\{rating\}/g,r.starRating.toString()).replace(/\{comment\}/g,r.comment||"")}getGenericReply(e){return e>=4?"Thank you for your wonderful review! We're thrilled you had a great experience with us. We look forward to serving you again soon!":e===3?"Thank you for your feedback. We appreciate you taking the time to share your experience and we're always working to improve. Please feel free to contact us directly to discuss any concerns.":"Thank you for your feedback. We sincerely apologize that your experience didn't meet your expectations. We'd love the opportunity to make this right. Please contact us directly so we can address your concerns."}async postReviewReply(e,n,r){const s="http://localhost:5000",i=Nt.getAccessToken(),a=n.split("/"),l=a[3],c=a[5],u=l||e;console.log(`🔧 AUTOMATION: Posting reply - locationId: "${u}", reviewId: "${c}"`),console.log(`🔧 AUTOMATION: Full review name: "${n}"`);const d=await fetch(`${s}/api/locations/${u}/reviews/${c}/reply`,{method:"PUT",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify({comment:r})});if(!d.ok){const h=await d.json();throw new Error(`Failed to post review reply: ${d.status} - ${h.error}`)}}markReviewAsProcessed(e,n,r){this.processedReviews.set(e,{reviewId:r,locationId:n,processed:!0,processedAt:new Date().toISOString()}),this.saveProcessedReviews()}loadProcessedReviews(){try{const e=localStorage.getItem("processed_reviews");if(e){const n=JSON.parse(e);this.processedReviews=new Map(n)}}catch(e){console.error("Error loading processed reviews:",e)}}saveProcessedReviews(){try{const e=Array.from(this.processedReviews.entries());localStorage.setItem("processed_reviews",JSON.stringify(e))}catch(e){console.error("Error saving processed reviews:",e)}}getEnabledConfigurations(){try{const e=localStorage.getItem("review_reply_configs");return e?JSON.parse(e).filter(r=>r.enabled&&r.autoReplyEnabled):[]}catch(e){return console.error("Error loading review reply configurations:",e),[]}}getConfiguration(e){try{const n=localStorage.getItem("review_reply_configs");return n&&JSON.parse(n).find(s=>s.locationId===e)||null}catch(n){return console.error("Error getting review reply configuration:",n),null}}saveConfiguration(e){try{const n=localStorage.getItem("review_reply_configs");let r=n?JSON.parse(n):[];const s=r.findIndex(i=>i.locationId===e.locationId);s>=0?r[s]=e:r.push(e),localStorage.setItem("review_reply_configs",JSON.stringify(r))}catch(n){console.error("Error saving review reply configuration:",n)}}async executeManualReply(e,n,r){try{await this.postReviewReply(e,n,r),je({title:"Reply Posted! 💬",description:"Your review reply has been posted successfully",duration:4e3})}catch(s){throw console.error("Failed to post manual review reply:",s),je({title:"Reply Failed ❌",description:`Failed to post reply: ${s instanceof Error?s.message:"Unknown error"}`,variant:"destructive",duration:6e3}),s}}isServiceRunning(){return this.isRunning}restart(){console.log("🔄 AUTOMATION: Manually restarting automation service..."),this.stop(),setTimeout(()=>{this.checkConnectionAndStart()},2e3)}async forceCheck(){if(console.log("⚡ AUTOMATION: Force checking reviews immediately..."),!this.isRunning){console.warn("⚠️ AUTOMATION: Service is not running. Starting it first..."),this.checkConnectionAndStart();return}await this.checkAndProcessReviews()}async generateAIReply(e){try{console.log("Generating AI reply with params:",e);const n=await El.generateReviewResponse(e.businessName,e.reviewText,e.rating);return console.log("AI generated reply:",n),n.trim()}catch(n){return console.error("Failed to generate AI reply:",n),this.getGenericReply(e.rating)}}}const cm=new Vpe;const _8=p.createContext(void 0),ab=()=>{const t=p.useContext(_8);if(!t)throw new Error("useNotifications must be used within a NotificationProvider");return t},zpe=({children:t})=>{const[e,n]=p.useState([]);p.useEffect(()=>{try{const d=localStorage.getItem("notifications");if(d){const h=JSON.parse(d);n(h)}}catch(d){console.error("Error loading notifications:",d)}},[]),p.useEffect(()=>{try{localStorage.setItem("notifications",JSON.stringify(e))}catch(d){console.error("Error saving notifications:",d)}},[e]);const r=d=>{const h={...d,id:crypto.randomUUID(),timestamp:new Date().toISOString(),read:!1};n(f=>[h,...f.slice(0,49)]),Notification.permission==="granted"&&new Notification(d.title,{body:d.message,icon:"/favicon.ico",tag:h.id}),console.log("📢 New notification added:",h)},s=d=>{n(h=>h.map(f=>f.id===d?{...f,read:!0}:f))},i=()=>{n(d=>d.map(h=>({...h,read:!0})))},a=d=>{n(h=>h.filter(f=>f.id!==d))},l=()=>{n([])},c=e.filter(d=>!d.read).length;p.useEffect(()=>{const d={addNotification:h=>{r(h)}};return cm.setNotificationService(d),console.log("🔔 Review automation service connected to notifications"),()=>{}},[]);const u={notifications:e,unreadCount:c,addNotification:r,markAsRead:s,markAllAsRead:i,clearNotification:a,clearAllNotifications:l};return o.jsx(_8.Provider,{value:u,children:t})};function He(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function fs(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Ur(t,e){const n=He(t);return isNaN(e)?fs(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Ki(t,e){const n=He(t);if(isNaN(e))return fs(t,NaN);if(!e)return n;const r=n.getDate(),s=fs(t,n.getTime());s.setMonth(n.getMonth()+e+1,0);const i=s.getDate();return r>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}const oC=6048e5,Gpe=864e5,Fv=43200,OD=1440;let Wpe={};function nf(){return Wpe}function To(t,e){var l,c,u,d;const n=nf(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=He(t),i=s.getDay(),a=(i<r?7:0)+i-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function Au(t){return To(t,{weekStartsOn:1})}function E8(t){const e=He(t),n=e.getFullYear(),r=fs(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Au(r),i=fs(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const a=Au(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function bh(t){const e=He(t);return e.setHours(0,0,0,0),e}function jh(t){const e=He(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function po(t,e){const n=bh(t),r=bh(e),s=+n-jh(n),i=+r-jh(r);return Math.round((s-i)/Gpe)}function Hpe(t){const e=E8(t),n=fs(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Au(n)}function g_(t,e){const n=e*7;return Ur(t,n)}function Kpe(t,e){return Ki(t,e*12)}function qpe(t){let e;return t.forEach(function(n){const r=He(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function Ype(t){let e;return t.forEach(n=>{const r=He(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function Oy(t,e){const n=He(t),r=He(e),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function Qpe(t){return fs(t,Date.now())}function os(t,e){const n=bh(t),r=bh(e);return+n==+r}function aC(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Xpe(t){if(!aC(t)&&typeof t!="number")return!1;const e=He(t);return!isNaN(Number(e))}function Nh(t,e){const n=He(t),r=He(e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function Jpe(t,e,n){const r=To(t,n),s=To(e,n),i=+r-jh(r),a=+s-jh(s);return Math.round((i-a)/oC)}function Zpe(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function ege(t,e){return+He(t)-+He(e)}function tge(t){const e=He(t);return e.setHours(23,59,59,999),e}function lb(t){const e=He(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function nge(t){const e=He(t);return+tge(e)==+lb(e)}function rge(t,e){const n=He(t),r=He(e),s=Oy(n,r),i=Math.abs(Nh(n,r));let a;if(i<1)a=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);let l=Oy(n,r)===-s;nge(He(t))&&i===1&&Oy(t,r)===1&&(l=!1),a=s*(i-Number(l))}return a===0?0:a}function sge(t,e,n){const r=ege(t,e)/1e3;return Zpe(n==null?void 0:n.roundingMethod)(r)}function ds(t){const e=He(t);return e.setDate(1),e.setHours(0,0,0,0),e}function P8(t){const e=He(t),n=fs(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function lC(t,e){var l,c,u,d;const n=nf(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=He(t),i=s.getDay(),a=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+a),s.setHours(23,59,59,999),s}function A8(t){return lC(t,{weekStartsOn:1})}const ige={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},oge=(t,e,n)=>{let r;const s=ige[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Lj(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const age={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},lge={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},cge={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},uge={date:Lj({formats:age,defaultWidth:"full"}),time:Lj({formats:lge,defaultWidth:"full"}),dateTime:Lj({formats:cge,defaultWidth:"full"})},dge={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},hge=(t,e,n,r)=>dge[t];function Bf(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):a;s=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[l]||t.values[a]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const fge={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},mge={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},pge={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gge={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},vge={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},yge={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},xge=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},wge={ordinalNumber:xge,era:Bf({values:fge,defaultWidth:"wide"}),quarter:Bf({values:mge,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Bf({values:pge,defaultWidth:"wide"}),day:Bf({values:gge,defaultWidth:"wide"}),dayPeriod:Bf({values:vge,defaultWidth:"wide",formattingValues:yge,defaultFormattingWidth:"wide"})};function Vf(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const a=i[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?jge(l,h=>h.test(a)):bge(l,h=>h.test(a));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(a.length);return{value:u,rest:d}}}function bge(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function jge(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Nge(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let a=t.valueCallback?t.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const l=e.slice(s.length);return{value:a,rest:l}}}const Sge=/^(\d+)(th|st|nd|rd)?/i,_ge=/\d+/i,Ege={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Pge={any:[/^b/i,/^(a|c)/i]},Age={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Cge={any:[/1/i,/2/i,/3/i,/4/i]},Tge={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},kge={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ige={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Rge={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Oge={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Dge={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Mge={ordinalNumber:Nge({matchPattern:Sge,parsePattern:_ge,valueCallback:t=>parseInt(t,10)}),era:Vf({matchPatterns:Ege,defaultMatchWidth:"wide",parsePatterns:Pge,defaultParseWidth:"any"}),quarter:Vf({matchPatterns:Age,defaultMatchWidth:"wide",parsePatterns:Cge,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Vf({matchPatterns:Tge,defaultMatchWidth:"wide",parsePatterns:kge,defaultParseWidth:"any"}),day:Vf({matchPatterns:Ige,defaultMatchWidth:"wide",parsePatterns:Rge,defaultParseWidth:"any"}),dayPeriod:Vf({matchPatterns:Oge,defaultMatchWidth:"any",parsePatterns:Dge,defaultParseWidth:"any"})},cC={code:"en-US",formatDistance:oge,formatLong:uge,formatRelative:hge,localize:wge,match:Mge,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Lge(t){const e=He(t);return po(e,P8(e))+1}function C8(t){const e=He(t),n=+Au(e)-+Hpe(e);return Math.round(n/oC)+1}function T8(t,e){var d,h,f,m;const n=He(t),r=n.getFullYear(),s=nf(),i=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(f=s.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,a=fs(t,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const l=To(a,e),c=fs(t,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const u=To(c,e);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function Fge(t,e){var l,c,u,d;const n=nf(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=T8(t,e),i=fs(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),To(i,e)}function k8(t,e){const n=He(t),r=+To(n,e)-+Fge(n,e);return Math.round(r/oC)+1}function At(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Za={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return At(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):At(n+1,2)},d(t,e){return At(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return At(t.getHours()%12||12,e.length)},H(t,e){return At(t.getHours(),e.length)},m(t,e){return At(t.getMinutes(),e.length)},s(t,e){return At(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return At(s,e.length)}},ld={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},DD={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Za.y(t,e)},Y:function(t,e,n,r){const s=T8(t,r),i=s>0?s:1-s;if(e==="YY"){const a=i%100;return At(a,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):At(i,e.length)},R:function(t,e){const n=E8(t);return At(n,e.length)},u:function(t,e){const n=t.getFullYear();return At(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return At(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return At(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Za.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return At(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=k8(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):At(s,e.length)},I:function(t,e,n){const r=C8(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):At(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Za.d(t,e)},D:function(t,e,n){const r=Lge(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):At(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return At(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return At(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return At(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=ld.noon:r===0?s=ld.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=ld.evening:r>=12?s=ld.afternoon:r>=4?s=ld.morning:s=ld.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Za.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Za.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):At(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):At(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Za.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Za.s(t,e)},S:function(t,e){return Za.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return LD(r);case"XXXX":case"XX":return Lc(r);case"XXXXX":case"XXX":default:return Lc(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return LD(r);case"xxxx":case"xx":return Lc(r);case"xxxxx":case"xxx":default:return Lc(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+MD(r,":");case"OOOO":default:return"GMT"+Lc(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+MD(r,":");case"zzzz":default:return"GMT"+Lc(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return At(r,e.length)},T:function(t,e,n){const r=t.getTime();return At(r,e.length)}};function MD(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+At(i,2)}function LD(t,e){return t%60===0?(t>0?"-":"+")+At(Math.abs(t)/60,2):Lc(t,e)}function Lc(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=At(Math.trunc(r/60),2),i=At(r%60,2);return n+s+e+i}const FD=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},I8=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},$ge=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return FD(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",FD(r,e)).replace("{{time}}",I8(s,e))},Uge={p:I8,P:$ge},Bge=/^D+$/,Vge=/^Y+$/,zge=["D","DD","YY","YYYY"];function Gge(t){return Bge.test(t)}function Wge(t){return Vge.test(t)}function Hge(t,e,n){const r=Kge(t,e,n);if(console.warn(r),zge.includes(t))throw new RangeError(r)}function Kge(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const qge=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Yge=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Qge=/^'([^]*?)'?$/,Xge=/''/g,Jge=/[a-zA-Z]/;function Cn(t,e,n){var d,h,f,m,y,v,x,b;const r=nf(),s=(n==null?void 0:n.locale)??r.locale??cC,i=(n==null?void 0:n.firstWeekContainsDate)??((h=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((v=(y=n==null?void 0:n.locale)==null?void 0:y.options)==null?void 0:v.weekStartsOn)??r.weekStartsOn??((b=(x=r.locale)==null?void 0:x.options)==null?void 0:b.weekStartsOn)??0,l=He(t);if(!Xpe(l))throw new RangeError("Invalid time value");let c=e.match(Yge).map(w=>{const j=w[0];if(j==="p"||j==="P"){const N=Uge[j];return N(w,s.formatLong)}return w}).join("").match(qge).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const j=w[0];if(j==="'")return{isToken:!1,value:Zge(w)};if(DD[j])return{isToken:!0,value:w};if(j.match(Jge))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:w}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return c.map(w=>{if(!w.isToken)return w.value;const j=w.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Wge(j)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Gge(j))&&Hge(j,e,String(t));const N=DD[j[0]];return N(l,j,s.localize,u)}).join("")}function Zge(t){const e=t.match(Qge);return e?e[1].replace(Xge,"'"):t}function eve(t,e,n){const r=nf(),s=(n==null?void 0:n.locale)??r.locale??cC,i=2520,a=Oy(t,e);if(isNaN(a))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:a});let c,u;a>0?(c=He(e),u=He(t)):(c=He(t),u=He(e));const d=sge(u,c),h=(jh(u)-jh(c))/1e3,f=Math.round((d-h)/60);let m;if(f<2)return n!=null&&n.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):f===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",f,l);if(f<45)return s.formatDistance("xMinutes",f,l);if(f<90)return s.formatDistance("aboutXHours",1,l);if(f<OD){const y=Math.round(f/60);return s.formatDistance("aboutXHours",y,l)}else{if(f<i)return s.formatDistance("xDays",1,l);if(f<Fv){const y=Math.round(f/OD);return s.formatDistance("xDays",y,l)}else if(f<Fv*2)return m=Math.round(f/Fv),s.formatDistance("aboutXMonths",m,l)}if(m=rge(u,c),m<12){const y=Math.round(f/Fv);return s.formatDistance("xMonths",y,l)}else{const y=m%12,v=Math.trunc(m/12);return y<3?s.formatDistance("aboutXYears",v,l):y<9?s.formatDistance("overXYears",v,l):s.formatDistance("almostXYears",v+1,l)}}function tve(t,e){return eve(t,Qpe(t),e)}function nve(t){const e=He(t),n=e.getFullYear(),r=e.getMonth(),s=fs(t,0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function rve(t){return Math.trunc(+He(t)/1e3)}function sve(t){const e=He(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function ive(t,e){return Jpe(sve(t),ds(t),e)+1}function v_(t,e){const n=He(t),r=He(e);return n.getTime()>r.getTime()}function R8(t,e){const n=He(t),r=He(e);return+n<+r}function uC(t,e){const n=He(t),r=He(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function ove(t,e){const n=He(t),r=He(e);return n.getFullYear()===r.getFullYear()}function Fj(t,e){return Ur(t,-e)}function $j(t,e){const n=He(t),r=n.getFullYear(),s=n.getDate(),i=fs(t,0);i.setFullYear(r,e,15),i.setHours(0,0,0,0);const a=nve(i);return n.setMonth(e,Math.min(s,a)),n}function $D(t,e){const n=He(t);return isNaN(+n)?fs(t,NaN):(n.setFullYear(e),n)}const ave=t=>{switch(t){case"review":return ba;case"post":return xu;case"reply":return hZ;case"system":default:return Rd}},lve=t=>{switch(t){case"review":return"text-blue-600";case"post":return"text-green-600";case"reply":return"text-purple-600";case"system":default:return"text-gray-600"}},UD=()=>{const{notifications:t,unreadCount:e,markAsRead:n,markAllAsRead:r,clearNotification:s,clearAllNotifications:i}=ab(),a=c=>{c.read||n(c.id),c.actionUrl&&(window.location.href=c.actionUrl)},l=c=>{try{return tve(new Date(c),{addSuffix:!0})}catch{return"just now"}};return o.jsxs(rb,{children:[o.jsx(sb,{asChild:!0,children:o.jsxs(Y,{variant:"ghost",size:"sm",className:"relative h-9 w-9 p-0",children:[o.jsx(lx,{className:"h-4 w-4"}),e>0&&o.jsx(Ee,{variant:"destructive",className:"absolute -top-1 -right-1 h-4 w-4 p-0 flex items-center justify-center text-xs",children:e>99?"99+":e})]})}),o.jsxs(ag,{className:"w-80",align:"end",forceMount:!0,children:[o.jsxs(eC,{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Notifications"}),o.jsxs("div",{className:"flex items-center gap-1",children:[e>0&&o.jsxs(Y,{variant:"ghost",size:"sm",onClick:r,className:"h-6 px-2 text-xs",children:[o.jsx(GJ,{className:"h-3 w-3 mr-1"}),"Mark all read"]}),t.length>0&&o.jsx(Y,{variant:"ghost",size:"sm",onClick:i,className:"h-6 px-2 text-xs text-red-600 hover:text-red-700",children:o.jsx(px,{className:"h-3 w-3"})})]})]}),o.jsx(Vd,{}),o.jsx(N8,{className:"h-96",children:t.length===0?o.jsxs("div",{className:"p-4 text-center text-sm text-muted-foreground",children:[o.jsx(lx,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),"No notifications yet"]}):o.jsx("div",{className:"space-y-1",children:t.map(c=>{const u=ave(c.type),d=lve(c.type);return o.jsx(is,{className:ve("p-0 cursor-pointer",!c.read&&"bg-blue-50/50"),onClick:()=>a(c),children:o.jsx(q,{className:ve("w-full shadow-none border-none",!c.read&&"bg-blue-50/50"),children:o.jsx(Q,{className:"p-3",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{className:ve("mt-0.5",d),children:o.jsx(u,{className:"h-4 w-4"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:ve("text-sm font-medium leading-none mb-1",!c.read&&"font-semibold"),children:c.title}),o.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:c.message})]}),o.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[!c.read&&o.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"}),o.jsx(Y,{variant:"ghost",size:"sm",onClick:h=>{h.stopPropagation(),s(c.id)},className:"h-5 w-5 p-0 text-gray-400 hover:text-red-600",children:o.jsx(px,{className:"h-3 w-3"})})]})]}),o.jsxs("div",{className:"flex items-center justify-between mt-2",children:[o.jsx("span",{className:"text-xs text-muted-foreground",children:l(c.timestamp)}),c.actionUrl&&o.jsx(bP,{className:"h-3 w-3 text-muted-foreground"})]})]})]})})})},c.id)})})}),t.length>10&&o.jsxs(o.Fragment,{children:[o.jsx(Vd,{}),o.jsxs(is,{className:"text-center text-sm text-muted-foreground",children:["Showing latest ",Math.min(t.length,50)," notifications"]})]})]})]})},cve=({onMenuClick:t})=>{const{currentUser:e,logout:n}=Hn(),r=Zt(),s=async()=>{try{await n(),r("/login")}catch(a){console.error("Logout error:",a)}},i=()=>e!=null&&e.displayName?e.displayName.split(" ").map(a=>a.charAt(0)).join("").toUpperCase().slice(0,2):e!=null&&e.email?e.email.charAt(0).toUpperCase():"U";return o.jsxs("header",{className:"sticky top-0 z-[60] h-16 glass-card border-b border-border/50 flex items-center justify-between px-4 sm:px-6",children:[o.jsx("div",{className:"flex items-center gap-4",children:o.jsx(Y,{variant:"ghost",size:"sm",onClick:t,className:"lg:hidden h-9 w-9 p-0",children:o.jsx(fx,{className:"h-5 w-5"})})}),o.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[o.jsx("div",{className:"hidden sm:block",children:o.jsx(UD,{})}),o.jsxs(rb,{children:[o.jsx(sb,{asChild:!0,children:o.jsx(Y,{variant:"ghost",className:"relative h-8 w-8 sm:h-9 sm:w-9 rounded-full",children:o.jsx(lg,{className:"h-8 w-8 sm:h-9 sm:w-9",children:o.jsx(cg,{className:"bg-primary text-primary-foreground text-sm",children:i()})})})}),o.jsxs(ag,{className:"w-56 z-[100]",align:"end",forceMount:!0,children:[o.jsx(eC,{className:"font-normal",children:o.jsxs("div",{className:"flex flex-col space-y-1",children:[o.jsx("p",{className:"text-sm font-medium leading-none truncate",children:(e==null?void 0:e.displayName)||"User"}),o.jsx("p",{className:"text-xs leading-none text-muted-foreground truncate",children:e==null?void 0:e.email})]})}),o.jsx(Vd,{}),o.jsx("div",{className:"sm:hidden",children:o.jsx(is,{className:"p-0",children:o.jsx("div",{className:"w-full p-2",children:o.jsx(UD,{})})})}),o.jsx(Vd,{}),o.jsxs(is,{children:[o.jsx(gx,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Profile"})]}),o.jsxs(is,{children:[o.jsx(Rd,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Settings"})]}),o.jsx(Vd,{}),o.jsxs(is,{onClick:s,children:[o.jsx(NP,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Log out"})]})]})]})]})]})},La=()=>{const[t,e]=p.useState(!1),[n,r]=p.useState(!0),[s,i]=p.useState([]),[a,l]=p.useState(null),[c,u]=p.useState(null),[d,h]=p.useState(null),{toast:f}=ps(),{currentUser:m}=Hn(),y=Zt(),v=p.useRef(!1),x=p.useRef(!1),b=p.useRef(null),w=p.useCallback(async S=>{if(m!=null&&m.uid)try{await fetch("http://localhost:5000/api/payment/user/gbp-association",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:m.uid,gbpAccountId:S})}),console.log("GBP association saved:",{userId:m.uid,gbpAccountId:S})}catch(C){console.error("Failed to save GBP association:",C)}},[m]),j=p.useCallback(async()=>{try{r(!0);const S=await Nt.getBusinessAccounts();i(S);for(const C of S)C.accountId&&await w(C.accountId);S.length===1&&(l(S[0]),S[0].locations.length===1&&u(S[0].locations[0])),h(null)}catch(S){console.error("Error loading business accounts:",S),h("Failed to load business accounts"),f({title:"Error loading accounts",description:"Failed to load your Google Business Profile accounts. Please try reconnecting.",variant:"destructive"})}finally{r(!1)}},[f,w]);p.useEffect(()=>{if(!t)return;let S,C=0;const O=5,k=async()=>{try{console.log("⏰ Proactive token check..."),Nt.isTokenExpired()?(console.log("🔄 Token expiring soon, refreshing proactively..."),await Nt.refreshAccessToken(),C=0,console.log("✅ Token refreshed successfully - connection remains permanent")):console.log("✅ Token still valid - no refresh needed")}catch(G){if(console.error("Failed to refresh token:",G),C++,C<O)console.log(`🔄 Retrying token refresh (attempt ${C}/${O})...`),setTimeout(()=>k(),Math.pow(2,C)*1e3);else{console.error("❌ Max retries exceeded, attempting recovery...");try{if(await Nt.recoverConnection()){console.log("✅ Connection recovered via stored tokens"),C=0;return}}catch(U){console.error("❌ Recovery failed:",U)}e(!1),h("Connection requires re-authentication"),f({title:"Connection expired",description:"Please reconnect your Google Business Profile from Settings.",variant:"destructive"})}}};return S=setInterval(k,10*60*1e3),(async()=>{try{console.log("🔍 Initial connection check on mount..."),Nt.isTokenExpired()&&(console.log("🔄 Token expiring, refreshing immediately..."),await Nt.refreshAccessToken()),console.log("✅ Connection verified - permanent connection active")}catch(G){console.error("Initial check failed:",G),await k()}})(),()=>{S&&clearInterval(S)}},[t,f]),p.useEffect(()=>{const S=(m==null?void 0:m.uid)||null,C=sessionStorage.getItem("post_payment_reload")==="true";if(v.current||x.current&&b.current===S&&!C){console.log("🔍 DEBUGGING: Skipping initialization (already initialized or in progress)");return}const O=async()=>{if(v.current){console.log("🔍 DEBUGGING: Initialization already in progress, skipping...");return}v.current=!0,r(!0),console.log("🔍 DEBUGGING: Initializing Google Business Profile connection..."),console.log("🔍 DEBUGGING: Firebase user:",S);try{Nt.setCurrentUserId(S),sessionStorage.getItem("post_payment_reload")==="true"&&(console.log("🔍 DEBUGGING: Just reloaded after payment, waiting before loading profiles..."),sessionStorage.removeItem("post_payment_reload"),await new Promise(U=>setTimeout(U,2e3)));const G=await Nt.loadStoredTokens(S);if(console.log("🔍 DEBUGGING: Has valid tokens?",G),console.log("🔍 DEBUGGING: Service isConnected?",Nt.isConnected()),e(G),G){console.log("🔍 DEBUGGING: Loading business accounts...");try{await j()}catch(U){console.error("❌ DEBUGGING: Failed to load business accounts:",U),U instanceof Error&&U.message.includes("Authentication")&&(console.log("⚠️ Authentication issue detected, may need to reconnect"),h("Authentication expired. Please reconnect your Google Business Profile."),e(!1))}}else console.log("🔍 DEBUGGING: No valid tokens, skipping account load");x.current=!0,b.current=S}catch(B){console.error("❌ DEBUGGING: Error initializing Google Business Profile connection:",B),h("Failed to initialize connection")}finally{r(!1),v.current=!1,console.log("🔍 DEBUGGING: Initialization complete")}},k=async B=>{console.log("Google Business Profile connection event received:",B.detail),e(!0),await j(),f({title:"Connection successful!",description:"Loading your business profiles..."}),console.log("🔄 Redirecting to dashboard after OAuth callback..."),y("/dashboard")};return window.addEventListener("googleBusinessProfileConnected",k),O(),()=>{window.removeEventListener("googleBusinessProfileConnected",k)}},[m==null?void 0:m.uid]);const N=p.useCallback(async()=>{try{r(!0),console.log("🔄 Starting Google Business Profile connection..."),console.log("🔍 DEBUGGING: Firebase user for connection:",m==null?void 0:m.uid),Nt.setCurrentUserId((m==null?void 0:m.uid)||null),await Nt.connectGoogleBusiness(),e(!0),console.log("✅ OAuth connection successful!"),console.log("📊 Loading business accounts..."),await j(),console.log("✅ Business accounts loaded successfully!"),f({title:"Connected successfully!",description:"Your Google Business Profile has been connected and data loaded."}),console.log("🔄 Redirecting to dashboard..."),y("/dashboard")}catch(S){console.error("❌ Error connecting to Google Business Profile:",S);const C=S instanceof Error?S.message:"Unknown error";h(C);let O="Failed to connect to Google Business Profile. Please try again.";C.includes("cancelled")||C.includes("closed")?O="OAuth was cancelled. Please try again and complete the authentication process.":C.includes("timeout")?O="Connection timed out. Please try again.":C.includes("Popup blocked")&&(O="Popup was blocked. Please allow popups for this site and try again."),f({title:"Connection failed",description:O,variant:"destructive"})}finally{r(!1)}},[j,f,m,y]),T=p.useCallback(async()=>{try{r(!0),await Nt.permanentDisconnect(),e(!1),i([]),l(null),u(null),h(null),f({title:"Disconnected",description:"Your Google Business Profile has been permanently disconnected."})}catch(S){console.error("Error disconnecting Google Business Profile:",S),f({title:"Disconnection failed",description:"Failed to disconnect. Please try again.",variant:"destructive"})}finally{r(!1)}},[f]),I=p.useCallback(S=>{l(S),u(null)},[]),P=p.useCallback(S=>{u(S)},[]),E=p.useCallback(async()=>{t&&await j()},[t,j]),A=p.useCallback(async S=>{console.log("OAuth callback received (not implemented in current frontend-only flow):",S)},[]);return{isConnected:t,isLoading:n,accounts:s,selectedAccount:a,selectedLocation:c,error:d,connectGoogleBusiness:N,disconnectGoogleBusiness:T,selectAccount:I,selectLocation:P,refreshAccounts:E,handleOAuthCallback:A}},Yx=[{id:"pro_monthly",name:"1 Month Plan",amount:1099,currency:"INR",interval:"monthly",features:["Auto-Post Scheduling","Review Management & Auto-Reply","Performance Analytics","Advanced Analytics","API Access","Priority Support","Unlimited Google Business Profiles"],trialDays:15,popular:!1},{id:"pro_6months",name:"6 Months Plan",amount:5999,currency:"INR",interval:"yearly",features:["Auto-Post Scheduling","Review Management & Auto-Reply","Performance Analytics","Advanced Analytics","API Access","Priority Support","Unlimited Google Business Profiles","Save ₹600 compared to monthly"],trialDays:15,popular:!0},{id:"pro_yearly",name:"1 Year Plan",amount:9999,currency:"INR",interval:"yearly",features:["Auto-Post Scheduling","Review Management & Auto-Reply","Performance Analytics","Advanced Analytics","API Access","Priority Support","Unlimited Google Business Profiles","Best Value - Save ₹3189 per year"],trialDays:15,popular:!1}];class zd{static calculateTotalPrice(e){return e*this.BASE_PRICE_PER_PROFILE}static formatPriceDisplay(e){return`$${(this.calculateTotalPrice(e)/100).toFixed(0)}`}static getPricingBreakdown(e){const n=this.calculateTotalPrice(e);return{profileCount:e,pricePerProfile:this.BASE_PRICE_PER_PROFILE,totalPrice:n,displayPrice:this.formatPriceDisplay(e)}}static async createTrialSubscription(e,n,r){const s=await this.getSubscriptionByGBPAccount(n);if(s)return console.log("Subscription already exists for GBP account:",n),s;const i=St.now(),a=new Date;a.setDate(a.getDate()+this.TRIAL_DAYS);const l={userId:e,gbpAccountId:n,email:r,status:"trial",trialStartDate:i,trialEndDate:St.fromDate(a),createdAt:i,updatedAt:i,paymentHistory:[]},c=Cv(Av(rd,this.COLLECTION_NAME));return await hD(c,l),{...l,id:c.id}}static async getSubscriptionByGBPAccount(e){const n=aD(Av(rd,this.COLLECTION_NAME),lD("gbpAccountId","==",e)),r=await dD(n);if(r.empty)return null;const s=r.docs[0];return{id:s.id,...s.data()}}static async getSubscriptionByUserId(e){const n=aD(Av(rd,this.COLLECTION_NAME),lD("userId","==",e)),r=await dD(n);if(r.empty)return null;const s=r.docs[0];return{id:s.id,...s.data()}}static async updateSubscription(e,n){const r=Cv(rd,this.COLLECTION_NAME,e);await fD(r,{...n,updatedAt:mD()})}static async checkSubscriptionStatus(e){const n=await this.getSubscriptionByGBPAccount(e);if(!n)return{isValid:!1,status:"none"};const r=new Date;if(n.status==="trial"){const s=n.trialEndDate.toDate(),i=Math.ceil((s.getTime()-r.getTime())/(1e3*60*60*24));return i>0?{isValid:!0,status:"trial",daysRemaining:i,subscription:n}:(await this.updateSubscription(n.id,{status:"expired"}),{isValid:!1,status:"expired",daysRemaining:0,subscription:{...n,status:"expired"}})}if(n.status==="active"){if(n.subscriptionEndDate){const s=n.subscriptionEndDate.toDate(),i=Math.ceil((s.getTime()-r.getTime())/(1e3*60*60*24));return i>0?{isValid:!0,status:"active",daysRemaining:i,subscription:n}:(await this.updateSubscription(n.id,{status:"expired"}),{isValid:!1,status:"expired",daysRemaining:0,subscription:{...n,status:"expired"}})}return{isValid:!0,status:"active",subscription:n}}return{isValid:!1,status:n.status,subscription:n}}static async addPaymentRecord(e,n){const r=Cv(rd,this.COLLECTION_NAME,e),s=await wde(r);if(!s.exists())throw new Error("Subscription not found");const a=s.data().paymentHistory||[];a.push(n),await fD(r,{paymentHistory:a,updatedAt:mD()})}static async createTrialWithPaymentMethod(e,n,r,s,i,a){const l=St.now(),c=new Date;c.setDate(c.getDate()+this.TRIAL_DAYS);const u={userId:e,gbpAccountId:n,email:r,status:"trial",trialStartDate:l,trialEndDate:St.fromDate(c),profileCount:s,pricePerProfile:this.BASE_PRICE_PER_PROFILE,amount:this.calculateTotalPrice(s),currency:"USD",razorpayCustomerId:i,createdAt:l,updatedAt:l,paymentHistory:[]},d=Cv(Av(rd,this.COLLECTION_NAME));return await hD(d,u),{...u,id:d.id}}static async activateSubscription(e,n,r,s,i){const a=Yx.find(d=>d.id===n);if(!a)throw new Error("Invalid plan ID");const l=new Date,c=new Date;a.interval==="monthly"?c.setMonth(c.getMonth()+1):c.setFullYear(c.getFullYear()+1);const u=n==="per_profile_yearly"?this.calculateTotalPrice(r):a.amount;await this.updateSubscription(e,{status:"active",planId:n,planName:a.name,amount:u,currency:a.currency,profileCount:n==="per_profile_yearly"?r:void 0,pricePerProfile:n==="per_profile_yearly"?this.BASE_PRICE_PER_PROFILE:void 0,razorpaySubscriptionId:s,razorpayCustomerId:i,subscriptionStartDate:St.fromDate(l),subscriptionEndDate:St.fromDate(c)})}static calculateTrialDaysRemaining(e){const n=new Date,r=e.toDate(),s=Math.ceil((r.getTime()-n.getTime())/(1e3*60*60*24));return Math.max(0,s)}}et(zd,"COLLECTION_NAME","subscriptions"),et(zd,"TRIAL_DAYS",15),et(zd,"BASE_PRICE_PER_PROFILE",9900);const O8=p.createContext(void 0),Dr=()=>{const t=p.useContext(O8);if(t===void 0)throw new Error("useSubscription must be used within a SubscriptionProvider");return t},uve=({children:t})=>{var L;const[e,n]=p.useState(null),[r,s]=p.useState(!0),[i,a]=p.useState("none"),[l,c]=p.useState(null),[u,d]=p.useState(!1),[h,f]=p.useState(!0),[m,y]=p.useState(!1),[v,x]=p.useState(!1),[b,w]=p.useState(null),[j,N]=p.useState(!1),[T,I]=p.useState(!1),[P,E]=p.useState(!1),{currentUser:A}=Hn(),{accounts:S}=La(),{toast:C}=ps(),O="http://localhost:5000",k=S&&S.length>0&&((L=S[0].name)==null?void 0:L.split("/")[1])||null;console.log("SubscriptionContext - GBP Account ID:",k),console.log("SubscriptionContext - Accounts:",S);const B=async()=>{if(P){console.log("Subscription check already in progress, skipping...");return}E(!0),console.log("Checking subscription status for GBP:",k,"User:",A==null?void 0:A.uid);try{if(A!=null&&A.uid&&!k){console.log("No GBP connected, checking by user ID:",A.uid);try{const W=await fetch(`${O}/api/payment/subscription/status?userId=${A.uid}`,{headers:{"Content-Type":"application/json"}});if(W.ok){const J=await W.json();if(console.log("Subscription found by user ID:",J),J.status!=="none"){a(J.status),c(J.daysRemaining||null),n(J.subscription),f(J.canUsePlatform!==!1),y(J.requiresPayment===!0),x(J.billingOnly===!0),w(J.message||"Please reconnect your Google Business Profile to access all features."),d(J.status==="expired"||J.billingOnly===!0),s(!1),E(!1);return}}}catch(W){console.log("User ID lookup failed, will check GBP when available:",W)}}if(!k&&!(A!=null&&A.uid)){console.log("No GBP account ID or user ID, setting status to none"),a("none"),c(null),d(!1),s(!1),E(!1);return}try{s(!0);const W=new URLSearchParams;k&&W.append("gbpAccountId",k),A!=null&&A.uid&&W.append("userId",A.uid);const J=await fetch(`${O}/api/payment/subscription/status?${W.toString()}`,{headers:{"Content-Type":"application/json"}});if(J.ok){const V=await J.json();if(console.log("Subscription status from backend:",V),V.status==="none"&&k&&(A!=null&&A.uid)&&!T){console.log("🎉 No subscription found - auto-creating 15-day free trial..."),I(!0);try{const ue=await fetch(`${O}/api/payment/subscription/trial`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:A.uid,gbpAccountId:k,email:A.email})});if(ue.ok){const ee=await ue.json();n(ee.subscription),a("trial"),c(15),d(!1),f(!0),y(!1),x(!1),w(null),C({title:"Trial Started!",description:"Your 15-day free trial has begun. Enjoy all features!"})}else{const ee=await ue.json().catch(()=>({error:"Unknown error"}));console.error("❌ Trial creation failed:",ee),C({title:"Setup Error",description:ee.hint||ee.details||"Unable to create trial. Please contact support.",variant:"destructive"}),a("none"),d(!1),f(!0),y(!1),x(!1),w("Trial setup failed. Please contact support.")}}catch(ue){console.error("❌ Error creating trial:",ue),C({title:"Setup Error",description:"Unable to create trial. Please contact support.",variant:"destructive"}),a("none"),d(!1),f(!0),y(!1),x(!1),w("Trial setup failed. Please contact support.")}finally{I(!1),s(!1),E(!1)}return}a(V.status),c(V.daysRemaining||null),n(V.subscription),f(V.canUsePlatform!==!1),y(V.requiresPayment===!0),x(V.billingOnly===!0),w(V.message||null),d(V.status==="expired"||V.billingOnly===!0),V.status==="trial"&&V.daysRemaining&&V.daysRemaining<=3&&C({title:"Trial Ending Soon",description:`Your trial ends in ${V.daysRemaining} day(s). Upgrade now to continue using all features.`,variant:"default"}),V.status==="expired"&&V.billingOnly&&C({title:"Trial Expired",description:"Your 15-day trial has expired. Please upgrade to continue using all features.",variant:"destructive"})}else{const V=await zd.checkSubscriptionStatus(k);a(V.status),c(V.daysRemaining||null),n(V.subscription||null),d(!V.isValid)}}catch(W){console.error("Error checking subscription status:",W);try{const J=await zd.checkSubscriptionStatus(k);a(J.status),c(J.daysRemaining||null),n(J.subscription||null),d(!J.isValid)}catch(J){console.error("Firebase subscription check also failed:",J),a("none"),d(!0)}}finally{s(!1),E(!1)}}catch(W){console.error("Outer error in checkSubscriptionStatus:",W),s(!1),E(!1)}},G=async()=>{if(console.log("Creating trial subscription - User:",A==null?void 0:A.uid,"GBP:",k),!A||!k){console.error("Cannot create trial - missing user or GBP account"),C({title:"Error",description:"Please connect your Google Business Profile first",variant:"destructive"});return}if(T){console.log("Trial creation already in progress, skipping...");return}try{I(!0),s(!0);const W=await fetch(`${O}/api/payment/subscription/trial`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:A.uid,gbpAccountId:k,email:A.email})});if(W.ok){const J=await W.json();n(J.subscription),a("trial"),c(15),d(!1),C({title:"Trial Started!",description:"Your 15-day free trial has begun. Enjoy all features!"})}else{const J=await zd.createTrialSubscription(A.uid,k,A.email);n(J),a("trial"),c(15),d(!1),C({title:"Trial Started!",description:"Your 15-day free trial has begun. Enjoy all features!"})}await B()}catch(W){console.error("Error creating trial subscription:",W),C({title:"Error",description:"Failed to start trial. Please try again.",variant:"destructive"})}finally{s(!1),I(!1)}},U=async W=>{console.log("Upgrading to plan:",W)},$=async()=>{if(!(!e||!k))try{if(s(!0),(await fetch(`${O}/api/payment/subscription/cancel`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({subscriptionId:e.id,gbpAccountId:k})})).ok)C({title:"Subscription Cancelled",description:"Your subscription has been cancelled."}),await B();else throw new Error("Failed to cancel subscription")}catch(W){console.error("Error cancelling subscription:",W),C({title:"Error",description:"Failed to cancel subscription. Please try again.",variant:"destructive"})}finally{s(!1)}};p.useEffect(()=>{if(T){console.log("Skipping subscription check - trial creation in progress");return}console.log("SubscriptionContext useEffect - gbpAccountId changed:",k);const J=sessionStorage.getItem("post_payment_reload")==="true"?3e3:0,V=setTimeout(()=>{k&&A?B():!k&&A?(console.log("No GBP account yet, checking subscription by user ID"),B()):!k&&!A&&(console.log("No GBP account or user, resetting subscription state"),a("none"),c(null),n(null),d(!1),s(!1))},J);return()=>clearTimeout(V)},[k,A==null?void 0:A.uid,T]),p.useEffect(()=>{if(!k)return;const W=setInterval(()=>{B()},30*60*1e3);return()=>clearInterval(W)},[k]);const D={subscription:e,isLoading:r,status:i,daysRemaining:l,plans:Yx,checkSubscriptionStatus:B,createTrialSubscription:G,upgradeToPaid:U,cancelSubscription:$,isFeatureBlocked:u,canUsePlatform:h,requiresPayment:m,billingOnly:v,message:b,showTrialSetup:j,setShowTrialSetup:N};return o.jsx(O8.Provider,{value:D,children:t})},dve=Lp("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),lu=p.forwardRef(({className:t,variant:e,...n},r)=>o.jsx("div",{ref:r,role:"alert",className:ve(dve({variant:e}),t),...n}));lu.displayName="Alert";const hve=p.forwardRef(({className:t,...e},n)=>o.jsx("h5",{ref:n,className:ve("mb-1 font-medium leading-none tracking-tight",t),...e}));hve.displayName="AlertTitle";const cu=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:ve("text-sm [&_p]:leading-relaxed",t),...e}));cu.displayName="AlertDescription";var dC={},hC={};Object.defineProperty(hC,"__esModule",{value:!0});class fve{constructor(e){this.instance=void 0,this.options=e,typeof window<"u"&&(this.instance=new window.Razorpay(this.options))}on(e,n){if(!this.instance)throw new Error("Razorpay Instance in not ready");this.instance.on(e,n)}open(){if(!this.instance)throw new Error("Razorpay Instance in not ready");this.instance.open()}}hC.default=fve;var mve=Wl&&Wl.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(e,n);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,s)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),pve=Wl&&Wl.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),gve=Wl&&Wl.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&mve(e,t,n);return pve(e,t),e},vve=Wl&&Wl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(dC,"__esModule",{value:!0});var cb=dC.useRazorpay=void 0;const Uj=gve(p),yve=vve(hC),xve=()=>{const[t,e]=Uj.useState(!1),[n,r]=Uj.useState(),s=typeof window<"u",i=()=>!(!s||!("Razorpay"in window));function a(l){return new Promise((c,u)=>{const d=window.document.createElement("script");d.src=l,d.onload=function(){c()},d.onerror=function(h){u(h.toString())},document.body.appendChild(d)})}return Uj.useEffect(()=>{s&&(e(!0),i()||a("https://checkout.razorpay.com/v1/checkout.js").then(()=>{r(void 0)}).catch(l=>{l instanceof Error?r(l.message):r("Unknown Error")}).finally(()=>e(!1)))},[]),{error:n,isLoading:t,Razorpay:yve.default}};cb=dC.useRazorpay=xve;var ub="Dialog",[D8,M8]=nr(ub),[wve,Qi]=D8(ub),L8=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!0}=t,l=p.useRef(null),c=p.useRef(null),[u,d]=zi({prop:r,defaultProp:s??!1,onChange:i,caller:ub});return o.jsx(wve,{scope:e,triggerRef:l,contentRef:c,contentId:ui(),titleId:ui(),descriptionId:ui(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(h=>!h),[d]),modal:a,children:n})};L8.displayName=ub;var F8="DialogTrigger",$8=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Qi(F8,n),i=Ke(e,s.triggerRef);return o.jsx(De.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":pC(s.open),...r,ref:i,onClick:xe(t.onClick,s.onOpenToggle)})});$8.displayName=F8;var fC="DialogPortal",[bve,U8]=D8(fC,{forceMount:void 0}),B8=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Qi(fC,e);return o.jsx(bve,{scope:e,forceMount:n,children:p.Children.map(r,a=>o.jsx(rr,{present:n||i.open,children:o.jsx(Bh,{asChild:!0,container:s,children:a})}))})};B8.displayName=fC;var Qx="DialogOverlay",V8=p.forwardRef((t,e)=>{const n=U8(Qx,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Qi(Qx,t.__scopeDialog);return i.modal?o.jsx(rr,{present:r||i.open,children:o.jsx(Nve,{...s,ref:e})}):null});V8.displayName=Qx;var jve=ql("DialogOverlay.RemoveScroll"),Nve=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Qi(Qx,n);return o.jsx(sg,{as:jve,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(De.div,{"data-state":pC(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Cu="DialogContent",z8=p.forwardRef((t,e)=>{const n=U8(Cu,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Qi(Cu,t.__scopeDialog);return o.jsx(rr,{present:r||i.open,children:i.modal?o.jsx(Sve,{...s,ref:e}):o.jsx(_ve,{...s,ref:e})})});z8.displayName=Cu;var Sve=p.forwardRef((t,e)=>{const n=Qi(Cu,t.__scopeDialog),r=p.useRef(null),s=Ke(e,n.contentRef,r);return p.useEffect(()=>{const i=r.current;if(i)return Jw(i)},[]),o.jsx(G8,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:xe(t.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:xe(t.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:xe(t.onFocusOutside,i=>i.preventDefault())})}),_ve=p.forwardRef((t,e)=>{const n=Qi(Cu,t.__scopeDialog),r=p.useRef(!1),s=p.useRef(!1);return o.jsx(G8,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),G8=p.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=t,l=Qi(Cu,n),c=p.useRef(null),u=Ke(e,c);return Xw(),o.jsxs(o.Fragment,{children:[o.jsx(ng,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(Vu,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":pC(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(Pve,{titleId:l.titleId}),o.jsx(Cve,{contentRef:c,descriptionId:l.descriptionId})]})]})}),mC="DialogTitle",W8=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Qi(mC,n);return o.jsx(De.h2,{id:s.titleId,...r,ref:e})});W8.displayName=mC;var H8="DialogDescription",K8=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Qi(H8,n);return o.jsx(De.p,{id:s.descriptionId,...r,ref:e})});K8.displayName=H8;var q8="DialogClose",Y8=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Qi(q8,n);return o.jsx(De.button,{type:"button",...r,ref:e,onClick:xe(t.onClick,()=>s.onOpenChange(!1))})});Y8.displayName=q8;function pC(t){return t?"open":"closed"}var Q8="DialogTitleWarning",[Eve,X8]=YX(Q8,{contentName:Cu,titleName:mC,docsSlug:"dialog"}),Pve=({titleId:t})=>{const e=X8(Q8),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return p.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Ave="DialogDescriptionWarning",Cve=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${X8(Ave).contentName}}.`;return p.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},J8=L8,Z8=$8,e9=B8,gC=V8,vC=z8,yC=W8,xC=K8,wC=Y8;const pi=J8,Tve=Z8,kve=e9,t9=p.forwardRef(({className:t,...e},n)=>o.jsx(gC,{ref:n,className:ve("fixed inset-0 z-[100] bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));t9.displayName=gC.displayName;const Ls=p.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(kve,{children:[o.jsx(t9,{}),o.jsxs(vC,{ref:r,className:ve("fixed left-[50%] top-[50%] z-[110] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,o.jsxs(wC,{className:"absolute right-4 top-4 z-[120] rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(Yi,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ls.displayName=vC.displayName;const Fs=({className:t,...e})=>o.jsx("div",{className:ve("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Fs.displayName="DialogHeader";const Tu=({className:t,...e})=>o.jsx("div",{className:ve("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Tu.displayName="DialogFooter";const $s=p.forwardRef(({className:t,...e},n)=>o.jsx(yC,{ref:n,className:ve("text-lg font-semibold leading-none tracking-tight",t),...e}));$s.displayName=yC.displayName;const Us=p.forwardRef(({className:t,...e},n)=>o.jsx(xC,{ref:n,className:ve("text-sm text-muted-foreground",t),...e}));Us.displayName=xC.displayName;function bC(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var jC="Radio",[Ive,n9]=nr(jC),[Rve,Ove]=Ive(jC),r9=p.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:i,disabled:a,value:l="on",onCheck:c,form:u,...d}=t,[h,f]=p.useState(null),m=Ke(e,x=>f(x)),y=p.useRef(!1),v=h?u||!!h.closest("form"):!0;return o.jsxs(Rve,{scope:n,checked:s,disabled:a,children:[o.jsx(De.button,{type:"button",role:"radio","aria-checked":s,"data-state":a9(s),"data-disabled":a?"":void 0,disabled:a,value:l,...d,ref:m,onClick:xe(t.onClick,x=>{s||c==null||c(),v&&(y.current=x.isPropagationStopped(),y.current||x.stopPropagation())})}),v&&o.jsx(o9,{control:h,bubbles:!y.current,name:r,value:l,checked:s,required:i,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});r9.displayName=jC;var s9="RadioIndicator",i9=p.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...s}=t,i=Ove(s9,n);return o.jsx(rr,{present:r||i.checked,children:o.jsx(De.span,{"data-state":a9(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})})});i9.displayName=s9;var Dve="RadioBubbleInput",o9=p.forwardRef(({__scopeRadio:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const a=p.useRef(null),l=Ke(a,i),c=bC(n),u=RP(e);return p.useEffect(()=>{const d=a.current;if(!d)return;const h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==n&&m){const y=new Event("click",{bubbles:r});m.call(d,n),d.dispatchEvent(y)}},[c,n,r]),o.jsx(De.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});o9.displayName=Dve;function a9(t){return t?"checked":"unchecked"}var Mve=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],db="RadioGroup",[Lve,o4e]=nr(db,[tf,n9]),l9=tf(),c9=n9(),[Fve,$ve]=Lve(db),u9=p.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:i,required:a=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:h,...f}=t,m=l9(n),y=ef(u),[v,x]=zi({prop:i,defaultProp:s??null,onChange:h,caller:db});return o.jsx(Fve,{scope:n,name:r,required:a,disabled:l,value:v,onValueChange:x,children:o.jsx(WA,{asChild:!0,...m,orientation:c,dir:y,loop:d,children:o.jsx(De.div,{role:"radiogroup","aria-required":a,"aria-orientation":c,"data-disabled":l?"":void 0,dir:y,...f,ref:e})})})});u9.displayName=db;var d9="RadioGroupItem",h9=p.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...s}=t,i=$ve(d9,n),a=i.disabled||r,l=l9(n),c=c9(n),u=p.useRef(null),d=Ke(e,u),h=i.value===s.value,f=p.useRef(!1);return p.useEffect(()=>{const m=v=>{Mve.includes(v.key)&&(f.current=!0)},y=()=>f.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",y),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",y)}},[]),o.jsx(HA,{asChild:!0,...l,focusable:!a,active:h,children:o.jsx(r9,{disabled:a,required:i.required,checked:h,...c,...s,name:i.name,ref:d,onCheck:()=>i.onValueChange(s.value),onKeyDown:xe(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:xe(s.onFocus,()=>{var m;f.current&&((m=u.current)==null||m.click())})})})});h9.displayName=d9;var Uve="RadioGroupIndicator",f9=p.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,s=c9(n);return o.jsx(i9,{...s,...r,ref:e})});f9.displayName=Uve;var m9=u9,p9=h9,Bve=f9;const g9=p.forwardRef(({className:t,...e},n)=>o.jsx(m9,{className:ve("grid gap-2",t),...e,ref:n}));g9.displayName=m9.displayName;const v9=p.forwardRef(({className:t,...e},n)=>o.jsx(p9,{ref:n,className:ve("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:o.jsx(Bve,{className:"flex items-center justify-center",children:o.jsx(V6,{className:"h-2.5 w-2.5 fill-current text-current"})})}));v9.displayName=p9.displayName;const y9=p.createContext(void 0),Vve=({children:t})=>{const e=La();return o.jsx(y9.Provider,{value:e,children:t})},rf=()=>{const t=p.useContext(y9);if(t===void 0)throw new Error("useGoogleBusinessProfileContext must be used within a GoogleBusinessProfileProvider");return t},NC=({isOpen:t,onClose:e,defaultPlanId:n="pro_6months"})=>{const[r,s]=p.useState(n),[i,a]=p.useState(1),[l,c]=p.useState(!1),[u,d]=p.useState(""),[h,f]=p.useState(null),[m,y]=p.useState(!1),[v,x]=p.useState(88.718),{Razorpay:b}=cb(),{currentUser:w}=Hn(),{subscription:j,checkSubscriptionStatus:N}=Dr(),{accounts:T,locations:I}=rf(),{toast:P}=ps(),E=Zt(),A="http://localhost:5000",S="rzp_live_RWwON57KV1LaJn",C=Yx.find(U=>U.id===r),O=(T==null?void 0:T.reduce((U,$)=>{var D;return U+(((D=$.locations)==null?void 0:D.length)||0)},0))||0;p.useEffect(()=>{r==="per_profile_yearly"&&O>0&&a(Math.max(1,O))},[r,O]),p.useEffect(()=>{t&&(async()=>{try{console.log("[PaymentModal] 🔄 Fetching live exchange rate...");const $=await fetch(`${A}/api/payment/detect-currency`);if($.ok){const L=(await $.json()).exchangeRate||88.718;x(L),console.log(`[PaymentModal] ✅ Live exchange rate: 1 USD = ${L} INR`)}else console.warn("[PaymentModal] ⚠️ Using fallback rate: 88.718 INR")}catch($){console.error("[PaymentModal] ❌ Error fetching exchange rate:",$),console.warn("[PaymentModal] ⚠️ Using fallback rate: 88.718 INR")}})()},[t,A]);const k=async()=>{if(!(!u||!C)){y(!0);try{const $=await(await fetch(`${A}/api/payment/coupon/validate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:u,amount:C.amount,userId:w==null?void 0:w.uid})})).json();$.success?(f($),P({title:"Coupon Applied!",description:`${$.description} - You save $${($.discountAmount/100).toFixed(2)}`})):(f(null),P({title:"Invalid Coupon",description:$.error,variant:"destructive"}))}catch(U){console.error("Error validating coupon:",U),P({title:"Error",description:"Failed to validate coupon",variant:"destructive"})}finally{y(!1)}}},B=()=>{const U=(C==null?void 0:C.amount)||0;return h&&h.success?h.finalAmount:U},G=async()=>{if(!w||!C){P({title:"Error",description:"Please select a plan and ensure you're logged in",variant:"destructive"});return}if(!b){P({title:"Error",description:"Payment system is not loaded. Please refresh the page and try again.",variant:"destructive"});return}c(!0);try{P({title:"Initializing Payment",description:"Please wait while we set up your payment..."});const U=C.amount,$="INR";console.log(`[Payment] 💰 Processing payment: ₹${U/100} (${$})`);let D,L=0;const W=3;for(;L<W;)try{if(D=await fetch(`${A}/api/payment/order`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:U,currency:$,couponCode:h!=null&&h.success?u:void 0,notes:{planId:C.id,userId:w.uid,email:w.email,gbpAccountId:j==null?void 0:j.gbpAccountId}})}),D.ok)break;throw new Error(`HTTP ${D.status}: ${D.statusText}`)}catch(ee){if(L++,console.warn(`Order creation attempt ${L} failed:`,ee),L>=W)throw new Error(`Failed to create order after ${W} attempts: ${ee.message}`);await new Promise(re=>setTimeout(re,1e3*L))}if(!D.ok){const ee=await D.text();throw new Error(`Failed to create order: ${ee}`)}const{order:J,finalAmount:V}=await D.json();if(!J||!J.id||!J.amount)throw new Error("Invalid order data received from server");const ue={key:S,amount:J.amount,currency:J.currency,name:"Google Ranker",description:C.name,order_id:J.id,timeout:300,retry:{enabled:!0,max_count:3},handler:async ee=>{try{if((await fetch(`${A}/api/payment/verify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({razorpay_order_id:ee.razorpay_order_id,razorpay_payment_id:ee.razorpay_payment_id,razorpay_signature:ee.razorpay_signature,subscriptionId:j==null?void 0:j.id,gbpAccountId:j==null?void 0:j.gbpAccountId,planId:C.id})})).ok)e(),sessionStorage.setItem("post_payment_reload","true"),setTimeout(async()=>{try{await N(),window.location.reload()}catch(be){console.error("Failed to refresh subscription status:",be),window.location.reload()}},2e3),E("/payment-success");else throw new Error("Payment verification failed")}catch(re){console.error("Payment handler error:",re),P({title:"Payment Error",description:"There was an issue processing your payment. Please try again.",variant:"destructive"}),c(!1)}},prefill:{name:w.displayName||"",email:w.email||"",contact:""},notes:{address:"Google Ranker Corporate Office"},theme:{color:"#1E2DCD",backdrop_color:"rgba(0, 0, 0, 0.5)"},config:{display:{blocks:{card:{name:"Credit/Debit Cards",instruments:[{method:"card",types:["credit","debit"],issuers:["VISA","MC","AMEX","RUPAY","MAES","BAJAJ"],flows:["3ds","ivr","otp","pin"]}]},paypal:{name:"PayPal",instruments:[{method:"paypal"}]},intl_bank_transfer:{name:"International Bank Transfer",instruments:[{method:"bank_transfer"}]},utib:{name:"UPI (India)",instruments:[{method:"upi"}]},banks:{name:"Net Banking (India)",instruments:[{method:"netbanking",banks:["HDFC","ICIC","SBIN","AXIS","YESB","KKBK","PUNB_R"]}]},wallet:{name:"Digital Wallets",instruments:[{method:"wallet",wallets:["paytm","mobikwik","phonepe","amazonpay","freecharge","jiomoney","paypal","airtelmoney","jiomoney"]}]},international:{name:"International Methods",instruments:[{method:"app",apps:["gpay_int","paypal","phonepe_switch"]}]}},sequence:["block.card","block.paypal","block.international","block.intl_bank_transfer","block.utib","block.banks","block.wallet"],preferences:{show_default_blocks:!0}}},modal:{ondismiss:()=>{c(!1),P({title:"Payment Cancelled",description:"Your payment was cancelled. You can try again when ready.",variant:"default"})},escape:!0,backdropclose:!1,handleback:!0,confirm_close:!0,animation:!0}};try{const ee=new b(ue);ee.on("payment.failed",function(re){console.error("Payment failed:",re.error),c(!1),P({title:"Payment Failed",description:re.error.description||"Your payment could not be processed. Please try again.",variant:"destructive"})}),e(),setTimeout(()=>{ee.open(),P({title:"Payment Gateway Loaded",description:"Choose your preferred payment method to continue."})},100)}catch(ee){throw console.error("Failed to initialize Razorpay:",ee),new Error("Failed to initialize payment gateway. Please refresh and try again.")}}catch(U){console.error("Payment error:",U);let $="There was an error processing your payment. Please try again.";U.message.includes("network")||U.message.includes("fetch")?$="Network error. Please check your internet connection and try again.":U.message.includes("order")?$="Failed to create payment order. Please try again.":U.message.includes("Razorpay")&&($="Payment gateway error. Please refresh the page and try again."),P({title:"Payment Failed",description:$,variant:"destructive"})}finally{c(!1)}};return o.jsx(pi,{open:t,onOpenChange:e,children:o.jsxs(Ls,{className:"max-w-3xl h-[90vh] p-0 flex flex-col",children:[o.jsxs(Fs,{className:"flex-shrink-0 bg-background z-20 px-6 pt-6 pb-4 border-b",children:[o.jsx($s,{children:"Upgrade to Premium"}),o.jsx(Us,{children:"Choose your subscription plan and unlock unlimited Google Business Profiles with premium features."})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4",style:{minHeight:0},children:[o.jsx(g9,{value:r,onValueChange:s,className:"space-y-4",children:Yx.map(U=>o.jsxs(q,{className:`cursor-pointer transition-all relative ${r===U.id?"border-primary ring-2 ring-primary ring-opacity-20":U.popular?"border-primary/50 hover:border-primary":"border-gray-200 hover:border-gray-300"}`,onClick:()=>s(U.id),children:[U.popular&&o.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 z-10",children:o.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white px-3 py-1 rounded-full text-xs font-bold shadow-lg",children:"MOST POPULAR"})}),o.jsx(me,{className:"pb-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(v9,{value:U.id}),o.jsxs("div",{children:[o.jsx(ge,{className:"text-lg",children:U.name}),o.jsxs(Je,{className:"mt-1",children:["₹",U.amount]})]})]}),U.id==="pro_yearly"&&o.jsx("div",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-md text-sm font-medium",children:"Best Value"})]})}),o.jsx(Q,{children:o.jsx("ul",{className:"space-y-2",children:U.features.map(($,D)=>o.jsxs("li",{className:"flex items-start space-x-2",children:[o.jsx(Ll,{className:"h-4 w-4 text-green-500 mt-0.5 flex-shrink-0"}),o.jsx("span",{className:"text-sm text-gray-600",children:$})]},D))})})]},U.id))}),o.jsxs("div",{className:"mt-6 space-y-4",children:[o.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(xZ,{className:"h-5 w-5 text-purple-600"}),o.jsx("p",{className:"text-sm font-medium text-purple-900",children:"Have a coupon code?"})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(tt,{placeholder:"Enter coupon code",value:u,onChange:U=>d(U.target.value.toUpperCase()),className:"flex-1",disabled:m}),o.jsx(Y,{onClick:k,disabled:!u||m||!C,variant:"outline",size:"sm",children:m?"Validating...":"Apply"})]}),h&&h.success&&o.jsx("div",{className:"bg-green-100 rounded-md p-2",children:o.jsxs("p",{className:"text-sm text-green-800",children:["✓ ",h.description," - You save $",(h.discountAmount/100).toFixed(2),"!"]})})]})}),o.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(Ui,{className:"h-5 w-5 text-blue-600 mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-blue-900 mb-2",children:"💳 Multiple Payment Options Available"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs text-blue-700",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("span",{children:"🏦"}),o.jsx("span",{children:"Net Banking"})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("span",{children:"📱"}),o.jsx("span",{children:"UPI (GPay, PhonePe, Paytm)"})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("span",{children:"💳"}),o.jsx("span",{children:"Credit/Debit Cards"})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("span",{children:"👝"}),o.jsx("span",{children:"Digital Wallets"})]})]}),o.jsx("p",{className:"text-sm text-blue-700 mt-2",children:"Your payment information is encrypted and secure. We support Cards, PayPal, UPI, Net Banking, and international payment methods via Razorpay."}),o.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"💡 All payments are processed securely in INR (Indian Rupees)"})]})]})}),o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(hw,{className:"h-5 w-5 text-green-600 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-green-900",children:"Instant Activation"}),o.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Your subscription will be activated immediately after payment confirmation."})]})]})})]})]}),o.jsx("div",{className:"flex-shrink-0 bg-background border-t px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{children:[h&&h.success?o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm text-gray-500 line-through",children:["₹",C==null?void 0:C.amount]}),o.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["₹",B()]})]}):o.jsxs("div",{children:[o.jsxs("p",{className:"text-2xl font-bold",children:["₹",B()]}),o.jsx("p",{className:"text-sm text-gray-600",children:C==null?void 0:C.name})]}),o.jsx("p",{className:"text-sm text-gray-500",children:"Plus applicable taxes"})]}),o.jsxs("div",{className:"flex gap-3 flex-shrink-0",children:[o.jsx(Y,{variant:"outline",onClick:e,disabled:l,className:"min-w-[100px]",children:"Cancel"}),o.jsx(Y,{onClick:G,disabled:l,className:"min-w-[160px] bg-primary hover:bg-primary/90",children:l?o.jsx(o.Fragment,{children:"Processing..."}):o.jsxs(o.Fragment,{children:[o.jsx(Gn,{className:"mr-2 h-4 w-4"}),"Proceed to Payment"]})})]})]})})]})})},zve=({message:t="Your 2-minute trial has expired",daysRemaining:e=0,isExpired:n=!0})=>{const r=Zt(),[s,i]=p.useState(!1);return o.jsxs("div",{className:"fixed inset-0 bg-background/95 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:[o.jsxs(q,{className:"max-w-2xl w-full",children:[o.jsxs(me,{className:"text-center pb-2",children:[o.jsx("div",{className:"mx-auto mb-4 h-12 w-12 rounded-full bg-red-100 flex items-center justify-center",children:n?o.jsx(sl,{className:"h-6 w-6 text-red-600"}):o.jsx(Ms,{className:"h-6 w-6 text-orange-600"})}),o.jsx(ge,{className:"text-2xl",children:n?"Trial Period Expired":"Trial Ending Soon"}),o.jsx(Je,{className:"mt-2 text-base",children:t})]}),o.jsxs(Q,{className:"space-y-6",children:[o.jsxs(lu,{className:n?"border-red-200 bg-red-50":"border-orange-200 bg-orange-50",children:[o.jsx(wZ,{className:`h-4 w-4 ${n?"text-red-600":"text-orange-600"}`}),o.jsx(cu,{className:n?"text-red-800":"text-orange-800",children:n?"Your access to all features has been restricted. Only the billing page is accessible until you upgrade.":`You have ${e} days remaining in your trial. Upgrade now to ensure uninterrupted access.`})]}),o.jsxs("div",{className:"rounded-lg border p-4 bg-muted/30",children:[o.jsx("h3",{className:"font-semibold mb-3",children:"Features Currently Locked:"}),o.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[o.jsxs("li",{className:"flex items-center",children:[o.jsx(sl,{className:"h-4 w-4 mr-2 text-red-500"}),"Auto-posting to Google Business Profile"]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx(sl,{className:"h-4 w-4 mr-2 text-red-500"}),"Automated review replies"]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx(sl,{className:"h-4 w-4 mr-2 text-red-500"}),"Performance analytics and insights"]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx(sl,{className:"h-4 w-4 mr-2 text-red-500"}),"Multiple location management"]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx(sl,{className:"h-4 w-4 mr-2 text-red-500"}),"Smart content generation"]})]})]}),o.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-green-900",children:"Unlock All Features"}),o.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Just $99 per profile/year"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-xs text-green-600",children:"Limited Time Offer"}),o.jsx("p",{className:"text-lg font-bold text-green-900",children:"Save 80%"}),o.jsx("p",{className:"text-xs text-green-600",children:"Regular price $499"})]})]})}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-2",children:[o.jsxs(Y,{onClick:()=>i(!0),className:"flex-1",size:"lg",children:[o.jsx(Gn,{className:"mr-2 h-4 w-4"}),"Upgrade Now"]}),!n&&o.jsx(Y,{onClick:()=>r("/dashboard/billing"),variant:"outline",className:"flex-1",size:"lg",children:"View Billing Details"})]}),o.jsxs("div",{className:"text-center text-sm text-muted-foreground pt-2 border-t",children:["Need help? Contact support at"," ",o.jsx("a",{href:"mailto:support@googleranker.com",className:"text-primary hover:underline",children:"support@googleranker.com"})]})]})]}),o.jsx(NC,{isOpen:s,onClose:()=>i(!1),defaultPlanId:"monthly_basic"})]})},Gve=({children:t})=>{const e=gs();Zt();const{isLoading:n,status:r,billingOnly:s,requiresPayment:i,canUsePlatform:a,daysRemaining:l,message:c}=Dr(),u=e.pathname.includes("/billing")||e.pathname.includes("/upgrade");return n?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx(hx,{className:"h-8 w-8 animate-spin text-primary"})}):u?o.jsx(o.Fragment,{children:t}):r==="expired"&&i||s===!0&&r!=="active"||a===!1&&r!=="active"?o.jsx(zve,{message:c||"Your trial has expired. Upgrade now to continue using all features.",daysRemaining:l||0,isExpired:!0}):o.jsx(o.Fragment,{children:t})},Wve=({children:t})=>{const e=gs();return["/dashboard/billing","/dashboard/upgrade","/billing","/upgrade"].some(s=>e.pathname.includes(s))?o.jsx(o.Fragment,{children:t}):o.jsx(Gve,{children:t})},x9=({isOpen:t,onClose:e,onSuccess:n})=>{const[r,s]=p.useState(!1),[i,a]=p.useState(null),[l,c]=p.useState(!1),{Razorpay:u}=cb(),{currentUser:d}=Hn(),{subscription:h}=Dr(),{toast:f}=ps(),m="http://localhost:5000",y="rzp_live_RWwON57KV1LaJn";p.useEffect(()=>{t&&(h!=null&&h.gbpAccountId||d!=null&&d.uid)&&v()},[t,h==null?void 0:h.gbpAccountId,d==null?void 0:d.uid]);const v=async()=>{if(!d)return;const b=(h==null?void 0:h.gbpAccountId)||d.uid;try{console.log("[MandateSetup] Checking mandate status for:",b);const w=await fetch(`${m}/api/payment/mandate/status/${b}`);if(w.ok){const j=await w.json();console.log("[MandateSetup] Mandate status:",j),c(j.mandateAuthorized||!1),a(j.razorpayCustomerId||null)}}catch(w){console.error("[MandateSetup] Error checking mandate status:",w)}},x=async()=>{if(console.log("[MandateSetup] Starting mandate setup...",{hasCurrentUser:!!d,hasSubscription:!!h,gbpAccountId:h==null?void 0:h.gbpAccountId}),!d){f({title:"Error",description:"Please log in first",variant:"destructive"});return}const b=(h==null?void 0:h.gbpAccountId)||d.uid;if(!u){f({title:"Error",description:"Payment system is not loaded. Please refresh the page.",variant:"destructive"});return}s(!0);try{let w=i;if(!w){f({title:"Setting up auto-payments",description:"Creating your payment profile..."}),console.log("[MandateSetup] Creating customer with data:",{userId:d.uid,email:d.email,gbpAccountId:b});const P=await fetch(`${m}/api/payment/mandate/setup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:d.uid,email:d.email,name:d.displayName||d.email,contact:d.phoneNumber||"",gbpAccountId:b})});if(!P.ok){const A=await P.json().catch(()=>({}));throw console.error("[MandateSetup] Setup failed:",A),new Error(A.details||A.error||"Failed to setup mandate")}const E=await P.json();if(console.log("[MandateSetup] Customer created:",E),E.alreadyAuthorized){console.log("[MandateSetup] ✅ Mandate already authorized, no action needed"),f({title:"Already Set Up",description:"Your payment method is already authorized. No action needed."}),s(!1),n();return}w=E.customerId,a(w)}f({title:"Payment Authorization",description:"Creating authorization request..."});const j=await fetch(`${m}/api/payment/mandate/create-auth-order`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customerId:w,amount:200,currency:"INR",userId:d.uid,gbpAccountId:b})});if(!j.ok){const P=await j.json().catch(()=>({}));throw console.error("[MandateSetup] Order creation failed:",P),new Error(P.details||P.error||"Failed to create authorization order")}const{order:N}=await j.json();console.log("[MandateSetup] Authorization order created:",N.id);const T={key:y,amount:N.amount,currency:N.currency,name:"Google Ranker",description:"Auto-payment setup - You will be charged ₹2 for authorization",order_id:N.id,recurring:"1",handler:async P=>{try{if(console.log("[MandateSetup] Payment successful, verifying..."),(await fetch(`${m}/api/payment/mandate/verify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({razorpay_order_id:P.razorpay_order_id,razorpay_payment_id:P.razorpay_payment_id,razorpay_signature:P.razorpay_signature,customerId:w,gbpAccountId:b})})).ok)c(!0),f({title:"Success!",description:"Auto-payment has been set up successfully"}),n&&n(),setTimeout(()=>e(),2e3);else throw new Error("Mandate verification failed")}catch(E){console.error("Mandate verification error:",E),f({title:"Verification Error",description:"Failed to verify mandate authorization. Please try again.",variant:"destructive"})}finally{s(!1)}},prefill:{name:d.displayName||"",email:d.email||"",contact:d.phoneNumber||""},notes:{purpose:"mandate_authorization"},theme:{color:"#1E2DCD"},modal:{ondismiss:()=>{s(!1),f({title:"Authorization Cancelled",description:"You can set up auto-payment later from billing settings."})}}},I=new u(T);I.on("payment.failed",P=>{console.error("Payment failed:",P.error),s(!1),f({title:"Authorization Failed",description:P.error.description||"Unable to authorize payment method",variant:"destructive"})}),I.open()}catch(w){console.error("Mandate setup error:",w),f({title:"Setup Error",description:"Failed to set up auto-payment. Please try again.",variant:"destructive"}),s(!1)}};return l?o.jsx(pi,{open:t,onOpenChange:e,children:o.jsxs(Ls,{className:"sm:max-w-md",children:[o.jsxs(Fs,{children:[o.jsx("div",{className:"mx-auto mb-4 h-12 w-12 rounded-full bg-green-100 flex items-center justify-center",children:o.jsx(on,{className:"h-6 w-6 text-green-600"})}),o.jsx($s,{className:"text-center",children:"Auto-Payment Active"}),o.jsx(Us,{className:"text-center",children:"Your auto-payment is already set up and active"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs(lu,{className:"bg-green-50 border-green-200",children:[o.jsx(Fl,{className:"h-4 w-4 text-green-600"}),o.jsx(cu,{className:"text-green-800",children:"We'll automatically charge your payment method when your subscription renews."})]}),o.jsx(Y,{onClick:e,className:"w-full",children:"Close"})]})]})}):o.jsx(pi,{open:t,onOpenChange:()=>{},children:o.jsxs(Ls,{className:"sm:max-w-md",onPointerDownOutside:b=>b.preventDefault(),onEscapeKeyDown:b=>b.preventDefault(),children:[o.jsxs(Fs,{children:[o.jsx("div",{className:"mx-auto mb-4 h-12 w-12 rounded-full bg-blue-100 flex items-center justify-center",children:o.jsx(Ui,{className:"h-6 w-6 text-blue-600"})}),o.jsx($s,{className:"text-center",children:"Authorize Payment to Start Trial"}),o.jsx(Us,{className:"text-center",children:"Set up payment method to activate your free trial. You won't be charged until the trial ends."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs(q,{children:[o.jsx(me,{children:o.jsx(ge,{className:"text-sm",children:"What Happens Next?"})}),o.jsxs(Q,{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(on,{className:"h-4 w-4 text-green-500 mt-0.5"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Step 1:"})," Authorize payment method (₹2 charge, refunded in 5-7 days)"]})]}),o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(on,{className:"h-4 w-4 text-green-500 mt-0.5"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Step 2:"})," Free trial starts immediately"]})]}),o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(on,{className:"h-4 w-4 text-green-500 mt-0.5"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Step 3:"})," Access all premium features during trial"]})]}),o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(on,{className:"h-4 w-4 text-green-500 mt-0.5"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Step 4:"})," Automatic billing after trial ends (cancel anytime)"]})]})]})]}),o.jsxs(lu,{className:"bg-blue-50 border-blue-200",children:[o.jsx(Fl,{className:"h-4 w-4 text-blue-600"}),o.jsx(cu,{className:"text-blue-800 text-sm",children:"You'll be charged ₹2 to authorize your payment method. This amount will be refunded within 5-7 business days."})]}),o.jsxs("div",{className:"flex items-center justify-center space-x-2 text-xs text-muted-foreground",children:[o.jsx(Ui,{className:"h-4 w-4"}),o.jsx("span",{children:"Secured by Razorpay | PCI DSS Compliant"})]}),o.jsx("div",{className:"flex flex-col space-y-2",children:o.jsx(Y,{onClick:x,disabled:r,className:"w-full",children:r?o.jsxs(o.Fragment,{children:[o.jsx(hx,{className:"mr-2 h-4 w-4 animate-spin"}),"Setting up..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Gn,{className:"mr-2 h-4 w-4"}),"Authorize Payment Method & Start Trial"]})})}),o.jsxs(lu,{className:"bg-amber-50 border-amber-200",children:[o.jsx(Fl,{className:"h-4 w-4 text-amber-600"}),o.jsxs(cu,{className:"text-amber-800 text-xs",children:[o.jsx("strong",{children:"Payment authorization is required"})," to start your free trial. You won't be charged until the trial ends."]})]})]})]})})},Hve=()=>{const[t,e]=p.useState(!1),[n,r]=p.useState(!1),[s,i]=p.useState(!1);return Dr(),gs(),p.useEffect(()=>{console.log("[Mandate Check] Skipping mandatory mandate - will be triggered after trial ends"),i(!0)},[]),o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("div",{className:"flex",children:[o.jsx(Whe,{isOpen:t,onClose:()=>e(!1)}),t&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 lg:hidden",onClick:()=>e(!1)}),o.jsxs("div",{className:"flex-1 flex flex-col ml-0 lg:ml-64",children:[o.jsx(cve,{onMenuClick:()=>e(!0)}),o.jsx("main",{className:"flex-1 p-1 sm:p-4 md:p-6 bg-muted/30",children:o.jsx("div",{className:"animate-fade-in",children:o.jsx(Wve,{children:o.jsx(YF,{})})})})]})]}),o.jsx(x9,{isOpen:n,onClose:()=>r(!1),onSuccess:()=>{r(!1)}})]})},sf=()=>{const{subscription:t,status:e}=Dr();rf();const n=(t==null?void 0:t.planId)==="per_profile_yearly",r=(t==null?void 0:t.planId)==="yearly_pro",s=(t==null?void 0:t.status)==="trial",i=n&&(t==null?void 0:t.profileCount)||1,a=i>1,l=p.useCallback(y=>i>=y.length?y:y.slice(0,i),[i]),c=p.useCallback(y=>y<i,[i]),u=p.useCallback(y=>i>=y.length?y:y.slice(0,i),[i]),d=p.useCallback(y=>y<i,[i]),h=p.useCallback(y=>y<=i?"":s?`You have ${y} Google Business accounts. Your Free Trial allows access to 1 account only. Upgrade to access more profiles.`:n?`You have ${y} accounts but your plan covers ${i} profile${i>1?"s":""}. Upgrade your plan to access more profiles at $99/profile/year.`:r?`You have ${y} Google Business accounts. Your current plan allows access to 1 account only. Upgrade to access more profiles.`:`Your current plan allows access to ${i} account${i>1?"s":""} only.`,[i,s,n,r]),f=p.useCallback(y=>y<=i?"":s?`This account has ${y} locations. Your Free Trial allows access to 1 location only. Upgrade to access more profiles.`:n?`You have ${y} locations but your plan covers ${i} profile${i>1?"s":""}. Upgrade your plan to access more profiles at $99/profile/year.`:r?`This account has ${y} locations. Your current plan allows access to 1 location only. Upgrade to access more profiles.`:`Your current plan allows access to ${i} location${i>1?"s":""} only.`,[i,s,n,r]),m=p.useCallback((y="Support Request")=>{const v=encodeURIComponent(`Support Request - ${y}`),x=encodeURIComponent(`Hi,

I need assistance with my GMB Profile Pulse account.

Current plan: ${(t==null?void 0:t.planName)||"Free Trial"}
Current profile count: ${(t==null?void 0:t.profileCount)||1}
Context: ${y}

Please contact me to discuss.

Best regards,`);window.open(`mailto:support@gmbprofilepulse.com?subject=${v}&body=${x}`,"_blank")},[t==null?void 0:t.planName,t==null?void 0:t.profileCount]);return{canAccessMultipleProfiles:a,isProPlan:r,isPerProfilePlan:n,maxAllowedProfiles:i,getAccessibleAccounts:l,isAccountAccessible:c,getAccessibleLocations:u,isLocationAccessible:d,getAccountLockMessage:h,getLocationLockMessage:f,handleContactSupport:m}},ug=we.forwardRef(({className:t,size:e="md",variant:n="default",...r},s)=>{const i={sm:"h-4 w-4 border-2",md:"h-6 w-6 border-2",lg:"h-8 w-8 border-2",xl:"h-12 w-12 border-3"},a={default:"border-muted-foreground border-t-transparent",primary:"border-primary border-t-transparent",secondary:"border-secondary border-t-transparent"};return o.jsx("div",{ref:s,className:ve("animate-spin rounded-full",i[e],a[n],t),...r})});ug.displayName="LoadingSpinner";var SC="Progress",_C=100,[Kve,a4e]=nr(SC),[qve,Yve]=Kve(SC),w9=p.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=Qve,...a}=t;(s||s===0)&&!BD(s)&&console.error(Xve(`${s}`,"Progress"));const l=BD(s)?s:_C;r!==null&&!VD(r,l)&&console.error(Jve(`${r}`,"Progress"));const c=VD(r,l)?r:null,u=Xx(c)?i(c,l):void 0;return o.jsx(qve,{scope:n,value:c,max:l,children:o.jsx(De.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Xx(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":N9(c,l),"data-value":c??void 0,"data-max":l,...a,ref:e})})});w9.displayName=SC;var b9="ProgressIndicator",j9=p.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=Yve(b9,n);return o.jsx(De.div,{"data-state":N9(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});j9.displayName=b9;function Qve(t,e){return`${Math.round(t/e*100)}%`}function N9(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Xx(t){return typeof t=="number"}function BD(t){return Xx(t)&&!isNaN(t)&&t>0}function VD(t,e){return Xx(t)&&!isNaN(t)&&t<=e&&t>=0}function Xve(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${_C}\`.`}function Jve(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${_C} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var S9=w9,Zve=j9;const Jx=p.forwardRef(({className:t,value:e,...n},r)=>o.jsx(S9,{ref:r,className:ve("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:o.jsx(Zve,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Jx.displayName=S9.displayName;const eye=()=>{const{status:t,daysRemaining:e,isLoading:n}=Dr(),[r,s]=p.useState(!1),i=Zt();if(n||r||t!=="trial"&&t!=="expired")return null;const a=e?(15-e)/15*100:100,c=t==="expired"?{bgColor:"bg-red-950/40 border-red-500/30",textColor:"text-red-200",iconColor:"text-red-400",progressColor:"bg-red-500",buttonVariant:"destructive"}:e&&e<=3?{bgColor:"bg-orange-950/40 border-orange-500/30",textColor:"text-orange-200",iconColor:"text-orange-400",progressColor:"bg-orange-500",buttonVariant:"default"}:{bgColor:"bg-blue-950/40 border-blue-500/30",textColor:"text-blue-200",iconColor:"text-blue-400",progressColor:"bg-blue-500",buttonVariant:"default"};return o.jsx("div",{className:`relative border-2 ${c.bgColor} p-4 z-[70] rounded-lg shadow-md backdrop-blur-sm`,children:o.jsx("div",{className:"max-w-7xl mx-auto",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[t==="expired"?o.jsx(pr,{className:`h-5 w-5 ${c.iconColor}`}):o.jsx(Ms,{className:`h-5 w-5 ${c.iconColor}`}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:`font-semibold ${c.textColor}`,children:t==="expired"?"Trial Expired":`Free Trial: ${e} days remaining`}),t==="trial"&&e&&o.jsxs("span",{className:`text-sm ${c.textColor} opacity-75`,children:["(",Math.round(a),"% complete)"]})]}),t==="trial"&&o.jsx("div",{className:"mt-2 max-w-md",children:o.jsx(Jx,{value:a,className:"h-1.5",style:{backgroundColor:"rgba(0,0,0,0.1)"}})}),o.jsx("p",{className:`text-sm mt-1 ${c.textColor} opacity-90`,children:t==="expired"?"Upgrade now to continue using all features without interruption.":e&&e<=3?"Your trial is ending soon. Upgrade now to avoid service interruption.":"Enjoy unlimited access to all features during your trial period."})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(Y,{variant:c.buttonVariant,size:"sm",onClick:()=>i("/dashboard/billing"),className:"flex items-center space-x-1",children:[o.jsx(Gn,{className:"h-4 w-4"}),o.jsx("span",{children:"Upgrade Now"})]}),t==="trial"&&o.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>s(!0),className:"p-1",children:o.jsx(Yi,{className:"h-4 w-4"})})]})]})})})},tye=()=>{var m,y;const t=Zt(),{isConnected:e,accounts:n,isLoading:r}=La(),s=Dr(),{getAccessibleAccounts:i}=sf(),[a,l]=p.useState(!1),c=(s==null?void 0:s.status)||"none",u=(s==null?void 0:s.daysRemaining)||null,d=(s==null?void 0:s.isFeatureBlocked)||!1;if(console.log("Dashboard: isConnected =",e),console.log("Dashboard: profiles =",n),console.log("Dashboard: isLoading =",r),console.log("Dashboard: subscriptionStatus =",c),console.log("Dashboard: daysRemaining =",u),r)return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex items-center justify-center px-4",children:o.jsx("img",{src:"/Upgrade plan banner 11.svg",alt:"Upgrade Plan Banner",className:"w-full max-w-4xl h-auto"})}),o.jsxs("div",{className:"flex flex-col items-center justify-center py-16 space-y-4",children:[o.jsx(ug,{size:"xl",variant:"primary"}),o.jsxs("div",{className:"text-center space-y-2",children:[o.jsx("h3",{className:"font-medium text-xl",children:"Loading Business Profiles..."}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Connecting to Google Business Profile and fetching your locations"})]})]}),o.jsx("div",{className:"grid gap-3 sm:gap-4 grid-cols-2 lg:grid-cols-4",children:[1,2,3,4].map(v=>o.jsxs(q,{children:[o.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx("div",{className:"h-4 bg-muted rounded animate-pulse w-20"}),o.jsx("div",{className:"h-4 w-4 bg-muted rounded animate-pulse"})]}),o.jsxs(Q,{children:[o.jsx("div",{className:"h-8 bg-muted rounded animate-pulse w-16 mb-2"}),o.jsx("div",{className:"h-3 bg-muted rounded animate-pulse w-24"})]})]},v))})]});if(!e)return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex items-center justify-center px-4",children:o.jsx("img",{src:"/Upgrade plan banner 11.svg",alt:"Upgrade Plan Banner",className:"w-full max-w-4xl h-auto"})}),o.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] text-center",children:[o.jsx(Ml,{className:"h-16 w-16 text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Business Profiles Connected"}),o.jsx("p",{className:"text-muted-foreground mb-6 max-w-md",children:"Connect your Google Business Profile to start managing your business listings, posts, and reviews."}),o.jsx(vt,{to:"/dashboard/settings",children:o.jsxs(Y,{children:[o.jsx(Rd,{className:"mr-2 h-4 w-4"}),"Connect Google Business Profile"]})})]})]});const h=(n==null?void 0:n.length)||0,f=h;return o.jsxs(o.Fragment,{children:[(c==="trial"||c==="expired")&&o.jsx("div",{className:"-mx-6 mb-6",children:o.jsx(eye,{})}),o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex items-center justify-center px-4",children:o.jsx("img",{src:"/Upgrade plan banner 11.svg",alt:"Upgrade Plan Banner",className:"w-full max-w-4xl h-auto"})}),o.jsxs("div",{className:"flex justify-between items-center gap-2",children:[o.jsx("div",{className:"flex justify-start",children:o.jsx("h2",{className:"text-base sm:text-lg font-semibold truncate",style:{fontFamily:"Onest"},children:"Manage Profiles"})}),o.jsx("div",{className:"flex justify-end flex-shrink-0",children:o.jsx(vt,{to:"/dashboard/posts",children:o.jsxs(Y,{size:"sm",className:"text-xs sm:text-sm px-2 sm:px-4",children:[o.jsx(Yl,{className:"mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Create Post"}),o.jsx("span",{className:"sm:hidden",children:"Post"})]})})})]}),d||c==="none"?o.jsx("div",{className:"flex flex-col items-center justify-center min-h-[500px] text-center space-y-6",children:o.jsxs("div",{className:"bg-red-950/30 border-2 border-red-500/50 rounded-2xl p-8 max-w-2xl w-full backdrop-blur-sm",children:[o.jsx(pr,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-2xl font-bold text-red-400 mb-3",children:c==="none"?"No Subscription - Upgrade Required":"Trial Expired - Upgrade Required"}),o.jsx("p",{className:"text-red-300/90 mb-6 text-lg",children:c==="none"?"You need an active subscription to access this feature. Start your 15-day free trial or upgrade now to manage your Google Business Profiles.":"Your 15-day trial has expired. Upgrade now to continue managing your Google Business Profiles and access all premium features."}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs(Y,{onClick:()=>l(!0),className:"bg-red-600 hover:bg-red-700 text-white px-8 py-6 text-lg w-full",size:"lg",children:[o.jsx(Gn,{className:"mr-2 h-5 w-5"}),c==="none"?"Start Free Trial":"Upgrade Now"]}),o.jsx("p",{className:"text-sm text-red-400/80",children:"Starting from ₹1,099/month • Unlimited Profiles • All Features"})]})]})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid gap-3 sm:gap-4 grid-cols-2 lg:grid-cols-4",children:[o.jsxs(q,{className:"border-2 border-border/60 shadow-sm",children:[o.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ge,{className:"text-sm font-medium",children:"Total Profiles"}),o.jsx(ci,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Q,{children:[o.jsx("div",{className:"text-2xl font-bold",children:h}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Connected business accounts"})]})]}),o.jsxs(q,{className:"border-2 border-border/60 shadow-sm",children:[o.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ge,{className:"text-sm font-medium",children:"Locations"}),o.jsx(ks,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Q,{children:[o.jsx("div",{className:"text-2xl font-bold",children:f}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Business locations"})]})]}),o.jsxs(q,{className:"border-2 border-border/60 shadow-sm",children:[o.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ge,{className:"text-sm font-medium",children:"Avg Rating"}),o.jsx(ai,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Q,{children:[o.jsx("div",{className:"text-2xl font-bold",children:"4.8"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all locations"})]})]}),o.jsxs(q,{className:"border-2 border-border/60 shadow-sm",children:[o.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ge,{className:"text-sm font-medium",children:"Last Sync"}),o.jsx(Ds,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Q,{children:[o.jsx("div",{className:"text-2xl font-bold",children:"Now"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Real-time updates"})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx("h2",{className:"text-lg sm:text-xl font-semibold truncate",children:"Your Business Profiles"}),o.jsx(vt,{to:"/dashboard/settings",className:"flex-shrink-0",children:o.jsxs(Y,{variant:"outline",size:"sm",className:"text-xs sm:text-sm px-2 sm:px-3",children:[o.jsx(Rd,{className:"mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Manage Connections"}),o.jsx("span",{className:"sm:hidden",children:"Manage"})]})})]}),n&&n.length>0?o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"grid gap-3 sm:gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:i(n).map((v,x)=>{var j,N,T;const b=v.locations[0],w=b.locationId||((j=b.name)==null?void 0:j.split("/").pop())||x;return o.jsxs("div",{className:"glass-card rounded-lg p-3 sm:p-4 cursor-pointer transition-all duration-300 flex flex-col h-full border-2 border-primary/30 hover:border-primary/60 hover:shadow-glow glow-hover shadow-sm",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h3",{className:"text-sm sm:text-base font-semibold text-foreground truncate flex-1 mr-2",style:{fontSize:"clamp(14px, 2.5vw, 16px)",fontFamily:"Onest"},title:v.accountName,children:v.accountName}),v.state==="VERIFIED"&&o.jsx("div",{className:"w-4 h-4 flex items-center justify-center flex-shrink-0",children:o.jsx("img",{src:"/Vector.svg",alt:"Verified",className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex items-center mb-3",children:[o.jsx(ks,{className:"h-4 w-4 text-muted-foreground mr-2"}),o.jsxs("span",{className:"text-xs sm:text-sm text-foreground truncate",style:{fontSize:"clamp(12px, 2vw, 14px)",fontFamily:"Onest"},children:[((N=b.address)==null?void 0:N.locality)||"Location"," ",((T=b.address)==null?void 0:T.administrativeArea)&&`, ${b.address.administrativeArea}`]})]}),b.categories&&b.categories.length>0&&o.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[b.categories.slice(0,2).map((I,P)=>o.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 rounded-full text-xs border border-blue-100",style:{fontFamily:"Onest"},children:I.name},P)),b.categories.length>2&&o.jsxs("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 rounded-full text-xs border border-blue-100",style:{fontFamily:"Onest"},children:["+",b.categories.length-2," more"]})]})]}),o.jsx("div",{className:"mt-4",children:o.jsx(vt,{to:`/dashboard/profiles/${w}`,className:"block",children:o.jsx("button",{className:"w-full py-2 px-3 sm:px-4 rounded-lg text-white font-medium transition-all hover:opacity-90 bg-primary hover:bg-primary-hover",style:{fontSize:"clamp(12px, 2vw, 14px)",fontFamily:"Onest"},children:"Manage Profile"})})})]},x)})}),n&&n.length>1&&i(n).length<n.length&&o.jsx(q,{className:"border-orange-200 bg-orange-50",children:o.jsx(Q,{className:"p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"h-10 w-10 bg-orange-100 rounded-lg flex items-center justify-center",children:o.jsx(Ml,{className:"h-5 w-5 text-orange-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-orange-900 mb-1",children:"Additional Profiles Available"}),o.jsxs("p",{className:"text-sm text-orange-800 mb-3",children:["You have ",n.length," Google Business accounts, but can only access ",i(n).length," with your current plan."]}),o.jsxs(Y,{size:"sm",variant:"outline",onClick:()=>t("/dashboard/billing"),className:"border-orange-300 text-orange-700 hover:bg-orange-100",children:[o.jsx(Gn,{className:"h-4 w-4 mr-2"}),"Upgrade to Access All Profiles"]})]})]})})}),((y=(m=n[0])==null?void 0:m.name)==null?void 0:y.includes("demo"))&&o.jsx(q,{className:"border-blue-200 bg-blue-50",children:o.jsx(Q,{className:"p-4",children:o.jsxs("div",{className:"flex items-center space-x-2 text-blue-800",children:[o.jsx(pr,{className:"h-4 w-4"}),o.jsxs("p",{className:"text-sm",children:[o.jsx("strong",{children:"Demo Mode:"})," Showing sample data because Google API calls are CORS-blocked in frontend-only mode. A backend would be needed for real Google Business Profile data."]})]})})})]}):o.jsx(q,{children:o.jsxs(Q,{className:"flex flex-col items-center justify-center py-12",children:[o.jsx(Ml,{className:"h-12 w-12 text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No profiles loaded"}),o.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"Your Google Business Profiles will appear here once loaded."}),o.jsx(vt,{to:"/dashboard/settings",children:o.jsxs(Y,{children:[o.jsx(Rd,{className:"mr-2 h-4 w-4"}),"Check Connection"]})})]})})]})]})]}),o.jsx(NC,{isOpen:a,onClose:()=>l(!1)})]})};var hb="Tabs",[nye,l4e]=nr(hb,[tf]),_9=tf(),[rye,EC]=nye(hb),E9=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=ef(l),[h,f]=zi({prop:r,onChange:s,defaultProp:i??"",caller:hb});return o.jsx(rye,{scope:n,baseId:ui(),value:h,onValueChange:f,orientation:a,dir:d,activationMode:c,children:o.jsx(De.div,{dir:d,"data-orientation":a,...u,ref:e})})});E9.displayName=hb;var P9="TabsList",A9=p.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=EC(P9,n),a=_9(n);return o.jsx(WA,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:r,children:o.jsx(De.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});A9.displayName=P9;var C9="TabsTrigger",T9=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,a=EC(C9,n),l=_9(n),c=R9(a.baseId,r),u=O9(a.baseId,r),d=r===a.value;return o.jsx(HA,{asChild:!0,...l,focusable:!s,active:d,children:o.jsx(De.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:xe(t.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?a.onValueChange(r):h.preventDefault()}),onKeyDown:xe(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&a.onValueChange(r)}),onFocus:xe(t.onFocus,()=>{const h=a.activationMode!=="manual";!d&&!s&&h&&a.onValueChange(r)})})})});T9.displayName=C9;var k9="TabsContent",I9=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...a}=t,l=EC(k9,n),c=R9(l.baseId,r),u=O9(l.baseId,r),d=r===l.value,h=p.useRef(d);return p.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),o.jsx(rr,{present:s||d,children:({present:f})=>o.jsx(De.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});I9.displayName=k9;function R9(t,e){return`${t}-trigger-${e}`}function O9(t,e){return`${t}-content-${e}`}var sye=E9,D9=A9,M9=T9,L9=I9;const qu=sye,yc=p.forwardRef(({className:t,...e},n)=>o.jsx(D9,{ref:n,className:ve("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));yc.displayName=D9.displayName;const dn=p.forwardRef(({className:t,...e},n)=>o.jsx(M9,{ref:n,className:ve("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));dn.displayName=M9.displayName;const hn=p.forwardRef(({className:t,...e},n)=>o.jsx(L9,{ref:n,className:ve("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));hn.displayName=L9.displayName;var fb="Switch",[iye,c4e]=nr(fb),[oye,aye]=iye(fb),F9=p.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:a,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=t,[f,m]=p.useState(null),y=Ke(e,j=>m(j)),v=p.useRef(!1),x=f?d||!!f.closest("form"):!0,[b,w]=zi({prop:s,defaultProp:i??!1,onChange:u,caller:fb});return o.jsxs(oye,{scope:n,checked:b,disabled:l,children:[o.jsx(De.button,{type:"button",role:"switch","aria-checked":b,"aria-required":a,"data-state":V9(b),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:y,onClick:xe(t.onClick,j=>{w(N=>!N),x&&(v.current=j.isPropagationStopped(),v.current||j.stopPropagation())})}),x&&o.jsx(B9,{control:f,bubbles:!v.current,name:r,value:c,checked:b,required:a,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});F9.displayName=fb;var $9="SwitchThumb",U9=p.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=aye($9,n);return o.jsx(De.span,{"data-state":V9(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});U9.displayName=$9;var lye="SwitchBubbleInput",B9=p.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const a=p.useRef(null),l=Ke(a,i),c=bC(n),u=RP(e);return p.useEffect(()=>{const d=a.current;if(!d)return;const h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==n&&m){const y=new Event("click",{bubbles:r});m.call(d,n),d.dispatchEvent(y)}},[c,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});B9.displayName=lye;function V9(t){return t?"checked":"unchecked"}var z9=F9,cye=U9;const bs=p.forwardRef(({className:t,...e},n)=>o.jsx(z9,{className:ve("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:o.jsx(cye,{className:ve("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));bs.displayName=z9.displayName;var uye=[" ","Enter","ArrowUp","ArrowDown"],dye=[" ","Enter"],ku="Select",[mb,pb,hye]=aw(ku),[of,u4e]=nr(ku,[hye,hc]),gb=hc(),[fye,xc]=of(ku),[mye,pye]=of(ku),G9=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:a,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:f,required:m,form:y}=t,v=gb(e),[x,b]=p.useState(null),[w,j]=p.useState(null),[N,T]=p.useState(!1),I=ef(u),[P,E]=zi({prop:r,defaultProp:s??!1,onChange:i,caller:ku}),[A,S]=zi({prop:a,defaultProp:l,onChange:c,caller:ku}),C=p.useRef(null),O=x?y||!!x.closest("form"):!0,[k,B]=p.useState(new Set),G=Array.from(k).map(U=>U.props.value).join(";");return o.jsx(gw,{...v,children:o.jsxs(fye,{required:m,scope:e,trigger:x,onTriggerChange:b,valueNode:w,onValueNodeChange:j,valueNodeHasChildren:N,onValueNodeHasChildrenChange:T,contentId:ui(),value:A,onValueChange:S,open:P,onOpenChange:E,dir:I,triggerPointerDownPosRef:C,disabled:f,children:[o.jsx(mb.Provider,{scope:e,children:o.jsx(mye,{scope:t.__scopeSelect,onNativeOptionAdd:p.useCallback(U=>{B($=>new Set($).add(U))},[]),onNativeOptionRemove:p.useCallback(U=>{B($=>{const D=new Set($);return D.delete(U),D})},[]),children:n})}),O?o.jsxs(pz,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:h,value:A,onChange:U=>S(U.target.value),disabled:f,form:y,children:[A===void 0?o.jsx("option",{value:""}):null,Array.from(k)]},G):null]})})};G9.displayName=ku;var W9="SelectTrigger",H9=p.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=gb(n),a=xc(W9,n),l=a.disabled||r,c=Ke(e,a.onTriggerChange),u=pb(n),d=p.useRef("touch"),[h,f,m]=vz(v=>{const x=u().filter(j=>!j.disabled),b=x.find(j=>j.value===a.value),w=yz(x,v,b);w!==void 0&&a.onValueChange(w.value)}),y=v=>{l||(a.onOpenChange(!0),m()),v&&(a.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return o.jsx(Up,{asChild:!0,...i,children:o.jsx(De.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":gz(a.value)?"":void 0,...s,ref:c,onClick:xe(s.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&y(v)}),onPointerDown:xe(s.onPointerDown,v=>{d.current=v.pointerType;const x=v.target;x.hasPointerCapture(v.pointerId)&&x.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(y(v),v.preventDefault())}),onKeyDown:xe(s.onKeyDown,v=>{const x=h.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&f(v.key),!(x&&v.key===" ")&&uye.includes(v.key)&&(y(),v.preventDefault())})})})});H9.displayName=W9;var K9="SelectValue",q9=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:a="",...l}=t,c=xc(K9,n),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,h=Ke(e,c.onValueNodeChange);return kn(()=>{u(d)},[u,d]),o.jsx(De.span,{...l,ref:h,style:{pointerEvents:"none"},children:gz(c.value)?o.jsx(o.Fragment,{children:a}):i})});q9.displayName=K9;var gye="SelectIcon",Y9=p.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return o.jsx(De.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});Y9.displayName=gye;var vye="SelectPortal",Q9=t=>o.jsx(Bh,{asChild:!0,...t});Q9.displayName=vye;var Iu="SelectContent",X9=p.forwardRef((t,e)=>{const n=xc(Iu,t.__scopeSelect),[r,s]=p.useState();if(kn(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Oa.createPortal(o.jsx(J9,{scope:t.__scopeSelect,children:o.jsx(mb.Slot,{scope:t.__scopeSelect,children:o.jsx("div",{children:t.children})})}),i):null}return o.jsx(Z9,{...t,ref:e})});X9.displayName=Iu;var _i=10,[J9,wc]=of(Iu),yye="SelectContentImpl",xye=ql("SelectContent.RemoveScroll"),Z9=p.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:y,hideWhenDetached:v,avoidCollisions:x,...b}=t,w=xc(Iu,n),[j,N]=p.useState(null),[T,I]=p.useState(null),P=Ke(e,se=>N(se)),[E,A]=p.useState(null),[S,C]=p.useState(null),O=pb(n),[k,B]=p.useState(!1),G=p.useRef(!1);p.useEffect(()=>{if(j)return Jw(j)},[j]),Xw();const U=p.useCallback(se=>{const[Ue,...ae]=O().map(F=>F.ref.current),[z]=ae.slice(-1),H=document.activeElement;for(const F of se)if(F===H||(F==null||F.scrollIntoView({block:"nearest"}),F===Ue&&T&&(T.scrollTop=0),F===z&&T&&(T.scrollTop=T.scrollHeight),F==null||F.focus(),document.activeElement!==H))return},[O,T]),$=p.useCallback(()=>U([E,j]),[U,E,j]);p.useEffect(()=>{k&&$()},[k,$]);const{onOpenChange:D,triggerPointerDownPosRef:L}=w;p.useEffect(()=>{if(j){let se={x:0,y:0};const Ue=z=>{var H,F;se={x:Math.abs(Math.round(z.pageX)-(((H=L.current)==null?void 0:H.x)??0)),y:Math.abs(Math.round(z.pageY)-(((F=L.current)==null?void 0:F.y)??0))}},ae=z=>{se.x<=10&&se.y<=10?z.preventDefault():j.contains(z.target)||D(!1),document.removeEventListener("pointermove",Ue),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",Ue),document.addEventListener("pointerup",ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ue),document.removeEventListener("pointerup",ae,{capture:!0})}}},[j,D,L]),p.useEffect(()=>{const se=()=>D(!1);return window.addEventListener("blur",se),window.addEventListener("resize",se),()=>{window.removeEventListener("blur",se),window.removeEventListener("resize",se)}},[D]);const[W,J]=vz(se=>{const Ue=O().filter(H=>!H.disabled),ae=Ue.find(H=>H.ref.current===document.activeElement),z=yz(Ue,se,ae);z&&setTimeout(()=>z.ref.current.focus())}),V=p.useCallback((se,Ue,ae)=>{const z=!G.current&&!ae;(w.value!==void 0&&w.value===Ue||z)&&(A(se),z&&(G.current=!0))},[w.value]),ue=p.useCallback(()=>j==null?void 0:j.focus(),[j]),ee=p.useCallback((se,Ue,ae)=>{const z=!G.current&&!ae;(w.value!==void 0&&w.value===Ue||z)&&C(se)},[w.value]),re=r==="popper"?y_:ez,be=re===y_?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:y,hideWhenDetached:v,avoidCollisions:x}:{};return o.jsx(J9,{scope:n,content:j,viewport:T,onViewportChange:I,itemRefCallback:V,selectedItem:E,onItemLeave:ue,itemTextRefCallback:ee,focusSelectedItem:$,selectedItemText:S,position:r,isPositioned:k,searchRef:W,children:o.jsx(sg,{as:xye,allowPinchZoom:!0,children:o.jsx(ng,{asChild:!0,trapped:w.open,onMountAutoFocus:se=>{se.preventDefault()},onUnmountAutoFocus:xe(s,se=>{var Ue;(Ue=w.trigger)==null||Ue.focus({preventScroll:!0}),se.preventDefault()}),children:o.jsx(Vu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:se=>se.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:o.jsx(re,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:se=>se.preventDefault(),...b,...be,onPlaced:()=>B(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:xe(b.onKeyDown,se=>{const Ue=se.ctrlKey||se.altKey||se.metaKey;if(se.key==="Tab"&&se.preventDefault(),!Ue&&se.key.length===1&&J(se.key),["ArrowUp","ArrowDown","Home","End"].includes(se.key)){let z=O().filter(H=>!H.disabled).map(H=>H.ref.current);if(["ArrowUp","End"].includes(se.key)&&(z=z.slice().reverse()),["ArrowUp","ArrowDown"].includes(se.key)){const H=se.target,F=z.indexOf(H);z=z.slice(F+1)}setTimeout(()=>U(z)),se.preventDefault()}})})})})})})});Z9.displayName=yye;var wye="SelectItemAlignedPosition",ez=p.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=xc(Iu,n),a=wc(Iu,n),[l,c]=p.useState(null),[u,d]=p.useState(null),h=Ke(e,P=>d(P)),f=pb(n),m=p.useRef(!1),y=p.useRef(!0),{viewport:v,selectedItem:x,selectedItemText:b,focusSelectedItem:w}=a,j=p.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&v&&x&&b){const P=i.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),S=b.getBoundingClientRect();if(i.dir!=="rtl"){const H=S.left-E.left,F=A.left-H,te=P.left-F,le=P.width+te,pe=Math.max(le,E.width),Re=window.innerWidth-_i,Le=p_(F,[_i,Math.max(_i,Re-pe)]);l.style.minWidth=le+"px",l.style.left=Le+"px"}else{const H=E.right-S.right,F=window.innerWidth-A.right-H,te=window.innerWidth-P.right-F,le=P.width+te,pe=Math.max(le,E.width),Re=window.innerWidth-_i,Le=p_(F,[_i,Math.max(_i,Re-pe)]);l.style.minWidth=le+"px",l.style.right=Le+"px"}const C=f(),O=window.innerHeight-_i*2,k=v.scrollHeight,B=window.getComputedStyle(u),G=parseInt(B.borderTopWidth,10),U=parseInt(B.paddingTop,10),$=parseInt(B.borderBottomWidth,10),D=parseInt(B.paddingBottom,10),L=G+U+k+D+$,W=Math.min(x.offsetHeight*5,L),J=window.getComputedStyle(v),V=parseInt(J.paddingTop,10),ue=parseInt(J.paddingBottom,10),ee=P.top+P.height/2-_i,re=O-ee,be=x.offsetHeight/2,se=x.offsetTop+be,Ue=G+U+se,ae=L-Ue;if(Ue<=ee){const H=C.length>0&&x===C[C.length-1].ref.current;l.style.bottom="0px";const F=u.clientHeight-v.offsetTop-v.offsetHeight,te=Math.max(re,be+(H?ue:0)+F+$),le=Ue+te;l.style.height=le+"px"}else{const H=C.length>0&&x===C[0].ref.current;l.style.top="0px";const te=Math.max(ee,G+v.offsetTop+(H?V:0)+be)+ae;l.style.height=te+"px",v.scrollTop=Ue-ee+v.offsetTop}l.style.margin=`${_i}px 0`,l.style.minHeight=W+"px",l.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[f,i.trigger,i.valueNode,l,u,v,x,b,i.dir,r]);kn(()=>j(),[j]);const[N,T]=p.useState();kn(()=>{u&&T(window.getComputedStyle(u).zIndex)},[u]);const I=p.useCallback(P=>{P&&y.current===!0&&(j(),w==null||w(),y.current=!1)},[j,w]);return o.jsx(jye,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:I,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:o.jsx(De.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});ez.displayName=wye;var bye="SelectPopperPosition",y_=p.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=_i,...i}=t,a=gb(n);return o.jsx(vw,{...a,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});y_.displayName=bye;var[jye,PC]=of(Iu,{}),x_="SelectViewport",tz=p.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=wc(x_,n),a=PC(x_,n),l=Ke(e,i.onViewportChange),c=p.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(mb.Slot,{scope:n,children:o.jsx(De.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:xe(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=a;if(f!=null&&f.current&&h){const m=Math.abs(c.current-d.scrollTop);if(m>0){const y=window.innerHeight-_i*2,v=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),b=Math.max(v,x);if(b<y){const w=b+m,j=Math.min(y,w),N=w-j;h.style.height=j+"px",h.style.bottom==="0px"&&(d.scrollTop=N>0?N:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});tz.displayName=x_;var nz="SelectGroup",[Nye,Sye]=of(nz),rz=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ui();return o.jsx(Nye,{scope:n,id:s,children:o.jsx(De.div,{role:"group","aria-labelledby":s,...r,ref:e})})});rz.displayName=nz;var sz="SelectLabel",iz=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Sye(sz,n);return o.jsx(De.div,{id:s.id,...r,ref:e})});iz.displayName=sz;var Zx="SelectItem",[_ye,oz]=of(Zx),az=p.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...a}=t,l=xc(Zx,n),c=wc(Zx,n),u=l.value===r,[d,h]=p.useState(i??""),[f,m]=p.useState(!1),y=Ke(e,w=>{var j;return(j=c.itemRefCallback)==null?void 0:j.call(c,w,r,s)}),v=ui(),x=p.useRef("touch"),b=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(_ye,{scope:n,value:r,disabled:s,textId:v,isSelected:u,onItemTextChange:p.useCallback(w=>{h(j=>j||((w==null?void 0:w.textContent)??"").trim())},[]),children:o.jsx(mb.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:o.jsx(De.div,{role:"option","aria-labelledby":v,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:y,onFocus:xe(a.onFocus,()=>m(!0)),onBlur:xe(a.onBlur,()=>m(!1)),onClick:xe(a.onClick,()=>{x.current!=="mouse"&&b()}),onPointerUp:xe(a.onPointerUp,()=>{x.current==="mouse"&&b()}),onPointerDown:xe(a.onPointerDown,w=>{x.current=w.pointerType}),onPointerMove:xe(a.onPointerMove,w=>{var j;x.current=w.pointerType,s?(j=c.onItemLeave)==null||j.call(c):x.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:xe(a.onPointerLeave,w=>{var j;w.currentTarget===document.activeElement&&((j=c.onItemLeave)==null||j.call(c))}),onKeyDown:xe(a.onKeyDown,w=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&w.key===" "||(dye.includes(w.key)&&b(),w.key===" "&&w.preventDefault())})})})})});az.displayName=Zx;var um="SelectItemText",lz=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,a=xc(um,n),l=wc(um,n),c=oz(um,n),u=pye(um,n),[d,h]=p.useState(null),f=Ke(e,b=>h(b),c.onItemTextChange,b=>{var w;return(w=l.itemTextRefCallback)==null?void 0:w.call(l,b,c.value,c.disabled)}),m=d==null?void 0:d.textContent,y=p.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:v,onNativeOptionRemove:x}=u;return kn(()=>(v(y),()=>x(y)),[v,x,y]),o.jsxs(o.Fragment,{children:[o.jsx(De.span,{id:c.textId,...i,ref:f}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Oa.createPortal(i.children,a.valueNode):null]})});lz.displayName=um;var cz="SelectItemIndicator",uz=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return oz(cz,n).isSelected?o.jsx(De.span,{"aria-hidden":!0,...r,ref:e}):null});uz.displayName=cz;var w_="SelectScrollUpButton",dz=p.forwardRef((t,e)=>{const n=wc(w_,t.__scopeSelect),r=PC(w_,t.__scopeSelect),[s,i]=p.useState(!1),a=Ke(e,r.onScrollButtonChange);return kn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(fz,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});dz.displayName=w_;var b_="SelectScrollDownButton",hz=p.forwardRef((t,e)=>{const n=wc(b_,t.__scopeSelect),r=PC(b_,t.__scopeSelect),[s,i]=p.useState(!1),a=Ke(e,r.onScrollButtonChange);return kn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(fz,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});hz.displayName=b_;var fz=p.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=wc("SelectScrollButton",n),a=p.useRef(null),l=pb(n),c=p.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),kn(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(De.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:xe(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:xe(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:xe(s.onPointerLeave,()=>{c()})})}),Eye="SelectSeparator",mz=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return o.jsx(De.div,{"aria-hidden":!0,...r,ref:e})});mz.displayName=Eye;var j_="SelectArrow",Pye=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=gb(n),i=xc(j_,n),a=wc(j_,n);return i.open&&a.position==="popper"?o.jsx(yw,{...s,...r,ref:e}):null});Pye.displayName=j_;var Aye="SelectBubbleInput",pz=p.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=p.useRef(null),i=Ke(r,s),a=bC(e);return p.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&d){const h=new Event("change",{bubbles:!0});d.call(l,e),l.dispatchEvent(h)}},[a,e]),o.jsx(De.select,{...n,style:{...y6,...n.style},ref:i,defaultValue:e})});pz.displayName=Aye;function gz(t){return t===""||t===void 0}function vz(t){const e=bn(t),n=p.useRef(""),r=p.useRef(0),s=p.useCallback(a=>{const l=n.current+a;e(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),i=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function yz(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let a=Cye(t,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function Cye(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Tye=G9,xz=H9,kye=q9,Iye=Y9,Rye=Q9,wz=X9,Oye=tz,Dye=rz,bz=iz,jz=az,Mye=lz,Lye=uz,Nz=dz,Sz=hz,_z=mz;const nn=Tye,zD=Dye,rn=kye,qt=p.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(xz,{ref:r,className:ve("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,o.jsx(Iye,{asChild:!0,children:o.jsx(U6,{className:"h-4 w-4 opacity-50"})})]}));qt.displayName=xz.displayName;const Ez=p.forwardRef(({className:t,...e},n)=>o.jsx(Nz,{ref:n,className:ve("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(HJ,{className:"h-4 w-4"})}));Ez.displayName=Nz.displayName;const Pz=p.forwardRef(({className:t,...e},n)=>o.jsx(Sz,{ref:n,className:ve("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(U6,{className:"h-4 w-4"})}));Pz.displayName=Sz.displayName;const Yt=p.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>o.jsx(Rye,{children:o.jsxs(wz,{ref:s,className:ve("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[o.jsx(Ez,{}),o.jsx(Oye,{className:ve("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),o.jsx(Pz,{})]})}));Yt.displayName=wz.displayName;const N_=p.forwardRef(({className:t,...e},n)=>o.jsx(bz,{ref:n,className:ve("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));N_.displayName=bz.displayName;const fe=p.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(jz,{ref:r,className:ve("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(Lye,{children:o.jsx(Ll,{className:"h-4 w-4"})})}),o.jsx(Mye,{children:e})]}));fe.displayName=jz.displayName;const Az=p.forwardRef(({className:t,...e},n)=>o.jsx(_z,{ref:n,className:ve("-mx-1 my-1 h-px bg-muted",t),...e}));Az.displayName=_z.displayName;class Fye{constructor(){et(this,"STORAGE_KEY","googleranker_auto_posting_configs");et(this,"GLOBAL_STATS_KEY","googleranker_auto_posting_global_stats")}getAllConfigurations(){try{const e=localStorage.getItem(this.STORAGE_KEY);return e?JSON.parse(e):[]}catch(e){return console.error("Failed to load auto-posting configurations:",e),[]}}getConfiguration(e){return this.getAllConfigurations().find(r=>r.locationId===e)||null}saveConfiguration(e){try{const n=this.getAllConfigurations(),r=n.findIndex(s=>s.locationId===e.locationId);r>=0?n[r]=e:n.push(e),localStorage.setItem(this.STORAGE_KEY,JSON.stringify(n)),window.dispatchEvent(new CustomEvent("autoPostingConfigChanged",{detail:{locationId:e.locationId,config:e}}))}catch(n){throw console.error("Failed to save auto-posting configuration:",n),n}}deleteConfiguration(e){try{const r=this.getAllConfigurations().filter(s=>s.locationId!==e);localStorage.setItem(this.STORAGE_KEY,JSON.stringify(r)),window.dispatchEvent(new CustomEvent("autoPostingConfigDeleted",{detail:{locationId:e}}))}catch(n){throw console.error("Failed to delete auto-posting configuration:",n),n}}getEnabledConfigurations(){return this.getAllConfigurations().filter(e=>e.enabled)}updatePostStatus(e,n,r){const s=this.getConfiguration(e);if(!s)return;const i=r||new Date().toISOString();s.lastPost=i,s.stats.totalPosts++,n?(s.stats.successfulPosts++,s.stats.lastPostStatus="success"):(s.stats.failedPosts++,s.stats.lastPostStatus="failed"),this.saveConfiguration(s)}calculateNextPostTime(e){const n=new Date,[r,s]=e.schedule.time.split(":").map(Number);let i=new Date;switch(i.setHours(r,s,0,0),e.schedule.frequency){case"test30s":i=new Date(n.getTime()+30*1e3);break;case"daily":i<=n&&i.setDate(i.getDate()+1);break;case"alternative":i<=n?i.setDate(i.getDate()+2):i.setDate(i.getDate()+1);break;case"weekly":i<=n&&i.setDate(i.getDate()+7);break;case"custom":if(e.schedule.customTimes&&e.schedule.customTimes.length>0){const a=e.schedule.customTimes.map(c=>{const[u,d]=c.split(":").map(Number),h=new Date;return h.setHours(u,d,0,0),h}).sort((c,u)=>c.getTime()-u.getTime()),l=a.find(c=>c>n);l?i=l:(i=a[0],i.setDate(i.getDate()+1))}break}return i.toISOString()}updateNextPostTime(e,n){const r=this.getConfiguration(e);r&&(n&&["daily","alternative","weekly","custom","test30s"].includes(n)&&(r.schedule.frequency=n),r.nextPost=this.calculateNextPostTime(r),this.saveConfiguration(r))}getGlobalStats(){try{const e=this.getAllConfigurations(),n=new Date().toDateString();let r=0,s=0,i=0;const a=localStorage.getItem(this.GLOBAL_STATS_KEY);if(a){const l=JSON.parse(a);l.date===n&&(r=l.totalPostsToday||0,s=l.successfulPostsToday||0,i=l.failedPostsToday||0)}return{totalConfigurations:e.length,activeConfigurations:e.filter(l=>l.enabled).length,totalPostsToday:r,successfulPostsToday:s,failedPostsToday:i}}catch(e){return console.error("Failed to load global stats:",e),{totalConfigurations:0,activeConfigurations:0,totalPostsToday:0,successfulPostsToday:0,failedPostsToday:0}}}updateGlobalStats(e){try{const n=new Date().toDateString(),r=localStorage.getItem(this.GLOBAL_STATS_KEY);let s={date:n,totalPostsToday:0,successfulPostsToday:0,failedPostsToday:0};if(r){const i=JSON.parse(r);i.date===n&&(s=i)}s.totalPostsToday++,e?s.successfulPostsToday++:s.failedPostsToday++,localStorage.setItem(this.GLOBAL_STATS_KEY,JSON.stringify(s)),window.dispatchEvent(new CustomEvent("globalStatsUpdated",{detail:s}))}catch(n){console.error("Failed to update global stats:",n)}}createDefaultConfiguration(e,n){const r={locationId:e,businessName:n,categories:[],keywords:[],enabled:!1,schedule:{frequency:"alternative",time:"09:00"},button:{enabled:!0,type:"auto"},stats:{totalPosts:0,successfulPosts:0,failedPosts:0}};return r.nextPost=this.calculateNextPostTime(r),r}onConfigurationChange(e){const n=r=>{e(r.detail.locationId,r.detail.config)};return window.addEventListener("autoPostingConfigChanged",n),()=>{window.removeEventListener("autoPostingConfigChanged",n)}}onConfigurationDeleted(e){const n=r=>{e(r.detail.locationId)};return window.addEventListener("autoPostingConfigDeleted",n),()=>{window.removeEventListener("autoPostingConfigDeleted",n)}}onGlobalStatsUpdated(e){const n=r=>{e(r.detail)};return window.addEventListener("globalStatsUpdated",n),()=>{window.removeEventListener("globalStatsUpdated",n)}}}const Ht=new Fye;class $ye{constructor(){et(this,"intervalId",null);et(this,"isRunning",!1);et(this,"checkInterval",15e3);this.start()}start(){this.isRunning||(console.log("🚀 Starting automation service..."),this.isRunning=!0,this.checkAndProcessPosts(),this.intervalId=setInterval(()=>{this.checkAndProcessPosts()},this.checkInterval))}stop(){this.isRunning&&(console.log("⏹️ Stopping automation service..."),this.isRunning=!1,this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null))}async checkAndProcessPosts(){try{const e=Ht.getEnabledConfigurations(),n=new Date;console.log(`🔍 Checking ${e.length} enabled configurations at ${n.toLocaleString()}`);for(const r of e)await this.processConfigurationIfReady(r,n)}catch(e){console.error("🚨 Error in automation service check:",e)}}async processConfigurationIfReady(e,n){try{if(e.schedule.frequency==="test30s"){if(e.lastPost){const s=new Date(e.lastPost).getTime(),i=n.getTime()-s;if(i>=3e4)console.log(`🧪 TEST MODE: 30 seconds passed for ${e.businessName} - posting now!`),await this.executePost(e);else{const a=Math.ceil((3e4-i)/1e3);console.log(`🧪 TEST MODE: ${a}s remaining for ${e.businessName}`)}}else console.log(`🧪 TEST MODE: First post for ${e.businessName} - posting now!`),await this.executePost(e);return}if(!e.nextPost){console.log(`⚠️ No nextPost time for ${e.businessName}, calculating...`),Ht.updateNextPostTime(e.locationId);return}const r=new Date(e.nextPost);if(n>=r)console.log(`⏰ Time to post for ${e.businessName}! Scheduled: ${r.toLocaleString()}, Current: ${n.toLocaleString()}`),await this.executePost(e);else{const s=Math.ceil((r.getTime()-n.getTime())/6e4);s<=5&&console.log(`⏱️ ${e.businessName}: ${s} minutes until next post`)}}catch(r){console.error(`🚨 Error processing configuration for ${e.businessName}:`,r)}}async executePost(e){console.log(`📝 Executing post for ${e.businessName}...`);try{const n=await this.generatePostContent(e),r=await this.postToGoogleBusinessProfile(e,n);if(r.success)console.log(`✅ Successfully posted for ${e.businessName}`),Ht.updatePostStatus(e.locationId,!0),Ht.updateGlobalStats(!0),e.schedule.frequency!=="test30s"&&Ht.updateNextPostTime(e.locationId),je({title:"Post Published! 🎉",description:`Successfully posted for ${e.businessName}`,duration:4e3}),window.dispatchEvent(new CustomEvent("autoPostSuccess",{detail:{locationId:e.locationId,businessName:e.businessName,content:n.content}}));else throw new Error(r.error||"Unknown error occurred")}catch(n){console.error(`❌ Failed to post for ${e.businessName}:`,n),Ht.updatePostStatus(e.locationId,!1),Ht.updateGlobalStats(!1),e.schedule.frequency!=="test30s"&&Ht.updateNextPostTime(e.locationId),je({title:"Post Failed ❌",description:`Failed to post for ${e.businessName}: ${n instanceof Error?n.message:"Unknown error"}`,variant:"destructive",duration:6e3}),window.dispatchEvent(new CustomEvent("autoPostError",{detail:{locationId:e.locationId,businessName:e.businessName,error:n instanceof Error?n.message:"Unknown error"}}))}}async generatePostContent(e){const n=e.categories.length>0?e.categories[0]:"business";console.log(`🤖 Generating content for ${e.businessName} (${n}) with keywords:`,e.keywords);try{return await El.generatePostContent(e.businessName,n,e.keywords,e.locationName,e.websiteUrl)}catch(r){throw console.error("🚨 OpenAI content generation failed:",r),r}}generateCallToAction(e){var a,l;if(!((a=e.button)!=null&&a.enabled)||((l=e.button)==null?void 0:l.type)==="none")return null;const n=e.button.type||"auto";if(n==="call_now")return e.button.phoneNumber?{actionType:"CALL",phoneNumber:e.button.phoneNumber}:(console.warn("Call Now button selected but no phone number provided"),null);const r=e.button.customUrl||e.websiteUrl;return r?{actionType:{auto:this.getAutoActionType(e),book:"BOOK",order:"ORDER_ONLINE",buy:"BUY",learn_more:"LEARN_MORE",sign_up:"SIGN_UP"}[n]||"LEARN_MORE",url:r}:(console.warn("Button enabled but no URL available"),null)}getAutoActionType(e){const n=e.categories.length>0?e.categories[0].toLowerCase():"";return n.includes("restaurant")||n.includes("food")?"ORDER_ONLINE":n.includes("salon")||n.includes("spa")||n.includes("health")?"BOOK":n.includes("retail")||n.includes("store")||n.includes("shop")?"BUY":n.includes("education")||n.includes("school")||n.includes("course")?"SIGN_UP":"LEARN_MORE"}async postToGoogleBusinessProfile(e,n){try{console.log(`📤 Posting to Google Business Profile for ${e.businessName}...`);const r=Nt.getAccessToken();if(console.log("🔍 DEBUGGING: Access token check:",{hasToken:!!r,tokenLength:r==null?void 0:r.length,tokenStart:(r==null?void 0:r.substring(0,20))+"..."}),!r)throw console.error("❌ DEBUGGING: No access token available!"),console.error("🔍 DEBUGGING: Google service connection status:",Nt.isConnected()),console.error("🔍 DEBUGGING: localStorage tokens:",localStorage.getItem("google_business_tokens")),new Error("No access token available. Please connect to Google Business Profile first.");const s="http://localhost:5000";console.log("🔍 DEBUGGING: Backend URL being used:",s),console.log("🔍 DEBUGGING: VITE_BACKEND_URL env var:","http://localhost:5000");const i=this.generateCallToAction(e),a={languageCode:"en-US",topicType:"STANDARD",summary:n.content,media:[],callToAction:i},l=await fetch(`${s}/api/locations/${e.locationId}/posts`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(a)});if(!l.ok){const d=await l.text();throw console.error("❌ DEBUGGING: Backend API error response:",d),new Error(`Backend API error: ${l.status} - ${d}`)}const c=l.headers.get("Content-Type");console.log("🔍 DEBUGGING: Response content-type:",c);let u;try{const d=await l.text();if(console.log("🔍 DEBUGGING: Raw response text:",d.substring(0,200)+"..."),d.trim().startsWith("<!DOCTYPE")||d.trim().startsWith("<html"))throw console.error("❌ DEBUGGING: Backend returned HTML instead of JSON"),new Error("Backend API error: Server returned HTML error page instead of JSON. This usually indicates a server configuration issue or API endpoint problem.");u=JSON.parse(d)}catch(d){throw console.error("❌ DEBUGGING: JSON parse error:",d),console.error("❌ DEBUGGING: Response was not valid JSON"),new Error(`Backend API returned invalid JSON: ${d.message}`)}if(u&&(u.post||u.success))return console.log("✅ Post created successfully via backend API"),console.log("🔍 DEBUGGING: Backend result:",u),{success:!0,postContent:n.content};throw console.error("❌ DEBUGGING: Unexpected backend response format:",u),new Error("No result returned from backend API")}catch(r){return console.error("🚨 Backend API error:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}async executeManualPost(e){const n=Ht.getConfiguration(e);if(!n)throw new Error("Configuration not found for location");if(!n.enabled)throw new Error("Auto-posting is disabled for this location");console.log(`🔧 Manual post execution for ${n.businessName}...`);try{const r=await this.generatePostContent(n),s=await this.postToGoogleBusinessProfile(n,r);return s.success?(Ht.updatePostStatus(n.locationId,!0),Ht.updateGlobalStats(!0),je({title:"Manual Post Published! 🚀",description:`Successfully posted for ${n.businessName}`,duration:4e3})):(Ht.updatePostStatus(n.locationId,!1),Ht.updateGlobalStats(!1),je({title:"Manual Post Failed ❌",description:`Failed to post: ${s.error}`,variant:"destructive",duration:6e3})),s}catch(r){const s=r instanceof Error?r.message:"Unknown error";return Ht.updatePostStatus(n.locationId,!1),Ht.updateGlobalStats(!1),je({title:"Manual Post Failed ❌",description:`Failed to post: ${s}`,variant:"destructive",duration:6e3}),{success:!1,error:s}}}isServiceRunning(){return this.isRunning}getNextCheckTime(){return new Date(Date.now()+this.checkInterval)}onAutoPostSuccess(e){const n=r=>e(r.detail);return window.addEventListener("autoPostSuccess",n),()=>window.removeEventListener("autoPostSuccess",n)}onAutoPostError(e){const n=r=>e(r.detail);return window.addEventListener("autoPostError",n),()=>window.removeEventListener("autoPostError",n)}}const GD=new $ye;class Uye{constructor(){et(this,"backendUrl");this.backendUrl="http://localhost:5000"}async saveAutomationSettings(e,n){try{console.log(`📤 Saving automation settings to server for location ${e}:`,n);const r=await fetch(`${this.backendUrl}/api/automation/settings/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!r.ok)throw new Error(`Failed to save automation settings: ${r.statusText}`);const s=await r.json();return console.log("✅ Automation settings saved to server:",s),je({title:"Automation Settings Saved",description:"Your automation settings have been saved and will run on the server even when you're offline."}),!0}catch(r){return console.error("❌ Error saving automation settings to server:",r),je({title:"Error Saving Settings",description:"Failed to save automation settings to server. Please try again.",variant:"destructive"}),!1}}async getAutomationStatus(e){try{const n=await fetch(`${this.backendUrl}/api/automation/status/${e}`);if(!n.ok)throw new Error(`Failed to get automation status: ${n.statusText}`);const r=await n.json();return console.log(`📊 Automation status for location ${e}:`,r),r}catch(n){return console.error("❌ Error getting automation status:",n),null}}async stopAutomations(e){try{console.log(`🛑 Stopping all automations for location ${e}`);const n=await fetch(`${this.backendUrl}/api/automation/stop/${e}`,{method:"POST"});if(!n.ok)throw new Error(`Failed to stop automations: ${n.statusText}`);return je({title:"Automations Stopped",description:"All automations have been stopped for this location."}),!0}catch(n){return console.error("❌ Error stopping automations:",n),je({title:"Error",description:"Failed to stop automations. Please try again.",variant:"destructive"}),!1}}async triggerPost(e,n){try{console.log(`🚀 Manually triggering post for location ${e}`);const r=await fetch(`${this.backendUrl}/api/automation/trigger-post/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!r.ok)throw new Error(`Failed to trigger post: ${r.statusText}`);return je({title:"Post Triggered",description:"Post has been triggered successfully."}),!0}catch(r){return console.error("❌ Error triggering post:",r),je({title:"Error",description:"Failed to trigger post. Please try again.",variant:"destructive"}),!1}}async checkReviews(e,n){try{console.log(`🔍 Manually checking reviews for location ${e}`);const r=await fetch(`${this.backendUrl}/api/automation/check-reviews/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!r.ok)throw new Error(`Failed to check reviews: ${r.statusText}`);return je({title:"Reviews Checked",description:"Review check completed successfully."}),!0}catch(r){return console.error("❌ Error checking reviews:",r),je({title:"Error",description:"Failed to check reviews. Please try again.",variant:"destructive"}),!1}}async getAutomationLogs(){try{const e=await fetch(`${this.backendUrl}/api/automation/logs`);if(!e.ok)throw new Error(`Failed to get automation logs: ${e.statusText}`);return(await e.json()).activities||[]}catch(e){return console.error("❌ Error getting automation logs:",e),[]}}async enableAutoPosting(e,n,r,s,i,a,l,c,u,d,h,f){const m={autoPosting:{enabled:!0,schedule:r,frequency:s,businessName:n,category:i,keywords:a,websiteUrl:l,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,...d,phoneNumber:h,button:f},userId:c,accountId:u};return this.saveAutomationSettings(e,m)}async disableAutoPosting(e){const n={autoPosting:{enabled:!1}};return this.saveAutomationSettings(e,n)}async enableAutoReply(e,n,r=!0,s,i,a,l){const c={autoReply:{enabled:!0,replyToAll:r,replyToPositive:!0,replyToNegative:!0,replyToNeutral:!0,businessName:n},userId:s,accountId:i};return a&&(c.autoReply.keywords=a),l&&(c.autoReply.category=l),this.saveAutomationSettings(e,c)}async disableAutoReply(e){const n={autoReply:{enabled:!1}};return this.saveAutomationSettings(e,n)}}const fl=new Uye;typeof window<"u"&&(window.serverAutomationService=fl,console.log("🤖 Server Automation Service initialized"),console.log("   Use window.serverAutomationService to access the service"));function Bye({location:t}){var L,W,J,V,ue,ee,re,be,se,Ue,ae,z,H;const{currentUser:e}=Hn(),{isConnected:n}=rf(),[r,s]=p.useState(null),[i,a]=p.useState(!0),[l,c]=p.useState(!1),[u,d]=p.useState(["09:00"]),[h,f]=p.useState(""),[m,y]=p.useState([]),[v,x]=p.useState(!1),b=()=>["quality service","customer satisfaction","professional","reliable","trusted","excellent experience","local business","community","best service","development","quality","customer","service","professional","reliable","trusted","excellent","experience","local","business","community","best","good","great","amazing","awesome","top","leading","premier","expert","specialists","solutions","services","company","corporation","inc","llc","ltd","limited","pvt","private","consultant","consulting"],w=()=>{const F=[],te=b();return t.name&&(F.push(t.name),t.name.toLowerCase().split(/[\s.,\-_]+/).forEach(pe=>{pe.length>2&&!te.includes(pe.toLowerCase())&&F.push(pe)})),t.address&&t.address.locality&&(F.push(t.address.locality),t.name&&F.push(`${t.name} ${t.address.locality}`)),[...new Set(F.filter(le=>!te.includes(le.toLowerCase().trim())))]};p.useEffect(()=>{j();const F=Ht.onConfigurationChange((pe,Re)=>{pe===t.id&&s(Re)}),te=GD.onAutoPostSuccess(pe=>{pe.locationId===t.id&&j()}),le=GD.onAutoPostError(pe=>{pe.locationId===t.id&&j()});return()=>{F(),te(),le()}},[t.id]);const j=()=>{let F=Ht.getConfiguration(t.id);F?(typeof F.keywords=="string"&&(F.keywords=F.keywords?F.keywords.split(",").map(te=>te.trim()).filter(te=>te.length>0):w(),Ht.saveConfiguration(F)),Array.isArray(F.keywords)&&F.keywords.length===0&&(F.keywords=w(),Ht.saveConfiguration(F)),F.button||(F.button={enabled:!0,type:"auto"},Ht.saveConfiguration(F))):(F=Ht.createDefaultConfiguration(t.id,t.name),F.categories=t.categories||[],F.locationName=t.name,F.websiteUrl=t.websiteUri,F.keywords=w(),Ht.saveConfiguration(F)),s(F),F.keywords&&Array.isArray(F.keywords)&&y(F.keywords),F.schedule.frequency==="custom"&&F.schedule.customTimes&&d(F.schedule.customTimes),a(!1)},N=F=>{if(!r)return;const te={...r,...F};s(te),Ht.saveConfiguration(te)},T=async F=>{var te,le;N({enabled:F}),x(!0);try{if(F){const pe=localStorage.getItem("google_business_account_id"),Re=t.address?{fullAddress:((te=t.address.addressLines)==null?void 0:te.join(", "))||"",city:t.address.locality||"",region:t.address.administrativeArea||"",country:t.address.countryCode||"",postalCode:t.address.postalCode||""}:{};await fl.enableAutoPosting(t.id,t.name,(r==null?void 0:r.schedule.time)||"09:00",(r==null?void 0:r.schedule.frequency)||"daily",(le=t.categories)==null?void 0:le[0],m.join(", "),t.websiteUri,e==null?void 0:e.uid,pe||void 0,Re,t.phoneNumber,r==null?void 0:r.button),je({title:"Auto-posting enabled! 🚀",description:`Posts will be automatically generated for ${t.name} even when you're offline`,duration:4e3})}else await fl.disableAutoPosting(t.id),je({title:"Auto-posting disabled",description:`Automatic posting stopped for ${t.name}`,duration:3e3})}catch(pe){console.error("Failed to save to server:",pe),je({title:"Server sync failed",description:"Settings saved locally but server sync failed. Automation may not work when offline.",variant:"destructive",duration:5e3})}finally{x(!1)}},I=async F=>{var pe,Re;const te={...r};te.schedule.frequency=F;const le=P(F,te.schedule.time);if(te.nextPost=le,N(te),r!=null&&r.enabled)try{const Le=localStorage.getItem("google_business_account_id"),qe=t.address?{fullAddress:((pe=t.address.addressLines)==null?void 0:pe.join(", "))||"",city:t.address.locality||"",region:t.address.administrativeArea||"",country:t.address.countryCode||"",postalCode:t.address.postalCode||""}:{};await fl.saveAutomationSettings(t.id,{autoPosting:{enabled:!0,schedule:te.schedule.time,frequency:F,businessName:t.name,category:(Re=t.categories)==null?void 0:Re[0],categories:t.categories,keywords:m.join(", "),websiteUrl:t.websiteUri,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,...qe,phoneNumber:t.phoneNumber,button:r==null?void 0:r.button},userId:e==null?void 0:e.uid,accountId:Le||void 0})}catch(Le){console.error("Failed to update server:",Le)}F==="test30s"&&je({title:"Test mode enabled! 🧪",description:"Posts will be generated every 30 seconds for testing",duration:4e3})},P=(F,te)=>{const le=new Date,[pe,Re]=te.split(":").map(Number);let Le=new Date;switch(Le.setHours(pe,Re,0,0),F){case"test30s":Le=new Date(le.getTime()+30*1e3);break;case"daily":Le<=le&&Le.setDate(Le.getDate()+1);break;case"alternative":Le<=le?Le.setDate(Le.getDate()+2):Le.setDate(Le.getDate()+1);break;case"weekly":Le<=le&&Le.setDate(Le.getDate()+7);break;case"custom":if(u.length>0){const qe=u.map(Et=>{const[Pt,X]=Et.split(":").map(Number),de=new Date;return de.setHours(Pt,X,0,0),de}).sort((Et,Pt)=>Et.getTime()-Pt.getTime()),xt=qe.find(Et=>Et>le);Le=xt||qe[0],xt||Le.setDate(Le.getDate()+1)}break}return Le.toISOString()},E=async F=>{var le,pe;const te={...r};if(te.schedule.time=F,te.nextPost=P(te.schedule.frequency,F),N(te),r!=null&&r.enabled)try{const Re=localStorage.getItem("google_business_account_id"),Le=t.address?{fullAddress:((le=t.address.addressLines)==null?void 0:le.join(", "))||"",city:t.address.locality||"",region:t.address.administrativeArea||"",country:t.address.countryCode||"",postalCode:t.address.postalCode||""}:{};await fl.saveAutomationSettings(t.id,{autoPosting:{enabled:!0,schedule:F,frequency:te.schedule.frequency,businessName:t.name,category:(pe=t.categories)==null?void 0:pe[0],categories:t.categories,keywords:m.join(", "),websiteUrl:t.websiteUri,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,...Le,phoneNumber:t.phoneNumber,button:r==null?void 0:r.button},userId:e==null?void 0:e.uid,accountId:Re||void 0})}catch(Re){console.error("Failed to update server:",Re)}},A=F=>{d(F);const te={...r};te.schedule.customTimes=F,te.nextPost=P(te.schedule.frequency,te.schedule.time),N(te)},S=()=>{const F=[...u,"09:00"];A(F)},C=F=>{const te=u.filter((le,pe)=>pe!==F);A(te)},O=()=>{const F=h.trim(),te=b();if(!F)return;if(te.includes(F.toLowerCase())){je({title:"Generic Keyword Avoided",description:`"${F}" is too generic. Try using your business name or location instead.`,variant:"destructive",duration:4e3});return}if(m.includes(F)){je({title:"Keyword Already Exists",description:`"${F}" is already in your keywords.`,variant:"destructive",duration:3e3});return}const le=[...m,F];y(le),B(le),f(""),je({title:"Keyword Added! ✅",description:`Added "${F}" to your keywords`,duration:2e3})},k=F=>{const te=m.filter(le=>le!==F);y(te),B(te),je({title:"Keyword Removed",description:`Removed "${F}" from your keywords`,duration:2e3})},B=async F=>{var te,le;if(N({keywords:F}),r!=null&&r.enabled)try{const pe=localStorage.getItem("google_business_account_id"),Re=t.address?{fullAddress:((te=t.address.addressLines)==null?void 0:te.join(", "))||"",city:t.address.locality||"",region:t.address.administrativeArea||"",country:t.address.countryCode||"",postalCode:t.address.postalCode||""}:{};await fl.saveAutomationSettings(t.id,{autoPosting:{enabled:!0,schedule:(r==null?void 0:r.schedule.time)||"09:00",frequency:(r==null?void 0:r.schedule.frequency)||"daily",businessName:t.name,category:(le=t.categories)==null?void 0:le[0],categories:t.categories,keywords:F.join(", "),websiteUrl:t.websiteUri,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,...Re,phoneNumber:t.phoneNumber,button:r==null?void 0:r.button},userId:e==null?void 0:e.uid,accountId:pe||void 0}),console.log("Keywords synced to server for automation")}catch(pe){console.error("Failed to sync keywords to server:",pe)}},G=()=>{const F=w();y(F),B(F),je({title:"Keywords Generated! 🎯",description:"Smart keywords generated focusing on your business name and location.",duration:3e3})},U=()=>{const F=b(),te=m.filter(pe=>!F.includes(pe.toLowerCase().trim())),le=m.length-te.length;le>0?(y(te),B(te),je({title:"Keywords Cleaned! 🧹",description:`Removed ${le} generic keyword${le>1?"s":""}.`,duration:3e3})):je({title:"All Good! ✅",description:"No generic keywords found to remove.",duration:2e3})},$=async()=>{var F,te,le,pe,Re,Le,qe;if(r){c(!0);try{if(!e)throw new Error("You must be logged in to test auto-posting");console.log("[AutoPostingTab] Checking backend token status for user:",e.uid);const xt="http://localhost:5000",Et=await fetch(`${xt}/auth/google/token-status/${e.uid}`);if(!Et.ok)throw new Error("Failed to check token status");const Pt=await Et.json();if(console.log("[AutoPostingTab] Token status:",Pt),!Pt.hasAccessToken&&!Pt.hasRefreshToken){je({title:"Connection Required",description:"Your Google Business Profile isn't connected. Go to Settings > Connections to connect.",variant:"destructive",duration:5e3}),c(!1);return}console.log("[AutoPostingTab] ✅ Backend has valid tokens, proceeding with test post...");const X=Nt.getAccessToken();console.log("[AutoPostingTab] 🔑 Access token from service:",X?"Available":"Not available"),console.log("[AutoPostingTab] 🔑 Token length:",(X==null?void 0:X.length)||0);const de=await fetch(`${xt}/api/automation/test-post-now/${t.id}`,{method:"POST",headers:{"Content-Type":"application/json","X-User-ID":e.uid,...X?{Authorization:`Bearer ${X}`}:{}},body:JSON.stringify({businessName:t.name,category:((F=t.categories)==null?void 0:F[0])||"business",keywords:m.length>0?m.join(", "):"quality service, customer satisfaction",websiteUrl:t.websiteUri||"",locationName:((te=t.address)==null?void 0:te.locality)||"",city:((le=t.address)==null?void 0:le.locality)||"",region:((pe=t.address)==null?void 0:pe.administrativeArea)||"",country:((Re=t.address)==null?void 0:Re.countryCode)||"",fullAddress:((qe=(Le=t.address)==null?void 0:Le.addressLines)==null?void 0:qe.join(", "))||"",phoneNumber:t.phoneNumber||"",userId:e.uid,accessToken:X||void 0,button:r.button})}),Ne=de.headers.get("content-type");let Fe;if(Ne&&Ne.includes("application/json"))Fe=await de.json();else{const _e=await de.text();throw console.error("[AutoPostingTab] Received HTML response instead of JSON:",_e.substring(0,200)),new Error(`Backend returned HTML error page. Status: ${de.status}`)}de.ok&&Fe.success?je({title:"Test post successful! ✅",description:Fe.message||"Your post has been published to Google Business Profile",duration:5e3}):je({title:"Test post failed ❌",description:Fe.error||Fe.details||"Failed to publish post",variant:"destructive",duration:6e3})}catch(xt){je({title:"Test post failed ❌",description:xt instanceof Error?xt.message:"Unknown error occurred",variant:"destructive",duration:6e3})}finally{c(!1)}}},D=()=>{if(!(r!=null&&r.nextPost))return"Not scheduled";if(r.schedule.frequency==="test30s")if(r.lastPost){const le=new Date(r.lastPost),pe=new Date(le.getTime()+30*1e3),Re=new Date;return pe<=Re?"Ready to post":`${Math.ceil((pe.getTime()-Re.getTime())/1e3)}s remaining`}else return"Ready to post";const F=new Date(r.nextPost);return F<=new Date?"Ready to post":F.toLocaleString()};return we.useMemo(()=>{const F=w();return m.filter(te=>!F.includes(te))},[m,t.name,t.categories]),i?o.jsxs("div",{className:"flex flex-col items-center justify-center py-16 space-y-4",children:[o.jsx(ug,{size:"lg",variant:"primary"}),o.jsxs("div",{className:"text-center space-y-2",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Loading Automation Settings..."}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Setting up your auto-posting configuration"})]}),o.jsx("div",{className:"w-full max-w-4xl mt-8 space-y-6",children:Array.from({length:3}).map((F,te)=>o.jsxs(q,{children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"h-5 w-5 bg-muted rounded animate-pulse"}),o.jsx("div",{className:"h-5 bg-muted rounded w-48 animate-pulse"})]}),o.jsx("div",{className:"h-6 w-16 bg-muted rounded-full animate-pulse"})]}),o.jsx("div",{className:"h-3 bg-muted rounded w-64 animate-pulse mt-2"})]}),o.jsxs(Q,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("div",{className:"h-10 bg-muted rounded animate-pulse"}),o.jsx("div",{className:"h-10 bg-muted rounded animate-pulse"})]}),o.jsx("div",{className:"h-24 bg-muted rounded animate-pulse"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("div",{className:"h-10 bg-muted rounded animate-pulse"}),o.jsx("div",{className:"h-10 bg-muted rounded animate-pulse"})]})]})]},te))})]}):r?o.jsxs("div",{className:"space-y-3 sm:space-y-4 md:space-y-6 min-w-0 w-full px-2 sm:px-4 md:px-0",children:[o.jsxs(q,{className:"shadow-sm overflow-hidden",children:[o.jsxs(me,{className:"p-3 sm:p-4 md:p-6",children:[o.jsxs(ge,{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 sm:gap-3 max-w-full",children:[o.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 min-w-0 flex-1",children:[o.jsx(hw,{className:"h-4 w-4 sm:h-5 sm:w-5 flex-shrink-0"}),o.jsx("span",{className:"text-sm sm:text-base md:text-lg break-words",children:"Auto Posting Configuration"})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[o.jsx(bs,{checked:r.enabled,onCheckedChange:T,disabled:v}),o.jsx("span",{className:"text-xs sm:text-sm font-medium whitespace-nowrap",children:v?o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx("div",{className:"animate-spin h-3 w-3 border-2 border-current border-t-transparent rounded-full"}),o.jsx("span",{className:"hidden xs:inline",children:"Saving..."})]}):o.jsx("span",{children:r.enabled?"Enabled":"Disabled"})})]})]}),o.jsxs(Je,{className:"text-xs sm:text-sm break-words mt-1",children:["Automatically generate and publish posts for ",t.name]})]}),o.jsxs(Q,{className:"space-y-3 sm:space-y-4 p-3 sm:p-4 md:p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-4",children:[o.jsxs("div",{className:"min-w-0",children:[o.jsx(Oe,{className:"text-xs sm:text-sm md:text-base",children:"Business Name"}),o.jsx(tt,{value:r.businessName,disabled:!0,className:"text-xs sm:text-sm mt-1"})]}),o.jsxs("div",{className:"min-w-0",children:[o.jsx(Oe,{className:"text-xs sm:text-sm md:text-base",children:"Categories"}),o.jsxs("div",{className:"flex flex-wrap gap-1 sm:gap-1.5 mt-1",children:[r.categories.map((F,te)=>o.jsx(Ee,{variant:"secondary",className:"text-xs px-2 py-0.5",children:F},te)),r.categories.length===0&&o.jsx(Ee,{variant:"outline",className:"text-xs",children:"No categories"})]})]})]}),o.jsxs("div",{className:"min-w-0",children:[o.jsxs(Oe,{className:"flex items-center gap-1.5 sm:gap-2 text-xs sm:text-sm md:text-base",children:[o.jsx(tR,{className:"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0"}),o.jsx("span",{children:"Keywords for Content Generation"})]}),o.jsxs("div",{className:"space-y-2 sm:space-y-3 mt-2",children:[o.jsxs("div",{className:"flex flex-wrap gap-1 sm:gap-1.5 md:gap-2 p-2 sm:p-3 bg-gray-50 rounded-lg border min-h-[80px] sm:min-h-[100px] md:min-h-[120px] overflow-hidden",children:[m.map((F,te)=>{const pe=w().includes(F);return o.jsx("div",{className:"flex items-center",children:o.jsxs(Ee,{variant:pe?"default":"outline",className:"flex items-center gap-0.5 sm:gap-1 text-[10px] sm:text-xs px-1.5 sm:px-2 py-0.5 max-w-full",children:[pe&&o.jsx(tR,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 flex-shrink-0"}),o.jsx("span",{className:"break-all truncate max-w-[120px] sm:max-w-[200px]",title:F,children:F}),o.jsx("button",{type:"button",onClick:()=>k(F),disabled:!r.enabled,className:"ml-0.5 sm:ml-1 hover:bg-red-500 hover:text-white rounded-full p-0.5 transition-colors flex-shrink-0",children:o.jsx(Yi,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3"})})]})},te)}),m.length===0&&o.jsx("p",{className:"text-muted-foreground text-[10px] sm:text-xs md:text-sm px-1",children:'No keywords added yet. Click "Generate Keywords" to auto-populate based on your business profile.'})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[o.jsx(tt,{placeholder:"Enter custom keyword...",value:h,onChange:F=>f(F.target.value),onKeyPress:F=>{F.key==="Enter"&&(F.preventDefault(),O())},disabled:!r.enabled,className:"text-xs sm:text-sm flex-1"}),o.jsxs(Y,{type:"button",onClick:O,size:"sm",disabled:!r.enabled||!h.trim(),className:"w-full sm:w-auto whitespace-nowrap text-xs sm:text-sm",children:[o.jsx(Yl,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),o.jsx("span",{children:"Add"})]})]}),o.jsxs("div",{className:"flex flex-col xs:flex-row gap-2",children:[o.jsxs(Y,{type:"button",variant:"outline",size:"sm",onClick:G,disabled:!r.enabled,className:"w-full xs:w-auto text-xs sm:text-sm flex-1 xs:flex-initial",children:[o.jsx(jn,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:"Generate"})]}),o.jsxs(Y,{type:"button",variant:"outline",size:"sm",onClick:U,disabled:!r.enabled,className:"w-full xs:w-auto text-xs sm:text-sm flex-1 xs:flex-initial",children:[o.jsx(Ql,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:"Clean"})]}),o.jsxs(Y,{type:"button",variant:"outline",size:"sm",onClick:()=>y([]),disabled:!r.enabled,className:"w-full xs:w-auto text-xs sm:text-sm flex-1 xs:flex-initial",children:[o.jsx(px,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:"Clear"})]})]}),o.jsxs("p",{className:"text-[10px] sm:text-xs md:text-sm text-muted-foreground break-words",children:["Smart keyword generation focuses on your business name (",t.name,"), location (",(L=t.address)==null?void 0:L.locality,", ",(W=t.address)==null?void 0:W.administrativeArea,"), and specific categories while filtering out generic terms."]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 pt-3 sm:pt-4 border-t",children:[o.jsxs("div",{className:"min-w-0",children:[o.jsx(Oe,{className:"text-xs sm:text-sm",children:"Next Post"}),o.jsx("div",{className:"mt-1 p-2 sm:p-2.5 bg-muted rounded text-xs sm:text-sm break-words",children:D()})]}),o.jsxs("div",{className:"min-w-0",children:[o.jsx(Oe,{className:"text-xs sm:text-sm",children:"Current Status"}),o.jsx("div",{className:"mt-1 flex items-center gap-1.5 sm:gap-2",children:r.enabled?o.jsxs(o.Fragment,{children:[o.jsx(uZ,{className:"h-3 w-3 sm:h-4 sm:w-4 text-green-600 flex-shrink-0"}),o.jsx("span",{className:"text-xs sm:text-sm text-green-600 break-words",children:"Active (Server-side)"})]}):o.jsxs(o.Fragment,{children:[o.jsx(aZ,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-600 flex-shrink-0"}),o.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:"Paused"})]})}),r.enabled&&o.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground mt-1 break-words",children:"Running on server - continues even when offline"})]})]}),o.jsx("div",{className:"flex flex-col sm:flex-row gap-2 pt-2",children:o.jsx(Y,{onClick:$,disabled:!r.enabled||l||!n,variant:"outline",className:"flex items-center justify-center gap-2 w-full sm:w-auto text-xs sm:text-sm",title:n?"":"Connect your Google Business Profile in Settings > Connections first",children:l?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin h-3 w-3 sm:h-4 sm:w-4 border-2 border-current border-t-transparent rounded-full"}),o.jsx("span",{children:"Testing..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(sR,{className:"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0"}),o.jsx("span",{children:"Test & Post Now"}),!n&&o.jsx("span",{className:"ml-1 text-[10px] sm:text-xs",children:"(Connect GBP)"})]})})})]})]}),o.jsxs(q,{className:"shadow-sm overflow-hidden",children:[o.jsxs(me,{className:"p-3 sm:p-4 md:p-6",children:[o.jsxs(ge,{className:"flex items-center gap-1.5 sm:gap-2 text-sm sm:text-base md:text-lg",children:[o.jsx(Ql,{className:"h-4 w-4 sm:h-5 sm:w-5 flex-shrink-0"}),o.jsx("span",{children:"Post Button Settings"})]}),o.jsx(Je,{className:"text-xs sm:text-sm break-words mt-1",children:"Configure call-to-action buttons for your posts"})]}),o.jsxs(Q,{className:"space-y-3 sm:space-y-4 p-3 sm:p-4 md:p-6",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(bs,{checked:((J=r.button)==null?void 0:J.enabled)??!0,onCheckedChange:F=>{var te,le,pe;return N({button:{enabled:F,type:((te=r.button)==null?void 0:te.type)||"auto",phoneNumber:((le=r.button)==null?void 0:le.phoneNumber)||t.phoneNumber,customUrl:(pe=r.button)==null?void 0:pe.customUrl}})},disabled:!r.enabled}),o.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"Add buttons to posts"})]}),((V=r.button)==null?void 0:V.enabled)&&o.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[o.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[o.jsx(Oe,{className:"text-xs sm:text-sm font-medium",children:"Call-to-Action Button Type"}),o.jsxs(nn,{value:((ue=r.button)==null?void 0:ue.type)||"auto",onValueChange:F=>{var te;return N({button:{...r.button,enabled:!0,type:F,phoneNumber:((te=r.button)==null?void 0:te.phoneNumber)||t.phoneNumber}})},children:[o.jsx(qt,{children:o.jsx(rn,{placeholder:"Select button type"})}),o.jsxs(Yt,{children:[o.jsx(fe,{value:"auto",children:"🎯 Smart Selection (Auto)"}),o.jsx(fe,{value:"none",children:"🚫 No Button"}),o.jsx(fe,{value:"book",children:"📅 Book Appointment"}),o.jsx(fe,{value:"order",children:"🛒 Order Online"}),o.jsx(fe,{value:"buy",children:"💳 Buy Now"}),o.jsx(fe,{value:"learn_more",children:"📚 Learn More"}),o.jsx(fe,{value:"sign_up",children:"✍️ Sign Up"}),o.jsx(fe,{value:"call_now",children:"📞 Call Now"})]})]})]}),((ee=r.button)==null?void 0:ee.type)==="auto"&&o.jsx("div",{className:"text-[10px] sm:text-xs text-muted-foreground bg-blue-50 p-2 sm:p-3 rounded-lg",children:o.jsxs("div",{children:[o.jsx("strong",{children:"🎯 Smart Selection:"})," Automatically chooses the best button based on your business category:",o.jsxs("ul",{className:"mt-1 ml-3 sm:ml-4 list-disc space-y-0.5",children:[o.jsx("li",{children:"Restaurants → Order Online"}),o.jsx("li",{children:"Salons/Health → Book Appointment"}),o.jsx("li",{children:"Retail → Shop Now"}),o.jsx("li",{children:"Education → Sign Up"}),o.jsx("li",{children:"Others → Learn More"})]}),o.jsxs("p",{className:"mt-2 break-words",children:["All buttons will redirect to your website URL: ",r.websiteUrl||"Not set"]})]})}),((re=r.button)==null?void 0:re.type)==="call_now"&&o.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[o.jsx(Oe,{htmlFor:"phone-number",className:"text-xs sm:text-sm font-medium",children:"Phone Number"}),o.jsx(tt,{id:"phone-number",type:"tel",placeholder:t.phoneNumber?`Business phone: ${t.phoneNumber}`:"e.g., +1 (555) 123-4567",value:((be=r.button)==null?void 0:be.phoneNumber)||t.phoneNumber||"",onChange:F=>{var te;return N({button:{...r.button,enabled:!0,type:((te=r.button)==null?void 0:te.type)||"call_now",phoneNumber:F.target.value}})},disabled:!r.enabled,className:"text-xs sm:text-sm"}),o.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground break-words",children:t.phoneNumber?(se=r.button)!=null&&se.phoneNumber?o.jsxs("span",{children:["Using custom phone number. Clear to use business profile number: ",t.phoneNumber]}):o.jsxs("span",{className:"text-green-600",children:["✓ Auto-filled from your Google Business Profile: ",t.phoneNumber]}):o.jsx("span",{className:"text-amber-600",children:"⚠ No phone number found in your Google Business Profile. Please add one."})})]}),((Ue=r.button)==null?void 0:Ue.type)&&!["auto","none","call_now"].includes(r.button.type)&&o.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[o.jsxs(Oe,{htmlFor:"button-url",className:"text-xs sm:text-sm font-medium",children:[r.button.type==="book"&&"Booking URL",r.button.type==="order"&&"Order Online URL",r.button.type==="buy"&&"Purchase URL",r.button.type==="learn_more"&&"Learn More URL",r.button.type==="sign_up"&&"Sign Up URL"]}),o.jsx(tt,{id:"button-url",type:"url",placeholder:r.button.type==="book"?"https://your-booking-system.com":r.button.type==="order"?"https://your-online-ordering.com":r.button.type==="buy"?"https://your-shop.com":r.button.type==="learn_more"?"https://your-website.com/about":r.button.type==="sign_up"?"https://your-website.com/signup":"https://your-website.com",value:((ae=r.button)==null?void 0:ae.customUrl)||r.websiteUrl||"",onChange:F=>{var te;return N({button:{...r.button,enabled:!0,type:((te=r.button)==null?void 0:te.type)||"learn_more",customUrl:F.target.value}})},className:"text-xs sm:text-sm"}),o.jsxs("p",{className:"text-[10px] sm:text-xs text-muted-foreground break-words",children:["Enter the URL where customers should be directed when they click the button.",!((z=r.button)!=null&&z.customUrl)&&r.websiteUrl&&o.jsx("span",{className:"text-blue-600",children:" Currently using your default website URL."})]})]}),((H=r.button)==null?void 0:H.type)==="none"&&o.jsx("div",{className:"text-[10px] sm:text-xs text-muted-foreground bg-gray-50 p-2 sm:p-3 rounded-lg",children:o.jsx("p",{children:"Posts will be created without any call-to-action buttons."})})]})]})]}),o.jsxs(q,{className:"shadow-sm overflow-hidden",children:[o.jsxs(me,{className:"p-3 sm:p-4 md:p-6",children:[o.jsxs(ge,{className:"flex items-center gap-1.5 sm:gap-2 text-sm sm:text-base md:text-lg",children:[o.jsx(Ds,{className:"h-4 w-4 sm:h-5 sm:w-5 flex-shrink-0"}),o.jsx("span",{children:"Posting Schedule"})]}),o.jsx(Je,{className:"text-xs sm:text-sm break-words mt-1",children:"Set when and how often to publish posts"})]}),o.jsxs(Q,{className:"space-y-3 sm:space-y-4 p-3 sm:p-4 md:p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-4",children:[o.jsxs("div",{className:"min-w-0",children:[o.jsx(Oe,{htmlFor:"frequency",className:"text-xs sm:text-sm",children:"Frequency"}),o.jsxs(nn,{value:r.schedule.frequency,onValueChange:I,disabled:!r.enabled,children:[o.jsx(qt,{children:o.jsx(rn,{})}),o.jsxs(Yt,{children:[o.jsx(fe,{value:"daily",children:"Daily"}),o.jsx(fe,{value:"alternative",children:"Alternative Days"}),o.jsx(fe,{value:"weekly",children:"Weekly"}),o.jsx(fe,{value:"custom",children:"Custom Schedule"}),o.jsx(fe,{value:"test30s",children:"🧪 Test (30 seconds)"})]})]})]}),r.schedule.frequency!=="custom"&&r.schedule.frequency!=="test30s"&&o.jsxs("div",{className:"min-w-0",children:[o.jsxs(Oe,{htmlFor:"time",className:"text-xs sm:text-sm",children:[o.jsx(Ms,{className:"h-3 w-3 sm:h-4 sm:w-4 inline mr-1"}),o.jsx("span",{children:"Post Time"})]}),o.jsx(tt,{id:"time",type:"time",value:r.schedule.time,onChange:F=>E(F.target.value),disabled:!r.enabled,className:"text-xs sm:text-sm"})]})]}),r.schedule.frequency==="custom"&&o.jsxs("div",{className:"min-w-0",children:[o.jsx(Oe,{className:"text-xs sm:text-sm",children:"Custom Post Times"}),o.jsxs("div",{className:"space-y-2 mt-2",children:[u.map((F,te)=>o.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2",children:[o.jsx(tt,{type:"time",value:F,onChange:le=>{const pe=[...u];pe[te]=le.target.value,A(pe)},disabled:!r.enabled,className:"text-xs sm:text-sm flex-1"}),o.jsx(Y,{type:"button",variant:"outline",size:"sm",onClick:()=>C(te),disabled:!r.enabled||u.length<=1,className:"w-full sm:w-auto text-xs sm:text-sm",children:"Remove"})]},te)),o.jsx(Y,{type:"button",variant:"outline",size:"sm",onClick:S,disabled:!r.enabled,className:"w-full sm:w-auto text-xs sm:text-sm",children:"Add Time"})]})]}),r.schedule.frequency==="test30s"&&o.jsxs("div",{className:"p-2 sm:p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 text-yellow-800",children:[o.jsx(sR,{className:"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0"}),o.jsx("strong",{className:"text-xs sm:text-sm",children:"Test Mode Active"})]}),o.jsx("p",{className:"text-[10px] sm:text-xs md:text-sm text-yellow-700 mt-1 break-words",children:"Posts will be generated every 30 seconds. Remember to switch back to a normal schedule after testing!"})]})]})]})]}):o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-muted-foreground",children:"Failed to load configuration"})})}var Cz="AlertDialog",[Vye,d4e]=nr(Cz,[M8]),Fa=M8(),Tz=t=>{const{__scopeAlertDialog:e,...n}=t,r=Fa(e);return o.jsx(J8,{...r,...n,modal:!0})};Tz.displayName=Cz;var zye="AlertDialogTrigger",Gye=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Fa(n);return o.jsx(Z8,{...s,...r,ref:e})});Gye.displayName=zye;var Wye="AlertDialogPortal",kz=t=>{const{__scopeAlertDialog:e,...n}=t,r=Fa(e);return o.jsx(e9,{...r,...n})};kz.displayName=Wye;var Hye="AlertDialogOverlay",Iz=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Fa(n);return o.jsx(gC,{...s,...r,ref:e})});Iz.displayName=Hye;var Gd="AlertDialogContent",[Kye,qye]=Vye(Gd),Yye=m6("AlertDialogContent"),Rz=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=Fa(n),a=p.useRef(null),l=Ke(e,a),c=p.useRef(null);return o.jsx(Eve,{contentName:Gd,titleName:Oz,docsSlug:"alert-dialog",children:o.jsx(Kye,{scope:n,cancelRef:c,children:o.jsxs(vC,{role:"alertdialog",...i,...s,ref:l,onOpenAutoFocus:xe(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(Yye,{children:r}),o.jsx(Xye,{contentRef:a})]})})})});Rz.displayName=Gd;var Oz="AlertDialogTitle",Dz=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Fa(n);return o.jsx(yC,{...s,...r,ref:e})});Dz.displayName=Oz;var Mz="AlertDialogDescription",Lz=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Fa(n);return o.jsx(xC,{...s,...r,ref:e})});Lz.displayName=Mz;var Qye="AlertDialogAction",Fz=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Fa(n);return o.jsx(wC,{...s,...r,ref:e})});Fz.displayName=Qye;var $z="AlertDialogCancel",Uz=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=qye($z,n),i=Fa(n),a=Ke(e,s);return o.jsx(wC,{...i,...r,ref:a})});Uz.displayName=$z;var Xye=({contentRef:t})=>{const e=`\`${Gd}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Gd}\` by passing a \`${Mz}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Gd}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},Jye=Tz,Zye=kz,Bz=Iz,Vz=Rz,zz=Fz,Gz=Uz,Wz=Dz,Hz=Lz;const exe=Jye,txe=Zye,Kz=p.forwardRef(({className:t,...e},n)=>o.jsx(Bz,{className:ve("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));Kz.displayName=Bz.displayName;const qz=p.forwardRef(({className:t,...e},n)=>o.jsxs(txe,{children:[o.jsx(Kz,{}),o.jsx(Vz,{ref:n,className:ve("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));qz.displayName=Vz.displayName;const Yz=({className:t,...e})=>o.jsx("div",{className:ve("flex flex-col space-y-2 text-center sm:text-left",t),...e});Yz.displayName="AlertDialogHeader";const Qz=({className:t,...e})=>o.jsx("div",{className:ve("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Qz.displayName="AlertDialogFooter";const Xz=p.forwardRef(({className:t,...e},n)=>o.jsx(Wz,{ref:n,className:ve("text-lg font-semibold",t),...e}));Xz.displayName=Wz.displayName;const Jz=p.forwardRef(({className:t,...e},n)=>o.jsx(Hz,{ref:n,className:ve("text-sm text-muted-foreground",t),...e}));Jz.displayName=Hz.displayName;const Zz=p.forwardRef(({className:t,...e},n)=>o.jsx(zz,{ref:n,className:ve(sp(),t),...e}));Zz.displayName=zz.displayName;const e7=p.forwardRef(({className:t,...e},n)=>o.jsx(Gz,{ref:n,className:ve(sp({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));e7.displayName=Gz.displayName;var Ge=function(){return Ge=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ge.apply(this,arguments)};function nxe(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function t7(t,e,n){for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function dg(t){return t.mode==="multiple"}function hg(t){return t.mode==="range"}function vb(t){return t.mode==="single"}var rxe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function sxe(t,e){return Cn(t,"LLLL y",e)}function ixe(t,e){return Cn(t,"d",e)}function oxe(t,e){return Cn(t,"LLLL",e)}function axe(t){return"".concat(t)}function lxe(t,e){return Cn(t,"cccccc",e)}function cxe(t,e){return Cn(t,"yyyy",e)}var uxe=Object.freeze({__proto__:null,formatCaption:sxe,formatDay:ixe,formatMonthCaption:oxe,formatWeekNumber:axe,formatWeekdayName:lxe,formatYearCaption:cxe}),dxe=function(t,e,n){return Cn(t,"do MMMM (EEEE)",n)},hxe=function(){return"Month: "},fxe=function(){return"Go to next month"},mxe=function(){return"Go to previous month"},pxe=function(t,e){return Cn(t,"cccc",e)},gxe=function(t){return"Week n. ".concat(t)},vxe=function(){return"Year: "},yxe=Object.freeze({__proto__:null,labelDay:dxe,labelMonthDropdown:hxe,labelNext:fxe,labelPrevious:mxe,labelWeekNumber:gxe,labelWeekday:pxe,labelYearDropdown:vxe});function xxe(){var t="buttons",e=rxe,n=cC,r={},s={},i=1,a={},l=new Date;return{captionLayout:t,classNames:e,formatters:uxe,labels:yxe,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:i,styles:a,today:l,mode:"default"}}function wxe(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,s=t.toMonth,i=t.fromDate,a=t.toDate;return r?i=ds(r):e&&(i=new Date(e,0,1)),s?a=lb(s):n&&(a=new Date(n,11,31)),{fromDate:i?bh(i):void 0,toDate:a?bh(a):void 0}}var n7=p.createContext(void 0);function bxe(t){var e,n=t.initialProps,r=xxe(),s=wxe(n),i=s.fromDate,a=s.toDate,l=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;l!=="buttons"&&(!i||!a)&&(l="buttons");var c;(vb(n)||dg(n)||hg(n))&&(c=n.onSelect);var u=Ge(Ge(Ge({},r),n),{captionLayout:l,classNames:Ge(Ge({},r.classNames),n.classNames),components:Ge({},n.components),formatters:Ge(Ge({},r.formatters),n.formatters),fromDate:i,labels:Ge(Ge({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Ge(Ge({},r.modifiers),n.modifiers),modifiersClassNames:Ge(Ge({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:Ge(Ge({},r.styles),n.styles),toDate:a});return o.jsx(n7.Provider,{value:u,children:t.children})}function Vt(){var t=p.useContext(n7);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function r7(t){var e=Vt(),n=e.locale,r=e.classNames,s=e.styles,i=e.formatters.formatCaption;return o.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:i(t.displayMonth,{locale:n})})}function jxe(t){return o.jsx("svg",Ge({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:o.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function s7(t){var e,n,r=t.onChange,s=t.value,i=t.children,a=t.caption,l=t.className,c=t.style,u=Vt(),d=(n=(e=u.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:jxe;return o.jsxs("div",{className:l,style:c,children:[o.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),o.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:r,children:i}),o.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[a,o.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function Nxe(t){var e,n=Vt(),r=n.fromDate,s=n.toDate,i=n.styles,a=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!r)return o.jsx(o.Fragment,{});if(!s)return o.jsx(o.Fragment,{});var h=[];if(ove(r,s))for(var f=ds(r),m=r.getMonth();m<=s.getMonth();m++)h.push($j(f,m));else for(var f=ds(new Date),m=0;m<=11;m++)h.push($j(f,m));var y=function(x){var b=Number(x.target.value),w=$j(ds(t.displayMonth),b);t.onChange(w)},v=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:s7;return o.jsx(v,{name:"months","aria-label":d(),className:c.dropdown_month,style:i.dropdown_month,onChange:y,value:t.displayMonth.getMonth(),caption:l(t.displayMonth,{locale:a}),children:h.map(function(x){return o.jsx("option",{value:x.getMonth(),children:l(x,{locale:a})},x.getMonth())})})}function Sxe(t){var e,n=t.displayMonth,r=Vt(),s=r.fromDate,i=r.toDate,a=r.locale,l=r.styles,c=r.classNames,u=r.components,d=r.formatters.formatYearCaption,h=r.labels.labelYearDropdown,f=[];if(!s)return o.jsx(o.Fragment,{});if(!i)return o.jsx(o.Fragment,{});for(var m=s.getFullYear(),y=i.getFullYear(),v=m;v<=y;v++)f.push($D(P8(new Date),v));var x=function(w){var j=$D(ds(n),Number(w.target.value));t.onChange(j)},b=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:s7;return o.jsx(b,{name:"years","aria-label":h(),className:c.dropdown_year,style:l.dropdown_year,onChange:x,value:n.getFullYear(),caption:d(n,{locale:a}),children:f.map(function(w){return o.jsx("option",{value:w.getFullYear(),children:d(w,{locale:a})},w.getFullYear())})})}function _xe(t,e){var n=p.useState(t),r=n[0],s=n[1],i=e===void 0?r:e;return[i,s]}function Exe(t){var e=t.month,n=t.defaultMonth,r=t.today,s=e||n||r||new Date,i=t.toDate,a=t.fromDate,l=t.numberOfMonths,c=l===void 0?1:l;if(i&&Nh(i,s)<0){var u=-1*(c-1);s=Ki(i,u)}return a&&Nh(s,a)<0&&(s=a),ds(s)}function Pxe(){var t=Vt(),e=Exe(t),n=_xe(e,t.month),r=n[0],s=n[1],i=function(a){var l;if(!t.disableNavigation){var c=ds(a);s(c),(l=t.onMonthChange)===null||l===void 0||l.call(t,c)}};return[r,i]}function Axe(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,s=ds(t),i=ds(Ki(s,r)),a=Nh(i,s),l=[],c=0;c<a;c++){var u=Ki(s,c);l.push(u)}return n&&(l=l.reverse()),l}function Cxe(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,s=e.numberOfMonths,i=s===void 0?1:s,a=r?i:1,l=ds(t);if(!n)return Ki(l,a);var c=Nh(n,t);if(!(c<i))return Ki(l,a)}}function Txe(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,s=e.numberOfMonths,i=s===void 0?1:s,a=r?i:1,l=ds(t);if(!n)return Ki(l,-a);var c=Nh(l,n);if(!(c<=0))return Ki(l,-a)}}var i7=p.createContext(void 0);function kxe(t){var e=Vt(),n=Pxe(),r=n[0],s=n[1],i=Axe(r,e),a=Cxe(r,e),l=Txe(r,e),c=function(h){return i.some(function(f){return uC(h,f)})},u=function(h,f){c(h)||(f&&R8(h,f)?s(Ki(h,1+e.numberOfMonths*-1)):s(h))},d={currentMonth:r,displayMonths:i,goToMonth:s,goToDate:u,previousMonth:l,nextMonth:a,isDateDisplayed:c};return o.jsx(i7.Provider,{value:d,children:t.children})}function fg(){var t=p.useContext(i7);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function WD(t){var e,n=Vt(),r=n.classNames,s=n.styles,i=n.components,a=fg().goToMonth,l=function(d){a(Ki(d,t.displayIndex?-t.displayIndex:0))},c=(e=i==null?void 0:i.CaptionLabel)!==null&&e!==void 0?e:r7,u=o.jsx(c,{id:t.id,displayMonth:t.displayMonth});return o.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[o.jsx("div",{className:r.vhidden,children:u}),o.jsx(Nxe,{onChange:l,displayMonth:t.displayMonth}),o.jsx(Sxe,{onChange:l,displayMonth:t.displayMonth})]})}function Ixe(t){return o.jsx("svg",Ge({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:o.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Rxe(t){return o.jsx("svg",Ge({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:o.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var e0=p.forwardRef(function(t,e){var n=Vt(),r=n.classNames,s=n.styles,i=[r.button_reset,r.button];t.className&&i.push(t.className);var a=i.join(" "),l=Ge(Ge({},s.button_reset),s.button);return t.style&&Object.assign(l,t.style),o.jsx("button",Ge({},t,{ref:e,type:"button",className:a,style:l}))});function Oxe(t){var e,n,r=Vt(),s=r.dir,i=r.locale,a=r.classNames,l=r.styles,c=r.labels,u=c.labelPrevious,d=c.labelNext,h=r.components;if(!t.nextMonth&&!t.previousMonth)return o.jsx(o.Fragment,{});var f=u(t.previousMonth,{locale:i}),m=[a.nav_button,a.nav_button_previous].join(" "),y=d(t.nextMonth,{locale:i}),v=[a.nav_button,a.nav_button_next].join(" "),x=(e=h==null?void 0:h.IconRight)!==null&&e!==void 0?e:Rxe,b=(n=h==null?void 0:h.IconLeft)!==null&&n!==void 0?n:Ixe;return o.jsxs("div",{className:a.nav,style:l.nav,children:[!t.hidePrevious&&o.jsx(e0,{name:"previous-month","aria-label":f,className:m,style:l.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:s==="rtl"?o.jsx(x,{className:a.nav_icon,style:l.nav_icon}):o.jsx(b,{className:a.nav_icon,style:l.nav_icon})}),!t.hideNext&&o.jsx(e0,{name:"next-month","aria-label":y,className:v,style:l.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:s==="rtl"?o.jsx(b,{className:a.nav_icon,style:l.nav_icon}):o.jsx(x,{className:a.nav_icon,style:l.nav_icon})})]})}function HD(t){var e=Vt().numberOfMonths,n=fg(),r=n.previousMonth,s=n.nextMonth,i=n.goToMonth,a=n.displayMonths,l=a.findIndex(function(y){return uC(t.displayMonth,y)}),c=l===0,u=l===a.length-1,d=e>1&&(c||!u),h=e>1&&(u||!c),f=function(){r&&i(r)},m=function(){s&&i(s)};return o.jsx(Oxe,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:h,nextMonth:s,previousMonth:r,onPreviousClick:f,onNextClick:m})}function Dxe(t){var e,n=Vt(),r=n.classNames,s=n.disableNavigation,i=n.styles,a=n.captionLayout,l=n.components,c=(e=l==null?void 0:l.CaptionLabel)!==null&&e!==void 0?e:r7,u;return s?u=o.jsx(c,{id:t.id,displayMonth:t.displayMonth}):a==="dropdown"?u=o.jsx(WD,{displayMonth:t.displayMonth,id:t.id}):a==="dropdown-buttons"?u=o.jsxs(o.Fragment,{children:[o.jsx(WD,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),o.jsx(HD,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=o.jsxs(o.Fragment,{children:[o.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),o.jsx(HD,{displayMonth:t.displayMonth,id:t.id})]}),o.jsx("div",{className:r.caption,style:i.caption,children:u})}function Mxe(t){var e=Vt(),n=e.footer,r=e.styles,s=e.classNames.tfoot;return n?o.jsx("tfoot",{className:s,style:r.tfoot,children:o.jsx("tr",{children:o.jsx("td",{colSpan:8,children:n})})}):o.jsx(o.Fragment,{})}function Lxe(t,e,n){for(var r=n?Au(new Date):To(new Date,{locale:t,weekStartsOn:e}),s=[],i=0;i<7;i++){var a=Ur(r,i);s.push(a)}return s}function Fxe(){var t=Vt(),e=t.classNames,n=t.styles,r=t.showWeekNumber,s=t.locale,i=t.weekStartsOn,a=t.ISOWeek,l=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,u=Lxe(s,i,a);return o.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&o.jsx("td",{style:n.head_cell,className:e.head_cell}),u.map(function(d,h){return o.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":c(d,{locale:s}),children:l(d,{locale:s})},h)})]})}function $xe(){var t,e=Vt(),n=e.classNames,r=e.styles,s=e.components,i=(t=s==null?void 0:s.HeadRow)!==null&&t!==void 0?t:Fxe;return o.jsx("thead",{style:r.head,className:n.head,children:o.jsx(i,{})})}function Uxe(t){var e=Vt(),n=e.locale,r=e.formatters.formatDay;return o.jsx(o.Fragment,{children:r(t.date,{locale:n})})}var AC=p.createContext(void 0);function Bxe(t){if(!dg(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return o.jsx(AC.Provider,{value:e,children:t.children})}return o.jsx(Vxe,{initialProps:t.initialProps,children:t.children})}function Vxe(t){var e=t.initialProps,n=t.children,r=e.selected,s=e.min,i=e.max,a=function(u,d,h){var f,m;(f=e.onDayClick)===null||f===void 0||f.call(e,u,d,h);var y=!!(d.selected&&s&&(r==null?void 0:r.length)===s);if(!y){var v=!!(!d.selected&&i&&(r==null?void 0:r.length)===i);if(!v){var x=r?t7([],r):[];if(d.selected){var b=x.findIndex(function(w){return os(u,w)});x.splice(b,1)}else x.push(u);(m=e.onSelect)===null||m===void 0||m.call(e,x,u,d,h)}}},l={disabled:[]};r&&l.disabled.push(function(u){var d=i&&r.length>i-1,h=r.some(function(f){return os(f,u)});return!!(d&&!h)});var c={selected:r,onDayClick:a,modifiers:l};return o.jsx(AC.Provider,{value:c,children:n})}function CC(){var t=p.useContext(AC);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function zxe(t,e){var n=e||{},r=n.from,s=n.to;return r&&s?os(s,t)&&os(r,t)?void 0:os(s,t)?{from:s,to:void 0}:os(r,t)?void 0:v_(r,t)?{from:t,to:s}:{from:r,to:t}:s?v_(t,s)?{from:s,to:t}:{from:t,to:s}:r?R8(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var TC=p.createContext(void 0);function Gxe(t){if(!hg(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return o.jsx(TC.Provider,{value:e,children:t.children})}return o.jsx(Wxe,{initialProps:t.initialProps,children:t.children})}function Wxe(t){var e=t.initialProps,n=t.children,r=e.selected,s=r||{},i=s.from,a=s.to,l=e.min,c=e.max,u=function(m,y,v){var x,b;(x=e.onDayClick)===null||x===void 0||x.call(e,m,y,v);var w=zxe(m,r);(b=e.onSelect)===null||b===void 0||b.call(e,w,m,y,v)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],a?(d.range_end=[a],os(i,a)||(d.range_middle=[{after:i,before:a}])):d.range_end=[i]):a&&(d.range_start=[a],d.range_end=[a]),l&&(i&&!a&&d.disabled.push({after:Fj(i,l-1),before:Ur(i,l-1)}),i&&a&&d.disabled.push({after:i,before:Ur(i,l-1)}),!i&&a&&d.disabled.push({after:Fj(a,l-1),before:Ur(a,l-1)})),c){if(i&&!a&&(d.disabled.push({before:Ur(i,-c+1)}),d.disabled.push({after:Ur(i,c-1)})),i&&a){var h=po(a,i)+1,f=c-h;d.disabled.push({before:Fj(i,f)}),d.disabled.push({after:Ur(a,f)})}!i&&a&&(d.disabled.push({before:Ur(a,-c+1)}),d.disabled.push({after:Ur(a,c-1)}))}return o.jsx(TC.Provider,{value:{selected:r,onDayClick:u,modifiers:d},children:n})}function kC(){var t=p.useContext(TC);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function Dy(t){return Array.isArray(t)?t7([],t):t!==void 0?[t]:[]}function Hxe(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],s=n[1];e[r]=Dy(s)}),e}var qi;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(qi||(qi={}));var Kxe=qi.Selected,Ko=qi.Disabled,qxe=qi.Hidden,Yxe=qi.Today,Bj=qi.RangeEnd,Vj=qi.RangeMiddle,zj=qi.RangeStart,Qxe=qi.Outside;function Xxe(t,e,n){var r,s=(r={},r[Kxe]=Dy(t.selected),r[Ko]=Dy(t.disabled),r[qxe]=Dy(t.hidden),r[Yxe]=[t.today],r[Bj]=[],r[Vj]=[],r[zj]=[],r[Qxe]=[],r);return t.fromDate&&s[Ko].push({before:t.fromDate}),t.toDate&&s[Ko].push({after:t.toDate}),dg(t)?s[Ko]=s[Ko].concat(e.modifiers[Ko]):hg(t)&&(s[Ko]=s[Ko].concat(n.modifiers[Ko]),s[zj]=n.modifiers[zj],s[Vj]=n.modifiers[Vj],s[Bj]=n.modifiers[Bj]),s}var o7=p.createContext(void 0);function Jxe(t){var e=Vt(),n=CC(),r=kC(),s=Xxe(e,n,r),i=Hxe(e.modifiers),a=Ge(Ge({},s),i);return o.jsx(o7.Provider,{value:a,children:t.children})}function a7(){var t=p.useContext(o7);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function Zxe(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function e0e(t){return!!(t&&typeof t=="object"&&"from"in t)}function t0e(t){return!!(t&&typeof t=="object"&&"after"in t)}function n0e(t){return!!(t&&typeof t=="object"&&"before"in t)}function r0e(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function s0e(t,e){var n,r=e.from,s=e.to;if(r&&s){var i=po(s,r)<0;i&&(n=[s,r],r=n[0],s=n[1]);var a=po(t,r)>=0&&po(s,t)>=0;return a}return s?os(s,t):r?os(r,t):!1}function i0e(t){return aC(t)}function o0e(t){return Array.isArray(t)&&t.every(aC)}function a0e(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(i0e(n))return os(t,n);if(o0e(n))return n.includes(t);if(e0e(n))return s0e(t,n);if(r0e(n))return n.dayOfWeek.includes(t.getDay());if(Zxe(n)){var r=po(n.before,t),s=po(n.after,t),i=r>0,a=s<0,l=v_(n.before,n.after);return l?a&&i:i||a}return t0e(n)?po(t,n.after)>0:n0e(n)?po(n.before,t)>0:typeof n=="function"?n(t):!1})}function IC(t,e,n){var r=Object.keys(e).reduce(function(i,a){var l=e[a];return a0e(t,l)&&i.push(a),i},[]),s={};return r.forEach(function(i){return s[i]=!0}),n&&!uC(t,n)&&(s.outside=!0),s}function l0e(t,e){for(var n=ds(t[0]),r=lb(t[t.length-1]),s,i,a=n;a<=r;){var l=IC(a,e),c=!l.disabled&&!l.hidden;if(!c){a=Ur(a,1);continue}if(l.selected)return a;l.today&&!i&&(i=a),s||(s=a),a=Ur(a,1)}return i||s}var c0e=365;function l7(t,e){var n=e.moveBy,r=e.direction,s=e.context,i=e.modifiers,a=e.retry,l=a===void 0?{count:0,lastFocused:t}:a,c=s.weekStartsOn,u=s.fromDate,d=s.toDate,h=s.locale,f={day:Ur,week:g_,month:Ki,year:Kpe,startOfWeek:function(x){return s.ISOWeek?Au(x):To(x,{locale:h,weekStartsOn:c})},endOfWeek:function(x){return s.ISOWeek?A8(x):lC(x,{locale:h,weekStartsOn:c})}},m=f[n](t,r==="after"?1:-1);r==="before"&&u?m=qpe([u,m]):r==="after"&&d&&(m=Ype([d,m]));var y=!0;if(i){var v=IC(m,i);y=!v.disabled&&!v.hidden}return y?m:l.count>c0e?l.lastFocused:l7(m,{moveBy:n,direction:r,context:s,modifiers:i,retry:Ge(Ge({},l),{count:l.count+1})})}var c7=p.createContext(void 0);function u0e(t){var e=fg(),n=a7(),r=p.useState(),s=r[0],i=r[1],a=p.useState(),l=a[0],c=a[1],u=l0e(e.displayMonths,n),d=s??(l&&e.isDateDisplayed(l))?l:u,h=function(){c(s),i(void 0)},f=function(x){i(x)},m=Vt(),y=function(x,b){if(s){var w=l7(s,{moveBy:x,direction:b,context:m,modifiers:n});os(s,w)||(e.goToDate(w,s),f(w))}},v={focusedDay:s,focusTarget:d,blur:h,focus:f,focusDayAfter:function(){return y("day","after")},focusDayBefore:function(){return y("day","before")},focusWeekAfter:function(){return y("week","after")},focusWeekBefore:function(){return y("week","before")},focusMonthBefore:function(){return y("month","before")},focusMonthAfter:function(){return y("month","after")},focusYearBefore:function(){return y("year","before")},focusYearAfter:function(){return y("year","after")},focusStartOfWeek:function(){return y("startOfWeek","before")},focusEndOfWeek:function(){return y("endOfWeek","after")}};return o.jsx(c7.Provider,{value:v,children:t.children})}function RC(){var t=p.useContext(c7);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function d0e(t,e){var n=a7(),r=IC(t,n,e);return r}var OC=p.createContext(void 0);function h0e(t){if(!vb(t.initialProps)){var e={selected:void 0};return o.jsx(OC.Provider,{value:e,children:t.children})}return o.jsx(f0e,{initialProps:t.initialProps,children:t.children})}function f0e(t){var e=t.initialProps,n=t.children,r=function(i,a,l){var c,u,d;if((c=e.onDayClick)===null||c===void 0||c.call(e,i,a,l),a.selected&&!e.required){(u=e.onSelect)===null||u===void 0||u.call(e,void 0,i,a,l);return}(d=e.onSelect)===null||d===void 0||d.call(e,i,i,a,l)},s={selected:e.selected,onDayClick:r};return o.jsx(OC.Provider,{value:s,children:n})}function u7(){var t=p.useContext(OC);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function m0e(t,e){var n=Vt(),r=u7(),s=CC(),i=kC(),a=RC(),l=a.focusDayAfter,c=a.focusDayBefore,u=a.focusWeekAfter,d=a.focusWeekBefore,h=a.blur,f=a.focus,m=a.focusMonthBefore,y=a.focusMonthAfter,v=a.focusYearBefore,x=a.focusYearAfter,b=a.focusStartOfWeek,w=a.focusEndOfWeek,j=function($){var D,L,W,J;vb(n)?(D=r.onDayClick)===null||D===void 0||D.call(r,t,e,$):dg(n)?(L=s.onDayClick)===null||L===void 0||L.call(s,t,e,$):hg(n)?(W=i.onDayClick)===null||W===void 0||W.call(i,t,e,$):(J=n.onDayClick)===null||J===void 0||J.call(n,t,e,$)},N=function($){var D;f(t),(D=n.onDayFocus)===null||D===void 0||D.call(n,t,e,$)},T=function($){var D;h(),(D=n.onDayBlur)===null||D===void 0||D.call(n,t,e,$)},I=function($){var D;(D=n.onDayMouseEnter)===null||D===void 0||D.call(n,t,e,$)},P=function($){var D;(D=n.onDayMouseLeave)===null||D===void 0||D.call(n,t,e,$)},E=function($){var D;(D=n.onDayPointerEnter)===null||D===void 0||D.call(n,t,e,$)},A=function($){var D;(D=n.onDayPointerLeave)===null||D===void 0||D.call(n,t,e,$)},S=function($){var D;(D=n.onDayTouchCancel)===null||D===void 0||D.call(n,t,e,$)},C=function($){var D;(D=n.onDayTouchEnd)===null||D===void 0||D.call(n,t,e,$)},O=function($){var D;(D=n.onDayTouchMove)===null||D===void 0||D.call(n,t,e,$)},k=function($){var D;(D=n.onDayTouchStart)===null||D===void 0||D.call(n,t,e,$)},B=function($){var D;(D=n.onDayKeyUp)===null||D===void 0||D.call(n,t,e,$)},G=function($){var D;switch($.key){case"ArrowLeft":$.preventDefault(),$.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":$.preventDefault(),$.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":$.preventDefault(),$.stopPropagation(),u();break;case"ArrowUp":$.preventDefault(),$.stopPropagation(),d();break;case"PageUp":$.preventDefault(),$.stopPropagation(),$.shiftKey?v():m();break;case"PageDown":$.preventDefault(),$.stopPropagation(),$.shiftKey?x():y();break;case"Home":$.preventDefault(),$.stopPropagation(),b();break;case"End":$.preventDefault(),$.stopPropagation(),w();break}(D=n.onDayKeyDown)===null||D===void 0||D.call(n,t,e,$)},U={onClick:j,onFocus:N,onBlur:T,onKeyDown:G,onKeyUp:B,onMouseEnter:I,onMouseLeave:P,onPointerEnter:E,onPointerLeave:A,onTouchCancel:S,onTouchEnd:C,onTouchMove:O,onTouchStart:k};return U}function p0e(){var t=Vt(),e=u7(),n=CC(),r=kC(),s=vb(t)?e.selected:dg(t)?n.selected:hg(t)?r.selected:void 0;return s}function g0e(t){return Object.values(qi).includes(t)}function v0e(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var s=t.modifiersClassNames[r];if(s)n.push(s);else if(g0e(r)){var i=t.classNames["day_".concat(r)];i&&n.push(i)}}),n}function y0e(t,e){var n=Ge({},t.styles.day);return Object.keys(e).forEach(function(r){var s;n=Ge(Ge({},n),(s=t.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function x0e(t,e,n){var r,s,i,a=Vt(),l=RC(),c=d0e(t,e),u=m0e(t,c),d=p0e(),h=!!(a.onDayClick||a.mode!=="default");p.useEffect(function(){var I;c.outside||l.focusedDay&&h&&os(l.focusedDay,t)&&((I=n.current)===null||I===void 0||I.focus())},[l.focusedDay,t,n,h,c.outside]);var f=v0e(a,c).join(" "),m=y0e(a,c),y=!!(c.outside&&!a.showOutsideDays||c.hidden),v=(i=(s=a.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:Uxe,x=o.jsx(v,{date:t,displayMonth:e,activeModifiers:c}),b={style:m,className:f,children:x,role:"gridcell"},w=l.focusTarget&&os(l.focusTarget,t)&&!c.outside,j=l.focusedDay&&os(l.focusedDay,t),N=Ge(Ge(Ge({},b),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=j||w?0:-1,r)),u),T={isButton:h,isHidden:y,activeModifiers:c,selectedDays:d,buttonProps:N,divProps:b};return T}function w0e(t){var e=p.useRef(null),n=x0e(t.date,t.displayMonth,e);return n.isHidden?o.jsx("div",{role:"gridcell"}):n.isButton?o.jsx(e0,Ge({name:"day",ref:e},n.buttonProps)):o.jsx("div",Ge({},n.divProps))}function b0e(t){var e=t.number,n=t.dates,r=Vt(),s=r.onWeekNumberClick,i=r.styles,a=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(e),{locale:l});if(!s)return o.jsx("span",{className:a.weeknumber,style:i.weeknumber,children:d});var h=c(Number(e),{locale:l}),f=function(m){s(e,n,m)};return o.jsx(e0,{name:"week-number","aria-label":h,className:a.weeknumber,style:i.weeknumber,onClick:f,children:d})}function j0e(t){var e,n,r=Vt(),s=r.styles,i=r.classNames,a=r.showWeekNumber,l=r.components,c=(e=l==null?void 0:l.Day)!==null&&e!==void 0?e:w0e,u=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:b0e,d;return a&&(d=o.jsx("td",{className:i.cell,style:s.cell,children:o.jsx(u,{number:t.weekNumber,dates:t.dates})})),o.jsxs("tr",{className:i.row,style:s.row,children:[d,t.dates.map(function(h){return o.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:o.jsx(c,{displayMonth:t.displayMonth,date:h})},rve(h))})]})}function KD(t,e,n){for(var r=n!=null&&n.ISOWeek?A8(e):lC(e,n),s=n!=null&&n.ISOWeek?Au(t):To(t,n),i=po(r,s),a=[],l=0;l<=i;l++)a.push(Ur(s,l));var c=a.reduce(function(u,d){var h=n!=null&&n.ISOWeek?C8(d):k8(d,n),f=u.find(function(m){return m.weekNumber===h});return f?(f.dates.push(d),u):(u.push({weekNumber:h,dates:[d]}),u)},[]);return c}function N0e(t,e){var n=KD(ds(t),lb(t),e);if(e!=null&&e.useFixedWeeks){var r=ive(t,e);if(r<6){var s=n[n.length-1],i=s.dates[s.dates.length-1],a=g_(i,6-r),l=KD(g_(i,1),a,e);n.push.apply(n,l)}}return n}function S0e(t){var e,n,r,s=Vt(),i=s.locale,a=s.classNames,l=s.styles,c=s.hideHead,u=s.fixedWeeks,d=s.components,h=s.weekStartsOn,f=s.firstWeekContainsDate,m=s.ISOWeek,y=N0e(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:i,weekStartsOn:h,firstWeekContainsDate:f}),v=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:$xe,x=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:j0e,b=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:Mxe;return o.jsxs("table",{id:t.id,className:a.table,style:l.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&o.jsx(v,{}),o.jsx("tbody",{className:a.tbody,style:l.tbody,children:y.map(function(w){return o.jsx(x,{displayMonth:t.displayMonth,dates:w.dates,weekNumber:w.weekNumber},w.weekNumber)})}),o.jsx(b,{displayMonth:t.displayMonth})]})}function _0e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var E0e=_0e()?p.useLayoutEffect:p.useEffect,Gj=!1,P0e=0;function qD(){return"react-day-picker-".concat(++P0e)}function A0e(t){var e,n=t??(Gj?qD():null),r=p.useState(n),s=r[0],i=r[1];return E0e(function(){s===null&&i(qD())},[]),p.useEffect(function(){Gj===!1&&(Gj=!0)},[]),(e=t??s)!==null&&e!==void 0?e:void 0}function C0e(t){var e,n,r=Vt(),s=r.dir,i=r.classNames,a=r.styles,l=r.components,c=fg().displayMonths,u=A0e(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,h=[i.month],f=a.month,m=t.displayIndex===0,y=t.displayIndex===c.length-1,v=!m&&!y;s==="rtl"&&(e=[m,y],y=e[0],m=e[1]),m&&(h.push(i.caption_start),f=Ge(Ge({},f),a.caption_start)),y&&(h.push(i.caption_end),f=Ge(Ge({},f),a.caption_end)),v&&(h.push(i.caption_between),f=Ge(Ge({},f),a.caption_between));var x=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:Dxe;return o.jsxs("div",{className:h.join(" "),style:f,children:[o.jsx(x,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),o.jsx(S0e,{id:d,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function T0e(t){var e=Vt(),n=e.classNames,r=e.styles;return o.jsx("div",{className:n.months,style:r.months,children:t.children})}function k0e(t){var e,n,r=t.initialProps,s=Vt(),i=RC(),a=fg(),l=p.useState(!1),c=l[0],u=l[1];p.useEffect(function(){s.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[s.initialFocus,c,i.focus,i.focusTarget,i]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var h=Ge(Ge({},s.styles.root),s.style),f=Object.keys(r).filter(function(y){return y.startsWith("data-")}).reduce(function(y,v){var x;return Ge(Ge({},y),(x={},x[v]=r[v],x))},{}),m=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:T0e;return o.jsx("div",Ge({className:d.join(" "),style:h,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},f,{children:o.jsx(m,{children:a.displayMonths.map(function(y,v){return o.jsx(C0e,{displayIndex:v,displayMonth:y},v)})})}))}function I0e(t){var e=t.children,n=nxe(t,["children"]);return o.jsx(bxe,{initialProps:n,children:o.jsx(kxe,{children:o.jsx(h0e,{initialProps:n,children:o.jsx(Bxe,{initialProps:n,children:o.jsx(Gxe,{initialProps:n,children:o.jsx(Jxe,{children:o.jsx(u0e,{children:e})})})})})})})}function R0e(t){return o.jsx(I0e,Ge({},t,{children:o.jsx(k0e,{initialProps:t})}))}function d7({className:t,classNames:e,showOutsideDays:n=!0,...r}){return o.jsx(R0e,{showOutsideDays:n,className:ve("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ve(sp({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ve(sp({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...s})=>o.jsx(WJ,{className:"h-4 w-4"}),IconRight:({...s})=>o.jsx(cx,{className:"h-4 w-4"})},...r})}d7.displayName="Calendar";var yb="Popover",[h7,h4e]=nr(yb,[hc]),mg=hc(),[O0e,bc]=h7(yb),f7=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!1}=t,l=mg(e),c=p.useRef(null),[u,d]=p.useState(!1),[h,f]=zi({prop:r,defaultProp:s??!1,onChange:i,caller:yb});return o.jsx(gw,{...l,children:o.jsx(O0e,{scope:e,contentId:ui(),triggerRef:c,open:h,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(m=>!m),[f]),hasCustomAnchor:u,onCustomAnchorAdd:p.useCallback(()=>d(!0),[]),onCustomAnchorRemove:p.useCallback(()=>d(!1),[]),modal:a,children:n})})};f7.displayName=yb;var m7="PopoverAnchor",D0e=p.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=bc(m7,n),i=mg(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:l}=s;return p.useEffect(()=>(a(),()=>l()),[a,l]),o.jsx(Up,{...i,...r,ref:e})});D0e.displayName=m7;var p7="PopoverTrigger",g7=p.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=bc(p7,n),i=mg(n),a=Ke(e,s.triggerRef),l=o.jsx(De.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":b7(s.open),...r,ref:a,onClick:xe(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:o.jsx(Up,{asChild:!0,...i,children:l})});g7.displayName=p7;var DC="PopoverPortal",[M0e,L0e]=h7(DC,{forceMount:void 0}),v7=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,i=bc(DC,e);return o.jsx(M0e,{scope:e,forceMount:n,children:o.jsx(rr,{present:n||i.open,children:o.jsx(Bh,{asChild:!0,container:s,children:r})})})};v7.displayName=DC;var Sh="PopoverContent",y7=p.forwardRef((t,e)=>{const n=L0e(Sh,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,i=bc(Sh,t.__scopePopover);return o.jsx(rr,{present:r||i.open,children:i.modal?o.jsx($0e,{...s,ref:e}):o.jsx(U0e,{...s,ref:e})})});y7.displayName=Sh;var F0e=ql("PopoverContent.RemoveScroll"),$0e=p.forwardRef((t,e)=>{const n=bc(Sh,t.__scopePopover),r=p.useRef(null),s=Ke(e,r),i=p.useRef(!1);return p.useEffect(()=>{const a=r.current;if(a)return Jw(a)},[]),o.jsx(sg,{as:F0e,allowPinchZoom:!0,children:o.jsx(x7,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:xe(t.onCloseAutoFocus,a=>{var l;a.preventDefault(),i.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:xe(t.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:xe(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),U0e=p.forwardRef((t,e)=>{const n=bc(Sh,t.__scopePopover),r=p.useRef(!1),s=p.useRef(!1);return o.jsx(x7,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),x7=p.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...h}=t,f=bc(Sh,n),m=mg(n);return Xw(),o.jsx(ng,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(Vu,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:o.jsx(vw,{"data-state":b7(f.open),role:"dialog",id:f.contentId,...m,...h,ref:e,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),w7="PopoverClose",B0e=p.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=bc(w7,n);return o.jsx(De.button,{type:"button",...r,ref:e,onClick:xe(t.onClick,()=>s.onOpenChange(!1))})});B0e.displayName=w7;var V0e="PopoverArrow",z0e=p.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=mg(n);return o.jsx(yw,{...s,...r,ref:e})});z0e.displayName=V0e;function b7(t){return t?"open":"closed"}var G0e=f7,W0e=g7,H0e=v7,j7=y7;const K0e=G0e,q0e=W0e,N7=p.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>o.jsx(H0e,{children:o.jsx(j7,{ref:s,align:e,sideOffset:n,className:ve("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));N7.displayName=j7.displayName;const S7=({open:t,onOpenChange:e,onSubmit:n,profileId:r,availableProfiles:s=[]})=>{const[i,a]=p.useState(""),[l,c]=p.useState(r),[u,d]=p.useState("now"),[h,f]=p.useState(),[m,y]=p.useState(""),[v,x]=p.useState(null),[b,w]=p.useState(""),[j,N]=p.useState(!1),[T,I]=p.useState("none"),[P,E]=p.useState("");p.useEffect(()=>{r?(c(r),console.log("[CreatePostModal] Selected profile from prop:",r)):s.length>0&&(c(s[0].id),console.log("[CreatePostModal] Auto-selected first profile:",s[0].name,s[0].id))},[r,s,t]),p.useEffect(()=>{t&&console.log("[CreatePostModal] Modal opened with:",{availableProfiles:s.length,selectedProfileId:l,profiles:s.map(k=>({id:k.id,name:k.name}))})},[t]);const A=k=>{var G;const B=(G=k.target.files)==null?void 0:G[0];if(B){x(B);const U=new FileReader;U.onload=$=>{var D;w((D=$.target)==null?void 0:D.result)},U.readAsDataURL(B)}},S=()=>{x(null),w("")},C=()=>{const k=new Date;switch(u){case"1hr":return new Date(k.getTime()+60*60*1e3);case"2hr":return new Date(k.getTime()+2*60*60*1e3);case"3hr":return new Date(k.getTime()+3*60*60*1e3);case"custom":if(h&&m){const[B,G]=m.split(":").map(Number),U=new Date(h);return U.setHours(B,G),U}return null;default:return null}},O=async k=>{if(k.preventDefault(),!(!i.trim()||!l)){N(!0);try{const B=C(),G={profileId:l,content:i.trim(),scheduledAt:B==null?void 0:B.toISOString(),image:v,status:u==="now"?"published":"scheduled",button:T!=="none"?{type:T,url:P}:null};await n(G),a(""),c(r),d("now"),f(void 0),y(""),x(null),w(""),I("none"),E("")}catch(B){console.error("Error creating post:",B)}finally{N(!1)}}};return o.jsx(pi,{open:t,onOpenChange:e,children:o.jsxs(Ls,{className:"w-[95vw] max-w-[525px] max-h-[90vh] overflow-y-auto",onOpenAutoFocus:k=>k.preventDefault(),children:[o.jsxs(Fs,{children:[o.jsx($s,{children:"Create New Post"}),o.jsx(Us,{children:"Create and schedule a post for your business profile"})]}),o.jsxs("form",{onSubmit:O,className:"space-y-3 sm:space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Oe,{htmlFor:"profile",children:"Business Profile"}),s.length===0?o.jsx("div",{className:"text-sm text-muted-foreground p-3 border border-dashed rounded-md",children:"No business profiles available. Please connect your Google Business Profile first."}):o.jsxs(nn,{value:l||"",onValueChange:k=>{console.log("[CreatePostModal] Profile selected:",k),c(k)},children:[o.jsxs(qt,{className:"w-full",children:[o.jsx(Ml,{className:"mr-2 h-4 w-4 flex-shrink-0"}),o.jsx(rn,{placeholder:"Select a business profile"})]}),o.jsx(Yt,{className:"z-[9999]",position:"popper",sideOffset:5,align:"start",children:s.map(k=>o.jsx(fe,{value:k.id,children:o.jsxs("div",{className:"flex flex-col py-1",children:[o.jsx("span",{className:"font-medium text-sm",children:k.name}),o.jsx("span",{className:"text-xs text-muted-foreground",children:k.accountName})]})},k.id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Oe,{htmlFor:"content",children:"Post Content"}),o.jsx(Kh,{id:"content",placeholder:"What would you like to share with your customers?",value:i,onChange:k=>a(k.target.value),className:"min-h-[80px] sm:min-h-[100px] text-sm",required:!0}),o.jsxs("div",{className:"text-xs text-muted-foreground text-right",children:[i.length,"/500 characters"]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Oe,{children:"Image (Optional)"}),b?o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:b,alt:"Preview",className:"w-full h-24 sm:h-32 object-cover rounded-lg"}),o.jsx(Y,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2 h-6 w-6 p-0",onClick:S,children:o.jsx(Yi,{className:"h-3 w-3"})})]}):o.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-4 text-center",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:A,className:"hidden",id:"image-upload"}),o.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer flex flex-col items-center gap-2",children:[o.jsx(xy,{className:"h-8 w-8 text-muted-foreground"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"Click to upload an image"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Oe,{className:"flex items-center gap-2",children:[o.jsx(SP,{className:"h-4 w-4"}),"Add Button (Optional)"]}),o.jsxs(nn,{value:T,onValueChange:I,children:[o.jsx(qt,{className:"w-full",children:o.jsx(rn,{placeholder:"Select button type"})}),o.jsxs(Yt,{className:"z-[9999]",position:"popper",sideOffset:5,align:"start",children:[o.jsx(fe,{value:"none",children:"No Button"}),o.jsx(fe,{value:"book",children:"Book"}),o.jsx(fe,{value:"order",children:"Order Online"}),o.jsx(fe,{value:"buy",children:"Buy"}),o.jsx(fe,{value:"learn_more",children:"Learn More"}),o.jsx(fe,{value:"sign_up",children:"Sign Up"}),o.jsx(fe,{value:"call",children:"Call Now"})]})]})]}),T!=="none"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(Oe,{htmlFor:"buttonUrl",children:"Button URL"}),o.jsx(tt,{id:"buttonUrl",type:"url",placeholder:"https://example.com",value:P,onChange:k=>E(k.target.value),required:T!=="none"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Where should the button redirect when clicked?"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Oe,{children:"Schedule"}),o.jsxs(nn,{value:u,onValueChange:k=>d(k),children:[o.jsx(qt,{className:"w-full",children:o.jsx(rn,{placeholder:"When to publish"})}),o.jsxs(Yt,{className:"z-[9999]",position:"popper",sideOffset:5,align:"start",children:[o.jsx(fe,{value:"now",children:"Post Now"}),o.jsx(fe,{value:"1hr",children:"In 1 Hour"}),o.jsx(fe,{value:"2hr",children:"In 2 Hours"}),o.jsx(fe,{value:"3hr",children:"In 3 Hours"}),o.jsx(fe,{value:"custom",children:"Custom Date & Time"})]})]})]}),u==="custom"&&o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Oe,{children:"Date"}),o.jsxs(K0e,{children:[o.jsx(q0e,{asChild:!0,children:o.jsxs(Y,{variant:"outline",className:ve("w-full justify-start text-left font-normal",!h&&"text-muted-foreground"),children:[o.jsx(Ds,{className:"mr-2 h-4 w-4"}),h?Cn(h,"PPP"):"Pick a date"]})}),o.jsx(N7,{className:"w-auto p-0",children:o.jsx(d7,{mode:"single",selected:h,onSelect:f,disabled:k=>k<new Date,initialFocus:!0})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Oe,{htmlFor:"time",children:"Time"}),o.jsx(tt,{id:"time",type:"time",value:m,onChange:k=>y(k.target.value),required:u==="custom"})]})]}),o.jsxs(Tu,{className:"flex-col sm:flex-row gap-2 sm:gap-0",children:[o.jsx(Y,{type:"button",variant:"outline",onClick:()=>e(!1),className:"w-full sm:w-auto order-2 sm:order-1",children:"Cancel"}),o.jsx(Y,{type:"submit",disabled:j||!i.trim()||!l,className:"bg-primary hover:bg-primary-hover w-full sm:w-auto order-1 sm:order-2",children:j?"Creating...":u==="now"?"Post Now":"Schedule Post"})]})]})]})})},Y0e=({profileId:t})=>{const[e,n]=p.useState([]),[r,s]=p.useState(!0),[i,a]=p.useState(!1),[l,c]=p.useState(null),[u,d]=p.useState(!1),[h,f]=p.useState(null),[m,y]=p.useState(!1),{addNotification:v}=ab();p.useEffect(()=>{(async()=>{if(!t){s(!1);return}s(!0);try{console.log("PostsTab: Fetching posts for profileId:",t);const S=(await Nt.getLocationPosts(t)).map(C=>({id:C.id,content:C.summary||"",status:"published",postedAt:C.createTime}));console.log("PostsTab: Loaded",S.length,"posts"),n(S),s(!1)}catch(A){console.error("Error fetching posts:",A),n([]),s(!1)}})()},[t]);const x=E=>new Date(E).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),b=E=>{switch(E){case"published":return o.jsx(Ee,{variant:"default",className:"bg-success text-success-foreground",children:"Published"});case"scheduled":return o.jsx(Ee,{variant:"secondary",className:"bg-warning/10 text-warning border-warning/20",children:"Scheduled"});case"draft":return o.jsx(Ee,{variant:"outline",children:"Draft"});default:return o.jsx(Ee,{variant:"outline",children:E})}},w=async()=>{if(t)try{const A=(await Nt.getLocationPosts(t)).map(S=>({id:S.id,content:S.summary||"",status:"published",postedAt:S.createTime}));n(A)}catch(E){console.error("Error refreshing posts:",E)}},j=async E=>{try{console.log("Creating post:",E);const A=`Profile ${t}`;E.scheduledAt?v({type:"post",title:"Post Scheduled",message:`Post scheduled for ${A} at ${new Date(E.scheduledAt).toLocaleDateString()}.`,actionUrl:"/posts"}):v({type:"post",title:"Post Created",message:`Post created for ${A} and sent to Google Business Profile.`,actionUrl:"/posts"}),a(!1),c(null),await w(),je({title:"Post Created",description:"Your post has been successfully created and published."})}catch(A){console.error("Error creating post:",A),je({title:"Error",description:"Failed to create post. Please try again.",variant:"destructive"})}},N=E=>{c(E),a(!0)},T=async E=>{try{const A={content:E.content,profileId:t};await j(A),je({title:"Post Duplicated",description:"Post has been successfully duplicated."})}catch(A){console.error("Error duplicating post:",A),je({title:"Error",description:"Failed to duplicate post. Please try again.",variant:"destructive"})}},I=async()=>{if(h){y(!0);try{n(E=>E.filter(A=>A.id!==h.id)),v({type:"post",title:"Post Deleted",message:"Post has been successfully deleted.",actionUrl:"/posts"}),je({title:"Post Deleted",description:"Your post has been successfully deleted."}),d(!1),f(null)}catch(E){console.error("Error deleting post:",E),je({title:"Error",description:"Failed to delete post. Please try again.",variant:"destructive"})}finally{y(!1)}}},P=E=>{f(E),d(!0)};return o.jsxs(o.Fragment,{children:[o.jsxs(q,{className:"shadow-card border-0",children:[o.jsx(me,{children:o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx(ge,{className:"text-lg sm:text-xl",children:"Posts & Updates"}),o.jsxs(Y,{onClick:()=>a(!0),className:"bg-primary hover:bg-primary-hover text-xs sm:text-sm px-2 sm:px-4",size:"sm",children:[o.jsx(Yl,{className:"mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Create Post"}),o.jsx("span",{className:"sm:hidden",children:"Create"})]})]})}),o.jsx(Q,{children:r?o.jsxs("div",{className:"flex flex-col items-center justify-center py-16 space-y-4",children:[o.jsx(ug,{size:"lg",variant:"primary"}),o.jsxs("div",{className:"text-center space-y-2",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Loading Posts..."}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Fetching your latest posts from Google Business Profile"})]}),o.jsx("div",{className:"w-full max-w-2xl mt-8 space-y-4",children:Array.from({length:3}).map((E,A)=>o.jsxs("div",{className:"border rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"h-6 w-16 bg-muted rounded-full animate-pulse"}),o.jsx("div",{className:"h-4 w-20 bg-muted rounded animate-pulse"})]}),o.jsx("div",{className:"h-4 w-4 bg-muted rounded animate-pulse"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"h-4 bg-muted rounded w-full animate-pulse"}),o.jsx("div",{className:"h-4 bg-muted rounded w-3/4 animate-pulse"}),o.jsx("div",{className:"h-4 bg-muted rounded w-1/2 animate-pulse"})]}),o.jsxs("div",{className:"flex items-center justify-between mt-4 pt-3 border-t",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"h-4 w-4 bg-muted rounded animate-pulse"}),o.jsx("div",{className:"h-3 w-24 bg-muted rounded animate-pulse"})]}),o.jsx("div",{className:"h-3 w-16 bg-muted rounded animate-pulse"})]})]},A))})]}):e.length===0?o.jsxs("div",{className:"text-center py-8 sm:py-12",children:[o.jsx(Ds,{className:"h-10 w-10 sm:h-12 sm:w-12 text-muted-foreground mx-auto mb-3 sm:mb-4"}),o.jsx("h3",{className:"text-base sm:text-lg font-medium mb-2",children:"No posts yet"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-4 px-4",children:"Create your first post to start engaging with customers"}),o.jsxs(Y,{onClick:()=>a(!0),variant:"outline",size:"sm",children:[o.jsx(Yl,{className:"mr-2 h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Create First Post"}),o.jsx("span",{className:"sm:hidden",children:"Create Post"})]})]}):o.jsx("div",{className:"space-y-3 sm:space-y-4",children:e.map(E=>o.jsxs("div",{className:"border rounded-lg p-3 sm:p-4 hover:bg-muted/30 transition-colors",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2 sm:mb-3",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-1 sm:gap-2",children:[b(E.status),E.scheduledAt&&o.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[o.jsx(Ms,{className:"h-3 w-3"}),o.jsx("span",{className:"hidden sm:inline",children:x(E.scheduledAt)}),o.jsx("span",{className:"sm:hidden",children:new Date(E.scheduledAt).toLocaleDateString()})]}),E.postedAt&&o.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[o.jsx(Ds,{className:"h-3 w-3"}),o.jsxs("span",{className:"hidden sm:inline",children:["Posted ",x(E.postedAt)]}),o.jsx("span",{className:"sm:hidden",children:new Date(E.postedAt).toLocaleDateString()})]})]}),o.jsxs(rb,{children:[o.jsx(sb,{asChild:!0,children:o.jsx(Y,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:o.jsx(z6,{className:"h-4 w-4"})})}),o.jsxs(ag,{align:"end",children:[o.jsxs(is,{onClick:()=>N(E),className:"cursor-pointer",children:[o.jsx(wS,{className:"mr-2 h-4 w-4"}),"Edit Post"]}),o.jsxs(is,{onClick:()=>T(E),className:"cursor-pointer",children:[o.jsx(uw,{className:"mr-2 h-4 w-4"}),"Duplicate"]}),o.jsxs(is,{onClick:()=>P(E),className:"text-destructive cursor-pointer focus:text-destructive",children:[o.jsx(px,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]}),o.jsxs("div",{className:"flex gap-3 sm:gap-4",children:[E.imageUrl&&o.jsx("div",{className:"flex-shrink-0",children:o.jsx("img",{src:E.imageUrl,alt:"Post image",className:"w-12 h-12 sm:w-16 sm:h-16 object-cover rounded-md"})}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsx("p",{className:"text-sm leading-relaxed break-words",children:E.content})})]})]},E.id))})})]}),o.jsx(S7,{open:i,onOpenChange:E=>{a(E),E||c(null)},onSubmit:j,profileId:t,editingPost:l}),o.jsx(exe,{open:u,onOpenChange:d,children:o.jsxs(qz,{children:[o.jsxs(Yz,{children:[o.jsx(Xz,{children:"Delete Post"}),o.jsx(Jz,{children:"Are you sure you want to delete this post? This action cannot be undone and the post will be permanently removed from your Google Business Profile."})]}),o.jsxs(Qz,{children:[o.jsx(e7,{children:"Cancel"}),o.jsx(Zz,{onClick:I,disabled:m,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:m?"Deleting...":"Delete Post"})]})]})})]})},Q0e=({profileId:t})=>{var E,A;const{currentUser:e}=Hn(),[n,r]=p.useState([]),[s,i]=p.useState(!0),[a,l]=p.useState(!1),[c,u]=p.useState(!1),[d,h]=p.useState(0),[f,m]=p.useState(!1),{addNotification:y}=ab(),[v,x]=p.useState({enabled:!1,autoReplyEnabled:!1,replyTemplate:"",minRating:void 0,maxRating:void 0}),b=async(S=!1)=>{if(!t){i(!1);return}S?l(!0):i(!0);try{console.log("ReviewsTab: Fetching reviews for profileId:",t);const C=await Nt.getLocationReviews(`locations/${t}`,S?{forceRefresh:!0}:{});console.log("ReviewsTab: Raw review data from API:",C);const O=C.map(k=>{var G,U,$;const B=k.name?k.name.split("/").pop():k.id;return console.log("ReviewsTab: Processing review:",{name:k.name,extractedId:B,id:k.id,author:k.reviewer.displayName,rating:k.starRating,hasReply:!!k.reply,replyContent:(G=k.reply)==null?void 0:G.comment}),{id:B,fullReviewName:k.name,author:k.reviewer.displayName,rating:k.starRating,content:k.comment||"",createdAt:k.createTime,replied:!!k.reply,replyContent:(U=k.reply)==null?void 0:U.comment,repliedAt:($=k.reply)==null?void 0:$.updateTime}});if(console.log("ReviewsTab: Loaded",O.length,"reviews with replies:",O.filter(k=>k.replied).length),O.length>d&&d>0){const k=O.length-d;console.log(`🆕 Detected ${k} new reviews!`),y({type:"review",title:`${k} New Review${k>1?"s":""}!`,message:`You have received ${k} new customer review${k>1?"s":""}`,actionUrl:`/dashboard/profiles/${t}?tab=reviews`,metadata:{profileId:t,newReviewsCount:k}}),je({title:"New Review Received! 🌟",description:`You have ${k} new customer review${k>1?"s":""}`})}r(O),h(O.length),S&&!c&&je({title:"Reviews Refreshed",description:`Loaded ${O.length} reviews from Google Business Profile`})}catch(C){console.error("Error fetching reviews:",C),r([]),je({title:"Error Loading Reviews",description:"Failed to fetch reviews from Google Business Profile",variant:"destructive"})}finally{i(!1),l(!1)}};p.useEffect(()=>{w(),b();const S=setInterval(()=>{c&&(console.log("🔄 Auto-polling for new reviews..."),b(!0))},3e4);return u(!0),()=>{clearInterval(S)}},[t,c]);const w=()=>{const S=cm.getConfiguration(t);S&&x({enabled:S.enabled,autoReplyEnabled:S.autoReplyEnabled,replyTemplate:S.replyTemplate||"",minRating:S.minRating,maxRating:S.maxRating})},j=async S=>{var O;const C={...v,...S};if(x(C),cm.saveConfiguration({locationId:t,businessName:"Current Location",enabled:C.enabled,autoReplyEnabled:C.autoReplyEnabled,replyTemplate:C.replyTemplate,minRating:C.minRating,maxRating:C.maxRating}),C.autoReplyEnabled){m(!0);try{const k=localStorage.getItem("google_business_account_id"),B=localStorage.getItem("google_business_name")||"Current Location",G=Ht.getConfiguration(t),U=G!=null&&G.keywords?Array.isArray(G.keywords)?G.keywords.join(", "):G.keywords:"",$=((O=G==null?void 0:G.categories)==null?void 0:O[0])||"";await fl.enableAutoReply(t,B,!0,e==null?void 0:e.uid,k||void 0,U,$),je({title:"Review Settings Saved",description:"Auto-reply will continue running even when you're offline.",duration:4e3})}catch(k){console.error("Failed to save to server:",k),je({title:"Server sync failed",description:"Settings saved locally but server sync failed. Auto-reply may not work when offline.",variant:"destructive",duration:5e3})}finally{m(!1)}}else try{await fl.disableAutoReply(t),je({title:"Review Settings Saved",description:"Auto-reply has been disabled."})}catch(k){console.error("Failed to disable on server:",k),je({title:"Review Settings Saved",description:"Your review automation settings have been updated."})}},N=async(S,C,O,k)=>{try{console.log("Auto-replying to review:",{reviewId:S,reviewContent:C,reviewerName:O,rating:k});const B=cm.getConfiguration(t);let G;B!=null&&B.replyTemplate&&B.replyTemplate.trim()?G=B.replyTemplate.replace(/\{businessName\}/g,"Our Business").replace(/\{reviewerName\}/g,O).replace(/\{rating\}/g,k.toString()).replace(/\{comment\}/g,C):G=await cm.generateAIReply({reviewText:C,reviewerName:O,rating:k,businessName:"Our Business",locationId:t}),console.log("Generated reply text:",G);const U=n.find(D=>D.id===S),$=U==null?void 0:U.fullReviewName;if(!$)throw new Error("Review name not available. Please refresh the reviews list.");console.log("ReviewsTab: Sending reply with full review name:",$),await Nt.replyToReview($,G),await b(!0),y({type:"reply",title:"AI Reply Posted",message:`Successfully replied to ${O}'s ${k}-star review with AI-generated response`,actionUrl:`/dashboard/profiles/${t}?tab=reviews`,metadata:{profileId:t,reviewId:S,reviewerName:O,rating:k,replyText:G.substring(0,100)}}),je({title:"AI Reply Sent Successfully",description:"Your personalized AI-generated reply has been posted"}),console.log("AI reply sent successfully!")}catch(B){console.error("Error replying to review:",B),je({title:"Failed to Send Reply",description:B instanceof Error?B.message:"Please try again",variant:"destructive"})}},T=S=>new Date(S).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),I=S=>Array.from({length:5}).map((C,O)=>o.jsx(ai,{className:ve("h-4 w-4",O<S?"fill-yellow-400 text-yellow-400":"text-muted-foreground")},O)),P=S=>S.split(" ").map(C=>C[0]).join("").toUpperCase();return o.jsxs(qu,{defaultValue:"reviews",className:"w-full",children:[o.jsxs(yc,{className:"grid w-full grid-cols-2",children:[o.jsx(dn,{value:"reviews",className:"text-xs sm:text-sm",children:"Customer Reviews"}),o.jsx(dn,{value:"automation",className:"text-xs sm:text-sm",children:"Auto-Reply Settings"})]}),o.jsx(hn,{value:"reviews",className:"space-y-4",children:o.jsxs(q,{className:"shadow-card border-0",children:[o.jsx(me,{children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[o.jsx(ge,{className:"text-lg sm:text-xl",children:"Customer Reviews"}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>b(!0),disabled:a,className:"gap-1 sm:gap-2",children:[o.jsx(jn,{className:ve("h-3 w-3",a&&"animate-spin")}),o.jsx("span",{className:"text-xs sm:text-sm",children:"Refresh"})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("div",{className:ve("h-2 w-2 rounded-full",c?"bg-green-500 animate-pulse":"bg-gray-400")}),o.jsx("span",{className:"text-xs text-muted-foreground",children:c?"Live":"Offline"})]}),o.jsxs(Ee,{variant:"secondary",className:"bg-primary/10 text-primary text-xs",children:[n.length," Total Reviews"]})]})]})}),o.jsx(Q,{children:s?o.jsxs("div",{className:"flex flex-col items-center justify-center py-16 space-y-4",children:[o.jsx(ug,{size:"lg",variant:"primary"}),o.jsxs("div",{className:"text-center space-y-2",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Loading Reviews..."}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Fetching your latest customer reviews from Google Business Profile"})]}),o.jsx("div",{className:"w-full max-w-2xl mt-8 space-y-4",children:Array.from({length:3}).map((S,C)=>o.jsx("div",{className:"border-b border-border pb-6",children:o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"h-10 w-10 bg-muted rounded-full animate-pulse"}),o.jsxs("div",{className:"flex-1 space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"h-4 bg-muted rounded w-24 animate-pulse"}),o.jsx("div",{className:"flex gap-1",children:Array.from({length:5}).map((O,k)=>o.jsx("div",{className:"h-4 w-4 bg-muted rounded animate-pulse"},k))})]}),o.jsx("div",{className:"h-3 bg-muted rounded w-full animate-pulse"}),o.jsx("div",{className:"h-3 bg-muted rounded w-3/4 animate-pulse"}),o.jsx("div",{className:"h-3 bg-muted rounded w-1/2 animate-pulse"})]})]})},C))})]}):n.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ai,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"No reviews yet"}),o.jsx("p",{className:"text-muted-foreground",children:"Customer reviews will appear here once you receive them"})]}):o.jsx("div",{className:"space-y-4 sm:space-y-6",children:n.map((S,C)=>o.jsx("div",{className:ve("pb-4 sm:pb-6",C<n.length-1&&"border-b border-border"),children:o.jsxs("div",{className:"flex gap-3 sm:gap-4",children:[o.jsx(lg,{className:"h-8 w-8 sm:h-10 sm:w-10 flex-shrink-0",children:o.jsx(cg,{className:"bg-primary/10 text-primary text-xs sm:text-sm",children:P(S.author)})}),o.jsxs("div",{className:"flex-1 space-y-2 sm:space-y-3 min-w-0",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-2",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 mb-1",children:[o.jsx("h4",{className:"font-medium text-sm sm:text-base truncate",children:S.author}),o.jsx("div",{className:"flex items-center gap-0.5 sm:gap-1",children:I(S.rating)})]}),o.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[o.jsx(Ds,{className:"h-3 w-3"}),T(S.createdAt)]})]}),!S.replied&&o.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>N(S.id,S.content,S.author,S.rating),className:"gap-1 sm:gap-2 w-full sm:w-auto text-xs sm:text-sm whitespace-nowrap",children:[o.jsx(xS,{className:"h-3 w-3"}),o.jsx("span",{className:"hidden sm:inline",children:"Reply with AI"}),o.jsx("span",{className:"sm:hidden",children:"AI Reply"})]})]}),o.jsx("p",{className:"text-xs sm:text-sm leading-relaxed break-words",children:S.content}),S.replied&&S.replyContent&&o.jsxs("div",{className:"bg-muted/50 rounded-lg p-2 sm:p-3 ml-0 sm:ml-4 border-l-2 border-primary/20",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-1 sm:gap-2 mb-2",children:[o.jsx(ba,{className:"h-3 w-3 text-primary"}),o.jsx("span",{className:"text-xs font-medium text-primary",children:"Your Reply"}),S.repliedAt&&o.jsxs("span",{className:"text-xs text-muted-foreground",children:["• ",T(S.repliedAt)]})]}),o.jsx("p",{className:"text-xs sm:text-sm break-words",children:S.replyContent})]})]})]})},S.id))})})]})}),o.jsx(hn,{value:"automation",className:"space-y-4",children:o.jsxs(q,{children:[o.jsx(me,{children:o.jsxs(ge,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[o.jsx(gZ,{className:"h-4 w-4 sm:h-5 sm:w-5"}),o.jsx("span",{className:"text-base sm:text-lg",children:"Review Auto-Reply Settings"})]})}),o.jsxs(Q,{className:"space-y-4 sm:space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[o.jsxs("div",{className:"space-y-0.5 flex-1",children:[o.jsx(Oe,{className:"text-sm sm:text-base",children:"Enable Review Automation"}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Monitor and automatically reply to customer reviews"})]}),o.jsx(bs,{checked:v.enabled,onCheckedChange:S=>j({enabled:S})})]}),v.enabled&&o.jsxs(o.Fragment,{children:[o.jsx(Sl,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(Oe,{children:"Auto-Reply to Reviews"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically generate and post replies using AI"})]}),o.jsx(bs,{checked:v.autoReplyEnabled,onCheckedChange:S=>j({autoReplyEnabled:S})})]}),v.autoReplyEnabled&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Oe,{children:"Reply to reviews with rating from:"}),o.jsxs(nn,{value:((E=v.minRating)==null?void 0:E.toString())||"any",onValueChange:S=>j({minRating:S==="any"?void 0:parseInt(S)}),children:[o.jsx(qt,{children:o.jsx(rn,{placeholder:"Any rating"})}),o.jsxs(Yt,{children:[o.jsx(fe,{value:"any",children:"Any rating"}),o.jsx(fe,{value:"1",children:"1 star and above"}),o.jsx(fe,{value:"2",children:"2 stars and above"}),o.jsx(fe,{value:"3",children:"3 stars and above"}),o.jsx(fe,{value:"4",children:"4 stars and above"}),o.jsx(fe,{value:"5",children:"5 stars only"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Oe,{children:"To:"}),o.jsxs(nn,{value:((A=v.maxRating)==null?void 0:A.toString())||"any",onValueChange:S=>j({maxRating:S==="any"?void 0:parseInt(S)}),children:[o.jsx(qt,{children:o.jsx(rn,{placeholder:"Any rating"})}),o.jsxs(Yt,{children:[o.jsx(fe,{value:"any",children:"Any rating"}),o.jsx(fe,{value:"1",children:"1 star only"}),o.jsx(fe,{value:"2",children:"2 stars and below"}),o.jsx(fe,{value:"3",children:"3 stars and below"}),o.jsx(fe,{value:"4",children:"4 stars and below"}),o.jsx(fe,{value:"5",children:"5 stars and below"})]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Oe,{children:"Custom Reply Template (Optional)"}),o.jsx(Kh,{placeholder:"Leave blank to use AI-generated replies. Use {businessName}, {reviewerName}, {rating}, {comment} as placeholders.",value:v.replyTemplate,onChange:S=>x(C=>({...C,replyTemplate:S.target.value})),onBlur:()=>j({replyTemplate:v.replyTemplate}),rows:3}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["If empty, AI will generate personalized replies. Use placeholders like ","{businessName}",", ","{reviewerName}",", ","{rating}",", ","{comment}","."]})]}),o.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[o.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[o.jsx(ai,{className:"h-4 w-4"}),"How it works:"]}),o.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[o.jsx("li",{children:"• Reviews are checked every minute for new reviews"}),o.jsx("li",{children:"• Only reviews matching your criteria will get replies"}),o.jsx("li",{children:"• AI generates personalized, professional responses"}),o.jsx("li",{children:"• Reviews that already have replies are skipped"})]})]})]})]})]})]})})]})},X0e=({profileId:t})=>{const[e,n]=p.useState([]),[r,s]=p.useState(!0),[i,a]=p.useState(null);p.useState(!1),p.useState(""),p.useState([]),p.useState(!1),p.useRef(null),p.useEffect(()=>{l()},[t]);const l=async()=>{try{s(!0),a(null),console.log("📸 Loading photos for location:",t);const u=await Nt.getLocationPhotos(t);console.log("📸 Received photos data:",u),n(u),u.length===0&&a("No photos found for this location. Photos can be added via Google Business Profile manager.")}catch(u){console.error("Failed to load photos:",u),a("Failed to load photos. Please check your connection and try again.")}finally{s(!1)}},c=()=>{l()};return o.jsx("div",{className:"space-y-6",children:o.jsxs(q,{children:[o.jsx(me,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(ge,{className:"flex items-center gap-2",children:[o.jsx(eR,{className:"h-5 w-5"}),"Business Photos",e.length>0&&o.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["(",e.length," real-time)"]})]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs(Y,{variant:"outline",size:"sm",onClick:c,disabled:r,className:"flex items-center gap-2",children:[o.jsx(jn,{className:`h-4 w-4 ${r?"animate-spin":""}`}),"Refresh"]})})]})}),o.jsxs(Q,{children:[r&&o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[o.jsx(jn,{className:"h-5 w-5 animate-spin"}),"Loading photos from Google Business Profile..."]})}),i&&!r&&o.jsxs("div",{className:"flex items-center gap-2 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[o.jsx(pr,{className:"h-5 w-5 text-yellow-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-yellow-800 font-medium",children:"Photos not available"}),o.jsx("p",{className:"text-yellow-700 text-sm",children:i}),o.jsx(Y,{variant:"outline",size:"sm",onClick:c,className:"mt-2",children:"Try Again"})]})]}),!r&&!i&&e.length>0&&o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map(u=>o.jsxs(q,{className:"overflow-hidden group",children:[o.jsxs("div",{className:"relative aspect-square",children:[o.jsx("img",{src:u.thumbnailUrl||u.url,alt:`Business photo - ${u.category}`,className:"w-full h-full object-cover transition-transform group-hover:scale-105",onError:d=>{const h=d.target;h.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDMwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjMwMCIgaGVpZ2h0PSIzMDAiIGZpbGw9IiNGM0Y0RjYiLz48cGF0aCBkPSJNMTUwIDEyMEMyNi4xNSAxMjAgMTA1IDEzOC44NSAxMDUgMTYyQzEwNSAxODUuMTUgMTI2LjE1IDIwNCAxNTAgMjA0QzE3My44NSAyMDQgMTk1IDE4NS4xNSAxOTUgMTYyQzE5NSAxMzguODUgMTczLjg1IDEyMCAxNTAgMTIwWiIgZmlsbD0iIzlDQTNBRiIvPjwvc3ZnPg=="}}),o.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-colors flex items-center justify-center opacity-0 group-hover:opacity-100",children:o.jsx(Y,{size:"sm",variant:"secondary",className:"mr-2",onClick:()=>window.open(u.url,"_blank"),children:o.jsx(nZ,{className:"h-4 w-4"})})})]}),o.jsxs(Q,{className:"p-3",children:[o.jsx("p",{className:"text-sm font-medium truncate",children:u.category.replace("_"," ").toLowerCase().replace(/^\w/,d=>d.toUpperCase())}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[u.mediaFormat," • ",new Date(u.createTime).toLocaleDateString()]}),u.dimensions.width>0&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:[u.dimensions.width," × ",u.dimensions.height]})]})]},u.id))}),!r&&!i&&e.length===0&&o.jsxs("div",{className:"mt-6 p-6 border-2 border-dashed border-muted rounded-lg text-center",children:[o.jsx(eR,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Photos Found"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"This location doesn't have any photos yet. Add photos via Google Business Profile manager to see them here."}),o.jsxs(Y,{onClick:c,children:[o.jsx(jn,{className:"h-4 w-4 mr-2"}),"Check Again"]})]})]})]})})},J0e=({profileId:t})=>{const[e,n]=p.useState(!1),[r,s]=p.useState(!1),[i,a]=p.useState(!0),[l,c]=p.useState(null),{accounts:u}=La(),{toast:d}=ps(),[h,f]=p.useState({businessName:"",description:"",phone:"",website:"",address:"",hours:{monday:"",tuesday:"",wednesday:"",thursday:"",friday:"",saturday:"",sunday:""}});p.useEffect(()=>{(()=>{var j;if(!t||!u.length){a(!1);return}let w=null;for(const N of u)if(w=N.locations.find(T=>T.locationId===t)||null,w)break;if(w){c(w);const N=[];(j=w.address.addressLines)!=null&&j.length&&N.push(...w.address.addressLines),w.address.locality&&N.push(w.address.locality),w.address.administrativeArea&&N.push(w.address.administrativeArea),w.address.postalCode&&N.push(w.address.postalCode),f({businessName:w.displayName||"",description:"",phone:w.phoneNumber||"",website:w.websiteUrl||"",address:N.join(", "),hours:{monday:"",tuesday:"",wednesday:"",thursday:"",friday:"",saturday:"",sunday:""}})}a(!1)})()},[t,u]);const m=(b,w)=>{f(j=>({...j,[b]:w}))},y=(b,w)=>{f(j=>({...j,hours:{...j.hours,[b]:w}}))},v=async()=>{if(!l){d({title:"Error",description:"No location data available",variant:"destructive"});return}s(!0);try{const b="http://localhost:5000",w={displayName:h.businessName,phoneNumber:h.phone,websiteUrl:h.website},j=await fetch(`${b}/api/locations/${t}/update`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)});if(j.ok){const N=await j.json();c(T=>T?{...T,displayName:h.businessName,phoneNumber:h.phone,websiteUrl:h.website}:null),n(!1),d({title:"Profile Updated",description:"Your business profile has been successfully updated."})}else{const N=await j.json();throw new Error(N.message||"Failed to update profile")}}catch(b){console.error("Error updating profile:",b),d({title:"Update Failed",description:b instanceof Error?b.message:"Failed to update profile. Please try again.",variant:"destructive"})}finally{s(!1)}},x=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"];return i?o.jsx("div",{className:"space-y-6",children:o.jsx(q,{children:o.jsx(Q,{className:"flex items-center justify-center py-8",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(hx,{className:"h-6 w-6 animate-spin"}),o.jsx("span",{children:"Loading profile data..."})]})})})}):l?o.jsxs("div",{className:"space-y-6",children:[o.jsxs(q,{children:[o.jsx(me,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(ge,{className:"flex items-center gap-2",children:[o.jsx(wS,{className:"h-5 w-5"}),"Edit Profile Information"]}),o.jsx(Y,{onClick:()=>e?v():n(!0),disabled:r,className:"flex items-center gap-2",children:r?o.jsxs(o.Fragment,{children:[o.jsx(hx,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):e?o.jsxs(o.Fragment,{children:[o.jsx(fZ,{className:"h-4 w-4"}),"Save Changes"]}):o.jsxs(o.Fragment,{children:[o.jsx(wS,{className:"h-4 w-4"}),"Edit Profile"]})})]})}),o.jsx(Q,{className:"space-y-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Oe,{htmlFor:"businessName",children:"Business Name"}),o.jsx(tt,{id:"businessName",value:h.businessName,onChange:b=>m("businessName",b.target.value),disabled:!e})]}),o.jsxs("div",{children:[o.jsx(Oe,{htmlFor:"phone",children:"Phone Number"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Fp,{className:"h-4 w-4 text-muted-foreground"}),o.jsx(tt,{id:"phone",value:h.phone,onChange:b=>m("phone",b.target.value),disabled:!e})]})]}),o.jsxs("div",{children:[o.jsx(Oe,{htmlFor:"website",children:"Website"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(jP,{className:"h-4 w-4 text-muted-foreground"}),o.jsx(tt,{id:"website",value:h.website,onChange:b=>m("website",b.target.value),disabled:!e})]})]}),o.jsxs("div",{children:[o.jsx(Oe,{htmlFor:"address",children:"Address"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ks,{className:"h-4 w-4 text-muted-foreground"}),o.jsx(tt,{id:"address",value:h.address,onChange:b=>m("address",b.target.value),disabled:!e})]})]})]}),o.jsxs("div",{children:[o.jsx(Oe,{htmlFor:"description",children:"Business Description"}),o.jsx(Kh,{id:"description",value:h.description,onChange:b=>m("description",b.target.value),disabled:!e,rows:8,placeholder:"Describe your business, services, and what makes you unique..."})]})]})})]}),o.jsxs(q,{children:[o.jsx(me,{children:o.jsxs(ge,{className:"flex items-center gap-2",children:[o.jsx(Ms,{className:"h-5 w-5"}),"Business Hours"]})}),o.jsx(Q,{children:o.jsx("div",{className:"space-y-3",children:x.map(b=>o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Oe,{className:"w-24 capitalize",children:b}),o.jsx(tt,{value:h.hours[b],onChange:w=>y(b,w.target.value),disabled:!e,placeholder:"e.g., 9:00 AM - 6:00 PM or Closed",className:"flex-1"})]},b))})})]})]}):o.jsx("div",{className:"space-y-6",children:o.jsx(q,{children:o.jsx(Q,{className:"py-8 text-center",children:o.jsx("p",{className:"text-muted-foreground",children:"Profile not found or access denied."})})})})},Z0e=()=>{const{profileId:t}=HF(),e=Zt(),[n,r]=p.useState(null),[s,i]=p.useState(!0),[a,l]=p.useState(null),[c,u]=p.useState(!1),{accounts:d,isLoading:h}=La(),{getAccessibleAccounts:f}=sf(),m=y=>y.categoriesFormatted&&Array.isArray(y.categoriesFormatted)?y.categoriesFormatted:[];return p.useEffect(()=>{const y=()=>{if(console.log("ProfileDetails: Looking for profileId:",t),console.log("ProfileDetails: Available accounts:",d),!t||!d.length){i(!1);return}const x=f(d);let b=null,w=!1;for(const j of x){const N=j.locations.find(T=>T.locationId===t);if(N){b=N;break}}if(!b){for(const j of d)if(!x.includes(j)&&j.locations.find(T=>T.locationId===t)){w=!0;break}}console.log("ProfileDetails: Found location:",b),console.log("ProfileDetails: Found in inaccessible account:",w),r(b),u(w),i(!1)},v=()=>{const x=Ht.getGlobalStats();l(x)};h||(y(),v())},[t,d,h]),s?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"h-10 w-10 bg-muted rounded animate-pulse"}),o.jsx("div",{className:"h-8 bg-muted rounded w-64 animate-pulse"})]}),o.jsx("div",{className:"h-48 bg-muted rounded animate-pulse"})]}):c?o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex items-center gap-4",children:o.jsx(vt,{to:"/dashboard",children:o.jsxs(Y,{variant:"outline",size:"sm",children:[o.jsx(iu,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]})})}),o.jsx(q,{className:"border-orange-200 bg-orange-50",children:o.jsx(Q,{className:"p-6",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"h-12 w-12 bg-orange-100 rounded-lg flex items-center justify-center",children:o.jsx(ks,{className:"h-6 w-6 text-orange-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h2",{className:"text-xl font-semibold text-orange-900 mb-2",children:"Profile Access Restricted"}),o.jsx("p",{className:"text-orange-800 mb-4",children:"This business profile requires an Enterprise plan to access. Your current plan allows access to 1 profile only."}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(Y,{onClick:()=>e("/dashboard/billing"),className:"bg-orange-600 hover:bg-orange-700",children:[o.jsx(wa,{className:"h-4 w-4 mr-2"}),"Upgrade to Access All Profiles"]}),o.jsx(vt,{to:"/dashboard",children:o.jsx(Y,{variant:"outline",children:"View Available Profiles"})})]})]})]})})})]}):n?o.jsxs("div",{className:"space-y-3 sm:space-y-4 md:space-y-6 animate-fade-in min-w-0 w-full overflow-x-hidden",children:[o.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[o.jsx(vt,{to:"/dashboard",children:o.jsx(Y,{variant:"ghost",size:"sm",className:"h-8 w-8 sm:h-10 sm:w-10 p-0 sm:p-2",children:o.jsx(iu,{className:"h-4 w-4"})})}),o.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold tracking-tight truncate",children:n.displayName})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-4 md:gap-6",children:[o.jsxs(q,{className:"shadow-sm",children:[o.jsx(me,{children:o.jsx(ge,{className:"text-sm sm:text-base md:text-lg",children:"Profile Overview"})}),o.jsxs(Q,{className:"space-y-2 sm:space-y-3 md:space-y-4",children:[o.jsxs("div",{className:"flex items-start gap-1.5 sm:gap-2",children:[o.jsx(ks,{className:"h-3 w-3 sm:h-4 sm:w-4 mt-0.5 text-muted-foreground flex-shrink-0"}),o.jsx("span",{className:"text-[11px] sm:text-xs md:text-sm break-words leading-snug flex-1",children:n.address.addressLines.length>0?`${n.address.addressLines.join(", ")}, ${n.address.locality}`:n.address.locality||"No address available"})]}),n.websiteUrl&&o.jsxs("div",{className:"flex items-start gap-1.5 sm:gap-2",children:[o.jsx(jP,{className:"h-3 w-3 sm:h-4 sm:w-4 mt-0.5 text-muted-foreground flex-shrink-0"}),o.jsxs("a",{href:n.websiteUrl,target:"_blank",rel:"noopener noreferrer",className:"text-[11px] sm:text-xs md:text-sm text-primary hover:text-primary-hover flex items-center gap-1 break-all flex-1 min-w-0",children:[o.jsx("span",{className:"truncate",children:n.websiteUrl}),o.jsx(bP,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 flex-shrink-0"})]})]}),o.jsx("div",{className:"flex flex-wrap gap-1 max-w-full",children:m(n).map(y=>o.jsx(Ee,{variant:"secondary",className:"text-[10px] sm:text-xs px-1.5 sm:px-2 py-0.5 whitespace-nowrap leading-tight",children:y.name},y.name))})]})]}),a&&o.jsxs(q,{className:"shadow-sm",children:[o.jsx(me,{children:o.jsxs(ge,{className:"flex items-center gap-1.5 sm:gap-2 text-sm sm:text-base md:text-lg",children:[o.jsx(ua,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 md:h-5 md:w-5"}),o.jsx("span",{className:"text-xs sm:text-sm md:text-base",children:"Today's Statistics"})]})}),o.jsx(Q,{children:o.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:gap-3 md:gap-4",children:[o.jsx(q,{className:"border border-green-200 bg-green-50",children:o.jsxs(Q,{className:"p-2 sm:p-3 md:p-4 text-center",children:[o.jsx("div",{className:"text-lg sm:text-xl md:text-2xl font-bold text-green-600",children:a.successfulPostsToday}),o.jsx("div",{className:"text-[10px] sm:text-xs md:text-sm text-muted-foreground leading-tight",children:"Successful"})]})}),o.jsx(q,{className:"border border-red-200 bg-red-50",children:o.jsxs(Q,{className:"p-2 sm:p-3 md:p-4 text-center",children:[o.jsx("div",{className:"text-lg sm:text-xl md:text-2xl font-bold text-red-600",children:a.failedPostsToday}),o.jsx("div",{className:"text-[10px] sm:text-xs md:text-sm text-muted-foreground leading-tight",children:"Failed"})]})}),o.jsx(q,{className:"border border-blue-200 bg-blue-50",children:o.jsxs(Q,{className:"p-2 sm:p-3 md:p-4 text-center",children:[o.jsx("div",{className:"text-lg sm:text-xl md:text-2xl font-bold text-blue-600",children:a.activeConfigurations}),o.jsx("div",{className:"text-[10px] sm:text-xs md:text-sm text-muted-foreground leading-tight",children:"Active"})]})}),o.jsx(q,{className:"border border-gray-200 bg-gray-50",children:o.jsxs(Q,{className:"p-2 sm:p-3 md:p-4 text-center",children:[o.jsx("div",{className:"text-lg sm:text-xl md:text-2xl font-bold text-gray-700",children:a.totalPostsToday}),o.jsx("div",{className:"text-[10px] sm:text-xs md:text-sm text-muted-foreground leading-tight",children:"Total"})]})})]})})]})]}),o.jsxs(qu,{defaultValue:"auto-posting",className:"space-y-3 sm:space-y-4 md:space-y-6",children:[o.jsxs(yc,{className:"grid w-full grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 h-auto gap-0.5 sm:gap-1 p-0.5 sm:p-1",children:[o.jsx(dn,{value:"auto-posting",className:"text-[10px] sm:text-xs md:text-sm px-1 sm:px-2 md:px-3 py-1.5 sm:py-2 data-[state=active]:text-[10px] sm:data-[state=active]:text-xs md:data-[state=active]:text-sm",children:"Auto Posting"}),o.jsx(dn,{value:"posts",className:"text-[10px] sm:text-xs md:text-sm px-1 sm:px-2 md:px-3 py-1.5 sm:py-2",children:"Posts"}),o.jsx(dn,{value:"reviews",className:"text-[10px] sm:text-xs md:text-sm px-1 sm:px-2 md:px-3 py-1.5 sm:py-2",children:"Reviews"}),o.jsx(dn,{value:"photos",className:"text-[10px] sm:text-xs md:text-sm px-1 sm:px-2 md:px-3 py-1.5 sm:py-2",children:"Photos"}),o.jsx(dn,{value:"edit",className:"text-[10px] sm:text-xs md:text-sm px-1 sm:px-2 md:px-3 py-1.5 sm:py-2",children:"Edit Profile"})]}),o.jsx(hn,{value:"auto-posting",children:o.jsx(Bye,{location:{id:n.locationId,name:n.displayName,categories:m(n).map(y=>y.name),websiteUri:n.websiteUrl,phoneNumber:n.phoneNumber,address:n.address}})}),o.jsx(hn,{value:"posts",children:o.jsx(Y0e,{profileId:n.locationId})}),o.jsx(hn,{value:"reviews",children:o.jsx(Q0e,{profileId:n.locationId})}),o.jsx(hn,{value:"photos",children:o.jsx(X0e,{profileId:n.locationId})}),o.jsx(hn,{value:"edit",children:o.jsx(J0e,{profileId:n.locationId})})]})]}):o.jsx("div",{className:"flex items-center justify-center min-h-96",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Location Not Found"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"The requested business location could not be found."}),o.jsx(vt,{to:"/dashboard",children:o.jsxs(Y,{variant:"outline",children:[o.jsx(iu,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]})})]})})},ewe=()=>{const[t,e]=p.useState([]),[n,r]=p.useState(!0),[s,i]=p.useState(!1),[a,l]=p.useState(""),[c,u]=p.useState("all"),[d,h]=p.useState("all"),{accounts:f,isConnected:m,isLoading:y}=La(),{addNotification:v}=ab(),x=Zt(),{isFeatureBlocked:b,status:w}=Dr(),{getAccessibleAccounts:j,getAccountLockMessage:N,canAccessMultipleProfiles:T}=sf(),I=p.useMemo(()=>j(f),[f,j]),P=p.useMemo(()=>N(f.length),[f.length,N]),E=p.useMemo(()=>!T&&f.length>1,[T,f.length]);p.useEffect(()=>{const U=async()=>{if(y){r(!0);return}if(!m||!I.length){e([]),r(!1);return}r(!0);try{console.log("Posts: Fetching posts across all profiles (PARALLEL LOADING)");const $=I.flatMap(ue=>ue.locations.map(ee=>({account:ue,location:ee,task:async()=>{try{console.log(`📍 Posts: Processing location - "${ee.displayName}"`);const re=new AbortController,be=setTimeout(()=>re.abort(),6e3),se=await Nt.getLocationPosts(ee.locationId);return clearTimeout(be),console.log(`📍 Posts: Received ${se.length} posts for ${ee.displayName}`),se.map(ae=>({id:ae.id,profileId:ee.locationId,profileName:ee.displayName,content:ae.summary||"",status:"published",postedAt:ae.createTime}))}catch(re){return console.warn(`⚠️ Failed to fetch posts for ${ee.displayName}:`,re),[]}}})));console.log(`🚀 Starting parallel loading of posts for ${$.length} locations`);const D=Date.now(),L=$.map(({task:ue})=>ue()),W=await Promise.allSettled(L),J=[];W.forEach((ue,ee)=>{ue.status==="fulfilled"?J.push(...ue.value):console.warn(`Location ${ee} failed:`,ue.reason)});const V=Date.now()-D;console.log(`✅ Parallel loading completed in ${V}ms: Loaded ${J.length} posts from ${$.length} locations`),e(J),r(!1)}catch($){console.error("Error fetching posts:",$),e([]),r(!1)}};r(!0),U()},[I,m,y]);const A=U=>new Date(U).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),S=U=>{switch(U){case"published":return o.jsx(Ee,{variant:"default",className:"bg-success text-success-foreground",children:"Published"});case"scheduled":return o.jsx(Ee,{variant:"secondary",className:"bg-warning/10 text-warning border-warning/20",children:"Scheduled"});case"draft":return o.jsx(Ee,{variant:"outline",children:"Draft"});case"failed":return o.jsx(Ee,{variant:"destructive",children:"Failed"});default:return o.jsx(Ee,{variant:"outline",children:U})}},C=I.flatMap(U=>U.locations.map($=>({id:$.locationId,name:$.displayName,accountName:U.accountName}))),O=t.filter(U=>{const $=U.content.toLowerCase().includes(a.toLowerCase())||U.profileName.toLowerCase().includes(a.toLowerCase()),D=c==="all"||U.status===c,L=d==="all"||U.profileId===d;return $&&D&&L}),k=async U=>{try{console.log("Creating post:",U);const $=I.flatMap(V=>V.locations).find(V=>V.locationId===U.profileId);if(!$)throw new Error("Selected location not found");const D=await Nt.createLocationPost($.locationId,{summary:U.content,topicType:"STANDARD",callToAction:U.callToAction});console.log("Post created successfully:",D);const L=D.status||D.state||"pending",W=D.realTime||!1,J={id:D.id,profileId:$.locationId,profileName:$.displayName,content:D.summary||"",status:L==="PENDING"||L==="UNDER_REVIEW"?"scheduled":L==="LIVE"?"published":"draft",postedAt:D.createTime,scheduledAt:L==="PENDING"?D.createTime:void 0};e(V=>[J,...V]),i(!1),v(W?L==="PENDING"||L==="UNDER_REVIEW"?{type:"post",title:"Post Sent for Review",message:`Post for "${$.displayName}" has been sent to Google Business Profile for review.`,actionUrl:"/posts"}:L==="LIVE"?{type:"post",title:"Post Published!",message:`Your post for "${$.displayName}" is now live on Google Business Profile.`,actionUrl:"/posts"}:{type:"post",title:"Post Created",message:`Post for "${$.displayName}" has been created successfully.`,actionUrl:"/posts"}:{type:"post",title:"Post Drafted",message:`Post for "${$.displayName}" has been drafted locally due to API restrictions.`,actionUrl:"/posts"}),alert(W?L==="PENDING"||L==="UNDER_REVIEW"?`🎉 Post successfully submitted to Google Business Profile!

📋 Status: ${L}

⏳ Your post is now under Google's review and will appear on your Business Profile once approved. This usually takes a few minutes to a few hours.`:L==="LIVE"?`🎉 Post published successfully to Google Business Profile! 

✅ Your post is now LIVE and visible to customers on Google!`:`🎉 Post submitted to Google Business Profile!

📋 Status: ${L}

${D.message||"Your post has been processed by Google."}`:L==="SIMULATED"?`⚠️ Google Business Profile Posts API Restriction

🔒 Google has restricted access to the Posts API. Your post was saved locally but not submitted to Google Business Profile.

💡 To post to your Google Business Profile:
• Use Google Business Profile Manager directly
• Or contact Google for API access approval

📝 Post content: "${U.content}"`:`🎉 Post created successfully! 

⚠️ Note: This was processed locally due to API restrictions.

${D.warning||""}`)}catch($){console.error("Error creating post:",$);let D="Failed to create post. Please try again.";$ instanceof Error&&($.message.includes("fetch")?D="Network error. Please check your connection and try again.":$.message.includes("Access token")?D="Authentication error. Please reconnect your Google Business Profile.":$.message.includes("API")?D=`API Error: ${$.message}`:D=`Error: ${$.message}`),alert(`❌ ${D}

💡 If this continues, try:
• Checking your internet connection
• Reconnecting your Google Business Profile
• Refreshing the page`)}},G={all:t.length,published:t.filter(U=>U.status==="published").length,scheduled:t.filter(U=>U.status==="scheduled").length,draft:t.filter(U=>U.status==="draft").length};return b||w==="none"?o.jsx("div",{className:"flex flex-col items-center justify-center min-h-[500px] text-center space-y-6",children:o.jsxs("div",{className:"bg-red-950/30 border-2 border-red-500/50 rounded-2xl p-8 max-w-2xl w-full backdrop-blur-sm",children:[o.jsx(pr,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-2xl font-bold text-red-400 mb-3",children:w==="none"?"No Subscription - Upgrade Required":"Trial Expired - Upgrade Required"}),o.jsx("p",{className:"text-red-300/90 mb-6 text-lg",children:w==="none"?"You need an active subscription to access this feature. Start your 15-day free trial or upgrade now to create and manage posts.":"Your 15-day trial has expired. Upgrade now to create and manage posts for your Google Business Profiles."}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs(Y,{onClick:()=>x("/dashboard/billing"),className:"bg-red-600 hover:bg-red-700 text-white px-8 py-6 text-lg w-full",size:"lg",children:[o.jsx(Gn,{className:"mr-2 h-5 w-5"}),w==="none"?"Start Free Trial":"Upgrade Now"]}),o.jsx("p",{className:"text-sm text-red-400/80",children:"Starting from ₹1,099/month • Unlimited Profiles • All Features"})]})]})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold tracking-tight",children:"Posts"}),o.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"Manage posts across all your business profiles"})]}),o.jsxs(Y,{onClick:()=>i(!0),className:"bg-primary hover:bg-primary-hover shadow-primary w-full sm:w-auto",size:"sm",disabled:b||w==="none",children:[o.jsx(Yl,{className:"mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4"}),o.jsx("span",{className:"text-sm sm:text-base",children:"Create Post"})]})]}),E&&o.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(Fl,{className:"h-5 w-5 text-orange-600 mt-0.5"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"text-sm font-medium text-orange-800 mb-1",children:"Multiple Profiles Available"}),o.jsx("p",{className:"text-sm text-orange-700 mb-3",children:P}),o.jsx(Y,{onClick:()=>x("/dashboard/billing"),size:"sm",className:"bg-orange-600 hover:bg-orange-700 text-white",children:"Upgrade to Access All Profiles"})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[o.jsx(q,{className:"shadow-card border-2 border-border/60",children:o.jsxs(Q,{className:"pt-6",children:[o.jsx("div",{className:"text-2xl font-bold",children:G.all}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Posts"})]})}),o.jsx(q,{className:"shadow-card border-2 border-border/60",children:o.jsxs(Q,{className:"pt-6",children:[o.jsx("div",{className:"text-2xl font-bold text-success",children:G.published}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Published"})]})}),o.jsx(q,{className:"shadow-card border-2 border-border/60",children:o.jsxs(Q,{className:"pt-6",children:[o.jsx("div",{className:"text-2xl font-bold text-warning",children:G.scheduled}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Scheduled"})]})}),o.jsx(q,{className:"shadow-card border-2 border-border/60",children:o.jsxs(Q,{className:"pt-6",children:[o.jsx("div",{className:"text-2xl font-bold text-muted-foreground",children:G.draft}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Drafts"})]})})]}),o.jsx(q,{className:"shadow-card border-2 border-border/60",children:o.jsx(Q,{className:"pt-6",children:o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx($i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(tt,{placeholder:"Search posts...",value:a,onChange:U=>l(U.target.value),className:"pl-10"})]}),o.jsxs(nn,{value:d,onValueChange:h,children:[o.jsxs(qt,{className:"w-full sm:w-64",children:[o.jsx(ci,{className:"mr-2 h-4 w-4"}),o.jsx(rn,{placeholder:"Select business profile"})]}),o.jsxs(Yt,{children:[o.jsx(fe,{value:"all",children:"All Profiles"}),C.map(U=>o.jsx(fe,{value:U.id,children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium",children:U.name}),o.jsx("span",{className:"text-xs text-muted-foreground",children:U.accountName})]})},U.id))]})]}),o.jsxs(nn,{value:c,onValueChange:u,children:[o.jsxs(qt,{className:"w-full sm:w-48",children:[o.jsx(dx,{className:"mr-2 h-4 w-4"}),o.jsx(rn,{placeholder:"Filter by status"})]}),o.jsxs(Yt,{children:[o.jsx(fe,{value:"all",children:"All Status"}),o.jsx(fe,{value:"published",children:"Published"}),o.jsx(fe,{value:"scheduled",children:"Scheduled"}),o.jsx(fe,{value:"draft",children:"Draft"}),o.jsx(fe,{value:"failed",children:"Failed"})]})]})]})})}),o.jsxs(q,{className:"shadow-card border-2 border-border/60",children:[o.jsx(me,{children:o.jsx(ge,{children:"All Posts"})}),o.jsx(Q,{children:n?o.jsx("div",{className:"space-y-4",children:Array.from({length:10}).map((U,$)=>o.jsxs("div",{className:"border-2 border-border/60 rounded-lg p-4 animate-pulse shadow-sm",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsx("div",{className:"h-4 bg-muted rounded w-1/4"}),o.jsx("div",{className:"h-6 bg-muted rounded w-20"})]}),o.jsx("div",{className:"h-3 bg-muted rounded w-full mb-1"}),o.jsx("div",{className:"h-3 bg-muted rounded w-3/4"})]},$))}):O.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Ds,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:a||c!=="all"?"No posts found":"No posts yet"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:a||c!=="all"?"Try adjusting your search or filters":"Create your first post to start engaging with customers"}),!a&&c==="all"&&o.jsxs(Y,{onClick:()=>i(!0),variant:"outline",children:[o.jsx(Yl,{className:"mr-2 h-4 w-4"}),"Create First Post"]})]}):o.jsx("div",{className:"space-y-4",children:O.map(U=>o.jsxs("div",{className:"border-2 border-border/60 rounded-lg p-4 hover:bg-muted/30 transition-colors shadow-sm",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium text-sm",children:U.profileName}),S(U.status),U.scheduledAt&&o.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[o.jsx(Ms,{className:"h-3 w-3"}),A(U.scheduledAt)]}),U.postedAt&&o.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[o.jsx(Ds,{className:"h-3 w-3"}),"Posted ",A(U.postedAt)]})]}),o.jsxs(rb,{children:[o.jsx(sb,{asChild:!0,children:o.jsx(Y,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:o.jsx(z6,{className:"h-4 w-4"})})}),o.jsxs(ag,{align:"end",children:[o.jsx(is,{children:"Edit Post"}),o.jsx(is,{children:"Duplicate"}),o.jsx(is,{children:"Reschedule"}),o.jsx(is,{className:"text-destructive",children:"Delete"})]})]})]}),o.jsxs("div",{className:"flex gap-4",children:[U.imageUrl&&o.jsx("div",{className:"flex-shrink-0",children:o.jsx("img",{src:U.imageUrl,alt:"Post image",className:"w-16 h-16 object-cover rounded-md"})}),o.jsx("div",{className:"flex-1",children:o.jsx("p",{className:"text-sm leading-relaxed",children:U.content})})]})]},U.id))})})]})]}),o.jsx(S7,{open:s,onOpenChange:i,onSubmit:k,profileId:d!=="all"?d:"",availableProfiles:C})]})},zf=[{id:"positive",name:"Positive Review",content:"Thank you so much for your wonderful review! We're thrilled to hear about your positive experience. Your feedback means the world to us and motivates our team to continue providing excellent service. We look forward to serving you again soon!"},{id:"negative",name:"Negative Review",content:"Thank you for taking the time to share your feedback. We sincerely apologize for not meeting your expectations. Your concerns are important to us, and we would appreciate the opportunity to discuss this further and make things right. Please contact us directly so we can address your concerns properly."},{id:"neutral",name:"Neutral Review",content:"Thank you for your review and feedback. We appreciate you taking the time to share your experience with us. We're always working to improve our services and your input helps us do that. We hope to have the opportunity to serve you again and provide an even better experience."},{id:"general",name:"General Response",content:"Thank you for your review! We appreciate your feedback and look forward to serving you better in the future."}],twe=()=>{const[t,e]=p.useState([]),[n,r]=p.useState(!0),[s,i]=p.useState(!1),[a,l]=p.useState({search:"",rating:"all",reply:"all",location:"all",dateRange:"all",sentiment:"all"}),[c,u]=p.useState({field:"date",direction:"desc"}),[d,h]=p.useState(null),[f,m]=p.useState(!1),[y,v]=p.useState(""),[x,b]=p.useState("custom"),[w,j]=p.useState(!1),[N,T]=p.useState([]),[I,P]=p.useState(!1),[E,A]=p.useState(null),{accounts:S,isConnected:C,isLoading:O}=La(),k=Zt(),{isFeatureBlocked:B,status:G}=Dr(),{getAccessibleAccounts:U,getAccountLockMessage:$,canAccessMultipleProfiles:D}=sf(),L=p.useMemo(()=>U(S),[S,U]),W=p.useMemo(()=>$(S.length),[S.length,$]),J=p.useMemo(()=>!D&&S.length>1,[D,S.length]),V=(X,de)=>{if(X>=4)return"positive";if(X<=2)return"negative";const Ne=["bad","terrible","awful","horrible","worst","disappointing","poor"],Fe=["good","great","excellent","amazing","wonderful","fantastic","perfect"],_e=de.toLowerCase(),Te=Ne.some(Pe=>_e.includes(Pe)),st=Fe.some(Pe=>_e.includes(Pe));return st&&!Te?"positive":Te&&!st?"negative":"neutral"},ue=async(X=!1)=>{if(O){r(!0);return}if(!C||!L.length){e([]),r(!1);return}X?i(!0):r(!0);try{console.log("Reviews: Fetching reviews across all profiles (PARALLEL LOADING)");const de=L.flatMap(Pe=>Pe.locations.map(at=>({account:Pe,location:at,task:async()=>{try{console.log(`📍 Frontend: Processing location - Name: "${at.displayName}", ID: "${at.locationId}"`);const Lt=new AbortController,nt=setTimeout(()=>Lt.abort(),8e3),cn=await Nt.getLocationReviews(at.name,{forceRefresh:X});return clearTimeout(nt),console.log(`📍 Frontend: Received ${cn.length} reviews for ${at.displayName}`),cn.map(ft=>{var Pc,xr;return{id:ft.id,profileId:at.locationId,profileName:at.displayName,fullReviewName:ft.name,author:ft.reviewer.displayName,rating:ft.starRating,content:ft.comment||"",createdAt:ft.createTime,replied:!!ft.reply,replyContent:(Pc=ft.reply)==null?void 0:Pc.comment,repliedAt:(xr=ft.reply)==null?void 0:xr.updateTime,sentiment:V(ft.starRating,ft.comment||"")}})}catch(Lt){return console.warn(`⚠️ Failed to fetch reviews for ${at.displayName}:`,Lt),[]}}})));console.log(`🚀 Starting parallel loading of reviews for ${de.length} locations`);const Ne=Date.now(),Fe=de.map(({task:Pe})=>Pe()),_e=await Promise.allSettled(Fe),Te=[];_e.forEach((Pe,at)=>{Pe.status==="fulfilled"?Te.push(...Pe.value):console.warn(`Location ${at} failed:`,Pe.reason)});const st=Date.now()-Ne;console.log(`✅ Parallel loading completed in ${st}ms: Loaded ${Te.length} reviews from ${de.length} locations`),e(Te)}catch(de){console.error("Error fetching reviews:",de),e([])}finally{r(!1),i(!1)}};p.useEffect(()=>{r(!0),ue()},[L,C,O]),p.useEffect(()=>{const X=setInterval(()=>{C&&L.length&&ue(!0)},3e5);return()=>clearInterval(X)},[C,L]);const ee=async X=>{const de=t.find(Fe=>Fe.id===X);if(!de)return;const Ne=zf.find(Fe=>Fe.id===de.sentiment)||zf.find(Fe=>Fe.id==="general");Ne&&(b(Ne.id),v(Ne.content)),h(de),m(!0)},re=async()=>{if(!(!d||!y.trim())){j(!0);try{console.log("Sending reply to review:",d.id);const X=d.fullReviewName;if(!X)throw new Error("Review name not available. Please refresh the reviews list.");console.log("Reviews: Sending reply with full review name:",X),await Nt.replyToReview(X,y),e(de=>de.map(Ne=>Ne.id===d.id?{...Ne,replied:!0,replyContent:y,repliedAt:new Date().toISOString()}:Ne)),m(!1),h(null),v(""),b(""),console.log("Reply sent successfully!")}catch(X){console.error("Error replying to review:",X),alert("Failed to send reply. Please try again.")}finally{j(!1)}}},be=X=>{b(X);const de=zf.find(Ne=>Ne.id===X);de&&X!=="custom"&&v(de.content)},se=X=>{v(X),!zf.some(Ne=>Ne.content===X||X==="")&&x!=="custom"&&b("custom")},Ue=async X=>{if(X){P(!0);try{let de=[];try{const Fe=await fetch("http://localhost:5000/api/ai-reviews/reply-suggestions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({businessName:X.profileName,reviewContent:X.content,reviewRating:X.rating,reviewId:X.id})});if(Fe.ok){const _e=await Fe.json();_e.success&&_e.suggestions&&(de=_e.suggestions.map(Te=>Te.text||Te.reply||Te).slice(0,3),console.log("Using backend AI reply suggestions:",de.length,"suggestions received"))}else throw new Error("Backend AI service unavailable")}catch(Ne){console.log("Backend AI service unavailable, using local suggestions:",Ne.message),de=ae(X)}de.length===0&&(de=ae(X)),T(de)}catch(de){console.error("Error generating AI suggestions:",de),T([])}finally{P(!1)}}},ae=X=>{const de=[],Ne=X.profileName,Fe=X.rating,_e=X.content.toLowerCase(),Te=Date.now(),st=X.id,Pe=_e.includes("service"),at=_e.includes("staff")||_e.includes("team");_e.includes("quality"),_e.includes("price")||_e.includes("cost");const Lt=_e.includes("wait")||_e.includes("time");_e.includes("clean"),_e.includes("food")||_e.includes("meal"),_e.includes("atmosphere")||_e.includes("ambiance");const cn=(parseInt(st.slice(-4),16)+Te)%3,Rn=["Thank you so much for","We really appreciate","We're grateful for","Thank you for taking the time to share"],ft=[`We look forward to welcoming you back to ${Ne} soon!`,`We hope to see you again at ${Ne} in the near future!`,`We'd love to serve you again at ${Ne}!`,`Thank you for choosing ${Ne} and we hope to see you soon!`],On=["We're always looking for ways to improve","We're committed to continuous improvement","We value your input as we work to enhance our service","Your feedback helps us grow and improve"];if(Fe>=4){const xr=Rn[cn%Rn.length],Hs=ft[cn%ft.length];if(de.push(`${xr} your wonderful ${Fe}-star review! We're thrilled to hear about your positive experience at ${Ne}. Your feedback means the world to us and motivates our team to continue providing excellent service.`),Pe){const qr=["We're so glad you were happy with our service! Our team works hard to ensure every customer has a great experience.","It's wonderful to hear that our service met your expectations! We pride ourselves on providing excellent customer care.","Your satisfaction with our service is exactly what we strive for! Thank you for recognizing our efforts."];de.push(qr[cn%qr.length])}if(at){const qr=["Our team will be delighted to hear your kind words! We'll make sure to share your feedback with them.","I'll be sure to pass along your compliments to our team - they'll be thrilled to hear this!","Your recognition of our staff means so much to us. They work hard to provide excellent service every day."];de.push(qr[cn%qr.length])}de.push(Hs)}else if(Fe===3){const xr=On[cn%On.length];de.push(`Thank you for your honest feedback about your experience at ${Ne}. We appreciate you taking the time to share your thoughts and ${xr.toLowerCase()}.`);const Hs=["We value your feedback and would love to discuss how we can enhance your experience.","Your input is valuable to us and we'd appreciate the opportunity to address any concerns.","We take all feedback seriously and would welcome the chance to improve your experience."];de.push(Hs[cn%Hs.length]),Pe&&de.push(`We appreciate your feedback about our service. ${xr} and your input helps us identify areas where we can do better.`)}else{const xr=["We sincerely apologize that your experience","We're truly sorry that your visit","We deeply regret that your experience"],Hs=xr[cn%xr.length];de.push(`${Hs} at ${Ne} didn't meet your expectations. Your feedback is important to us, and we take all concerns seriously. We'd appreciate the opportunity to discuss this with you directly to make things right.`),Lt&&de.push("We're sorry about the wait time you experienced. We're working on improving our efficiency to serve our customers better. Please give us another chance to provide you with the quality service you deserve."),Pe&&de.push(`We apologize for falling short in our service. This is not the standard we strive for at ${Ne}. We would welcome the opportunity to speak with you about your experience and show you the level of service we're known for.`);const qr=["Thank you for bringing this to our attention. We're committed to making improvements","We appreciate you sharing your concerns with us. We're dedicated to doing better","Your feedback helps us grow and improve. We're working hard to address these issues"];de.push(`${qr[cn%qr.length]} and would like to invite you back to experience the better service we're working towards.`)}return[...new Set(de)].slice(0,3)},z=async(X,de)=>{try{await navigator.clipboard.writeText(X),A(de),setTimeout(()=>A(null),2e3)}catch(Ne){console.error("Failed to copy suggestion:",Ne);const Fe=document.createElement("textarea");Fe.value=X,document.body.appendChild(Fe),Fe.select(),document.execCommand("copy"),document.body.removeChild(Fe),A(de),setTimeout(()=>A(null),2e3)}},H=X=>new Date(X).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),F=X=>Array.from({length:5}).map((de,Ne)=>o.jsx(ai,{className:ve("h-4 w-4",Ne<X?"fill-yellow-400 text-yellow-400":"text-muted-foreground")},Ne)),te=X=>X.split(" ").map(de=>de[0]).join("").toUpperCase(),le=p.useMemo(()=>{let X=t.filter(de=>{const Ne=de.content.toLowerCase().includes(a.search.toLowerCase())||de.author.toLowerCase().includes(a.search.toLowerCase())||de.profileName.toLowerCase().includes(a.search.toLowerCase()),Fe=a.rating==="all"||de.rating.toString()===a.rating,_e=a.reply==="all"||a.reply==="replied"&&de.replied||a.reply==="not-replied"&&!de.replied,Te=a.location==="all"||de.profileName===a.location,st=a.sentiment==="all"||de.sentiment===a.sentiment;let Pe=!0;if(a.dateRange!=="all"){const at=new Date(de.createdAt),nt=(new Date().getTime()-at.getTime())/(1e3*3600*24);switch(a.dateRange){case"7d":Pe=nt<=7;break;case"30d":Pe=nt<=30;break;case"90d":Pe=nt<=90;break;case"1y":Pe=nt<=365;break}}return Ne&&Fe&&_e&&Te&&st&&Pe});return X.sort((de,Ne)=>{const Fe=c.direction==="asc"?1:-1;switch(c.field){case"date":return Fe*(new Date(de.createdAt).getTime()-new Date(Ne.createdAt).getTime());case"rating":return Fe*(de.rating-Ne.rating);case"author":return Fe*de.author.localeCompare(Ne.author);default:return 0}}),X},[t,a,c]),pe=p.useMemo(()=>{const X=t.length,de=t.filter(Pe=>Pe.replied).length,Ne=X-de,Fe={all:X,5:t.filter(Pe=>Pe.rating===5).length,4:t.filter(Pe=>Pe.rating===4).length,3:t.filter(Pe=>Pe.rating===3).length,2:t.filter(Pe=>Pe.rating===2).length,1:t.filter(Pe=>Pe.rating===1).length},_e=X>0?t.reduce((Pe,at)=>Pe+at.rating,0)/X:0,Te={positive:t.filter(Pe=>Pe.sentiment==="positive").length,neutral:t.filter(Pe=>Pe.sentiment==="neutral").length,negative:t.filter(Pe=>Pe.sentiment==="negative").length},st=Array.from(new Set(t.map(Pe=>Pe.profileName)));return{total:X,replied:de,needReply:Ne,ratingCounts:Fe,avgRating:_e,sentimentCounts:Te,locations:st}},[t]),Re=()=>{ue(!0)},Le=X=>{u(de=>({field:X,direction:de.field===X&&de.direction==="desc"?"asc":"desc"}))},qe=(X,de)=>{l(Ne=>({...Ne,[X]:de}))},xt=X=>{switch(X){case"positive":return o.jsx(nR,{className:"h-3 w-3 text-green-500"});case"negative":return o.jsx(XJ,{className:"h-3 w-3 text-red-500"});default:return o.jsx(iZ,{className:"h-3 w-3 text-yellow-500"})}},Et=X=>{switch(X){case"positive":return"text-green-600 bg-green-50 border-green-200";case"negative":return"text-red-600 bg-red-50 border-red-200";default:return"text-yellow-600 bg-yellow-50 border-yellow-200"}},Pt=X=>{const de=le.map(Ne=>({Author:Ne.author,Rating:Ne.rating,Review:Ne.content,Location:Ne.profileName,Date:H(Ne.createdAt),Replied:Ne.replied?"Yes":"No",Reply:Ne.replyContent||"",Sentiment:Ne.sentiment||"neutral"}));if(X==="csv"){const Ne=Object.keys(de[0]||{}),Fe=[Ne.join(","),...de.map(st=>Ne.map(Pe=>`"${String(st[Pe]).replace(/"/g,'""')}"`).join(","))].join(`
`),_e=new Blob([Fe],{type:"text/csv;charset=utf-8;"}),Te=document.createElement("a");Te.href=URL.createObjectURL(_e),Te.download=`reviews_export_${new Date().toISOString().split("T")[0]}.csv`,Te.click()}else{const Ne=JSON.stringify(de,null,2),Fe=new Blob([Ne],{type:"application/json;charset=utf-8;"}),_e=document.createElement("a");_e.href=URL.createObjectURL(Fe),_e.download=`reviews_export_${new Date().toISOString().split("T")[0]}.json`,_e.click()}};return B||G==="none"?o.jsx("div",{className:"flex flex-col items-center justify-center min-h-[500px] text-center space-y-6",children:o.jsxs("div",{className:"bg-red-950/30 border-2 border-red-500/50 rounded-2xl p-8 max-w-2xl w-full backdrop-blur-sm",children:[o.jsx(pr,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-2xl font-bold text-red-400 mb-3",children:G==="none"?"No Subscription - Upgrade Required":"Trial Expired - Upgrade Required"}),o.jsx("p",{className:"text-red-300/90 mb-6 text-lg",children:G==="none"?"You need an active subscription to access this feature. Start your 15-day free trial or upgrade now to manage and respond to reviews.":"Your 15-day trial has expired. Upgrade now to manage and respond to reviews for your Google Business Profiles."}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs(Y,{onClick:()=>k("/dashboard/billing"),className:"bg-red-600 hover:bg-red-700 text-white px-8 py-6 text-lg w-full",size:"lg",children:[o.jsx(Gn,{className:"mr-2 h-5 w-5"}),G==="none"?"Start Free Trial":"Upgrade Now"]}),o.jsx("p",{className:"text-sm text-red-400/80",children:"Starting from ₹1,099/month • Unlimited Profiles • All Features"})]})]})}):o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight",children:"Reviews"}),o.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"Manage customer reviews across all your business profiles"})]})}),J&&o.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(Fl,{className:"h-5 w-5 text-orange-600 mt-0.5"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"text-sm font-medium text-orange-800 mb-1",children:"Multiple Profiles Available"}),o.jsx("p",{className:"text-sm text-orange-700 mb-3",children:W}),o.jsx(Y,{onClick:()=>k("/dashboard/billing"),size:"sm",className:"bg-orange-600 hover:bg-orange-700 text-white",children:"Upgrade to Access All Profiles"})]})]})}),o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-3 sm:gap-4",children:[o.jsx(q,{className:"shadow-card border-2 border-border/60",children:o.jsxs(Q,{className:"pt-6",children:[o.jsx("div",{className:"text-2xl font-bold",children:pe.total}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Reviews"})]})}),o.jsx(q,{className:"shadow-card border-2 border-border/60",children:o.jsxs(Q,{className:"pt-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ai,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),o.jsx("div",{className:"text-2xl font-bold",children:pe.avgRating.toFixed(1)})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Average Rating"})]})}),o.jsx(q,{className:"shadow-card border-2 border-border/60",children:o.jsxs(Q,{className:"pt-6",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:pe.replied}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Replied"})]})}),o.jsx(q,{className:"shadow-card border-2 border-border/60",children:o.jsxs(Q,{className:"pt-6",children:[o.jsx("div",{className:"text-2xl font-bold text-orange-600",children:pe.needReply}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Need Reply"})]})}),o.jsx(q,{className:"shadow-card border-2 border-border/60",children:o.jsxs(Q,{className:"pt-6",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[xt("positive"),o.jsx("div",{className:"text-2xl font-bold",children:pe.sentimentCounts.positive})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Positive"})]})})]}),o.jsx(q,{className:"shadow-card border-2 border-border/60",children:o.jsx(Q,{className:"pt-6",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 sm:gap-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx($i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(tt,{placeholder:"Search reviews...",value:a.search,onChange:X=>qe("search",X.target.value),className:"pl-10 text-sm"})]}),o.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[o.jsx(AS,{children:o.jsxs(wR,{children:[o.jsx(bR,{asChild:!0,children:o.jsx(Y,{variant:"outline",size:"icon",onClick:Re,disabled:s,children:o.jsx(jn,{className:ve("h-4 w-4",s&&"animate-spin")})})}),o.jsx(CS,{children:"Refresh Reviews"})]})}),o.jsxs(nn,{onValueChange:X=>X&&Pt(X),children:[o.jsxs(qt,{className:"w-32 sm:w-36",children:[o.jsx(wP,{className:"mr-1 sm:mr-2 h-4 w-4"}),o.jsx(rn,{placeholder:"Export"})]}),o.jsxs(Yt,{children:[o.jsx(fe,{value:"csv",children:"Export CSV"}),o.jsx(fe,{value:"json",children:"Export JSON"})]})]})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:[o.jsxs(nn,{value:a.rating,onValueChange:X=>qe("rating",X),children:[o.jsxs(qt,{className:"w-28 sm:w-36",children:[o.jsx(dx,{className:"mr-1 sm:mr-2 h-4 w-4"}),o.jsx(rn,{placeholder:"Rating"})]}),o.jsxs(Yt,{children:[o.jsx(fe,{value:"all",children:"All Ratings"}),o.jsx(fe,{value:"5",children:"5 Stars"}),o.jsx(fe,{value:"4",children:"4 Stars"}),o.jsx(fe,{value:"3",children:"3 Stars"}),o.jsx(fe,{value:"2",children:"2 Stars"}),o.jsx(fe,{value:"1",children:"1 Star"})]})]}),o.jsxs(nn,{value:a.reply,onValueChange:X=>qe("reply",X),children:[o.jsxs(qt,{className:"w-32 sm:w-40",children:[o.jsx(ba,{className:"mr-1 sm:mr-2 h-4 w-4"}),o.jsx(rn,{placeholder:"Reply"})]}),o.jsxs(Yt,{children:[o.jsx(fe,{value:"all",children:"All"}),o.jsx(fe,{value:"replied",children:"Replied"}),o.jsx(fe,{value:"not-replied",children:"Need Reply"})]})]}),o.jsxs(nn,{value:a.location,onValueChange:X=>qe("location",X),children:[o.jsxs(qt,{className:"w-36 sm:w-48",children:[o.jsx(dx,{className:"mr-1 sm:mr-2 h-4 w-4"}),o.jsx(rn,{placeholder:"Location"})]}),o.jsxs(Yt,{children:[o.jsx(fe,{value:"all",children:"All Locations"}),pe.locations.map(X=>o.jsx(fe,{value:X,children:X},X))]})]}),o.jsxs(nn,{value:a.sentiment,onValueChange:X=>qe("sentiment",X),children:[o.jsxs(qt,{className:"w-32 sm:w-36",children:[o.jsx(nR,{className:"mr-1 sm:mr-2 h-4 w-4"}),o.jsx(rn,{placeholder:"Sentiment"})]}),o.jsxs(Yt,{children:[o.jsx(fe,{value:"all",children:"All"}),o.jsx(fe,{value:"positive",children:"Positive"}),o.jsx(fe,{value:"neutral",children:"Neutral"}),o.jsx(fe,{value:"negative",children:"Negative"})]})]}),o.jsxs(nn,{value:a.dateRange,onValueChange:X=>qe("dateRange",X),children:[o.jsxs(qt,{className:"w-28 sm:w-36",children:[o.jsx(Ds,{className:"mr-1 sm:mr-2 h-4 w-4"}),o.jsx(rn,{placeholder:"Date"})]}),o.jsxs(Yt,{children:[o.jsx(fe,{value:"all",children:"All Time"}),o.jsx(fe,{value:"7d",children:"Last 7 days"}),o.jsx(fe,{value:"30d",children:"Last 30 days"}),o.jsx(fe,{value:"90d",children:"Last 3 months"}),o.jsx(fe,{value:"1y",children:"Last year"})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx("span",{children:"Sort by:"}),o.jsxs(Y,{variant:"ghost",size:"sm",className:ve("h-7",c.field==="date"&&"bg-muted"),onClick:()=>Le("date"),children:["Date",c.field==="date"&&(c.direction==="desc"?o.jsx(yy,{className:"ml-1 h-3 w-3"}):o.jsx(lj,{className:"ml-1 h-3 w-3"}))]}),o.jsxs(Y,{variant:"ghost",size:"sm",className:ve("h-7",c.field==="rating"&&"bg-muted"),onClick:()=>Le("rating"),children:["Rating",c.field==="rating"&&(c.direction==="desc"?o.jsx(yy,{className:"ml-1 h-3 w-3"}):o.jsx(lj,{className:"ml-1 h-3 w-3"}))]}),o.jsxs(Y,{variant:"ghost",size:"sm",className:ve("h-7",c.field==="author"&&"bg-muted"),onClick:()=>Le("author"),children:["Author",c.field==="author"&&(c.direction==="desc"?o.jsx(yy,{className:"ml-1 h-3 w-3"}):o.jsx(lj,{className:"ml-1 h-3 w-3"}))]})]})]})})}),o.jsxs(q,{className:"shadow-card border-2 border-border/60",children:[o.jsxs(me,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-2",children:[o.jsxs(ge,{className:"text-lg sm:text-xl",children:["All Reviews (",le.length,")"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[s&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(jn,{className:"h-4 w-4 animate-spin"}),"Updating..."]}),le.length>0&&o.jsxs(Ee,{variant:"outline",className:"text-xs",children:["Showing ",le.length," of ",pe.total," reviews"]})]})]}),o.jsx(Q,{children:n?o.jsx("div",{className:"space-y-6",children:Array.from({length:4}).map((X,de)=>o.jsx("div",{className:"border-2 border-border/60 rounded-lg p-4 shadow-sm animate-pulse",children:o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"h-10 w-10 bg-muted rounded-full"}),o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsx("div",{className:"h-4 bg-muted rounded w-1/4"}),o.jsx("div",{className:"h-3 bg-muted rounded w-full"}),o.jsx("div",{className:"h-3 bg-muted rounded w-3/4"})]})]})},de))}):le.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ai,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:Object.values(a).some(X=>X!=="all"&&X!=="")?"No reviews found":"No reviews yet"}),o.jsx("p",{className:"text-muted-foreground",children:Object.values(a).some(X=>X!=="all"&&X!=="")?"Try adjusting your search or filters":"Customer reviews will appear here once you receive them"})]}):o.jsx("div",{className:"space-y-6",children:le.map((X,de)=>o.jsx("div",{className:"border-2 border-border/60 rounded-lg p-3 sm:p-4 shadow-sm hover:bg-muted/30 transition-colors",children:o.jsxs("div",{className:"flex gap-3 sm:gap-4",children:[o.jsx(lg,{className:"h-8 w-8 sm:h-10 sm:w-10 flex-shrink-0",children:o.jsx(cg,{className:"bg-primary/10 text-primary text-xs sm:text-sm",children:te(X.author)})}),o.jsxs("div",{className:"flex-1 space-y-3 min-w-0",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-1",children:[o.jsx("h4",{className:"font-medium text-sm sm:text-base truncate",children:X.author}),o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx("div",{className:"flex items-center gap-1",children:F(X.rating)}),o.jsx(Ee,{variant:"outline",className:"text-xs truncate max-w-[120px]",children:X.profileName}),X.sentiment&&o.jsx(Ee,{variant:"outline",className:ve("text-xs hidden sm:flex",Et(X.sentiment)),children:o.jsxs("div",{className:"flex items-center gap-1",children:[xt(X.sentiment),X.sentiment]})})]})]}),o.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[o.jsx(Ds,{className:"h-3 w-3"}),H(X.createdAt)]})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[X.replied&&o.jsx(AS,{children:o.jsxs(wR,{children:[o.jsx(bR,{asChild:!0,children:o.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>{h(X),v(X.replyContent||""),m(!0)},className:"h-8 w-8 p-0",children:o.jsx(lZ,{className:"h-3 w-3"})})}),o.jsx(CS,{children:"Edit Reply"})]})}),!X.replied&&o.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>ee(X.id),className:"gap-1 px-2 sm:px-3 text-xs sm:text-sm",children:[o.jsx(xS,{className:"h-3 w-3"}),o.jsx("span",{className:"hidden sm:inline",children:"Reply"})]})]})]}),o.jsx("p",{className:"text-sm leading-relaxed break-words",children:X.content}),X.replied&&X.replyContent&&o.jsxs("div",{className:"bg-muted/50 rounded-lg p-3 ml-2 sm:ml-4 border-l-2 border-primary/20",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ba,{className:"h-3 w-3 text-primary"}),o.jsx("span",{className:"text-xs font-medium text-primary",children:"Your Reply"})]}),X.repliedAt&&o.jsx("span",{className:"text-xs text-muted-foreground",children:H(X.repliedAt)})]}),o.jsx("p",{className:"text-sm break-words",children:X.replyContent})]})]})]})},X.id))})})]}),o.jsx(pi,{open:f,onOpenChange:m,children:o.jsxs(Ls,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[o.jsxs(Fs,{children:[o.jsx($s,{className:"text-lg sm:text-xl",children:"Reply to Review"}),o.jsx(Us,{children:d&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[o.jsx("span",{className:"font-medium text-sm sm:text-base",children:d.author}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"flex items-center gap-1",children:F(d.rating)}),o.jsx(Ee,{variant:"outline",className:"text-xs",children:d.profileName})]})]}),o.jsxs("p",{className:"text-sm text-muted-foreground italic break-words",children:['"',d.content,'"']})]})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Reply Template (Optional)"}),o.jsxs(nn,{value:x,onValueChange:be,children:[o.jsx(qt,{children:o.jsx(rn,{placeholder:"Choose a template"})}),o.jsxs(Yt,{children:[o.jsx(fe,{value:"custom",children:"Custom Reply"}),zf.map(X=>o.jsx(fe,{value:X.id,children:X.name},X.id))]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"AI Suggestions"}),o.jsxs(Y,{variant:"outline",onClick:()=>d&&Ue(d),disabled:I,className:"w-full justify-start text-xs sm:text-sm",children:[I?o.jsx(jn,{className:"mr-2 h-4 w-4 animate-spin"}):o.jsx(xS,{className:"mr-2 h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Generate Smart Replies"}),o.jsx("span",{className:"sm:hidden",children:"Generate Replies"})]})]})]}),N.length>0&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"AI-Generated Suggestions"}),o.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:N.map((X,de)=>o.jsx("div",{className:"p-3 border rounded-lg hover:bg-muted/50 transition-colors group",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("p",{className:"text-sm flex-1 leading-relaxed",children:X}),o.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>z(X,de),className:"h-8 w-8 p-0",title:"Copy to clipboard",children:E===de?o.jsx(Ll,{className:"h-3 w-3 text-green-600"}):o.jsx(uw,{className:"h-3 w-3"})}),o.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>v(X),className:"h-8 w-8 p-0",title:"Use this suggestion",children:o.jsx(mx,{className:"h-3 w-3"})})]})]})},`suggestion-${de}-${d==null?void 0:d.id}`))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Your Reply"}),o.jsx(Kh,{placeholder:"Write your reply to this review or select an AI suggestion above...",value:y,onChange:X=>se(X.target.value),rows:4,className:"resize-none"}),o.jsxs("div",{className:"flex justify-between items-center mt-1",children:[o.jsxs("p",{className:"text-xs text-muted-foreground",children:[y.length,"/4000 characters"]}),y&&o.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>v(""),className:"text-xs h-6",children:"Clear"})]})]})]}),o.jsxs(Tu,{children:[o.jsxs(Y,{variant:"outline",onClick:()=>{m(!1),h(null),v(""),b(""),T([]),A(null)},children:[o.jsx(Yi,{className:"w-4 h-4 mr-2"}),"Cancel"]}),o.jsxs(Y,{onClick:re,disabled:!y.trim()||w,className:"gap-2",children:[w?o.jsx(jn,{className:"w-4 h-4 animate-spin"}):o.jsx(mx,{className:"w-4 h-4"}),d!=null&&d.replied?"Update Reply":"Send Reply"]})]})]})})]})};var pg={},nwe=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},_7={},Gs={};let MC;const rwe=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Gs.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Gs.getSymbolTotalCodewords=function(e){return rwe[e]};Gs.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};Gs.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');MC=e};Gs.isKanjiModeEnabled=function(){return typeof MC<"u"};Gs.toSJIS=function(e){return MC(e)};var xb={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,s){if(t.isValid(r))return r;try{return e(r)}catch{return s}}})(xb);function E7(){this.buffer=[],this.length=0}E7.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var swe=E7;function gg(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}gg.prototype.set=function(t,e,n,r){const s=t*this.size+e;this.data[s]=n,r&&(this.reservedBit[s]=!0)};gg.prototype.get=function(t,e){return this.data[t*this.size+e]};gg.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};gg.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var iwe=gg,P7={};(function(t){const e=Gs.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const s=Math.floor(r/7)+2,i=e(r),a=i===145?26:Math.ceil((i-13)/(2*s-2))*2,l=[i-7];for(let c=1;c<s-1;c++)l[c]=l[c-1]-a;return l.push(6),l.reverse()},t.getPositions=function(r){const s=[],i=t.getRowColCoords(r),a=i.length;for(let l=0;l<a;l++)for(let c=0;c<a;c++)l===0&&c===0||l===0&&c===a-1||l===a-1&&c===0||s.push([i[l],i[c]]);return s}})(P7);var A7={};const owe=Gs.getSymbolSize,YD=7;A7.getPositions=function(e){const n=owe(e);return[[0,0],[n-YD,0],[0,n-YD]]};var C7={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},t.from=function(s){return t.isValid(s)?parseInt(s,10):void 0},t.getPenaltyN1=function(s){const i=s.size;let a=0,l=0,c=0,u=null,d=null;for(let h=0;h<i;h++){l=c=0,u=d=null;for(let f=0;f<i;f++){let m=s.get(h,f);m===u?l++:(l>=5&&(a+=e.N1+(l-5)),u=m,l=1),m=s.get(f,h),m===d?c++:(c>=5&&(a+=e.N1+(c-5)),d=m,c=1)}l>=5&&(a+=e.N1+(l-5)),c>=5&&(a+=e.N1+(c-5))}return a},t.getPenaltyN2=function(s){const i=s.size;let a=0;for(let l=0;l<i-1;l++)for(let c=0;c<i-1;c++){const u=s.get(l,c)+s.get(l,c+1)+s.get(l+1,c)+s.get(l+1,c+1);(u===4||u===0)&&a++}return a*e.N2},t.getPenaltyN3=function(s){const i=s.size;let a=0,l=0,c=0;for(let u=0;u<i;u++){l=c=0;for(let d=0;d<i;d++)l=l<<1&2047|s.get(u,d),d>=10&&(l===1488||l===93)&&a++,c=c<<1&2047|s.get(d,u),d>=10&&(c===1488||c===93)&&a++}return a*e.N3},t.getPenaltyN4=function(s){let i=0;const a=s.data.length;for(let c=0;c<a;c++)i+=s.data[c];return Math.abs(Math.ceil(i*100/a/5)-10)*e.N4};function n(r,s,i){switch(r){case t.Patterns.PATTERN000:return(s+i)%2===0;case t.Patterns.PATTERN001:return s%2===0;case t.Patterns.PATTERN010:return i%3===0;case t.Patterns.PATTERN011:return(s+i)%3===0;case t.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(i/3))%2===0;case t.Patterns.PATTERN101:return s*i%2+s*i%3===0;case t.Patterns.PATTERN110:return(s*i%2+s*i%3)%2===0;case t.Patterns.PATTERN111:return(s*i%3+(s+i)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(s,i){const a=i.size;for(let l=0;l<a;l++)for(let c=0;c<a;c++)i.isReserved(c,l)||i.xor(c,l,n(s,c,l))},t.getBestMask=function(s,i){const a=Object.keys(t.Patterns).length;let l=0,c=1/0;for(let u=0;u<a;u++){i(u),t.applyMask(u,s);const d=t.getPenaltyN1(s)+t.getPenaltyN2(s)+t.getPenaltyN3(s)+t.getPenaltyN4(s);t.applyMask(u,s),d<c&&(c=d,l=u)}return l}})(C7);var wb={};const Pl=xb,$v=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Uv=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];wb.getBlocksCount=function(e,n){switch(n){case Pl.L:return $v[(e-1)*4+0];case Pl.M:return $v[(e-1)*4+1];case Pl.Q:return $v[(e-1)*4+2];case Pl.H:return $v[(e-1)*4+3];default:return}};wb.getTotalCodewordsCount=function(e,n){switch(n){case Pl.L:return Uv[(e-1)*4+0];case Pl.M:return Uv[(e-1)*4+1];case Pl.Q:return Uv[(e-1)*4+2];case Pl.H:return Uv[(e-1)*4+3];default:return}};var T7={},bb={};const Tm=new Uint8Array(512),t0=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)Tm[n]=e,t0[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)Tm[n]=Tm[n-255]})();bb.log=function(e){if(e<1)throw new Error("log("+e+")");return t0[e]};bb.exp=function(e){return Tm[e]};bb.mul=function(e,n){return e===0||n===0?0:Tm[t0[e]+t0[n]]};(function(t){const e=bb;t.mul=function(r,s){const i=new Uint8Array(r.length+s.length-1);for(let a=0;a<r.length;a++)for(let l=0;l<s.length;l++)i[a+l]^=e.mul(r[a],s[l]);return i},t.mod=function(r,s){let i=new Uint8Array(r);for(;i.length-s.length>=0;){const a=i[0];for(let c=0;c<s.length;c++)i[c]^=e.mul(s[c],a);let l=0;for(;l<i.length&&i[l]===0;)l++;i=i.slice(l)}return i},t.generateECPolynomial=function(r){let s=new Uint8Array([1]);for(let i=0;i<r;i++)s=t.mul(s,new Uint8Array([1,e.exp(i)]));return s}})(T7);const k7=T7;function LC(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}LC.prototype.initialize=function(e){this.degree=e,this.genPoly=k7.generateECPolynomial(this.degree)};LC.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const r=k7.mod(n,this.genPoly),s=this.degree-r.length;if(s>0){const i=new Uint8Array(this.degree);return i.set(r,s),i}return r};var awe=LC,I7={},jc={},FC={};FC.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var Uo={};const R7="[0-9]+",lwe="[A-Z $%*+\\-./:]+";let gp="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";gp=gp.replace(/u/g,"\\u");const cwe="(?:(?![A-Z0-9 $%*+\\-./:]|"+gp+`)(?:.|[\r
]))+`;Uo.KANJI=new RegExp(gp,"g");Uo.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Uo.BYTE=new RegExp(cwe,"g");Uo.NUMERIC=new RegExp(R7,"g");Uo.ALPHANUMERIC=new RegExp(lwe,"g");const uwe=new RegExp("^"+gp+"$"),dwe=new RegExp("^"+R7+"$"),hwe=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Uo.testKanji=function(e){return uwe.test(e)};Uo.testNumeric=function(e){return dwe.test(e)};Uo.testAlphanumeric=function(e){return hwe.test(e)};(function(t){const e=FC,n=Uo;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(i,a){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!e.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?i.ccBits[0]:a<27?i.ccBits[1]:i.ccBits[2]},t.getBestModeForData=function(i){return n.testNumeric(i)?t.NUMERIC:n.testAlphanumeric(i)?t.ALPHANUMERIC:n.testKanji(i)?t.KANJI:t.BYTE},t.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},t.isValid=function(i){return i&&i.bit&&i.ccBits};function r(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+s)}}t.from=function(i,a){if(t.isValid(i))return i;try{return r(i)}catch{return a}}})(jc);(function(t){const e=Gs,n=wb,r=xb,s=jc,i=FC,a=7973,l=e.getBCHDigit(a);function c(f,m,y){for(let v=1;v<=40;v++)if(m<=t.getCapacity(v,y,f))return v}function u(f,m){return s.getCharCountIndicator(f,m)+4}function d(f,m){let y=0;return f.forEach(function(v){const x=u(v.mode,m);y+=x+v.getBitsLength()}),y}function h(f,m){for(let y=1;y<=40;y++)if(d(f,y)<=t.getCapacity(y,m,s.MIXED))return y}t.from=function(m,y){return i.isValid(m)?parseInt(m,10):y},t.getCapacity=function(m,y,v){if(!i.isValid(m))throw new Error("Invalid QR Code version");typeof v>"u"&&(v=s.BYTE);const x=e.getSymbolTotalCodewords(m),b=n.getTotalCodewordsCount(m,y),w=(x-b)*8;if(v===s.MIXED)return w;const j=w-u(v,m);switch(v){case s.NUMERIC:return Math.floor(j/10*3);case s.ALPHANUMERIC:return Math.floor(j/11*2);case s.KANJI:return Math.floor(j/13);case s.BYTE:default:return Math.floor(j/8)}},t.getBestVersionForData=function(m,y){let v;const x=r.from(y,r.M);if(Array.isArray(m)){if(m.length>1)return h(m,x);if(m.length===0)return 1;v=m[0]}else v=m;return c(v.mode,v.getLength(),x)},t.getEncodedBits=function(m){if(!i.isValid(m)||m<7)throw new Error("Invalid QR Code version");let y=m<<12;for(;e.getBCHDigit(y)-l>=0;)y^=a<<e.getBCHDigit(y)-l;return m<<12|y}})(I7);var O7={};const S_=Gs,D7=1335,fwe=21522,QD=S_.getBCHDigit(D7);O7.getEncodedBits=function(e,n){const r=e.bit<<3|n;let s=r<<10;for(;S_.getBCHDigit(s)-QD>=0;)s^=D7<<S_.getBCHDigit(s)-QD;return(r<<10|s)^fwe};var M7={};const mwe=jc;function _h(t){this.mode=mwe.NUMERIC,this.data=t.toString()}_h.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};_h.prototype.getLength=function(){return this.data.length};_h.prototype.getBitsLength=function(){return _h.getBitsLength(this.data.length)};_h.prototype.write=function(e){let n,r,s;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),s=parseInt(r,10),e.put(s,10);const i=this.data.length-n;i>0&&(r=this.data.substr(n),s=parseInt(r,10),e.put(s,i*3+1))};var pwe=_h;const gwe=jc,Wj=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Eh(t){this.mode=gwe.ALPHANUMERIC,this.data=t}Eh.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Eh.prototype.getLength=function(){return this.data.length};Eh.prototype.getBitsLength=function(){return Eh.getBitsLength(this.data.length)};Eh.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=Wj.indexOf(this.data[n])*45;r+=Wj.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(Wj.indexOf(this.data[n]),6)};var vwe=Eh;const ywe=jc;function Ph(t){this.mode=ywe.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}Ph.getBitsLength=function(e){return e*8};Ph.prototype.getLength=function(){return this.data.length};Ph.prototype.getBitsLength=function(){return Ph.getBitsLength(this.data.length)};Ph.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var xwe=Ph;const wwe=jc,bwe=Gs;function Ah(t){this.mode=wwe.KANJI,this.data=t}Ah.getBitsLength=function(e){return e*13};Ah.prototype.getLength=function(){return this.data.length};Ah.prototype.getBitsLength=function(){return Ah.getBitsLength(this.data.length)};Ah.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=bwe.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var jwe=Ah,L7={exports:{}};(function(t){var e={single_source_shortest_paths:function(n,r,s){var i={},a={};a[r]=0;var l=e.PriorityQueue.make();l.push(r,0);for(var c,u,d,h,f,m,y,v,x;!l.empty();){c=l.pop(),u=c.value,h=c.cost,f=n[u]||{};for(d in f)f.hasOwnProperty(d)&&(m=f[d],y=h+m,v=a[d],x=typeof a[d]>"u",(x||v>y)&&(a[d]=y,l.push(d,y),i[d]=u))}if(typeof s<"u"&&typeof a[s]>"u"){var b=["Could not find a path from ",r," to ",s,"."].join("");throw new Error(b)}return i},extract_shortest_path_from_predecessor_list:function(n,r){for(var s=[],i=r;i;)s.push(i),n[i],i=n[i];return s.reverse(),s},find_path:function(n,r,s){var i=e.single_source_shortest_paths(n,r,s);return e.extract_shortest_path_from_predecessor_list(i,s)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,s={},i;n=n||{};for(i in r)r.hasOwnProperty(i)&&(s[i]=r[i]);return s.queue=[],s.sorter=n.sorter||r.default_sorter,s},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var s={value:n,cost:r};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(L7);var Nwe=L7.exports;(function(t){const e=jc,n=pwe,r=vwe,s=xwe,i=jwe,a=Uo,l=Gs,c=Nwe;function u(b){return unescape(encodeURIComponent(b)).length}function d(b,w,j){const N=[];let T;for(;(T=b.exec(j))!==null;)N.push({data:T[0],index:T.index,mode:w,length:T[0].length});return N}function h(b){const w=d(a.NUMERIC,e.NUMERIC,b),j=d(a.ALPHANUMERIC,e.ALPHANUMERIC,b);let N,T;return l.isKanjiModeEnabled()?(N=d(a.BYTE,e.BYTE,b),T=d(a.KANJI,e.KANJI,b)):(N=d(a.BYTE_KANJI,e.BYTE,b),T=[]),w.concat(j,N,T).sort(function(P,E){return P.index-E.index}).map(function(P){return{data:P.data,mode:P.mode,length:P.length}})}function f(b,w){switch(w){case e.NUMERIC:return n.getBitsLength(b);case e.ALPHANUMERIC:return r.getBitsLength(b);case e.KANJI:return i.getBitsLength(b);case e.BYTE:return s.getBitsLength(b)}}function m(b){return b.reduce(function(w,j){const N=w.length-1>=0?w[w.length-1]:null;return N&&N.mode===j.mode?(w[w.length-1].data+=j.data,w):(w.push(j),w)},[])}function y(b){const w=[];for(let j=0;j<b.length;j++){const N=b[j];switch(N.mode){case e.NUMERIC:w.push([N,{data:N.data,mode:e.ALPHANUMERIC,length:N.length},{data:N.data,mode:e.BYTE,length:N.length}]);break;case e.ALPHANUMERIC:w.push([N,{data:N.data,mode:e.BYTE,length:N.length}]);break;case e.KANJI:w.push([N,{data:N.data,mode:e.BYTE,length:u(N.data)}]);break;case e.BYTE:w.push([{data:N.data,mode:e.BYTE,length:u(N.data)}])}}return w}function v(b,w){const j={},N={start:{}};let T=["start"];for(let I=0;I<b.length;I++){const P=b[I],E=[];for(let A=0;A<P.length;A++){const S=P[A],C=""+I+A;E.push(C),j[C]={node:S,lastCount:0},N[C]={};for(let O=0;O<T.length;O++){const k=T[O];j[k]&&j[k].node.mode===S.mode?(N[k][C]=f(j[k].lastCount+S.length,S.mode)-f(j[k].lastCount,S.mode),j[k].lastCount+=S.length):(j[k]&&(j[k].lastCount=S.length),N[k][C]=f(S.length,S.mode)+4+e.getCharCountIndicator(S.mode,w))}}T=E}for(let I=0;I<T.length;I++)N[T[I]].end=0;return{map:N,table:j}}function x(b,w){let j;const N=e.getBestModeForData(b);if(j=e.from(w,N),j!==e.BYTE&&j.bit<N.bit)throw new Error('"'+b+'" cannot be encoded with mode '+e.toString(j)+`.
 Suggested mode is: `+e.toString(N));switch(j===e.KANJI&&!l.isKanjiModeEnabled()&&(j=e.BYTE),j){case e.NUMERIC:return new n(b);case e.ALPHANUMERIC:return new r(b);case e.KANJI:return new i(b);case e.BYTE:return new s(b)}}t.fromArray=function(w){return w.reduce(function(j,N){return typeof N=="string"?j.push(x(N,null)):N.data&&j.push(x(N.data,N.mode)),j},[])},t.fromString=function(w,j){const N=h(w,l.isKanjiModeEnabled()),T=y(N),I=v(T,j),P=c.find_path(I.map,"start","end"),E=[];for(let A=1;A<P.length-1;A++)E.push(I.table[P[A]].node);return t.fromArray(m(E))},t.rawSplit=function(w){return t.fromArray(h(w,l.isKanjiModeEnabled()))}})(M7);const jb=Gs,Hj=xb,Swe=swe,_we=iwe,Ewe=P7,Pwe=A7,__=C7,E_=wb,Awe=awe,n0=I7,Cwe=O7,Twe=jc,Kj=M7;function kwe(t,e){const n=t.size,r=Pwe.getPositions(e);for(let s=0;s<r.length;s++){const i=r[s][0],a=r[s][1];for(let l=-1;l<=7;l++)if(!(i+l<=-1||n<=i+l))for(let c=-1;c<=7;c++)a+c<=-1||n<=a+c||(l>=0&&l<=6&&(c===0||c===6)||c>=0&&c<=6&&(l===0||l===6)||l>=2&&l<=4&&c>=2&&c<=4?t.set(i+l,a+c,!0,!0):t.set(i+l,a+c,!1,!0))}}function Iwe(t){const e=t.size;for(let n=8;n<e-8;n++){const r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function Rwe(t,e){const n=Ewe.getPositions(e);for(let r=0;r<n.length;r++){const s=n[r][0],i=n[r][1];for(let a=-2;a<=2;a++)for(let l=-2;l<=2;l++)a===-2||a===2||l===-2||l===2||a===0&&l===0?t.set(s+a,i+l,!0,!0):t.set(s+a,i+l,!1,!0)}}function Owe(t,e){const n=t.size,r=n0.getEncodedBits(e);let s,i,a;for(let l=0;l<18;l++)s=Math.floor(l/3),i=l%3+n-8-3,a=(r>>l&1)===1,t.set(s,i,a,!0),t.set(i,s,a,!0)}function qj(t,e,n){const r=t.size,s=Cwe.getEncodedBits(e,n);let i,a;for(i=0;i<15;i++)a=(s>>i&1)===1,i<6?t.set(i,8,a,!0):i<8?t.set(i+1,8,a,!0):t.set(r-15+i,8,a,!0),i<8?t.set(8,r-i-1,a,!0):i<9?t.set(8,15-i-1+1,a,!0):t.set(8,15-i-1,a,!0);t.set(r-8,8,1,!0)}function Dwe(t,e){const n=t.size;let r=-1,s=n-1,i=7,a=0;for(let l=n-1;l>0;l-=2)for(l===6&&l--;;){for(let c=0;c<2;c++)if(!t.isReserved(s,l-c)){let u=!1;a<e.length&&(u=(e[a]>>>i&1)===1),t.set(s,l-c,u),i--,i===-1&&(a++,i=7)}if(s+=r,s<0||n<=s){s-=r,r=-r;break}}}function Mwe(t,e,n){const r=new Swe;n.forEach(function(c){r.put(c.mode.bit,4),r.put(c.getLength(),Twe.getCharCountIndicator(c.mode,t)),c.write(r)});const s=jb.getSymbolTotalCodewords(t),i=E_.getTotalCodewordsCount(t,e),a=(s-i)*8;for(r.getLengthInBits()+4<=a&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const l=(a-r.getLengthInBits())/8;for(let c=0;c<l;c++)r.put(c%2?17:236,8);return Lwe(r,t,e)}function Lwe(t,e,n){const r=jb.getSymbolTotalCodewords(e),s=E_.getTotalCodewordsCount(e,n),i=r-s,a=E_.getBlocksCount(e,n),l=r%a,c=a-l,u=Math.floor(r/a),d=Math.floor(i/a),h=d+1,f=u-d,m=new Awe(f);let y=0;const v=new Array(a),x=new Array(a);let b=0;const w=new Uint8Array(t.buffer);for(let P=0;P<a;P++){const E=P<c?d:h;v[P]=w.slice(y,y+E),x[P]=m.encode(v[P]),y+=E,b=Math.max(b,E)}const j=new Uint8Array(r);let N=0,T,I;for(T=0;T<b;T++)for(I=0;I<a;I++)T<v[I].length&&(j[N++]=v[I][T]);for(T=0;T<f;T++)for(I=0;I<a;I++)j[N++]=x[I][T];return j}function Fwe(t,e,n,r){let s;if(Array.isArray(t))s=Kj.fromArray(t);else if(typeof t=="string"){let u=e;if(!u){const d=Kj.rawSplit(t);u=n0.getBestVersionForData(d,n)}s=Kj.fromString(t,u||40)}else throw new Error("Invalid data");const i=n0.getBestVersionForData(s,n);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=i;else if(e<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const a=Mwe(e,n,s),l=jb.getSymbolSize(e),c=new _we(l);return kwe(c,e),Iwe(c),Rwe(c,e),qj(c,n,0),e>=7&&Owe(c,e),Dwe(c,a),isNaN(r)&&(r=__.getBestMask(c,qj.bind(null,c,n))),__.applyMask(r,c),qj(c,n,r),{modules:c,version:e,errorCorrectionLevel:n,maskPattern:r,segments:s}}_7.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=Hj.M,s,i;return typeof n<"u"&&(r=Hj.from(n.errorCorrectionLevel,Hj.M),s=n0.from(n.version),i=__.from(n.maskPattern),n.toSJISFunc&&jb.setToSJISFunction(n.toSJISFunc)),Fwe(e,s,r,i)};var F7={},$C={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(i){return[i,i]}))),r.length===6&&r.push("F","F");const s=parseInt(r.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const s=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,i=r.width&&r.width>=21?r.width:void 0,a=r.scale||4;return{width:i,scale:i?4:a,margin:s,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,s){return s.width&&s.width>=r+s.margin*2?s.width/(r+s.margin*2):s.scale},t.getImageWidth=function(r,s){const i=t.getScale(r,s);return Math.floor((r+s.margin*2)*i)},t.qrToImageData=function(r,s,i){const a=s.modules.size,l=s.modules.data,c=t.getScale(a,i),u=Math.floor((a+i.margin*2)*c),d=i.margin*c,h=[i.color.light,i.color.dark];for(let f=0;f<u;f++)for(let m=0;m<u;m++){let y=(f*u+m)*4,v=i.color.light;if(f>=d&&m>=d&&f<u-d&&m<u-d){const x=Math.floor((f-d)/c),b=Math.floor((m-d)/c);v=h[l[x*a+b]?1:0]}r[y++]=v.r,r[y++]=v.g,r[y++]=v.b,r[y]=v.a}}})($C);(function(t){const e=$C;function n(s,i,a){s.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=a,i.width=a,i.style.height=a+"px",i.style.width=a+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(i,a,l){let c=l,u=a;typeof c>"u"&&(!a||!a.getContext)&&(c=a,a=void 0),a||(u=r()),c=e.getOptions(c);const d=e.getImageWidth(i.modules.size,c),h=u.getContext("2d"),f=h.createImageData(d,d);return e.qrToImageData(f.data,i,c),n(h,u,d),h.putImageData(f,0,0),u},t.renderToDataURL=function(i,a,l){let c=l;typeof c>"u"&&(!a||!a.getContext)&&(c=a,a=void 0),c||(c={});const u=t.render(i,a,c),d=c.type||"image/png",h=c.rendererOpts||{};return u.toDataURL(d,h.quality)}})(F7);var $7={};const $we=$C;function XD(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function Yj(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function Uwe(t,e,n){let r="",s=0,i=!1,a=0;for(let l=0;l<t.length;l++){const c=Math.floor(l%e),u=Math.floor(l/e);!c&&!i&&(i=!0),t[l]?(a++,l>0&&c>0&&t[l-1]||(r+=i?Yj("M",c+n,.5+u+n):Yj("m",s,0),s=0,i=!1),c+1<e&&t[l+1]||(r+=Yj("h",a),a=0)):s++}return r}$7.render=function(e,n,r){const s=$we.getOptions(n),i=e.modules.size,a=e.modules.data,l=i+s.margin*2,c=s.color.light.a?"<path "+XD(s.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",u="<path "+XD(s.color.dark,"stroke")+' d="'+Uwe(a,i,s.margin)+'"/>',d='viewBox="0 0 '+l+" "+l+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+d+' shape-rendering="crispEdges">'+c+u+`</svg>
`;return typeof r=="function"&&r(null,f),f};const Bwe=nwe,P_=_7,U7=F7,Vwe=$7;function UC(t,e,n,r,s){const i=[].slice.call(arguments,1),a=i.length,l=typeof i[a-1]=="function";if(!l&&!Bwe())throw new Error("Callback required as last argument");if(l){if(a<2)throw new Error("Too few arguments provided");a===2?(s=n,n=e,e=r=void 0):a===3&&(e.getContext&&typeof s>"u"?(s=r,r=void 0):(s=r,r=n,n=e,e=void 0))}else{if(a<1)throw new Error("Too few arguments provided");return a===1?(n=e,e=r=void 0):a===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(c,u){try{const d=P_.create(n,r);c(t(d,e,r))}catch(d){u(d)}})}try{const c=P_.create(n,r);s(null,t(c,e,r))}catch(c){s(c)}}pg.create=P_.create;pg.toCanvas=UC.bind(null,U7.render);pg.toDataURL=UC.bind(null,U7.renderToDataURL);pg.toString=UC.bind(null,function(t,e,n){return Vwe.render(t,n)});const zwe=()=>{const t=Zt(),{accounts:e,isConnected:n,isLoading:r}=La(),{toast:s}=ps(),{getAccessibleAccounts:i,getAccountLockMessage:a,canAccessMultipleProfiles:l}=sf(),[c,u]=p.useState({isOpen:!1,locationName:"",locationId:"",address:""}),[d,h]=p.useState({isOpen:!1,location:null,googleReviewLink:""}),[f,m]=p.useState(null);p.useState(!1),p.useState(null);const[y,v]=p.useState(new Map),x="http://localhost:5000",b=p.useMemo(()=>i(e),[e,i]),w=p.useMemo(()=>a(e.length),[e.length,a]),j=p.useMemo(()=>!l&&e.length>1,[l,e.length]);p.useEffect(()=>{N()},[b]);const N=async()=>{try{const S=await fetch(`${x}/api/qr-codes`);if(S.ok){const{qrCodes:C}=await S.json(),O=new Map;C.forEach(k=>{O.set(k.locationId,k)}),v(O),console.log(`[AskForReviews] Loaded ${C.length} existing QR codes`)}}catch(S){console.error("Error loading existing QR codes:",S)}},T=S=>{console.log("Opening review link modal for location:",S),h({isOpen:!0,location:S,googleReviewLink:""})},I=S=>{const C=y.get(S.locationId);C&&u({isOpen:!0,locationName:C.locationName,locationId:S.locationId,address:C.address,placeId:C.placeId,qrCodeUrl:C.qrCodeUrl,reviewLink:C.publicReviewUrl,aiReviews:[]})},P=async()=>{var O,k,B,G,U,$;const{location:S,googleReviewLink:C}=d;if(!C){s({title:"Review Link Required",description:"Please enter your Google review link to continue.",variant:"destructive"});return}m(S.locationId),h({...d,isOpen:!1});try{console.log("🔍 Generating QR code for custom review suggestions page");const L=`https://app.googleranker.com/review/${S.locationId}?business=${encodeURIComponent(S.displayName)}&location=${encodeURIComponent(((O=S.address)==null?void 0:O.locality)||((k=S.address)==null?void 0:k.administrativeArea)||"Location")}&googleReviewLink=${encodeURIComponent(C)}`;console.log("🔍 Public review URL:",L);const W=await pg.toDataURL(L,{errorCorrectionLevel:"M",type:"image/png",quality:.92,margin:2,color:{dark:"#000000",light:"#FFFFFF"},width:512});try{const J={locationId:S.locationId,locationName:S.displayName,address:((B=S.address)==null?void 0:B.locality)||((G=S.address)==null?void 0:G.administrativeArea)||"Location",googleReviewLink:C,publicReviewUrl:L,qrCodeUrl:W,createdAt:new Date().toISOString()};await fetch(`${x}/api/qr-codes`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(J)}),await N()}catch(J){console.warn("Failed to save QR code data:",J)}console.log("✅ QR code generated successfully"),u({isOpen:!0,locationName:S.displayName,locationId:S.locationId,address:((U=S.address)==null?void 0:U.locality)||(($=S.address)==null?void 0:$.administrativeArea)||"Location",placeId:S.placeId||"",qrCodeUrl:W,reviewLink:L,aiReviews:[]}),s({title:"QR Code Generated",description:"Your QR code will show customers AI-generated review suggestions with SEO keywords, then redirect them to your Google review page."})}catch(D){console.error("Error generating QR code:",D),s({title:"Error",description:"Failed to generate QR code. Please try again.",variant:"destructive"})}finally{m(null)}},E=()=>{if(!c.qrCodeUrl)return;const S=document.createElement("a");S.download=`${c.locationName.replace(/\s+/g,"_")}_QR_Code.png`,S.href=c.qrCodeUrl,S.click(),s({title:"QR Code Downloaded",description:"The QR code has been saved to your device."})},A=async()=>{if(!c.reviewLink){s({title:"Copy Error",description:"No preview link available. Please generate a QR code first.",variant:"destructive"});return}try{await navigator.clipboard.writeText(c.reviewLink),s({title:"Link Copied!",description:"Preview link has been copied to your clipboard."})}catch{s({title:"Copy Error",description:"Failed to copy link. Please try again.",variant:"destructive"})}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Ask for Reviews"}),o.jsx("p",{className:"text-muted-foreground mt-1",children:"Generate QR codes and AI-powered review suggestions for your business locations"})]}),j&&o.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(Fl,{className:"h-5 w-5 text-orange-600 mt-0.5"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"text-sm font-medium text-orange-800 mb-1",children:"Multiple Profiles Available"}),o.jsx("p",{className:"text-sm text-orange-700 mb-3",children:w}),o.jsx(Y,{onClick:()=>t("/dashboard/billing"),size:"sm",className:"bg-orange-600 hover:bg-orange-700 text-white",children:"Upgrade to Access All Profiles"})]})]})}),n&&!r&&b.length>0&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-xl font-semibold",children:"Your Business Locations"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:b.flatMap(S=>S.locations.map(C=>{var O,k,B,G;return o.jsxs(q,{className:"shadow-card border-[3px] hover:shadow-glow glow-hover transition-all duration-300",style:{borderColor:"#8B5CF6",borderStyle:"solid"},children:[o.jsx(me,{className:"pb-3",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(ge,{className:"text-lg",children:C.displayName}),o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsx(ks,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:((O=C.storefrontAddress)==null?void 0:O.locality)||((k=C.storefrontAddress)==null?void 0:k.administrativeArea)||((G=(B=C.storefrontAddress)==null?void 0:B.addressLines)==null?void 0:G[0])||S.accountName})]})]}),o.jsx(Ml,{className:"h-5 w-5 text-primary"})]})}),o.jsx(Q,{children:y.has(C.locationId)?o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Y,{onClick:()=>I(C),className:"w-full bg-green-600 hover:bg-green-700 text-white",children:[o.jsx(yv,{className:"mr-2 h-4 w-4"}),"View QR Code"]}),o.jsx(Y,{onClick:()=>T(C),variant:"outline",className:"w-full",disabled:f===C.locationId,children:f===C.locationId?o.jsxs(o.Fragment,{children:[o.jsx(jn,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Fl,{className:"mr-2 h-4 w-4"}),"Update Link"]})})]}):o.jsx(Y,{onClick:()=>T(C),disabled:f===C.locationId,className:"w-full bg-gradient-to-r from-primary to-blue-600 hover:from-primary/90 hover:to-blue-600/90",children:f===C.locationId?o.jsxs(o.Fragment,{children:[o.jsx(jn,{className:"mr-2 h-4 w-4 animate-spin"}),"Generating..."]}):o.jsxs(o.Fragment,{children:[o.jsx(yv,{className:"mr-2 h-4 w-4"}),"Generate QR & Reviews"]})})})]},C.locationId)}))})]}),n&&!r&&b.length===0&&o.jsx(q,{className:"shadow-card",children:o.jsxs(Q,{className:"py-12 text-center",children:[o.jsx(W6,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Business Profiles Connected"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"Connect your Google Business Profile to generate QR codes and AI reviews."}),o.jsx(Y,{variant:"outline",children:"Connect Business Profile"})]})}),r&&o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:3}).map((S,C)=>o.jsx(q,{className:"shadow-card",children:o.jsx(Q,{className:"p-6",children:o.jsxs("div",{className:"animate-pulse",children:[o.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-3"}),o.jsx("div",{className:"h-3 bg-muted rounded w-1/2 mb-4"}),o.jsx("div",{className:"h-10 bg-muted rounded w-full"})]})})},C))})}),o.jsx(pi,{open:d.isOpen,onOpenChange:S=>!S&&h({...d,isOpen:!1}),children:o.jsxs(Ls,{className:"max-w-lg",children:[o.jsxs(Fs,{children:[o.jsxs($s,{className:"text-2xl flex items-center gap-2",children:[o.jsx(sZ,{className:"h-6 w-6 text-primary"}),"Enter Google Review Link"]}),o.jsx(Us,{children:"Please provide your Google review link to generate the QR code"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs(lu,{children:[o.jsx(Fl,{className:"h-4 w-4"}),o.jsx(cu,{children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"font-semibold",children:"How to get your Google review link:"}),o.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[o.jsx("li",{children:"Open Google Business Profile Manager"}),o.jsx("li",{children:"Select your business location"}),o.jsx("li",{children:'Click on "Home" or "Get more reviews"'}),o.jsx("li",{children:"Copy the review link (looks like: g.page/r/...)"})]})]})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Oe,{htmlFor:"review-link",children:"Google Review Link"}),o.jsx(tt,{id:"review-link",type:"url",placeholder:"Enter your Google review link",value:d.googleReviewLink,onChange:S=>h({...d,googleReviewLink:S.target.value}),className:"font-mono text-sm"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Format: https://g.page/r/YOUR_PLACE_ID/review"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Y,{variant:"outline",onClick:()=>h({...d,isOpen:!1}),className:"flex-1",children:"Cancel"}),o.jsxs(Y,{onClick:P,disabled:!d.googleReviewLink,className:"flex-1 bg-gradient-to-r from-primary to-blue-600 hover:from-primary/90 hover:to-blue-600/90",children:[o.jsx(yv,{className:"mr-2 h-4 w-4"}),"Generate QR Code"]})]})]})]})}),o.jsx(pi,{open:c.isOpen,onOpenChange:S=>!S&&u({...c,isOpen:!1}),children:o.jsxs(Ls,{className:"max-w-lg",children:[o.jsxs(Fs,{children:[o.jsxs($s,{className:"text-2xl flex items-center gap-2",children:[o.jsx(yv,{className:"h-6 w-6 text-primary"}),c.locationName]}),o.jsx(Us,{children:"QR code for customer reviews - Scan to see AI-powered review suggestions"})]}),o.jsx(q,{children:o.jsx(Q,{className:"space-y-4 pt-6",children:c.qrCodeUrl&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"bg-white p-3 rounded-lg border-2 border-gray-200 flex justify-center max-w-xs mx-auto",children:o.jsx("img",{src:c.qrCodeUrl,alt:"QR Code",className:"w-48 h-48"})}),o.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-sm mb-2",children:"How it works:"}),o.jsxs("ol",{className:"text-sm space-y-1 text-muted-foreground",children:[o.jsx("li",{children:"1. Customer scans QR code"}),o.jsx("li",{children:"2. Sees AI-generated review suggestions with SEO keywords"}),o.jsx("li",{children:'3. Clicks "Write Review on Google" button'}),o.jsx("li",{children:"4. Gets redirected to your Google review page"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Preview Link"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",value:c.reviewLink||"",readOnly:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-sm font-mono text-gray-600",placeholder:"No preview link available"}),o.jsx(Y,{onClick:A,size:"sm",variant:"outline",disabled:!c.reviewLink,children:o.jsx(uw,{className:"h-4 w-4"})})]})]}),o.jsxs(Y,{onClick:E,className:"w-full",variant:"default",children:[o.jsx(wP,{className:"mr-2 h-4 w-4"}),"Download QR Code"]})]}),o.jsx("div",{className:"text-xs text-muted-foreground text-center",children:"Print this QR code and display it in your business location"})]})})})]})})]})},Gwe=()=>{const t=Zt(),{isFeatureBlocked:e,status:n}=Dr(),{accounts:r,isConnected:s}=rf(),[i,a]=p.useState(""),[l,c]=p.useState(null),[u,d]=p.useState([]),[h,f]=p.useState(null),[m,y]=p.useState(!1),[v,x]=p.useState([]),[b,w]=p.useState(!1),j=p.useRef(null),N=(r||[]).flatMap(S=>(S.locations||[]).map(C=>({id:C.locationId,name:C.displayName,accountName:S.accountName,fullName:C.name})));we.useEffect(()=>{N.length>0&&!i&&a(N[0].id)},[N,i]),N.find(S=>S.id===i);const T=S=>{var O;const C=(O=S.target.files)==null?void 0:O[0];C&&C.type==="text/csv"?(c(C),I(C)):je({title:"Invalid File",description:"Please upload a valid CSV file.",variant:"destructive"})},I=async S=>{y(!0);try{const O=(await S.text()).split(`
`),k=O[0].split(",").map(J=>J.trim().toLowerCase()),B=k.findIndex(J=>J.includes("name")),G=k.findIndex(J=>J.includes("email")),U=k.findIndex(J=>J.includes("phone"));if(B===-1||G===-1)throw new Error("CSV must contain at least Name and Email columns");const $=[];for(let J=1;J<O.length;J++){const V=O[J].split(",").map(ue=>ue.trim());if(V.length>=2&&V[B]&&V[G]){const ue=Math.random()>.7,ee=ue?new Date(Date.now()-Math.random()*90*24*60*60*1e3).toISOString():void 0,re=ue?Math.floor(Math.random()*2)+4:void 0;$.push({id:`customer-${J}`,name:V[B],email:V[G],phone:U!==-1?V[U]:void 0,hasReviewed:ue,reviewDate:ee,reviewRating:re,source:"csv"})}}d($);const D=$.filter(J=>J.hasReviewed).length,L=$.filter(J=>J.reviewRating).reduce((J,V)=>J+(V.reviewRating||0),0)/D||0,W={totalCustomers:$.length,reviewedCustomers:D,pendingReviews:$.length-D,averageRating:L,completionRate:D/$.length*100};f(W),je({title:"Analysis Complete!",description:`Analyzed ${$.length} customers. ${$.length-D} need review requests.`})}catch(C){je({title:"Analysis Failed",description:C instanceof Error?C.message:"Failed to analyze CSV file.",variant:"destructive"})}finally{y(!1)}},P=async S=>{const C=v.length>0?u.filter(O=>v.includes(O.id)&&!O.hasReviewed):u.filter(O=>!O.hasReviewed);if(C.length===0){je({title:"No Customers Selected",description:"Please select customers who haven't reviewed yet.",variant:"destructive"});return}w(!0);try{for(let O=0;O<C.length;O++)await new Promise(k=>setTimeout(k,500));je({title:`${S.toUpperCase()} Requests Sent!`,description:`Review requests sent to ${C.length} customers via ${S}.`}),x([])}catch{je({title:"Failed to Send",description:"There was an error sending review requests. Please try again.",variant:"destructive"})}finally{w(!1)}},E=S=>{x(C=>C.includes(S)?C.filter(O=>O!==S):[...C,S])},A=()=>{const S=u.filter(C=>!C.hasReviewed).map(C=>C.id);x(S)};return s?e||n==="none"?o.jsx("div",{className:"flex flex-col items-center justify-center min-h-[500px] text-center space-y-6",children:o.jsxs("div",{className:"bg-red-950/30 border-2 border-red-500/50 rounded-2xl p-8 max-w-2xl w-full backdrop-blur-sm",children:[o.jsx(pr,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-2xl font-bold text-red-400 mb-3",children:n==="none"?"No Subscription - Upgrade Required":"Trial Expired - Upgrade Required"}),o.jsx("p",{className:"text-red-300/90 mb-6 text-lg",children:n==="none"?"You need an active subscription to access this feature. Start your 15-day free trial or upgrade now to request reviews from your customers.":"Your 15-day trial has expired. Upgrade now to request reviews from your customers and manage review campaigns."}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs(Y,{onClick:()=>t("/dashboard/billing"),className:"bg-red-600 hover:bg-red-700 text-white px-8 py-6 text-lg w-full",size:"lg",children:[o.jsx(Gn,{className:"mr-2 h-5 w-5"}),n==="none"?"Start Free Trial":"Upgrade Now"]}),o.jsx("p",{className:"text-sm text-red-400/80",children:"Starting from ₹1,099/month • Unlimited Profiles • All Features"})]})]})}):o.jsxs("div",{className:"relative p-3 sm:p-4 md:p-6 space-y-4 sm:space-y-6 min-h-[calc(100vh-4rem)]",children:[o.jsx("div",{className:"absolute inset-0 z-10 flex items-start justify-center backdrop-blur-sm bg-background/90 p-4 pt-8 sm:pt-12 overflow-y-auto",children:o.jsx(q,{className:"w-full max-w-xs sm:max-w-md md:max-w-lg mx-auto shadow-2xl border-2 animate-fade-in",children:o.jsxs(Q,{className:"pt-8 sm:pt-10 md:pt-12 pb-6 sm:pb-8 md:pb-10 px-4 sm:px-6 md:px-8 text-center",children:[o.jsxs("div",{className:"mb-4 sm:mb-6 flex items-center justify-center gap-2 sm:gap-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 animate-ping",children:o.jsx(Ql,{className:"h-8 w-8 sm:h-10 sm:w-10 md:h-12 md:w-12 text-primary/60"})}),o.jsx(Ql,{className:"h-8 w-8 sm:h-10 sm:w-10 md:h-12 md:w-12 text-primary relative"})]}),o.jsx(Ms,{className:"h-8 w-8 sm:h-10 sm:w-10 md:h-12 md:w-12 text-primary animate-pulse"})]}),o.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold mb-3 sm:mb-4 bg-gradient-to-r from-primary to-purple-600 bg-clip-text text-transparent",children:"Coming Soon"}),o.jsx("p",{className:"text-sm sm:text-base md:text-lg text-muted-foreground mb-4 sm:mb-6 leading-relaxed px-2",children:"We're working hard to bring you an amazing review request feature. This powerful tool will help you collect more reviews effortlessly!"}),o.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs sm:text-sm text-muted-foreground mb-4 sm:mb-6",children:[o.jsx(Ms,{className:"h-3 w-3 sm:h-4 sm:w-4"}),o.jsx("span",{children:"Expected launch: Coming very soon"})]}),o.jsxs("div",{className:"mt-6 sm:mt-8 pt-4 sm:pt-6 border-t",children:[o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mb-3",children:"Get notified when this feature launches"}),o.jsxs(Y,{className:"w-full h-10 sm:h-11 text-sm sm:text-base",children:[o.jsx(wa,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-2"}),o.jsx("span",{children:"Notify Me"})]})]})]})})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Request for Reviews"}),o.jsx("p",{className:"text-muted-foreground",children:"Upload customer data, analyze review status, and send automated review requests"})]}),o.jsxs(qu,{defaultValue:"upload",className:"space-y-6",children:[o.jsxs(yc,{className:"grid w-full grid-cols-3",children:[o.jsx(dn,{value:"upload",children:"Upload & Analyze"}),o.jsx(dn,{value:"customers",children:"Customer List"}),o.jsx(dn,{value:"send",children:"Send Requests"})]}),o.jsxs(hn,{value:"upload",className:"space-y-6",children:[o.jsxs(q,{children:[o.jsx(me,{children:o.jsxs(ge,{className:"text-lg flex items-center gap-2",children:[o.jsx(ci,{className:"h-5 w-5"}),"Select Business Location"]})}),o.jsx(Q,{children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:N.map(S=>{const C=i===S.id;return o.jsx("div",{className:`relative rounded-lg border-2 transition-all duration-200 cursor-pointer ${C?"border-primary bg-primary/5 shadow-md":"border-border hover:border-primary/50"}`,onClick:()=>a(S.id),children:o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium text-sm leading-tight break-words",children:S.name}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1 break-words",children:S.accountName}),C&&o.jsx(Ee,{className:"mt-2 text-xs",children:"Selected"})]})},S.id)})})})]}),o.jsxs(q,{children:[o.jsxs(me,{children:[o.jsxs(ge,{className:"text-lg flex items-center gap-2",children:[o.jsx(xy,{className:"h-5 w-5"}),"Upload Customer Data"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload a CSV file with customer information to analyze review status"})]}),o.jsxs(Q,{className:"space-y-4",children:[o.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-8 text-center",children:[o.jsx(xy,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h3",{className:"font-medium",children:"Upload CSV File"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"CSV should contain columns: Name, Email, Phone (optional)"})]}),o.jsx(Y,{onClick:()=>{var S;return(S=j.current)==null?void 0:S.click()},disabled:m,className:"mt-4",children:m?o.jsxs(o.Fragment,{children:[o.jsx($i,{className:"h-4 w-4 mr-2 animate-spin"}),"Analyzing..."]}):o.jsxs(o.Fragment,{children:[o.jsx(xu,{className:"h-4 w-4 mr-2"}),"Choose CSV File"]})}),o.jsx("input",{ref:j,type:"file",accept:".csv",onChange:T,className:"hidden"})]}),l&&o.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(xu,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm font-medium",children:l.name})]}),o.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>{c(null),d([]),f(null)},children:o.jsx(Yi,{className:"h-4 w-4"})})]}),m&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(Jx,{value:66,className:"w-full"}),o.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Analyzing customer data and checking review status..."})]})]})]}),h&&o.jsxs(q,{children:[o.jsx(me,{children:o.jsxs(ge,{className:"text-lg flex items-center gap-2",children:[o.jsx(li,{className:"h-5 w-5"}),"Analysis Results"]})}),o.jsxs(Q,{children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:h.totalCustomers}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Customers"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:h.reviewedCustomers}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Have Reviewed"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-orange-600",children:h.pendingReviews}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Need Reviews"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[h.completionRate.toFixed(1),"%"]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Review Rate"})]})]}),h.averageRating>0&&o.jsx("div",{className:"mt-4 p-3 bg-yellow-50 rounded-lg",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ai,{className:"h-4 w-4 text-yellow-500"}),o.jsxs("span",{className:"text-sm font-medium",children:["Average Rating: ",h.averageRating.toFixed(1)," / 5"]})]})})]})]})]}),o.jsx(hn,{value:"customers",className:"space-y-6",children:o.jsxs(q,{children:[o.jsx(me,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(ge,{className:"text-lg flex items-center gap-2",children:[o.jsx(ci,{className:"h-5 w-5"}),"Customer List (",u.length,")"]}),u.length>0&&o.jsx(Y,{onClick:A,variant:"outline",size:"sm",children:"Select All Non-Reviewed"})]})}),o.jsx(Q,{children:u.length>0?o.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:u.map(S=>o.jsxs("div",{className:`flex items-center justify-between p-3 border rounded-lg cursor-pointer transition-all ${v.includes(S.id)?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,onClick:()=>E(S.id),children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h4",{className:"font-medium",children:S.name}),S.hasReviewed?o.jsxs(Ee,{variant:"default",children:[o.jsx(on,{className:"h-3 w-3 mr-1"}),"Reviewed"]}):o.jsxs(Ee,{variant:"secondary",children:[o.jsx(pr,{className:"h-3 w-3 mr-1"}),"Pending"]})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:S.email}),S.phone&&o.jsx("p",{className:"text-xs text-muted-foreground",children:S.phone})]}),S.hasReviewed&&S.reviewRating&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(ai,{className:"h-4 w-4 text-yellow-500 fill-current"}),o.jsx("span",{className:"text-sm font-medium",children:S.reviewRating})]})]},S.id))}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx(ci,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),o.jsx("p",{className:"text-muted-foreground",children:"No customer data uploaded yet"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload a CSV file to see customer analysis"})]})})]})}),o.jsx(hn,{value:"send",className:"space-y-6",children:o.jsxs(q,{children:[o.jsxs(me,{children:[o.jsxs(ge,{className:"text-lg flex items-center gap-2",children:[o.jsx(mx,{className:"h-5 w-5"}),"Send Review Requests"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Send review requests to customers who haven't reviewed yet"})]}),o.jsxs(Q,{className:"space-y-6",children:[o.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(pr,{className:"h-4 w-4 text-blue-600"}),o.jsx("span",{className:"font-medium text-blue-800",children:"Ready to Send"})]}),o.jsxs("p",{className:"text-sm text-blue-700",children:[v.length>0?`${v.filter(S=>{var C;return!((C=u.find(O=>O.id===S))!=null&&C.hasReviewed)}).length} selected customers`:`${u.filter(S=>!S.hasReviewed).length} customers without reviews`," will receive review requests."]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(q,{className:"cursor-pointer hover:shadow-md transition-shadow",children:o.jsxs(Q,{className:"p-4 text-center",children:[o.jsx(wa,{className:"h-8 w-8 mx-auto mb-2 text-blue-600"}),o.jsx("h3",{className:"font-medium mb-2",children:"Email"}),o.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Send professional review request emails"}),o.jsx(Y,{onClick:()=>P("email"),disabled:b||u.filter(S=>!S.hasReviewed).length===0,className:"w-full",size:"sm",children:b?"Sending...":"Send via Email"})]})}),o.jsx(q,{className:"cursor-pointer hover:shadow-md transition-shadow",children:o.jsxs(Q,{className:"p-4 text-center",children:[o.jsx(Fp,{className:"h-8 w-8 mx-auto mb-2 text-green-600"}),o.jsx("h3",{className:"font-medium mb-2",children:"SMS"}),o.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Send review requests via text message"}),o.jsx(Y,{onClick:()=>P("sms"),disabled:b||u.filter(S=>!S.hasReviewed&&S.phone).length===0,className:"w-full",size:"sm",children:b?"Sending...":"Send via SMS"})]})}),o.jsx(q,{className:"cursor-pointer hover:shadow-md transition-shadow",children:o.jsxs(Q,{className:"p-4 text-center",children:[o.jsx(ba,{className:"h-8 w-8 mx-auto mb-2 text-green-500"}),o.jsx("h3",{className:"font-medium mb-2",children:"WhatsApp"}),o.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Send requests via WhatsApp messaging"}),o.jsx(Y,{onClick:()=>P("whatsapp"),disabled:b||u.filter(S=>!S.hasReviewed&&S.phone).length===0,className:"w-full",size:"sm",children:b?"Sending...":"Send via WhatsApp"})]})})]}),b&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(Jx,{value:75,className:"w-full"}),o.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Sending review requests to customers..."})]})]})]})})]})]}):o.jsx("div",{className:"h-full flex items-center justify-center p-6",children:o.jsxs(q,{className:"max-w-md w-full",children:[o.jsxs(me,{className:"text-center",children:[o.jsx("div",{className:"mx-auto mb-4 h-16 w-16 rounded-full bg-primary/10 flex items-center justify-center",children:o.jsx(xy,{className:"h-8 w-8 text-primary"})}),o.jsx(ge,{className:"text-xl",children:"Connect Google Business Profile"})]}),o.jsxs(Q,{className:"text-center",children:[o.jsx("p",{className:"text-muted-foreground mb-4",children:"Connect your Google Business Profile to analyze customer reviews and send requests."}),o.jsx(Y,{asChild:!0,children:o.jsx("a",{href:"/dashboard/settings",children:"Go to Settings"})})]})]})})},Wwe=()=>{const{isConnected:t,isLoading:e,accounts:n,selectedAccount:r,selectedLocation:s,error:i,connectGoogleBusiness:a,disconnectGoogleBusiness:l,selectAccount:c,selectLocation:u,refreshAccounts:d}=La(),{canAccessMultipleProfiles:h,isAccountAccessible:f,isLocationAccessible:m,getAccountLockMessage:y,getLocationLockMessage:v,handleContactSupport:x}=sf();return e?o.jsx(q,{children:o.jsxs(Q,{className:"flex items-center justify-center py-8",children:[o.jsx(jn,{className:"h-6 w-6 animate-spin mr-2"}),o.jsx("span",{children:"Loading Google Business Profile..."})]})}):t?o.jsxs("div",{className:"space-y-6",children:[o.jsx(q,{children:o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("img",{src:"/ggg.png",alt:"Google Business Profile",className:"h-5 w-5"}),o.jsx(ge,{children:"Google Business Profile"}),o.jsxs(Ee,{variant:"secondary",className:"bg-green-100 text-green-800",children:[o.jsx(on,{className:"h-3 w-3 mr-1"}),"Connected"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Y,{variant:"outline",size:"sm",onClick:d,disabled:e,children:[o.jsx(jn,{className:`h-4 w-4 mr-2 ${e?"animate-spin":""}`}),"Refresh"]}),o.jsxs(Y,{variant:"outline",size:"sm",onClick:l,disabled:e,children:[o.jsx(bZ,{className:"h-4 w-4 mr-2"}),"Disconnect"]})]})]}),o.jsx(Je,{children:"Your Google Business Profile is connected and syncing automatically."})]})}),t&&n.length===0&&!e&&o.jsx(q,{children:o.jsxs(Q,{className:"text-center py-8",children:[o.jsx(pr,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Business Profiles Found"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"We couldn't find any Google Business Profiles associated with your account."}),o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200 text-left",children:[o.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"To get started:"}),o.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[o.jsxs("li",{children:["• Create a Google Business Profile at ",o.jsx("a",{href:"https://business.google.com",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"business.google.com"})]}),o.jsx("li",{children:"• Verify your business location"}),o.jsx("li",{children:"• Make sure you're signed in with the correct Google account"}),o.jsx("li",{children:"• Ensure you have owner or manager permissions"})]})]}),o.jsxs(Y,{onClick:d,className:"mt-4",disabled:e,children:[o.jsx(jn,{className:`h-4 w-4 mr-2 ${e?"animate-spin":""}`}),"Check Again"]})]})}),n.length>0&&o.jsxs(q,{children:[o.jsxs(me,{children:[o.jsx(ge,{children:"Choose Account"}),o.jsx(Je,{children:h?"Select the Google Business account you want to manage.":"Select 1 Google Business account (upgrade to Enterprise for multiple accounts)."})]}),o.jsxs(Q,{className:"space-y-3",children:[n.map((b,w)=>{const j=!f(w);return o.jsxs("div",{className:`p-4 border rounded-lg transition-colors relative ${j?"border-gray-700 bg-gray-800/50 cursor-not-allowed opacity-70":(r==null?void 0:r.name)===b.name?"border-primary bg-primary/5 cursor-pointer":"border-border hover:border-primary/50 cursor-pointer"}`,onClick:()=>!j&&c(b),children:[j&&o.jsx("div",{className:"absolute top-2 right-2",children:o.jsx(sl,{className:"h-4 w-4 text-gray-400"})}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`h-10 w-10 rounded-lg flex items-center justify-center ${j?"bg-gray-100":"bg-primary/10"}`,children:o.jsx(yZ,{className:`h-5 w-5 ${j?"text-gray-400":"text-primary"}`})}),o.jsxs("div",{children:[o.jsxs("h4",{className:`font-medium ${j?"text-gray-400":""}`,children:[b.accountName,j&&o.jsx("span",{className:"ml-2 text-xs text-orange-600",children:"(Requires Enterprise)"})]}),o.jsxs("p",{className:`text-sm ${j?"text-gray-400":"text-muted-foreground"}`,children:[b.locations.length," location",b.locations.length!==1?"s":""]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ee,{variant:b.state==="VERIFIED"?"default":"secondary",children:b.role}),j&&o.jsxs(Ee,{variant:"outline",className:"text-orange-600 border-orange-200",children:[o.jsx(Gc,{className:"h-3 w-3 mr-1"}),"Pro"]})]})]})]},b.name)}),!h&&n.length>1&&o.jsx(q,{className:"border-orange-200 bg-orange-50",children:o.jsx(Q,{className:"p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Gc,{className:"h-5 w-5 text-orange-600 mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-orange-900 mb-1",children:"Multiple Profiles Detected"}),o.jsx("p",{className:"text-sm text-orange-800 mb-3",children:y(n.length)}),o.jsxs(Y,{size:"sm",variant:"outline",onClick:()=>x("Multiple Business Accounts"),className:"border-orange-300 text-orange-700 hover:bg-orange-100",children:[o.jsx(wa,{className:"h-4 w-4 mr-2"}),"Contact for Enterprise Plan"]})]})]})})})]})]}),r&&r.locations.length>0&&o.jsxs(q,{children:[o.jsxs(me,{children:[o.jsx(ge,{children:"Choose Location"}),o.jsx(Je,{children:h?`Select the business location you want to manage from ${r.accountName}.`:`Select 1 business location from ${r.accountName} (upgrade to Enterprise for multiple locations).`})]}),o.jsxs(Q,{className:"space-y-3",children:[r.locations.map((b,w)=>{var N,T;const j=!m(w);return o.jsxs("div",{className:`p-4 border rounded-lg transition-colors relative ${j?"border-gray-700 bg-gray-800/50 cursor-not-allowed opacity-70":(s==null?void 0:s.name)===b.name?"border-primary bg-primary/5 cursor-pointer":"border-border hover:border-primary/50 cursor-pointer"}`,onClick:()=>!j&&u(b),children:[j&&o.jsx("div",{className:"absolute top-2 right-2",children:o.jsx(sl,{className:"h-4 w-4 text-gray-400"})}),o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:`h-10 w-10 rounded-lg flex items-center justify-center ${j?"bg-gray-100":"bg-blue-100"}`,children:o.jsx(ks,{className:`h-5 w-5 ${j?"text-gray-400":"text-blue-600"}`})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("h4",{className:`font-medium ${j?"text-gray-400":""}`,children:[b.displayName,j&&o.jsx("span",{className:"ml-2 text-xs text-orange-600",children:"(Requires Enterprise)"})]}),o.jsxs("div",{className:`flex items-center gap-1 text-sm mt-1 ${j?"text-gray-400":"text-muted-foreground"}`,children:[o.jsx(ks,{className:"h-3 w-3"}),o.jsxs("span",{children:[b.address.addressLines.join(", "),", ",b.address.locality]})]}),b.phoneNumber&&o.jsxs("div",{className:`flex items-center gap-1 text-sm mt-1 ${j?"text-gray-400":"text-muted-foreground"}`,children:[o.jsx(Fp,{className:"h-3 w-3"}),o.jsx("span",{children:b.phoneNumber})]}),b.websiteUrl&&o.jsxs("div",{className:`flex items-center gap-1 text-sm mt-1 ${j?"text-gray-400":"text-muted-foreground"}`,children:[o.jsx(jP,{className:"h-3 w-3"}),o.jsx("span",{className:"truncate max-w-xs",children:b.websiteUrl})]}),b.categories.length>0&&o.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[b.categories.slice(0,2).map((I,P)=>o.jsx(Ee,{variant:"outline",className:"text-xs",children:I.name},P)),b.categories.length>2&&o.jsxs(Ee,{variant:"outline",className:"text-xs",children:["+",b.categories.length-2," more"]})]})]})]}),o.jsxs("div",{className:"flex flex-col items-end gap-1",children:[((N=b.metadata)==null?void 0:N.suspended)&&o.jsx(Ee,{variant:"destructive",className:"text-xs",children:"Suspended"}),((T=b.metadata)==null?void 0:T.duplicate)&&o.jsx(Ee,{variant:"secondary",className:"text-xs",children:"Duplicate"})]})]})]},b.name)}),!h&&r&&r.locations.length>1&&o.jsx(q,{className:"border-orange-200 bg-orange-50",children:o.jsx(Q,{className:"p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Gc,{className:"h-5 w-5 text-orange-600 mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-orange-900 mb-1",children:"Multiple Locations Detected"}),o.jsx("p",{className:"text-sm text-orange-800 mb-3",children:v(r.locations.length)}),o.jsxs(Y,{size:"sm",variant:"outline",onClick:()=>x("Multiple Business Locations"),className:"border-orange-300 text-orange-700 hover:bg-orange-100",children:[o.jsx(wa,{className:"h-4 w-4 mr-2"}),"Contact for Enterprise Plan"]})]})]})})})]})]}),s&&o.jsxs(q,{children:[o.jsxs(me,{children:[o.jsxs(ge,{className:"flex items-center gap-2",children:[o.jsx(on,{className:"h-5 w-5 text-green-600"}),"Location Selected"]}),o.jsxs(Je,{children:["You're now managing ",s.displayName]})]}),o.jsx(Q,{children:o.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[o.jsxs("div",{className:"flex items-center gap-2 text-green-800 mb-2",children:[o.jsx(on,{className:"h-4 w-4"}),o.jsx("span",{className:"font-medium",children:"Ready to manage your business!"})]}),o.jsx("p",{className:"text-sm text-green-700",children:"Your Google Business Profile is now connected and ready for automated management. You can now create posts, monitor reviews, and track analytics."})]})})]})]}):o.jsxs(q,{children:[o.jsxs(me,{children:[o.jsxs(ge,{className:"flex items-center gap-2",children:[o.jsx("img",{src:"/ggg.png",alt:"Google Business Profile",className:"h-5 w-5"}),"Connect Google Business Profile"]}),o.jsx(Je,{children:"Connect your Google Business Profile to manage your business listings, posts, and reviews automatically."})]}),o.jsxs(Q,{className:"space-y-4",children:[o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[o.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"What you'll get:"}),o.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[o.jsx("li",{children:"• Automatic profile synchronization"}),o.jsx("li",{children:"• Real-time post management"}),o.jsx("li",{children:"• Review monitoring and responses"}),o.jsx("li",{children:"• Multi-location support"}),o.jsx("li",{children:"• Analytics and insights"})]})]}),i&&o.jsx("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:o.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[o.jsx(pr,{className:"h-4 w-4"}),o.jsx("span",{className:"text-sm",children:i})]})}),o.jsxs(Y,{onClick:()=>{console.log("🔴 DEBUGGING: Connect button clicked!"),a()},className:"w-full",size:"lg",children:[o.jsx("img",{src:"/ggg.png",alt:"Google Business Profile",className:"mr-2 h-4 w-4"}),"Connect Google Business Profile"]})]})]})},Hwe=()=>{const[t,e]=p.useState({newReviews:!0,scheduledPosts:!0,weeklyReports:!1,accountAlerts:!0}),[n,r]=p.useState({enabled:!1,positiveReviews:!0,neutralReviews:!0,negativeReviews:!1});ps();const{currentUser:s,logout:i}=Hn(),a=Zt(),l=async()=>{try{await i(),a("/login")}catch(c){console.error("Logout error:",c)}};return o.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[o.jsxs("div",{className:"px-1",children:[o.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold tracking-tight",children:"Settings"}),o.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"Manage your account preferences and business profile settings"})]}),o.jsxs(qu,{defaultValue:"connections",className:"space-y-4 sm:space-y-6",children:[o.jsxs(yc,{className:"grid w-full grid-cols-2 sm:grid-cols-3 h-auto",children:[o.jsxs(dn,{value:"connections",className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm px-2 sm:px-3 py-2",children:[o.jsx(ci,{className:"h-3 w-3 sm:h-4 sm:w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Connections"}),o.jsx("span",{className:"sm:hidden",children:"Connect"})]}),o.jsxs(dn,{value:"notifications",className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm px-2 sm:px-3 py-2",children:[o.jsx(lx,{className:"h-3 w-3 sm:h-4 sm:w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Notifications"}),o.jsx("span",{className:"sm:hidden",children:"Notify"})]}),o.jsxs(dn,{value:"account",className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm px-2 sm:px-3 py-2",children:[o.jsx(gx,{className:"h-3 w-3 sm:h-4 sm:w-4"}),"Account"]})]}),o.jsx(hn,{value:"connections",className:"space-y-6",children:o.jsx(Wwe,{})}),o.jsxs(hn,{value:"notifications",className:"space-y-6",children:[o.jsxs(q,{children:[o.jsxs(me,{children:[o.jsxs(ge,{className:"flex items-center gap-2",children:[o.jsx(lx,{className:"h-5 w-5"}),"Notification Preferences"]}),o.jsx(Je,{children:"Choose what notifications you want to receive"})]}),o.jsx(Q,{className:"space-y-6",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[o.jsxs("div",{className:"space-y-0.5 flex-1",children:[o.jsx(Oe,{htmlFor:"new-reviews",className:"text-sm sm:text-base",children:"New Reviews"}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Get notified when you receive new customer reviews"})]}),o.jsx(bs,{id:"new-reviews",checked:t.newReviews,onCheckedChange:c=>e(u=>({...u,newReviews:c}))})]}),o.jsx(Sl,{}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[o.jsxs("div",{className:"space-y-0.5 flex-1",children:[o.jsx(Oe,{htmlFor:"scheduled-posts",className:"text-sm sm:text-base",children:"Scheduled Posts"}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Receive confirmations when posts are published"})]}),o.jsx(bs,{id:"scheduled-posts",checked:t.scheduledPosts,onCheckedChange:c=>e(u=>({...u,scheduledPosts:c}))})]}),o.jsx(Sl,{}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[o.jsxs("div",{className:"space-y-0.5 flex-1",children:[o.jsx(Oe,{htmlFor:"weekly-reports",className:"text-sm sm:text-base",children:"Weekly Reports"}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Get weekly performance summaries via email"})]}),o.jsx(bs,{id:"weekly-reports",checked:t.weeklyReports,onCheckedChange:c=>e(u=>({...u,weeklyReports:c}))})]}),o.jsx(Sl,{}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[o.jsxs("div",{className:"space-y-0.5 flex-1",children:[o.jsx(Oe,{htmlFor:"account-alerts",className:"text-sm sm:text-base",children:"Account Alerts"}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Important account and billing notifications"})]}),o.jsx(bs,{id:"account-alerts",checked:t.accountAlerts,onCheckedChange:c=>e(u=>({...u,accountAlerts:c}))})]})]})})]}),o.jsxs(q,{children:[o.jsxs(me,{children:[o.jsxs(ge,{className:"flex items-center gap-2",children:[o.jsx(wa,{className:"h-5 w-5"}),"Auto Reply Settings"]}),o.jsx(Je,{children:"Configure automatic responses to customer reviews"})]}),o.jsxs(Q,{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[o.jsxs("div",{className:"space-y-0.5 flex-1",children:[o.jsx(Oe,{htmlFor:"auto-reply",className:"text-sm sm:text-base",children:"Enable Auto Reply"}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Automatically respond to reviews using AI-generated responses"})]}),o.jsx(bs,{id:"auto-reply",checked:n.enabled,onCheckedChange:c=>r(u=>({...u,enabled:c}))})]}),n.enabled&&o.jsxs("div",{className:"space-y-4 border-l-2 border-primary/20 pl-4",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[o.jsx(Oe,{htmlFor:"positive-reviews",className:"text-sm sm:text-base",children:"Positive Reviews (4-5 stars)"}),o.jsx(bs,{id:"positive-reviews",checked:n.positiveReviews,onCheckedChange:c=>r(u=>({...u,positiveReviews:c}))})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[o.jsx(Oe,{htmlFor:"neutral-reviews",className:"text-sm sm:text-base",children:"Neutral Reviews (3 stars)"}),o.jsx(bs,{id:"neutral-reviews",checked:n.neutralReviews,onCheckedChange:c=>r(u=>({...u,neutralReviews:c}))})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[o.jsx(Oe,{htmlFor:"negative-reviews",className:"text-sm sm:text-base",children:"Negative Reviews (1-2 stars)"}),o.jsx(bs,{id:"negative-reviews",checked:n.negativeReviews,onCheckedChange:c=>r(u=>({...u,negativeReviews:c}))})]})]})]})]})]}),o.jsxs(hn,{value:"account",className:"space-y-6",children:[o.jsxs(q,{children:[o.jsxs(me,{children:[o.jsxs(ge,{className:"flex items-center gap-2",children:[o.jsx(gx,{className:"h-5 w-5"}),"Account Information"]}),o.jsx(Je,{children:"Manage your personal account details"})]}),o.jsxs(Q,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Oe,{htmlFor:"display-name",children:"Display Name"}),o.jsx(tt,{id:"display-name",defaultValue:(s==null?void 0:s.displayName)||"",placeholder:"Your display name"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Oe,{htmlFor:"email",children:"Email Address"}),o.jsx(tt,{id:"email",type:"email",defaultValue:(s==null?void 0:s.email)||"",placeholder:"your@email.com",disabled:!0})]})]}),o.jsx(Sl,{}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-sm sm:text-base",children:"Account Status"}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Your account is active and verified"})]}),o.jsx(Ee,{variant:"secondary",className:"bg-green-100 text-green-800 shrink-0",children:"Active"})]})]})]}),o.jsxs(q,{children:[o.jsxs(me,{children:[o.jsxs(ge,{className:"flex items-center gap-2",children:[o.jsx(Ui,{className:"h-5 w-5"}),"Security"]}),o.jsx(Je,{children:"Manage your account security settings"})]}),o.jsx(Q,{className:"space-y-4",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-sm sm:text-base",children:"Sign Out"}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Sign out of your account on this device"})]}),o.jsxs(Y,{variant:"outline",onClick:l,className:"w-full sm:w-auto",children:[o.jsx(NP,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-2"}),"Sign Out"]})]})})]})]})]})]})};var Nb={},B7={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(B7);var BC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(BC);var VC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(VC);var Sb={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],s=n.length;if(s===0)return r;let i=0,a="",l="",c=!1;for(n.charCodeAt(0)===46&&(r.push(""),i++);i<s;){const u=n[i];l?u==="\\"&&i+1<s?(i++,a+=n[i]):u===l?l="":a+=u:c?u==='"'||u==="'"?l=u:u==="]"?(c=!1,r.push(a),a=""):a+=u:u==="["?(c=!0,a&&(r.push(a),a="")):u==="."?a&&(r.push(a),a=""):a+=u,i++}return a&&r.push(a),r}t.toPath=e})(Sb);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=B7,n=BC,r=VC,s=Sb;function i(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?n.isDeepKey(c)?i(l,s.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return a(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function a(l,c,u){if(c.length===0)return u;let d=l;for(let h=0;h<c.length;h++){if(d==null||e.isUnsafeProperty(c[h]))return u;d=d[c[h]]}return d===void 0?u:d}t.get=i})(Nb);var Kwe=Nb.get;const Ru=Do(Kwe);var V7={exports:{}},kt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zC=Symbol.for("react.element"),GC=Symbol.for("react.portal"),_b=Symbol.for("react.fragment"),Eb=Symbol.for("react.strict_mode"),Pb=Symbol.for("react.profiler"),Ab=Symbol.for("react.provider"),Cb=Symbol.for("react.context"),qwe=Symbol.for("react.server_context"),Tb=Symbol.for("react.forward_ref"),kb=Symbol.for("react.suspense"),Ib=Symbol.for("react.suspense_list"),Rb=Symbol.for("react.memo"),Ob=Symbol.for("react.lazy"),Ywe=Symbol.for("react.offscreen"),z7;z7=Symbol.for("react.module.reference");function xi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case zC:switch(t=t.type,t){case _b:case Pb:case Eb:case kb:case Ib:return t;default:switch(t=t&&t.$$typeof,t){case qwe:case Cb:case Tb:case Ob:case Rb:case Ab:return t;default:return e}}case GC:return e}}}kt.ContextConsumer=Cb;kt.ContextProvider=Ab;kt.Element=zC;kt.ForwardRef=Tb;kt.Fragment=_b;kt.Lazy=Ob;kt.Memo=Rb;kt.Portal=GC;kt.Profiler=Pb;kt.StrictMode=Eb;kt.Suspense=kb;kt.SuspenseList=Ib;kt.isAsyncMode=function(){return!1};kt.isConcurrentMode=function(){return!1};kt.isContextConsumer=function(t){return xi(t)===Cb};kt.isContextProvider=function(t){return xi(t)===Ab};kt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===zC};kt.isForwardRef=function(t){return xi(t)===Tb};kt.isFragment=function(t){return xi(t)===_b};kt.isLazy=function(t){return xi(t)===Ob};kt.isMemo=function(t){return xi(t)===Rb};kt.isPortal=function(t){return xi(t)===GC};kt.isProfiler=function(t){return xi(t)===Pb};kt.isStrictMode=function(t){return xi(t)===Eb};kt.isSuspense=function(t){return xi(t)===kb};kt.isSuspenseList=function(t){return xi(t)===Ib};kt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===_b||t===Pb||t===Eb||t===kb||t===Ib||t===Ywe||typeof t=="object"&&t!==null&&(t.$$typeof===Ob||t.$$typeof===Rb||t.$$typeof===Ab||t.$$typeof===Cb||t.$$typeof===Tb||t.$$typeof===z7||t.getModuleId!==void 0)};kt.typeOf=xi;V7.exports=kt;var Qwe=V7.exports,er=t=>t===0?0:t>0?1:-1,ms=t=>typeof t=="number"&&t!=+t,Kc=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,$e=t=>(typeof t=="number"||t instanceof Number)&&!ms(t),ko=t=>$e(t)||typeof t=="string",Xwe=0,vp=t=>{var e=++Xwe;return"".concat(t||"").concat(e)},Ir=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!$e(e)&&typeof e!="string")return r;var i;if(Kc(e)){if(n==null)return r;var a=e.indexOf("%");i=n*parseFloat(e.slice(0,a))/100}else i=+e;return ms(i)&&(i=r),s&&n!=null&&i>n&&(i=n),i},G7=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function It(t,e,n){return $e(t)&&$e(e)?t+n*(e-t):e}function W7(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Ru(r,e))===n)}var Xt=t=>t===null||typeof t>"u",vg=t=>Xt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),Jwe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function WC(t){if(typeof t!="string")return!1;var e=Jwe;return e.includes(t)}var Zwe=["viewBox","children"],JD=["points","pathLength"],Qj={svg:Zwe,polygon:JD,polyline:JD},HC=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(p.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(s=>{WC(s)&&(r[s]=i=>n[s](n,i))}),r},ebe=(t,e,n)=>r=>(t(e,n,r),null),yg=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(s=>{var i=t[s];WC(s)&&typeof i=="function"&&(r||(r={}),r[s]=ebe(i,e,n))}),r},tbe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function H7(t){if(typeof t!="string")return!1;var e=tbe;return e.includes(t)}function wi(t){var e=Object.entries(t).filter(n=>{var[r]=n;return H7(r)});return Object.fromEntries(e)}var ZD=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",eM=null,Xj=null,K7=t=>{if(t===eM&&Array.isArray(Xj))return Xj;var e=[];return p.Children.forEach(t,n=>{Xt(n)||(Qwe.isFragment(n)?e=e.concat(K7(n.props.children)):e.push(n))}),Xj=e,eM=t,e};function KC(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(s=>ZD(s)):r=[ZD(e)],K7(t).forEach(s=>{var i=Ru(s,"type.displayName")||Ru(s,"type.name");r.indexOf(i)!==-1&&n.push(s)}),n}var Db=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,nbe=(t,e,n,r)=>{var s;if(typeof e=="symbol"||typeof e=="number")return!0;var i=(s=r&&(Qj==null?void 0:Qj[r]))!==null&&s!==void 0?s:[],a=e.startsWith("data-"),l=typeof t!="function"&&(!!r&&i.includes(e)||H7(e)),c=!!n&&WC(e);return a||l||c},Jt=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(p.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var s={};return Object.keys(r).forEach(i=>{var a;nbe((a=r)===null||a===void 0?void 0:a[i],i,e,n)&&(s[i]=r[i])}),s},rbe=["children","width","height","viewBox","className","style","title","desc"];function A_(){return A_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A_.apply(null,arguments)}function sbe(t,e){if(t==null)return{};var n,r,s=ibe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function ibe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var qC=p.forwardRef((t,e)=>{var{children:n,width:r,height:s,viewBox:i,className:a,style:l,title:c,desc:u}=t,d=sbe(t,rbe),h=i||{width:r,height:s,x:0,y:0},f=dt("recharts-surface",a);return p.createElement("svg",A_({},Jt(d,!0,"svg"),{className:f,width:r,height:s,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:e}),p.createElement("title",null,c),p.createElement("desc",null,u),n)}),obe=["children","className"];function C_(){return C_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C_.apply(null,arguments)}function abe(t,e){if(t==null)return{};var n,r,s=lbe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function lbe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Sn=p.forwardRef((t,e)=>{var{children:n,className:r}=t,s=abe(t,obe),i=dt("recharts-layer",r);return p.createElement("g",C_({className:i},Jt(s,!0),{ref:e}),n)}),q7=p.createContext(null),cbe=()=>p.useContext(q7);function Ft(t){return function(){return t}}const Y7=Math.cos,r0=Math.sin,Xi=Math.sqrt,s0=Math.PI,Mb=2*s0,T_=Math.PI,k_=2*T_,Fc=1e-6,ube=k_-Fc;function Q7(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function dbe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Q7;const n=10**e;return function(r){this._+=r[0];for(let s=1,i=r.length;s<i;++s)this._+=Math.round(arguments[s]*n)/n+r[s]}}class hbe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Q7:dbe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,s){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+s}`}bezierCurveTo(e,n,r,s,i,a){this._append`C${+e},${+n},${+r},${+s},${this._x1=+i},${this._y1=+a}`}arcTo(e,n,r,s,i){if(e=+e,n=+n,r=+r,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let a=this._x1,l=this._y1,c=r-e,u=s-n,d=a-e,h=l-n,f=d*d+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>Fc)if(!(Math.abs(h*c-u*d)>Fc)||!i)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-a,y=s-l,v=c*c+u*u,x=m*m+y*y,b=Math.sqrt(v),w=Math.sqrt(f),j=i*Math.tan((T_-Math.acos((v+f-x)/(2*b*w)))/2),N=j/w,T=j/b;Math.abs(N-1)>Fc&&this._append`L${e+N*d},${n+N*h}`,this._append`A${i},${i},0,0,${+(h*m>d*y)},${this._x1=e+T*c},${this._y1=n+T*u}`}}arc(e,n,r,s,i,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(s),c=r*Math.sin(s),u=e+l,d=n+c,h=1^a,f=a?s-i:i-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Fc||Math.abs(this._y1-d)>Fc)&&this._append`L${u},${d}`,r&&(f<0&&(f=f%k_+k_),f>ube?this._append`A${r},${r},0,1,${h},${e-l},${n-c}A${r},${r},0,1,${h},${this._x1=u},${this._y1=d}`:f>Fc&&this._append`A${r},${r},0,${+(f>=T_)},${h},${this._x1=e+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(e,n,r,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+s}h${-r}Z`}toString(){return this._}}function YC(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new hbe(e)}function QC(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function X7(t){this._context=t}X7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Lb(t){return new X7(t)}function J7(t){return t[0]}function Z7(t){return t[1]}function eG(t,e){var n=Ft(!0),r=null,s=Lb,i=null,a=YC(l);t=typeof t=="function"?t:t===void 0?J7:Ft(t),e=typeof e=="function"?e:e===void 0?Z7:Ft(e);function l(c){var u,d=(c=QC(c)).length,h,f=!1,m;for(r==null&&(i=s(m=a())),u=0;u<=d;++u)!(u<d&&n(h=c[u],u,c))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+t(h,u,c),+e(h,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Ft(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Ft(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Ft(!!c),l):n},l.curve=function(c){return arguments.length?(s=c,r!=null&&(i=s(r)),l):s},l.context=function(c){return arguments.length?(c==null?r=i=null:i=s(r=c),l):r},l}function Bv(t,e,n){var r=null,s=Ft(!0),i=null,a=Lb,l=null,c=YC(u);t=typeof t=="function"?t:t===void 0?J7:Ft(+t),e=typeof e=="function"?e:Ft(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Z7:Ft(+n);function u(h){var f,m,y,v=(h=QC(h)).length,x,b=!1,w,j=new Array(v),N=new Array(v);for(i==null&&(l=a(w=c())),f=0;f<=v;++f){if(!(f<v&&s(x=h[f],f,h))===b)if(b=!b)m=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=f-1;y>=m;--y)l.point(j[y],N[y]);l.lineEnd(),l.areaEnd()}b&&(j[f]=+t(x,f,h),N[f]=+e(x,f,h),l.point(r?+r(x,f,h):j[f],n?+n(x,f,h):N[f]))}if(w)return l=null,w+""||null}function d(){return eG().defined(s).curve(a).context(i)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:Ft(+h),r=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Ft(+h),u):t},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Ft(+h),u):r},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:Ft(+h),n=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Ft(+h),u):e},u.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Ft(+h),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(h){return arguments.length?(s=typeof h=="function"?h:Ft(!!h),u):s},u.curve=function(h){return arguments.length?(a=h,i!=null&&(l=a(i)),u):a},u.context=function(h){return arguments.length?(h==null?i=l=null:l=a(i=h),u):i},u}class tG{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function fbe(t){return new tG(t,!0)}function mbe(t){return new tG(t,!1)}const XC={draw(t,e){const n=Xi(e/s0);t.moveTo(n,0),t.arc(0,0,n,0,Mb)}},pbe={draw(t,e){const n=Xi(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},nG=Xi(1/3),gbe=nG*2,vbe={draw(t,e){const n=Xi(e/gbe),r=n*nG;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},ybe={draw(t,e){const n=Xi(e),r=-n/2;t.rect(r,r,n,n)}},xbe=.8908130915292852,rG=r0(s0/10)/r0(7*s0/10),wbe=r0(Mb/10)*rG,bbe=-Y7(Mb/10)*rG,jbe={draw(t,e){const n=Xi(e*xbe),r=wbe*n,s=bbe*n;t.moveTo(0,-n),t.lineTo(r,s);for(let i=1;i<5;++i){const a=Mb*i/5,l=Y7(a),c=r0(a);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*s,c*r+l*s)}t.closePath()}},Jj=Xi(3),Nbe={draw(t,e){const n=-Xi(e/(Jj*3));t.moveTo(0,n*2),t.lineTo(-Jj*n,-n),t.lineTo(Jj*n,-n),t.closePath()}},qs=-.5,Ys=Xi(3)/2,I_=1/Xi(12),Sbe=(I_/2+1)*3,_be={draw(t,e){const n=Xi(e/Sbe),r=n/2,s=n*I_,i=r,a=n*I_+n,l=-i,c=a;t.moveTo(r,s),t.lineTo(i,a),t.lineTo(l,c),t.lineTo(qs*r-Ys*s,Ys*r+qs*s),t.lineTo(qs*i-Ys*a,Ys*i+qs*a),t.lineTo(qs*l-Ys*c,Ys*l+qs*c),t.lineTo(qs*r+Ys*s,qs*s-Ys*r),t.lineTo(qs*i+Ys*a,qs*a-Ys*i),t.lineTo(qs*l+Ys*c,qs*c-Ys*l),t.closePath()}};function Ebe(t,e){let n=null,r=YC(s);t=typeof t=="function"?t:Ft(t||XC),e=typeof e=="function"?e:Ft(e===void 0?64:+e);function s(){let i;if(n||(n=i=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return s.type=function(i){return arguments.length?(t=typeof i=="function"?i:Ft(i),s):t},s.size=function(i){return arguments.length?(e=typeof i=="function"?i:Ft(+i),s):e},s.context=function(i){return arguments.length?(n=i??null,s):n},s}function i0(){}function o0(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function sG(t){this._context=t}sG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:o0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:o0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Pbe(t){return new sG(t)}function iG(t){this._context=t}iG.prototype={areaStart:i0,areaEnd:i0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:o0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Abe(t){return new iG(t)}function oG(t){this._context=t}oG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:o0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Cbe(t){return new oG(t)}function aG(t){this._context=t}aG.prototype={areaStart:i0,areaEnd:i0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Tbe(t){return new aG(t)}function tM(t){return t<0?-1:1}function nM(t,e,n){var r=t._x1-t._x0,s=e-t._x1,i=(t._y1-t._y0)/(r||s<0&&-0),a=(n-t._y1)/(s||r<0&&-0),l=(i*s+a*r)/(r+s);return(tM(i)+tM(a))*Math.min(Math.abs(i),Math.abs(a),.5*Math.abs(l))||0}function rM(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Zj(t,e,n){var r=t._x0,s=t._y0,i=t._x1,a=t._y1,l=(i-r)/3;t._context.bezierCurveTo(r+l,s+l*e,i-l,a-l*n,i,a)}function a0(t){this._context=t}a0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Zj(this,this._t0,rM(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Zj(this,rM(this,n=nM(this,t,e)),n);break;default:Zj(this,this._t0,n=nM(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function lG(t){this._context=new cG(t)}(lG.prototype=Object.create(a0.prototype)).point=function(t,e){a0.prototype.point.call(this,e,t)};function cG(t){this._context=t}cG.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,s,i){this._context.bezierCurveTo(e,t,r,n,i,s)}};function kbe(t){return new a0(t)}function Ibe(t){return new lG(t)}function uG(t){this._context=t}uG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=sM(t),s=sM(e),i=0,a=1;a<n;++i,++a)this._context.bezierCurveTo(r[0][i],s[0][i],r[1][i],s[1][i],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function sM(t){var e,n=t.length-1,r,s=new Array(n),i=new Array(n),a=new Array(n);for(s[0]=0,i[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)s[e]=1,i[e]=4,a[e]=4*t[e]+2*t[e+1];for(s[n-1]=2,i[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=s[e]/i[e-1],i[e]-=r,a[e]-=r*a[e-1];for(s[n-1]=a[n-1]/i[n-1],e=n-2;e>=0;--e)s[e]=(a[e]-s[e+1])/i[e];for(i[n-1]=(t[n]+s[n-1])/2,e=0;e<n-1;++e)i[e]=2*t[e+1]-s[e+1];return[s,i]}function Rbe(t){return new uG(t)}function Fb(t,e){this._context=t,this._t=e}Fb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Obe(t){return new Fb(t,.5)}function Dbe(t){return new Fb(t,0)}function Mbe(t){return new Fb(t,1)}function Ch(t,e){if((a=t.length)>1)for(var n=1,r,s,i=t[e[0]],a,l=i.length;n<a;++n)for(s=i,i=t[e[n]],r=0;r<l;++r)i[r][1]+=i[r][0]=isNaN(s[r][1])?s[r][0]:s[r][1]}function R_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Lbe(t,e){return t[e]}function Fbe(t){const e=[];return e.key=t,e}function $be(){var t=Ft([]),e=R_,n=Ch,r=Lbe;function s(i){var a=Array.from(t.apply(this,arguments),Fbe),l,c=a.length,u=-1,d;for(const h of i)for(l=0,++u;l<c;++l)(a[l][u]=[0,+r(h,a[l].key,u,i)]).data=h;for(l=0,d=QC(e(a));l<c;++l)a[d[l]].index=l;return n(a,d),a}return s.keys=function(i){return arguments.length?(t=typeof i=="function"?i:Ft(Array.from(i)),s):t},s.value=function(i){return arguments.length?(r=typeof i=="function"?i:Ft(+i),s):r},s.order=function(i){return arguments.length?(e=i==null?R_:typeof i=="function"?i:Ft(Array.from(i)),s):e},s.offset=function(i){return arguments.length?(n=i??Ch,s):n},s}function Ube(t,e){if((r=t.length)>0){for(var n,r,s=0,i=t[0].length,a;s<i;++s){for(a=n=0;n<r;++n)a+=t[n][s][1]||0;if(a)for(n=0;n<r;++n)t[n][s][1]/=a}Ch(t,e)}}function Bbe(t,e){if((s=t.length)>0){for(var n=0,r=t[e[0]],s,i=r.length;n<i;++n){for(var a=0,l=0;a<s;++a)l+=t[a][n][1]||0;r[n][1]+=r[n][0]=-l/2}Ch(t,e)}}function Vbe(t,e){if(!(!((a=t.length)>0)||!((i=(s=t[e[0]]).length)>0))){for(var n=0,r=1,s,i,a;r<i;++r){for(var l=0,c=0,u=0;l<a;++l){for(var d=t[e[l]],h=d[r][1]||0,f=d[r-1][1]||0,m=(h-f)/2,y=0;y<l;++y){var v=t[e[y]],x=v[r][1]||0,b=v[r-1][1]||0;m+=x-b}c+=h,u+=m*h}s[r-1][1]+=s[r-1][0]=n,c&&(n-=u/c)}s[r-1][1]+=s[r-1][0]=n,Ch(t,e)}}var zbe=["type","size","sizeType"];function O_(){return O_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O_.apply(null,arguments)}function iM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function oM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iM(Object(n),!0).forEach(function(r){Gbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gbe(t,e,n){return(e=Wbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wbe(t){var e=Hbe(t,"string");return typeof e=="symbol"?e:e+""}function Hbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kbe(t,e){if(t==null)return{};var n,r,s=qbe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function qbe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var dG={symbolCircle:XC,symbolCross:pbe,symbolDiamond:vbe,symbolSquare:ybe,symbolStar:jbe,symbolTriangle:Nbe,symbolWye:_be},Ybe=Math.PI/180,Qbe=t=>{var e="symbol".concat(vg(t));return dG[e]||XC},Xbe=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*Ybe;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Jbe=(t,e)=>{dG["symbol".concat(vg(t))]=e},JC=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,s=Kbe(t,zbe),i=oM(oM({},s),{},{type:e,size:n,sizeType:r}),a="circle";typeof e=="string"&&(a=e);var l=()=>{var f=Qbe(a),m=Ebe().type(f).size(Xbe(n,r,a));return m()},{className:c,cx:u,cy:d}=i,h=Jt(i,!0);return u===+u&&d===+d&&n===+n?p.createElement("path",O_({},h,{className:dt("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:l()})):null};JC.registerSymbol=Jbe;function D_(){return D_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D_.apply(null,arguments)}function aM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Zbe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aM(Object(n),!0).forEach(function(r){ZC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZC(t,e,n){return(e=e1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e1e(t){var e=t1e(t,"string");return typeof e=="symbol"?e:e+""}function t1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qs=32;class eT extends p.PureComponent{renderIcon(e,n){var{inactiveColor:r}=this.props,s=Qs/2,i=Qs/6,a=Qs/3,l=e.inactive?r:e.color,c=n??e.type;if(c==="none")return null;if(c==="plainline")return p.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:s,x2:Qs,y2:s,className:"recharts-legend-icon"});if(c==="line")return p.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*a,",").concat(s,`
            H`).concat(Qs,"M").concat(2*a,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(a,",").concat(s),className:"recharts-legend-icon"});if(c==="rect")return p.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Qs/8,"h").concat(Qs,"v").concat(Qs*3/4,"h").concat(-Qs,"z"),className:"recharts-legend-icon"});if(p.isValidElement(e.legendIcon)){var u=Zbe({},e);return delete u.legendIcon,p.cloneElement(e.legendIcon,u)}return p.createElement(JC,{fill:l,cx:s,cy:s,size:Qs,sizeType:"diameter",type:c})}renderItems(){var{payload:e,iconSize:n,layout:r,formatter:s,inactiveColor:i,iconType:a}=this.props,l={x:0,y:0,width:Qs,height:Qs},c={display:r==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((d,h)=>{var f=d.formatter||s,m=dt({"recharts-legend-item":!0,["legend-item-".concat(h)]:!0,inactive:d.inactive});if(d.type==="none")return null;var y=d.inactive?i:d.color,v=f?f(d.value,d,h):d.value;return p.createElement("li",D_({className:m,style:c,key:"legend-item-".concat(h)},yg(this.props,d,h)),p.createElement(qC,{width:n,height:n,viewBox:l,style:u,"aria-label":"".concat(v," legend icon")},this.renderIcon(d,a)),p.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},v))})}render(){var{payload:e,layout:n,align:r}=this.props;if(!e||!e.length)return null;var s={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return p.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}ZC(eT,"displayName","Legend");ZC(eT,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var hG={},fG={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const s=new Map;for(let i=0;i<n.length;i++){const a=n[i],l=r(a);s.has(l)||s.set(l,a)}return Array.from(s.values())}t.uniqBy=e})(fG);var tT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(tT);var mG={},$b={},pG={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(pG);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pG;function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})($b);var gG={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(gG);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$b,n=gG;function r(s){return n.isObjectLike(s)&&e.isArrayLike(s)}t.isArrayLikeObject=r})(mG);var vG={},yG={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Nb;function n(r){return function(s){return e.get(s,r)}}t.property=n})(yG);var xG={},eN={},tN={},nT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(nT);var rT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(rT);var sT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(sT);var lM;function n1e(){return lM||(lM=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iT(),n=nT,r=rT,s=sT;function i(h,f,m){return typeof m!="function"?e.isMatch(h,f):a(h,f,function y(v,x,b,w,j,N){const T=m(v,x,b,w,j,N);return T!==void 0?!!T:a(v,x,y,N)},new Map)}function a(h,f,m,y){if(f===h)return!0;switch(typeof f){case"object":return l(h,f,m,y);case"function":return Object.keys(f).length>0?a(h,{...f},m,y):s.eq(h,f);default:return n.isObject(h)?typeof f=="string"?f==="":!0:s.eq(h,f)}}function l(h,f,m,y){if(f==null)return!0;if(Array.isArray(f))return u(h,f,m,y);if(f instanceof Map)return c(h,f,m,y);if(f instanceof Set)return d(h,f,m,y);const v=Object.keys(f);if(h==null)return v.length===0;if(v.length===0)return!0;if(y&&y.has(f))return y.get(f)===h;y&&y.set(f,h);try{for(let x=0;x<v.length;x++){const b=v[x];if(!r.isPrimitive(h)&&!(b in h)||f[b]===void 0&&h[b]!==void 0||f[b]===null&&h[b]!==null||!m(h[b],f[b],b,h,f,y))return!1}return!0}finally{y&&y.delete(f)}}function c(h,f,m,y){if(f.size===0)return!0;if(!(h instanceof Map))return!1;for(const[v,x]of f.entries()){const b=h.get(v);if(m(b,x,v,h,f,y)===!1)return!1}return!0}function u(h,f,m,y){if(f.length===0)return!0;if(!Array.isArray(h))return!1;const v=new Set;for(let x=0;x<f.length;x++){const b=f[x];let w=!1;for(let j=0;j<h.length;j++){if(v.has(j))continue;const N=h[j];let T=!1;if(m(N,b,x,h,f,y)&&(T=!0),T){v.add(j),w=!0;break}}if(!w)return!1}return!0}function d(h,f,m,y){return f.size===0?!0:h instanceof Set?u([...h],[...f],m,y):!1}t.isMatchWith=i,t.isSetMatch=d}(tN)),tN}var cM;function iT(){return cM||(cM=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=n1e();function n(r,s){return e.isMatchWith(r,s,()=>{})}t.isMatch=n}(eN)),eN}var wG={},oT={},bG={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(bG);var aT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(aT);var lT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",s="[object Boolean]",i="[object Arguments]",a="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",h="[object Function]",f="[object ArrayBuffer]",m="[object Object]",y="[object Error]",v="[object DataView]",x="[object Uint8Array]",b="[object Uint8ClampedArray]",w="[object Uint16Array]",j="[object Uint32Array]",N="[object BigUint64Array]",T="[object Int8Array]",I="[object Int16Array]",P="[object Int32Array]",E="[object BigInt64Array]",A="[object Float32Array]",S="[object Float64Array]";t.argumentsTag=i,t.arrayBufferTag=f,t.arrayTag=d,t.bigInt64ArrayTag=E,t.bigUint64ArrayTag=N,t.booleanTag=s,t.dataViewTag=v,t.dateTag=l,t.errorTag=y,t.float32ArrayTag=A,t.float64ArrayTag=S,t.functionTag=h,t.int16ArrayTag=I,t.int32ArrayTag=P,t.int8ArrayTag=T,t.mapTag=c,t.numberTag=r,t.objectTag=m,t.regexpTag=e,t.setTag=u,t.stringTag=n,t.symbolTag=a,t.uint16ArrayTag=w,t.uint32ArrayTag=j,t.uint8ArrayTag=x,t.uint8ClampedArrayTag=b})(lT);var jG={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(jG);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bG,n=aT,r=lT,s=rT,i=jG;function a(d,h){return l(d,void 0,d,new Map,h)}function l(d,h,f,m=new Map,y=void 0){const v=y==null?void 0:y(d,h,f,m);if(v!==void 0)return v;if(s.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const x=new Array(d.length);m.set(d,x);for(let b=0;b<d.length;b++)x[b]=l(d[b],b,f,m,y);return Object.hasOwn(d,"index")&&(x.index=d.index),Object.hasOwn(d,"input")&&(x.input=d.input),x}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const x=new RegExp(d.source,d.flags);return x.lastIndex=d.lastIndex,x}if(d instanceof Map){const x=new Map;m.set(d,x);for(const[b,w]of d)x.set(b,l(w,b,f,m,y));return x}if(d instanceof Set){const x=new Set;m.set(d,x);for(const b of d)x.add(l(b,void 0,f,m,y));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const x=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,x);for(let b=0;b<d.length;b++)x[b]=l(d[b],b,f,m,y);return x}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const x=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,x),c(x,d,f,m,y),x}if(typeof File<"u"&&d instanceof File){const x=new File([d],d.name,{type:d.type});return m.set(d,x),c(x,d,f,m,y),x}if(d instanceof Blob){const x=new Blob([d],{type:d.type});return m.set(d,x),c(x,d,f,m,y),x}if(d instanceof Error){const x=new d.constructor;return m.set(d,x),x.message=d.message,x.name=d.name,x.stack=d.stack,x.cause=d.cause,c(x,d,f,m,y),x}if(typeof d=="object"&&u(d)){const x=Object.create(Object.getPrototypeOf(d));return m.set(d,x),c(x,d,f,m,y),x}return d}function c(d,h,f=d,m,y){const v=[...Object.keys(h),...e.getSymbols(h)];for(let x=0;x<v.length;x++){const b=v[x],w=Object.getOwnPropertyDescriptor(d,b);(w==null||w.writable)&&(d[b]=l(h[b],b,f,m,y))}}function u(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=l,t.copyProperties=c})(oT);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oT;function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(wG);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iT(),n=wG;function r(s){return s=n.cloneDeep(s),i=>e.isMatch(i,s)}t.matches=r})(xG);var NG={},SG={},_G={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oT,n=lT;function r(s,i){return e.cloneDeepWith(s,(a,l,c,u)=>{const d=i==null?void 0:i(a,l,c,u);if(d!==void 0)return d;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case n.numberTag:case n.stringTag:case n.booleanTag:{const h=new s.constructor(s==null?void 0:s.valueOf());return e.copyProperties(h,s),h}case n.argumentsTag:{const h={};return e.copyProperties(h,s),h.length=s.length,h[Symbol.iterator]=s[Symbol.iterator],h}default:return}})}t.cloneDeepWith=r})(_G);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_G;function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(SG);var EG={},cT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,s=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<s;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(cT);var PG={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aT;function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(PG);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BC,n=cT,r=PG,s=Sb;function i(a,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&e.isDeepKey(l)&&(a==null?void 0:a[l])==null?c=s.toPath(l):c=[l],c.length===0)return!1;let u=a;for(let d=0;d<c.length;d++){const h=c[d];if((u==null||!Object.hasOwn(u,h))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(h)&&h<u.length))return!1;u=u[h]}return!0}t.has=i})(EG);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iT(),n=VC,r=SG,s=Nb,i=EG;function a(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return c=r.cloneDeep(c),function(u){const d=s.get(u,l);return d===void 0?i.has(u,l):c===void 0?d===void 0:e.isMatch(d,c)}}t.matchesProperty=a})(NG);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tT,n=yG,r=xG,s=NG;function i(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?s.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}t.iteratee=i})(vG);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fG,n=tT,r=mG,s=vG;function i(a,l=n.identity){return r.isArrayLikeObject(a)?e.uniqBy(Array.from(a),s.iteratee(l)):[]}t.uniqBy=i})(hG);var r1e=hG.uniqBy;const uM=Do(r1e);function AG(t,e,n){return e===!0?uM(t,n):typeof e=="function"?uM(t,e):t}var CG={exports:{}},TG={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ub=p,s1e=e8;function i1e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var o1e=typeof Object.is=="function"?Object.is:i1e,a1e=s1e.useSyncExternalStore,l1e=Ub.useRef,c1e=Ub.useEffect,u1e=Ub.useMemo,d1e=Ub.useDebugValue;TG.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=l1e(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=u1e(function(){function c(m){if(!u){if(u=!0,d=m,m=r(m),s!==void 0&&a.hasValue){var y=a.value;if(s(y,m))return h=y}return h=m}if(y=h,o1e(d,m))return y;var v=r(m);return s!==void 0&&s(y,v)?(d=m,y):(d=m,h=v)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return c(e())},f===null?void 0:function(){return c(f())}]},[e,n,r,s]);var l=a1e(t,i[0],i[1]);return c1e(function(){a.hasValue=!0,a.value=l},[l]),d1e(l),l};CG.exports=TG;var h1e=CG.exports,uT=p.createContext(null),f1e=t=>t,vn=()=>{var t=p.useContext(uT);return t?t.store.dispatch:f1e},My=()=>{},m1e=()=>My,p1e=(t,e)=>t===e;function Me(t){var e=p.useContext(uT);return h1e.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:m1e,e?e.store.getState:My,e?e.store.getState:My,e?t:My,p1e)}function g1e(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function v1e(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function y1e(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var dM=t=>Array.isArray(t)?t:[t];function x1e(t){const e=Array.isArray(t[0])?t[0]:t;return y1e(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function w1e(t,e){const n=[],{length:r}=t;for(let s=0;s<r;s++)n.push(t[s].apply(null,e));return n}var b1e=class{constructor(t){this.value=t}deref(){return this.value}},j1e=typeof WeakRef<"u"?WeakRef:b1e,N1e=0,hM=1;function Vv(){return{s:N1e,v:void 0,o:null,p:null}}function kG(t,e={}){let n=Vv();const{resultEqualityCheck:r}=e;let s,i=0;function a(){var h;let l=n;const{length:c}=arguments;for(let f=0,m=c;f<m;f++){const y=arguments[f];if(typeof y=="function"||typeof y=="object"&&y!==null){let v=l.o;v===null&&(l.o=v=new WeakMap);const x=v.get(y);x===void 0?(l=Vv(),v.set(y,l)):l=x}else{let v=l.p;v===null&&(l.p=v=new Map);const x=v.get(y);x===void 0?(l=Vv(),v.set(y,l)):l=x}}const u=l;let d;if(l.s===hM)d=l.v;else if(d=t.apply(null,arguments),i++,r){const f=((h=s==null?void 0:s.deref)==null?void 0:h.call(s))??s;f!=null&&r(f,d)&&(d=f,i!==0&&i--),s=typeof d=="object"&&d!==null||typeof d=="function"?new j1e(d):d}return u.s=hM,u.v=d,d}return a.clearCache=()=>{n=Vv(),a.resetResultsCount()},a.resultsCount=()=>i,a.resetResultsCount=()=>{i=0},a}function S1e(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...s)=>{let i=0,a=0,l,c={},u=s.pop();typeof u=="object"&&(c=u,u=s.pop()),g1e(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...n,...c},{memoize:h,memoizeOptions:f=[],argsMemoize:m=kG,argsMemoizeOptions:y=[],devModeChecks:v={}}=d,x=dM(f),b=dM(y),w=x1e(s),j=h(function(){return i++,u.apply(null,arguments)},...x),N=m(function(){a++;const I=w1e(w,arguments);return l=j.apply(null,I),l},...b);return Object.assign(N,{resultFunc:u,memoizedResultFunc:j,dependencies:w,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:h,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var Z=S1e(kG),_1e=Object.assign((t,e=Z)=>{v1e(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(i=>t[i]);return e(r,(...i)=>i.reduce((a,l,c)=>(a[n[c]]=l,a),{}))},{withTypes:()=>_1e}),IG={},RG={},OG={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,s,i)=>{if(r!==s){const a=e(r),l=e(s);if(a===l&&a===0){if(r<s)return i==="desc"?1:-1;if(r>s)return i==="desc"?-1:1}return i==="desc"?l-a:a-l}return 0};t.compareValues=n})(OG);var DG={},dT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(dT);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dT,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function s(i,a){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||e.isSymbol(i)?!0:typeof i=="string"&&(r.test(i)||!n.test(i))||a!=null&&Object.hasOwn(a,i)}t.isKey=s})(DG);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OG,n=DG,r=Sb;function s(i,a,l,c){if(i==null)return[];l=c?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const u=(m,y)=>{let v=m;for(let x=0;x<y.length&&v!=null;++x)v=v[y[x]];return v},d=(m,y)=>y==null||m==null?y:typeof m=="object"&&"key"in m?Object.hasOwn(y,m.key)?y[m.key]:u(y,m.path):typeof m=="function"?m(y):Array.isArray(m)?u(y,m):typeof y=="object"?y[m]:y,h=a.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||n.isKey(m)?m:{key:m,path:r.toPath(m)}));return i.map(m=>({original:m,criteria:h.map(y=>d(y,m))})).slice().sort((m,y)=>{for(let v=0;v<h.length;v++){const x=e.compareValues(m.criteria[v],y.criteria[v],l[v]);if(x!==0)return x}return 0}).map(m=>m.original)}t.orderBy=s})(RG);var MG={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const s=[],i=Math.floor(r),a=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<i?a(d,c+1):s.push(d)}};return a(n,0),s}t.flatten=e})(MG);var hT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cT,n=$b,r=nT,s=sT;function i(a,l,c){return r.isObject(c)&&(typeof l=="number"&&n.isArrayLike(c)&&e.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?s.eq(c[l],a):!1}t.isIterateeCall=i})(hT);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RG,n=MG,r=hT;function s(i,...a){const l=a.length;return l>1&&r.isIterateeCall(i,a[0],a[1])?a=[]:l>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(i,n.flatten(a),["asc"])}t.sortBy=s})(IG);var E1e=IG.sortBy;const Bb=Do(E1e);var LG=t=>t.legend.settings,P1e=t=>t.legend.size,A1e=t=>t.legend.payload,C1e=Z([A1e,LG],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Bb(r,n):r});function T1e(){return Me(C1e)}var zv=1;function FG(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=p.useState({height:0,left:0,top:0,width:0}),r=p.useCallback(s=>{if(s!=null){var i=s.getBoundingClientRect(),a={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(a.height-e.height)>zv||Math.abs(a.left-e.left)>zv||Math.abs(a.top-e.top)>zv||Math.abs(a.width-e.width)>zv)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function cr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var k1e=typeof Symbol=="function"&&Symbol.observable||"@@observable",fM=k1e,nN=()=>Math.random().toString(36).substring(7).split("").join("."),I1e={INIT:`@@redux/INIT${nN()}`,REPLACE:`@@redux/REPLACE${nN()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${nN()}`},l0=I1e;function fT(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function $G(t,e,n){if(typeof t!="function")throw new Error(cr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(cr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(cr(1));return n($G)(t,e)}let r=t,s=e,i=new Map,a=i,l=0,c=!1;function u(){a===i&&(a=new Map,i.forEach((x,b)=>{a.set(b,x)}))}function d(){if(c)throw new Error(cr(3));return s}function h(x){if(typeof x!="function")throw new Error(cr(4));if(c)throw new Error(cr(5));let b=!0;u();const w=l++;return a.set(w,x),function(){if(b){if(c)throw new Error(cr(6));b=!1,u(),a.delete(w),i=null}}}function f(x){if(!fT(x))throw new Error(cr(7));if(typeof x.type>"u")throw new Error(cr(8));if(typeof x.type!="string")throw new Error(cr(17));if(c)throw new Error(cr(9));try{c=!0,s=r(s,x)}finally{c=!1}return(i=a).forEach(w=>{w()}),x}function m(x){if(typeof x!="function")throw new Error(cr(10));r=x,f({type:l0.REPLACE})}function y(){const x=h;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(cr(11));function w(){const N=b;N.next&&N.next(d())}return w(),{unsubscribe:x(w)}},[fM](){return this}}}return f({type:l0.INIT}),{dispatch:f,subscribe:h,getState:d,replaceReducer:m,[fM]:y}}function R1e(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:l0.INIT})>"u")throw new Error(cr(12));if(typeof n(void 0,{type:l0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(cr(13))})}function UG(t){const e=Object.keys(t),n={};for(let i=0;i<e.length;i++){const a=e[i];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let s;try{R1e(n)}catch(i){s=i}return function(a={},l){if(s)throw s;let c=!1;const u={};for(let d=0;d<r.length;d++){const h=r[d],f=n[h],m=a[h],y=f(m,l);if(typeof y>"u")throw l&&l.type,new Error(cr(14));u[h]=y,c=c||y!==m}return c=c||r.length!==Object.keys(a).length,c?u:a}}function c0(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function O1e(...t){return e=>(n,r)=>{const s=e(n,r);let i=()=>{throw new Error(cr(15))};const a={getState:s.getState,dispatch:(c,...u)=>i(c,...u)},l=t.map(c=>c(a));return i=c0(...l)(s.dispatch),{...s,dispatch:i}}}function BG(t){return fT(t)&&"type"in t&&typeof t.type=="string"}var VG=Symbol.for("immer-nothing"),mM=Symbol.for("immer-draftable"),Bs=Symbol.for("immer-state");function Oi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Th=Object.getPrototypeOf;function Ou(t){return!!t&&!!t[Bs]}function Ca(t){var e;return t?zG(t)||Array.isArray(t)||!!t[mM]||!!((e=t.constructor)!=null&&e[mM])||xg(t)||zb(t):!1}var D1e=Object.prototype.constructor.toString();function zG(t){if(!t||typeof t!="object")return!1;const e=Th(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===D1e}function u0(t,e){Vb(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Vb(t){const e=t[Bs];return e?e.type_:Array.isArray(t)?1:xg(t)?2:zb(t)?3:0}function M_(t,e){return Vb(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function GG(t,e,n){const r=Vb(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function M1e(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function xg(t){return t instanceof Map}function zb(t){return t instanceof Set}function $c(t){return t.copy_||t.base_}function L_(t,e){if(xg(t))return new Map(t);if(zb(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=zG(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Bs];let s=Reflect.ownKeys(r);for(let i=0;i<s.length;i++){const a=s[i],l=r[a];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[a]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[a]})}return Object.create(Th(t),r)}else{const r=Th(t);if(r!==null&&n)return{...t};const s=Object.create(r);return Object.assign(s,t)}}function mT(t,e=!1){return Gb(t)||Ou(t)||!Ca(t)||(Vb(t)>1&&Object.defineProperties(t,{set:{value:Gv},add:{value:Gv},clear:{value:Gv},delete:{value:Gv}}),Object.freeze(t),e&&Object.values(t).forEach(n=>mT(n,!0))),t}function Gv(){Oi(2)}function Gb(t){return Object.isFrozen(t)}var L1e={};function Du(t){const e=L1e[t];return e||Oi(0,t),e}var yp;function WG(){return yp}function F1e(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function pM(t,e){e&&(Du("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function F_(t){$_(t),t.drafts_.forEach($1e),t.drafts_=null}function $_(t){t===yp&&(yp=t.parent_)}function gM(t){return yp=F1e(yp,t)}function $1e(t){const e=t[Bs];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function vM(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Bs].modified_&&(F_(e),Oi(4)),Ca(t)&&(t=d0(e,t),e.parent_||h0(e,t)),e.patches_&&Du("Patches").generateReplacementPatches_(n[Bs].base_,t,e.patches_,e.inversePatches_)):t=d0(e,n,[]),F_(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==VG?t:void 0}function d0(t,e,n){if(Gb(e))return e;const r=e[Bs];if(!r)return u0(e,(s,i)=>yM(t,r,e,s,i,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return h0(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let i=s,a=!1;r.type_===3&&(i=new Set(s),s.clear(),a=!0),u0(i,(l,c)=>yM(t,r,s,l,c,n,a)),h0(t,s,!1),n&&t.patches_&&Du("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function yM(t,e,n,r,s,i,a){if(Ou(s)){const l=i&&e&&e.type_!==3&&!M_(e.assigned_,r)?i.concat(r):void 0,c=d0(t,s,l);if(GG(n,r,c),Ou(c))t.canAutoFreeze_=!1;else return}else a&&n.add(s);if(Ca(s)&&!Gb(s)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;d0(t,s),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(xg(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&h0(t,s)}}function h0(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&mT(e,n)}function U1e(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:WG(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,i=pT;n&&(s=[r],i=xp);const{revoke:a,proxy:l}=Proxy.revocable(s,i);return r.draft_=l,r.revoke_=a,l}var pT={get(t,e){if(e===Bs)return t;const n=$c(t);if(!M_(n,e))return B1e(t,n,e);const r=n[e];return t.finalized_||!Ca(r)?r:r===rN(t.base_,e)?(sN(t),t.copy_[e]=B_(r,t)):r},has(t,e){return e in $c(t)},ownKeys(t){return Reflect.ownKeys($c(t))},set(t,e,n){const r=HG($c(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const s=rN($c(t),e),i=s==null?void 0:s[Bs];if(i&&i.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(M1e(n,s)&&(n!==void 0||M_(t.base_,e)))return!0;sN(t),U_(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return rN(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,sN(t),U_(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=$c(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Oi(11)},getPrototypeOf(t){return Th(t.base_)},setPrototypeOf(){Oi(12)}},xp={};u0(pT,(t,e)=>{xp[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});xp.deleteProperty=function(t,e){return xp.set.call(this,t,e,void 0)};xp.set=function(t,e,n){return pT.set.call(this,t[0],e,n,t[0])};function rN(t,e){const n=t[Bs];return(n?$c(n):t)[e]}function B1e(t,e,n){var s;const r=HG(e,n);return r?"value"in r?r.value:(s=r.get)==null?void 0:s.call(t.draft_):void 0}function HG(t,e){if(!(e in t))return;let n=Th(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Th(n)}}function U_(t){t.modified_||(t.modified_=!0,t.parent_&&U_(t.parent_))}function sN(t){t.copy_||(t.copy_=L_(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var V1e=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const i=n;n=e;const a=this;return function(c=i,...u){return a.produce(c,d=>n.call(this,d,...u))}}typeof n!="function"&&Oi(6),r!==void 0&&typeof r!="function"&&Oi(7);let s;if(Ca(e)){const i=gM(this),a=B_(e,void 0);let l=!0;try{s=n(a),l=!1}finally{l?F_(i):$_(i)}return pM(i,r),vM(s,i)}else if(!e||typeof e!="object"){if(s=n(e),s===void 0&&(s=e),s===VG&&(s=void 0),this.autoFreeze_&&mT(s,!0),r){const i=[],a=[];Du("Patches").generateReplacementPatches_(e,s,i,a),r(i,a)}return s}else Oi(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...l)=>this.produceWithPatches(a,c=>e(c,...l));let r,s;return[this.produce(e,n,(a,l)=>{r=a,s=l}),r,s]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Ca(t)||Oi(8),Ou(t)&&(t=fa(t));const e=gM(this),n=B_(t,void 0);return n[Bs].isManual_=!0,$_(e),n}finishDraft(t,e){const n=t&&t[Bs];(!n||!n.isManual_)&&Oi(9);const{scope_:r}=n;return pM(r,e),vM(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const s=e[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(e=e.slice(n+1));const r=Du("Patches").applyPatches_;return Ou(t)?r(t,e):this.produce(t,s=>r(s,e))}};function B_(t,e){const n=xg(t)?Du("MapSet").proxyMap_(t,e):zb(t)?Du("MapSet").proxySet_(t,e):U1e(t,e);return(e?e.scope_:WG()).drafts_.push(n),n}function fa(t){return Ou(t)||Oi(10,t),KG(t)}function KG(t){if(!Ca(t)||Gb(t))return t;const e=t[Bs];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=L_(t,e.scope_.immer_.useStrictShallowCopy_)}else n=L_(t,!0);return u0(n,(r,s)=>{GG(n,r,KG(s))}),e&&(e.finalized_=!1),n}var z1e=new V1e,qG=z1e.produce;function YG(t){return({dispatch:n,getState:r})=>s=>i=>typeof i=="function"?i(n,r,t):s(i)}var G1e=YG(),W1e=YG,H1e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?c0:c0.apply(null,arguments)};function gi(t,e){function n(...r){if(e){let s=e(...r);if(!s)throw new Error(Rs(0));return{type:t,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>BG(r)&&r.type===t,n}var QG=class dm extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,dm.prototype)}static get[Symbol.species](){return dm}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new dm(...e[0].concat(this)):new dm(...e.concat(this))}};function xM(t){return Ca(t)?qG(t,()=>{}):t}function Wv(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function K1e(t){return typeof t=="boolean"}var q1e=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=e??{};let a=new QG;return n&&(K1e(n)?a.push(G1e):a.push(W1e(n.extraArgument))),a},Y1e="RTK_autoBatch",wM=t=>e=>{setTimeout(e,t)},Q1e=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let s=!0,i=!1,a=!1;const l=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:wM(10):t.type==="callback"?t.queueNotification:wM(t.timeout),u=()=>{a=!1,i&&(i=!1,l.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const h=()=>s&&d(),f=r.subscribe(h);return l.add(d),()=>{f(),l.delete(d)}},dispatch(d){var h;try{return s=!((h=d==null?void 0:d.meta)!=null&&h[Y1e]),i=!s,i&&(a||(a=!0,c(u))),r.dispatch(d)}finally{s=!0}}})},X1e=t=>function(n){const{autoBatch:r=!0}=n??{};let s=new QG(t);return r&&s.push(Q1e(typeof r=="object"?r:void 0)),s};function J1e(t){const e=q1e(),{reducer:n=void 0,middleware:r,devTools:s=!0,duplicateMiddlewareCheck:i=!0,preloadedState:a=void 0,enhancers:l=void 0}=t||{};let c;if(typeof n=="function")c=n;else if(fT(n))c=UG(n);else throw new Error(Rs(1));let u;typeof r=="function"?u=r(e):u=e();let d=c0;s&&(d=H1e({trace:!1,...typeof s=="object"&&s}));const h=O1e(...u),f=X1e(h);let m=typeof l=="function"?l(f):f();const y=d(...m);return $G(c,a,y)}function XG(t){const e={},n=[];let r;const s={addCase(i,a){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(Rs(28));if(l in e)throw new Error(Rs(29));return e[l]=a,s},addAsyncThunk(i,a){return a.pending&&(e[i.pending.type]=a.pending),a.rejected&&(e[i.rejected.type]=a.rejected),a.fulfilled&&(e[i.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:i.settled,reducer:a.settled}),s},addMatcher(i,a){return n.push({matcher:i,reducer:a}),s},addDefaultCase(i){return r=i,s}};return t(s),[e,n,r]}function Z1e(t){return typeof t=="function"}function eje(t,e){let[n,r,s]=XG(e),i;if(Z1e(t))i=()=>xM(t());else{const l=xM(t);i=()=>l}function a(l=i(),c){let u=[n[c.type],...r.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[s]),u.reduce((d,h)=>{if(h)if(Ou(d)){const m=h(d,c);return m===void 0?d:m}else{if(Ca(d))return qG(d,f=>h(f,c));{const f=h(d,c);if(f===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return d},l)}return a.getInitialState=i,a}var tje="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nje=(t=21)=>{let e="",n=t;for(;n--;)e+=tje[Math.random()*64|0];return e},rje=Symbol.for("rtk-slice-createasyncthunk");function sje(t,e){return`${t}/${e}`}function ije({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[rje];return function(s){const{name:i,reducerPath:a=i}=s;if(!i)throw new Error(Rs(11));typeof process<"u";const l=(typeof s.reducers=="function"?s.reducers(aje()):s.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(N,T){const I=typeof N=="string"?N:N.type;if(!I)throw new Error(Rs(12));if(I in u.sliceCaseReducersByType)throw new Error(Rs(13));return u.sliceCaseReducersByType[I]=T,d},addMatcher(N,T){return u.sliceMatchers.push({matcher:N,reducer:T}),d},exposeAction(N,T){return u.actionCreators[N]=T,d},exposeCaseReducer(N,T){return u.sliceCaseReducersByName[N]=T,d}};c.forEach(N=>{const T=l[N],I={reducerName:N,type:sje(i,N),createNotation:typeof s.reducers=="function"};cje(T)?dje(I,T,d,e):lje(I,T,d)});function h(){const[N={},T=[],I=void 0]=typeof s.extraReducers=="function"?XG(s.extraReducers):[s.extraReducers],P={...N,...u.sliceCaseReducersByType};return eje(s.initialState,E=>{for(let A in P)E.addCase(A,P[A]);for(let A of u.sliceMatchers)E.addMatcher(A.matcher,A.reducer);for(let A of T)E.addMatcher(A.matcher,A.reducer);I&&E.addDefaultCase(I)})}const f=N=>N,m=new Map,y=new WeakMap;let v;function x(N,T){return v||(v=h()),v(N,T)}function b(){return v||(v=h()),v.getInitialState()}function w(N,T=!1){function I(E){let A=E[N];return typeof A>"u"&&T&&(A=Wv(y,I,b)),A}function P(E=f){const A=Wv(m,T,()=>new WeakMap);return Wv(A,E,()=>{const S={};for(const[C,O]of Object.entries(s.selectors??{}))S[C]=oje(O,E,()=>Wv(y,E,b),T);return S})}return{reducerPath:N,getSelectors:P,get selectors(){return P(I)},selectSlice:I}}const j={name:i,reducer:x,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:b,...w(a),injectInto(N,{reducerPath:T,...I}={}){const P=T??a;return N.inject({reducerPath:P,reducer:x},I),{...j,...w(P,!0)}}};return j}}function oje(t,e,n,r){function s(i,...a){let l=e(i);return typeof l>"u"&&r&&(l=n()),t(l,...a)}return s.unwrapped=t,s}var Ws=ije();function aje(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function lje({type:t,reducerName:e,createNotation:n},r,s){let i,a;if("reducer"in r){if(n&&!uje(r))throw new Error(Rs(17));i=r.reducer,a=r.prepare}else i=r;s.addCase(t,i).exposeCaseReducer(e,i).exposeAction(e,a?gi(t,a):gi(t))}function cje(t){return t._reducerDefinitionType==="asyncThunk"}function uje(t){return t._reducerDefinitionType==="reducerWithPrepare"}function dje({type:t,reducerName:e},n,r,s){if(!s)throw new Error(Rs(18));const{payloadCreator:i,fulfilled:a,pending:l,rejected:c,settled:u,options:d}=n,h=s(t,i,d);r.exposeAction(e,h),a&&r.addCase(h.fulfilled,a),l&&r.addCase(h.pending,l),c&&r.addCase(h.rejected,c),u&&r.addMatcher(h.settled,u),r.exposeCaseReducer(e,{fulfilled:a||Hv,pending:l||Hv,rejected:c||Hv,settled:u||Hv})}function Hv(){}var hje="task",JG="listener",ZG="completed",gT="cancelled",fje=`task-${gT}`,mje=`task-${ZG}`,V_=`${JG}-${gT}`,pje=`${JG}-${ZG}`,Wb=class{constructor(t){et(this,"name","TaskAbortError");et(this,"message");this.code=t,this.message=`${hje} ${gT} (reason: ${t})`}},vT=(t,e)=>{if(typeof t!="function")throw new TypeError(Rs(32))},f0=()=>{},eW=(t,e=f0)=>(t.catch(e),t),tW=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),uu=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},du=t=>{if(t.aborted){const{reason:e}=t;throw new Wb(e)}};function nW(t,e){let n=f0;return new Promise((r,s)=>{const i=()=>s(new Wb(t.reason));if(t.aborted){i();return}n=tW(t,i),e.finally(()=>n()).then(r,s)}).finally(()=>{n=f0})}var gje=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Wb?"cancelled":"rejected",error:n}}finally{e==null||e()}},m0=t=>e=>eW(nW(t,e).then(n=>(du(t),n))),rW=t=>{const e=m0(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Wd}=Object,bM={},Hb="listenerMiddleware",vje=(t,e)=>{const n=r=>tW(t,()=>uu(r,t.reason));return(r,s)=>{vT(r);const i=new AbortController;n(i);const a=gje(async()=>{du(t),du(i.signal);const l=await r({pause:m0(i.signal),delay:rW(i.signal),signal:i.signal});return du(i.signal),l},()=>uu(i,mje));return s!=null&&s.autoJoin&&e.push(a.catch(f0)),{result:m0(t)(a),cancel(){uu(i,fje)}}}},yje=(t,e)=>{const n=async(r,s)=>{du(e);let i=()=>{};const l=[new Promise((c,u)=>{let d=t({predicate:r,effect:(h,f)=>{f.unsubscribe(),c([h,f.getState(),f.getOriginalState()])}});i=()=>{d(),u()}})];s!=null&&l.push(new Promise(c=>setTimeout(c,s,null)));try{const c=await nW(e,Promise.race(l));return du(e),c}finally{i()}};return(r,s)=>eW(n(r,s))},sW=t=>{let{type:e,actionCreator:n,matcher:r,predicate:s,effect:i}=t;if(e)s=gi(e).match;else if(n)e=n.type,s=n.match;else if(r)s=r;else if(!s)throw new Error(Rs(21));return vT(i),{predicate:s,type:e,effect:i}},iW=Wd(t=>{const{type:e,predicate:n,effect:r}=sW(t);return{id:nje(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Rs(22))}}},{withTypes:()=>iW}),jM=(t,e)=>{const{type:n,effect:r,predicate:s}=sW(e);return Array.from(t.values()).find(i=>(typeof n=="string"?i.type===n:i.predicate===s)&&i.effect===r)},z_=t=>{t.pending.forEach(e=>{uu(e,V_)})},xje=t=>()=>{t.forEach(z_),t.clear()},NM=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},oW=Wd(gi(`${Hb}/add`),{withTypes:()=>oW}),wje=gi(`${Hb}/removeAll`),aW=Wd(gi(`${Hb}/remove`),{withTypes:()=>aW}),bje=(...t)=>{console.error(`${Hb}/error`,...t)},wg=(t={})=>{const e=new Map,{extra:n,onError:r=bje}=t;vT(r);const s=d=>(d.unsubscribe=()=>e.delete(d.id),e.set(d.id,d),h=>{d.unsubscribe(),h!=null&&h.cancelActive&&z_(d)}),i=d=>{const h=jM(e,d)??iW(d);return s(h)};Wd(i,{withTypes:()=>i});const a=d=>{const h=jM(e,d);return h&&(h.unsubscribe(),d.cancelActive&&z_(h)),!!h};Wd(a,{withTypes:()=>a});const l=async(d,h,f,m)=>{const y=new AbortController,v=yje(i,y.signal),x=[];try{d.pending.add(y),await Promise.resolve(d.effect(h,Wd({},f,{getOriginalState:m,condition:(b,w)=>v(b,w).then(Boolean),take:v,delay:rW(y.signal),pause:m0(y.signal),extra:n,signal:y.signal,fork:vje(y.signal,x),unsubscribe:d.unsubscribe,subscribe:()=>{e.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((b,w,j)=>{b!==y&&(uu(b,V_),j.delete(b))})},cancel:()=>{uu(y,V_),d.pending.delete(y)},throwIfCancelled:()=>{du(y.signal)}})))}catch(b){b instanceof Wb||NM(r,b,{raisedBy:"effect"})}finally{await Promise.all(x),uu(y,pje),d.pending.delete(y)}},c=xje(e);return{middleware:d=>h=>f=>{if(!BG(f))return h(f);if(oW.match(f))return i(f.payload);if(wje.match(f)){c();return}if(aW.match(f))return a(f.payload);let m=d.getState();const y=()=>{if(m===bM)throw new Error(Rs(23));return m};let v;try{if(v=h(f),e.size>0){const x=d.getState(),b=Array.from(e.values());for(const w of b){let j=!1;try{j=w.predicate(f,x,m)}catch(N){j=!1,NM(r,N,{raisedBy:"predicate"})}j&&l(w,f,d,y)}}}finally{m=bM}return v},startListening:i,stopListening:a,clearListeners:c}};function Rs(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var jje={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},lW=Ws({name:"chartLayout",initialState:jje,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,s,i;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(s=e.payload.bottom)!==null&&s!==void 0?s:0,t.margin.left=(i=e.payload.left)!==null&&i!==void 0?i:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:Nje,setLayout:Sje,setChartSize:_je,setScale:Eje}=lW.actions,Pje=lW.reducer;function SM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function _M(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SM(Object(n),!0).forEach(function(r){Aje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aje(t,e,n){return(e=Cje(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cje(t){var e=Tje(t,"string");return typeof e=="symbol"?e:e+""}function Tje(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var p0=Math.PI/180,kje=t=>t*180/Math.PI,$n=(t,e,n,r)=>({x:t+Math.cos(-p0*r)*n,y:e+Math.sin(-p0*r)*n}),cW=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Ije=(t,e)=>{var{x:n,y:r}=t,{x:s,y:i}=e;return Math.sqrt((n-s)**2+(r-i)**2)},Rje=(t,e)=>{var{x:n,y:r}=t,{cx:s,cy:i}=e,a=Ije({x:n,y:r},{x:s,y:i});if(a<=0)return{radius:a,angle:0};var l=(n-s)/a,c=Math.acos(l);return r>i&&(c=2*Math.PI-c),{radius:a,angle:kje(c),angleInRadian:c}},Oje=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),s=Math.floor(n/360),i=Math.min(r,s);return{startAngle:e-i*360,endAngle:n-i*360}},Dje=(t,e)=>{var{startAngle:n,endAngle:r}=e,s=Math.floor(n/360),i=Math.floor(r/360),a=Math.min(s,i);return t+a*360},Mje=(t,e)=>{var{x:n,y:r}=t,{radius:s,angle:i}=Rje({x:n,y:r},e),{innerRadius:a,outerRadius:l}=e;if(s<a||s>l||s===0)return null;var{startAngle:c,endAngle:u}=Oje(e),d=i,h;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;h=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;h=d>=u&&d<=c}return h?_M(_M({},e),{},{radius:s,angle:Dje(d,e)}):null};function uW(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function EM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ti(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EM(Object(n),!0).forEach(function(r){Lje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lje(t,e,n){return(e=Fje(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fje(t){var e=$je(t,"string");return typeof e=="symbol"?e:e+""}function $je(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rt(t,e,n){return Xt(t)||Xt(e)?n:ko(e)?Ru(t,e,n):typeof e=="function"?e(t):n}var Uje=(t,e,n,r,s)=>{var i,a=-1,l=(i=e==null?void 0:e.length)!==null&&i!==void 0?i:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?n[c-1].coordinate:n[l-1].coordinate,d=n[c].coordinate,h=c>=l-1?n[0].coordinate:n[c+1].coordinate,f=void 0;if(er(d-u)!==er(h-d)){var m=[];if(er(h-d)===er(s[1]-s[0])){f=h;var y=d+s[1]-s[0];m[0]=Math.min(y,(y+u)/2),m[1]=Math.max(y,(y+u)/2)}else{f=u;var v=h+s[1]-s[0];m[0]=Math.min(d,(v+d)/2),m[1]=Math.max(d,(v+d)/2)}var x=[Math.min(d,(f+d)/2),Math.max(d,(f+d)/2)];if(t>x[0]&&t<=x[1]||t>=m[0]&&t<=m[1]){({index:a}=n[c]);break}}else{var b=Math.min(u,h),w=Math.max(u,h);if(t>(b+d)/2&&t<=(w+d)/2){({index:a}=n[c]);break}}}else if(e){for(var j=0;j<l;j++)if(j===0&&t<=(e[j].coordinate+e[j+1].coordinate)/2||j>0&&j<l-1&&t>(e[j].coordinate+e[j-1].coordinate)/2&&t<=(e[j].coordinate+e[j+1].coordinate)/2||j===l-1&&t>(e[j].coordinate+e[j-1].coordinate)/2){({index:a}=e[j]);break}}return a},Bje=(t,e,n)=>{if(e&&n){var{width:r,height:s}=n,{align:i,verticalAlign:a,layout:l}=e;if((l==="vertical"||l==="horizontal"&&a==="middle")&&i!=="center"&&$e(t[i]))return ti(ti({},t),{},{[i]:t[i]+(r||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&a!=="middle"&&$e(t[a]))return ti(ti({},t),{},{[a]:t[a]+(s||0)})}return t},Bo=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",dW=(t,e,n,r)=>{if(r)return t.map(l=>l.coordinate);var s,i,a=t.map(l=>(l.coordinate===e&&(s=!0),l.coordinate===n&&(i=!0),l.coordinate));return s||a.push(e),i||a.push(n),a},hW=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:s,range:i,scale:a,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:h,niceTicks:f,axisType:m}=t;if(!a)return null;var y=l==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,v=s==="category"&&a.bandwidth?a.bandwidth()/y:0;if(v=m==="angleAxis"&&i&&i.length>=2?er(i[0]-i[1])*2*v:v,h||f){var x=(h||f||[]).map((b,w)=>{var j=r?r.indexOf(b):b;return{coordinate:a(j)+v,value:b,offset:v,index:w}});return x.filter(b=>!ms(b.coordinate))}return c&&u?u.map((b,w)=>({coordinate:a(b)+v,value:b,index:w,offset:v})):a.ticks&&!n&&d!=null?a.ticks(d).map((b,w)=>({coordinate:a(b)+v,value:b,offset:v,index:w})):a.domain().map((b,w)=>({coordinate:a(b)+v,value:r?r[b]:b,index:w,offset:v}))},PM=1e-4,Vje=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),s=Math.min(r[0],r[1])-PM,i=Math.max(r[0],r[1])+PM,a=t(e[0]),l=t(e[n-1]);(a<s||a>i||l<s||l>i)&&t.domain([e[0],e[n-1]])}},zje=(t,e)=>{if(!e||e.length!==2||!$e(e[0])||!$e(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),s=[t[0],t[1]];return(!$e(t[0])||t[0]<n)&&(s[0]=n),(!$e(t[1])||t[1]>r)&&(s[1]=r),s[0]>r&&(s[0]=r),s[1]<n&&(s[1]=n),s},Gje=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var s=0,i=0,a=0;a<e;++a){var l=ms(t[a][n][1])?t[a][n][0]:t[a][n][1];l>=0?(t[a][n][0]=s,t[a][n][1]=s+l,s=t[a][n][1]):(t[a][n][0]=i,t[a][n][1]=i+l,i=t[a][n][1])}},Wje=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var s=0,i=0;i<e;++i){var a=ms(t[i][n][1])?t[i][n][0]:t[i][n][1];a>=0?(t[i][n][0]=s,t[i][n][1]=s+a,s=t[i][n][1]):(t[i][n][0]=0,t[i][n][1]=0)}},Hje={sign:Gje,expand:Ube,none:Ch,silhouette:Bbe,wiggle:Vbe,positive:Wje},Kje=(t,e,n)=>{var r=Hje[n],s=$be().keys(e).value((i,a)=>+Rt(i,a,0)).order(R_).offset(r);return s(t)};function fW(t){return t==null?void 0:String(t)}function g0(t){var{axis:e,ticks:n,bandSize:r,entry:s,index:i,dataKey:a}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Xt(s[e.dataKey])){var l=W7(n,"value",s[e.dataKey]);if(l)return l.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var c=Rt(s,Xt(a)?e.dataKey:a);return Xt(c)?null:e.scale(c)}var AM=t=>{var{axis:e,ticks:n,offset:r,bandSize:s,entry:i,index:a}=t;if(e.type==="category")return n[a]?n[a].coordinate+r:null;var l=Rt(i,e.dataKey,e.scale.domain()[a]);return Xt(l)?null:e.scale(l)-s/2+r},qje=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return r<=0&&s>=0?0:s<0?s:r}return n[0]},Yje=t=>{var e=t.flat(2).filter($e);return[Math.min(...e),Math.max(...e)]},Qje=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Xje=(t,e,n)=>{if(t!=null)return Qje(Object.keys(t).reduce((r,s)=>{var i=t[s],{stackedData:a}=i,l=a.reduce((c,u)=>{var d=uW(u,e,n),h=Yje(d);return[Math.min(c[0],h[0]),Math.max(c[1],h[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},CM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,TM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Mu=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var s=Bb(e,d=>d.coordinate),i=1/0,a=1,l=s.length;a<l;a++){var c=s[a],u=s[a-1];i=Math.min((c.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0};function kM(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:s,name:i}=t;return ti(ti({},e),{},{dataKey:n,payload:r,value:s,name:i})}function Nc(t,e){if(t)return String(t);if(typeof e=="string")return e}function Jje(t,e,n,r,s){if(n==="horizontal"||n==="vertical"){var i=t>=s.left&&t<=s.left+s.width&&e>=s.top&&e<=s.top+s.height;return i?{x:t,y:e}:null}return r?Mje({x:t,y:e},r):null}var Zje=(t,e,n,r)=>{var s=e.find(u=>u&&u.index===n);if(s){if(t==="horizontal")return{x:s.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:s.coordinate};if(t==="centric"){var i=s.coordinate,{radius:a}=r;return ti(ti(ti({},r),$n(r.cx,r.cy,a,i)),{},{angle:i,radius:a})}var l=s.coordinate,{angle:c}=r;return ti(ti(ti({},r),$n(r.cx,r.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},eNe=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,$a=t=>t.layout.width,Ua=t=>t.layout.height,tNe=t=>t.layout.scale,mW=t=>t.layout.margin,Kb=Z(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),qb=Z(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),pW="data-recharts-item-index",gW="data-recharts-item-data-key",bg=60;function IM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Kv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IM(Object(n),!0).forEach(function(r){nNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nNe(t,e,n){return(e=rNe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rNe(t){var e=sNe(t,"string");return typeof e=="symbol"?e:e+""}function sNe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iNe=t=>t.brush.height;function oNe(t){var e=qb(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var s=typeof r.width=="number"?r.width:bg;return n+s}return n},0)}function aNe(t){var e=qb(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var s=typeof r.width=="number"?r.width:bg;return n+s}return n},0)}function lNe(t){var e=Kb(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function cNe(t){var e=Kb(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Kn=Z([$a,Ua,mW,iNe,oNe,aNe,lNe,cNe,LG,P1e],(t,e,n,r,s,i,a,l,c,u)=>{var d={left:(n.left||0)+s,right:(n.right||0)+i},h={top:(n.top||0)+a,bottom:(n.bottom||0)+l},f=Kv(Kv({},h),d),m=f.bottom;f.bottom+=r,f=Bje(f,c,u);var y=t-f.left-f.right,v=e-f.top-f.bottom;return Kv(Kv({brushBottom:m},f),{},{width:Math.max(y,0),height:Math.max(v,0)})}),uNe=Z(Kn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),yT=Z($a,Ua,(t,e)=>({x:0,y:0,width:t,height:e})),dNe=p.createContext(null),Mr=()=>p.useContext(dNe)!=null,Yb=t=>t.brush,Qb=Z([Yb,Kn,mW],(t,e,n)=>({height:t.height,x:$e(t.x)?t.x:e.left,y:$e(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:$e(t.width)?t.width:e.width})),xT=()=>{var t,e=Mr(),n=Me(uNe),r=Me(Qb),s=(t=Me(Yb))===null||t===void 0?void 0:t.padding;return!e||!r||!s?n:{width:r.width-s.left-s.right,height:r.height-s.top-s.bottom,x:s.left,y:s.top}},hNe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},vW=()=>{var t;return(t=Me(Kn))!==null&&t!==void 0?t:hNe},wT=()=>Me($a),bT=()=>Me(Ua),fNe=()=>Me(t=>t.layout.margin),ot=t=>t.layout.layoutType,jg=()=>Me(ot),mNe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},yW=Ws({name:"legend",initialState:mNe,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=fa(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:RM,setLegendSettings:pNe,addLegendPayload:xW,removeLegendPayload:wW}=yW.actions,gNe=yW.reducer,vNe=["contextPayload"];function G_(){return G_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G_.apply(null,arguments)}function OM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function kh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OM(Object(n),!0).forEach(function(r){jT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jT(t,e,n){return(e=yNe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yNe(t){var e=xNe(t,"string");return typeof e=="symbol"?e:e+""}function xNe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wNe(t,e){if(t==null)return{};var n,r,s=bNe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function bNe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function jNe(t){return t.value}function NNe(t){var{contextPayload:e}=t,n=wNe(t,vNe),r=AG(e,t.payloadUniqBy,jNe),s=kh(kh({},n),{},{payload:r});return p.isValidElement(t.content)?p.cloneElement(t.content,s):typeof t.content=="function"?p.createElement(t.content,s):p.createElement(eT,s)}function SNe(t,e,n,r,s,i){var{layout:a,align:l,verticalAlign:c}=e,u,d;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(l==="center"&&a==="vertical"?u={left:((r||0)-i.width)/2}:u=l==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(c==="middle"?d={top:((s||0)-i.height)/2}:d=c==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),kh(kh({},u),d)}function _Ne(t){var e=vn();return p.useEffect(()=>{e(pNe(t))},[e,t]),null}function ENe(t){var e=vn();return p.useEffect(()=>(e(RM(t)),()=>{e(RM({width:0,height:0}))}),[e,t]),null}function PNe(t){var e=T1e(),n=cbe(),r=fNe(),{width:s,height:i,wrapperStyle:a,portal:l}=t,[c,u]=FG([e]),d=wT(),h=bT();if(d==null||h==null)return null;var f=d-(r.left||0)-(r.right||0),m=_s.getWidthOrHeight(t.layout,i,s,f),y=l?a:kh(kh({position:"absolute",width:(m==null?void 0:m.width)||s||"auto",height:(m==null?void 0:m.height)||i||"auto"},SNe(a,t,r,d,h,c)),a),v=l??n;if(v==null)return null;var x=p.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:u},p.createElement(_Ne,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),p.createElement(ENe,{width:c.width,height:c.height}),p.createElement(NNe,G_({},t,m,{margin:r,chartWidth:d,chartHeight:h,contextPayload:e})));return Oa.createPortal(x,v)}class _s extends p.PureComponent{static getWidthOrHeight(e,n,r,s){return e==="vertical"&&$e(n)?{height:n}:e==="horizontal"?{width:r||s}:null}render(){return p.createElement(PNe,this.props)}}jT(_s,"displayName","Legend");jT(_s,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function W_(){return W_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W_.apply(null,arguments)}function DM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function iN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DM(Object(n),!0).forEach(function(r){ANe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ANe(t,e,n){return(e=CNe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CNe(t){var e=TNe(t,"string");return typeof e=="symbol"?e:e+""}function TNe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kNe(t){return Array.isArray(t)&&ko(t[0])&&ko(t[1])?t.join(" ~ "):t}var INe=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:s={},payload:i,formatter:a,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:h,accessibilityLayer:f=!1}=t,m=()=>{if(i&&i.length){var T={padding:0,margin:0},I=(l?Bb(i,l):i).map((P,E)=>{if(P.type==="none")return null;var A=P.formatter||a||kNe,{value:S,name:C}=P,O=S,k=C;if(A){var B=A(S,C,P,E,i);if(Array.isArray(B))[O,k]=B;else if(B!=null)O=B;else return null}var G=iN({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},r);return p.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:G},ko(k)?p.createElement("span",{className:"recharts-tooltip-item-name"},k):null,ko(k)?p.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,p.createElement("span",{className:"recharts-tooltip-item-value"},O),p.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return p.createElement("ul",{className:"recharts-tooltip-item-list",style:T},I)}return null},y=iN({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),v=iN({margin:0},s),x=!Xt(d),b=x?d:"",w=dt("recharts-default-tooltip",c),j=dt("recharts-tooltip-label",u);x&&h&&i!==void 0&&i!==null&&(b=h(d,i));var N=f?{role:"status","aria-live":"assertive"}:{};return p.createElement("div",W_({className:w,style:y},N),p.createElement("p",{className:j,style:v},p.isValidElement(b)?b:"".concat(b)),m())},Gf="recharts-tooltip-wrapper",RNe={visibility:"hidden"};function ONe(t){var{coordinate:e,translateX:n,translateY:r}=t;return dt(Gf,{["".concat(Gf,"-right")]:$e(n)&&e&&$e(e.x)&&n>=e.x,["".concat(Gf,"-left")]:$e(n)&&e&&$e(e.x)&&n<e.x,["".concat(Gf,"-bottom")]:$e(r)&&e&&$e(e.y)&&r>=e.y,["".concat(Gf,"-top")]:$e(r)&&e&&$e(e.y)&&r<e.y})}function MM(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:s,position:i,reverseDirection:a,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=t;if(i&&$e(i[r]))return i[r];var d=n[r]-l-(s>0?s:0),h=n[r]+s;if(e[r])return a[r]?d:h;var f=c[r];if(f==null)return 0;if(a[r]){var m=d,y=f;return m<y?Math.max(h,f):Math.max(d,f)}if(u==null)return 0;var v=h+l,x=f+u;return v>x?Math.max(d,f):Math.max(h,f)}function DNe(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function MNe(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:s,reverseDirection:i,tooltipBox:a,useTranslate3d:l,viewBox:c}=t,u,d,h;return a.height>0&&a.width>0&&n?(d=MM({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:s,reverseDirection:i,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),h=MM({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:s,reverseDirection:i,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),u=DNe({translateX:d,translateY:h,useTranslate3d:l})):u=RNe,{cssProperties:u,cssClasses:ONe({translateX:d,translateY:h,coordinate:n})}}function LM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function qv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LM(Object(n),!0).forEach(function(r){H_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H_(t,e,n){return(e=LNe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LNe(t){var e=FNe(t,"string");return typeof e=="symbol"?e:e+""}function FNe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class $Ne extends p.PureComponent{constructor(){super(...arguments),H_(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),H_(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,s,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(s=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:s,children:i,coordinate:a,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:h,useTranslate3d:f,viewBox:m,wrapperStyle:y,lastBoundingBox:v,innerRef:x,hasPortalFromProps:b}=this.props,{cssClasses:w,cssProperties:j}=MNe({allowEscapeViewBox:n,coordinate:a,offsetTopLeft:u,position:d,reverseDirection:h,tooltipBox:{height:v.height,width:v.width},useTranslate3d:f,viewBox:m}),N=b?{}:qv(qv({transition:c&&e?"transform ".concat(r,"ms ").concat(s):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),T=qv(qv({},N),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},y);return p.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:T,ref:x},i)}}var UNe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ba={devToolsEnabled:!1,isSsr:UNe()},bW=()=>Me(t=>t.rootProps.accessibilityLayer);function yr(t){return Number.isFinite(t)}function Ih(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function K_(){return K_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K_.apply(null,arguments)}function FM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function $M(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FM(Object(n),!0).forEach(function(r){BNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BNe(t,e,n){return(e=VNe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VNe(t){var e=zNe(t,"string");return typeof e=="symbol"?e:e+""}function zNe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UM={curveBasisClosed:Abe,curveBasisOpen:Cbe,curveBasis:Pbe,curveBumpX:fbe,curveBumpY:mbe,curveLinearClosed:Tbe,curveLinear:Lb,curveMonotoneX:kbe,curveMonotoneY:Ibe,curveNatural:Rbe,curveStep:Obe,curveStepAfter:Mbe,curveStepBefore:Dbe},Yv=t=>yr(t.x)&&yr(t.y),Wf=t=>t.x,Hf=t=>t.y,GNe=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(vg(t));return(n==="curveMonotone"||n==="curveBump")&&e?UM["".concat(n).concat(e==="vertical"?"Y":"X")]:UM[n]||Lb},WNe=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:s,connectNulls:i=!1}=t,a=GNe(e,s),l=i?n.filter(Yv):n,c;if(Array.isArray(r)){var u=i?r.filter(h=>Yv(h)):r,d=l.map((h,f)=>$M($M({},h),{},{base:u[f]}));return s==="vertical"?c=Bv().y(Hf).x1(Wf).x0(h=>h.base.x):c=Bv().x(Wf).y1(Hf).y0(h=>h.base.y),c.defined(Yv).curve(a),c(d)}return s==="vertical"&&$e(r)?c=Bv().y(Hf).x1(Wf).x0(r):$e(r)?c=Bv().x(Wf).y1(Hf).y0(r):c=eG().x(Wf).y(Hf),c.defined(Yv).curve(a),c(l)},Hd=t=>{var{className:e,points:n,path:r,pathRef:s}=t;if((!n||!n.length)&&!r)return null;var i=n&&n.length?WNe(t):r;return p.createElement("path",K_({},wi(t),HC(t),{className:dt("recharts-curve",e),d:i===null?void 0:i,ref:s}))},HNe=["x","y","top","left","width","height","className"];function q_(){return q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q_.apply(null,arguments)}function BM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function KNe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BM(Object(n),!0).forEach(function(r){qNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qNe(t,e,n){return(e=YNe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YNe(t){var e=QNe(t,"string");return typeof e=="symbol"?e:e+""}function QNe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XNe(t,e){if(t==null)return{};var n,r,s=JNe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function JNe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ZNe=(t,e,n,r,s,i)=>"M".concat(t,",").concat(s,"v").concat(r,"M").concat(i,",").concat(e,"h").concat(n),eSe=t=>{var{x:e=0,y:n=0,top:r=0,left:s=0,width:i=0,height:a=0,className:l}=t,c=XNe(t,HNe),u=KNe({x:e,y:n,top:r,left:s,width:i,height:a},c);return!$e(e)||!$e(n)||!$e(i)||!$e(a)||!$e(r)||!$e(s)?null:p.createElement("path",q_({},Jt(u,!0),{className:dt("recharts-cross",l),d:ZNe(e,n,i,a,r,s)}))};function tSe(t,e,n,r){var s=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-s:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-s,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function VM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function nSe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VM(Object(n),!0).forEach(function(r){rSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rSe(t,e,n){return(e=sSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sSe(t){var e=iSe(t,"string");return typeof e=="symbol"?e:e+""}function iSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qn(t,e){var n=nSe({},t),r=e,s=Object.keys(e),i=s.reduce((a,l)=>(a[l]===void 0&&r[l]!==void 0&&(a[l]=r[l]),a),n);return i}function oSe(){}function zM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function GM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zM(Object(n),!0).forEach(function(r){aSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aSe(t,e,n){return(e=lSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lSe(t){var e=cSe(t,"string");return typeof e=="symbol"?e:e+""}function cSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uSe=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),jW=(t,e,n)=>t.map(r=>"".concat(uSe(r)," ").concat(e,"ms ").concat(n)).join(","),dSe=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(s=>r.includes(s))),wp=(t,e)=>Object.keys(e).reduce((n,r)=>GM(GM({},n),{},{[r]:t(r,e[r])}),{});function WM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WM(Object(n),!0).forEach(function(r){hSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hSe(t,e,n){return(e=fSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fSe(t){var e=mSe(t,"string");return typeof e=="symbol"?e:e+""}function mSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var v0=(t,e,n)=>t+(e-t)*n,Y_=t=>{var{from:e,to:n}=t;return e!==n},NW=(t,e,n)=>{var r=wp((s,i)=>{if(Y_(i)){var[a,l]=t(i.from,i.to,i.velocity);return hr(hr({},i),{},{from:a,velocity:l})}return i},e);return n<1?wp((s,i)=>Y_(i)?hr(hr({},i),{},{velocity:v0(i.velocity,r[s].velocity,n),from:v0(i.from,r[s].from,n)}):i,e):NW(t,r,n-1)};function pSe(t,e,n,r,s,i){var a,l=r.reduce((f,m)=>hr(hr({},f),{},{[m]:{from:t[m],velocity:0,to:e[m]}}),{}),c=()=>wp((f,m)=>m.from,l),u=()=>!Object.values(l).filter(Y_).length,d=null,h=f=>{a||(a=f);var m=f-a,y=m/n.dt;l=NW(n,l,y),s(hr(hr(hr({},t),e),c())),a=f,u()||(d=i.setTimeout(h))};return()=>(d=i.setTimeout(h),()=>{d()})}function gSe(t,e,n,r,s,i,a){var l=null,c=s.reduce((h,f)=>hr(hr({},h),{},{[f]:[t[f],e[f]]}),{}),u,d=h=>{u||(u=h);var f=(h-u)/r,m=wp((v,x)=>v0(...x,n(f)),c);if(i(hr(hr(hr({},t),e),m)),f<1)l=a.setTimeout(d);else{var y=wp((v,x)=>v0(...x,n(1)),c);i(hr(hr(hr({},t),e),y))}};return()=>(l=a.setTimeout(d),()=>{l()})}const vSe=(t,e,n,r,s,i)=>{var a=dSe(t,e);return n.isStepper===!0?pSe(t,e,n,a,s,i):gSe(t,e,n,r,a,s,i)};var y0=1e-4,SW=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],_W=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),HM=(t,e)=>n=>{var r=SW(t,e);return _W(r,n)},ySe=(t,e)=>n=>{var r=SW(t,e),s=[...r.map((i,a)=>i*a).slice(1),0];return _W(s,n)},KM=function(){for(var e,n,r,s,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];if(a.length===1)switch(a[0]){case"linear":[e,r,n,s]=[0,0,1,1];break;case"ease":[e,r,n,s]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,s]=[.42,0,1,1];break;case"ease-out":[e,r,n,s]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,s]=[0,0,.58,1];break;default:{var c=a[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([e,r,n,s]=c[1].split(")")[0].split(",").map(y=>parseFloat(y)))}}else a.length===4&&([e,r,n,s]=a);var u=HM(e,n),d=HM(r,s),h=ySe(e,n),f=y=>y>1?1:y<0?0:y,m=y=>{for(var v=y>1?1:y,x=v,b=0;b<8;++b){var w=u(x)-v,j=h(x);if(Math.abs(w-v)<y0||j<y0)return d(x);x=f(x-w/j)}return d(x)};return m.isStepper=!1,m},xSe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:s=17}=e,i=(a,l,c)=>{var u=-(a-l)*n,d=c*r,h=c+(u-d)*s/1e3,f=c*s/1e3+a;return Math.abs(f-l)<y0&&Math.abs(h)<y0?[l,0]:[f,h]};return i.isStepper=!0,i.dt=s,i},wSe=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return KM(t);case"spring":return xSe();default:if(t.split("(")[0]==="cubic-bezier")return KM(t)}return typeof t=="function"?t:null};function bSe(t){var e,n=()=>null,r=!1,s=null,i=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var l=a,[c,...u]=l;if(typeof c=="number"){s=t.setTimeout(i.bind(null,u),c);return}i(c),s=t.setTimeout(i.bind(null,u));return}typeof a=="string"&&(e=a,n(e)),typeof a=="object"&&(e=a,n(e)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,s&&(s(),s=null),i(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>t}}class jSe{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),s=null,i=a=>{a-r>=n?e(a):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(i))};return s=requestAnimationFrame(i),()=>{cancelAnimationFrame(s)}}}function NSe(){return bSe(new jSe)}var SSe=p.createContext(NSe);function _Se(t,e){var n=p.useContext(SSe);return p.useMemo(()=>e??n(t),[t,e,n])}var ESe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},qM={t:0},oN={t:1};function af(t){var e=qn(t,ESe),{isActive:n,canBegin:r,duration:s,easing:i,begin:a,onAnimationEnd:l,onAnimationStart:c,children:u}=e,d=_Se(e.animationId,e.animationManager),[h,f]=p.useState(n?qM:oN),m=p.useRef(null);return p.useEffect(()=>{n||f(oN)},[n]),p.useEffect(()=>{if(!n||!r)return oSe;var y=vSe(qM,oN,wSe(i),s,f,d.getTimeoutController()),v=()=>{m.current=y()};return d.start([c,a,v,s,l]),()=>{d.stop(),m.current&&m.current(),l()}},[n,r,s,i,a,c,l,d]),u(h.t)}function lf(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=p.useRef(vp(e)),r=p.useRef(t);return r.current!==t&&(n.current=vp(e),r.current=t),n.current}function YM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function QM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YM(Object(n),!0).forEach(function(r){PSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PSe(t,e,n){return(e=ASe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ASe(t){var e=CSe(t,"string");return typeof e=="symbol"?e:e+""}function CSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function x0(){return x0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x0.apply(null,arguments)}var XM=(t,e,n,r,s)=>{var i=Math.min(Math.abs(n)/2,Math.abs(r)/2),a=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0,u;if(i>0&&s instanceof Array){for(var d=[0,0,0,0],h=0,f=4;h<f;h++)d[h]=s[h]>i?i:s[h];u="M".concat(t,",").concat(e+a*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(t+l*d[0],",").concat(e)),u+="L ".concat(t+n-l*d[1],",").concat(e),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(e+a*d[1])),u+="L ".concat(t+n,",").concat(e+r-a*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(t+n-l*d[2],",").concat(e+r)),u+="L ".concat(t+l*d[3],",").concat(e+r),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(e+r-a*d[3])),u+="Z"}else if(i>0&&s===+s&&s>0){var m=Math.min(i,s);u="M ".concat(t,",").concat(e+a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+l*m,",").concat(e,`
            L `).concat(t+n-l*m,",").concat(e,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n,",").concat(e+a*m,`
            L `).concat(t+n,",").concat(e+r-a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n-l*m,",").concat(e+r,`
            L `).concat(t+l*m,",").concat(e+r,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t,",").concat(e+r-a*m," Z")}else u="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return u},TSe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},EW=t=>{var e=qn(t,TSe),n=p.useRef(null),[r,s]=p.useState(-1);p.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var B=n.current.getTotalLength();B&&s(B)}catch{}},[]);var{x:i,y:a,width:l,height:c,radius:u,className:d}=e,{animationEasing:h,animationDuration:f,animationBegin:m,isAnimationActive:y,isUpdateAnimationActive:v}=e,x=p.useRef(l),b=p.useRef(c),w=p.useRef(i),j=p.useRef(a),N=p.useMemo(()=>({x:i,y:a,width:l,height:c,radius:u}),[i,a,l,c,u]),T=lf(N,"rectangle-");if(i!==+i||a!==+a||l!==+l||c!==+c||l===0||c===0)return null;var I=dt("recharts-rectangle",d);if(!v)return p.createElement("path",x0({},Jt(e,!0),{className:I,d:XM(i,a,l,c,u)}));var P=x.current,E=b.current,A=w.current,S=j.current,C="0px ".concat(r===-1?1:r,"px"),O="".concat(r,"px 0px"),k=jW(["strokeDasharray"],f,typeof h=="string"?h:void 0);return p.createElement(af,{animationId:T,key:T,canBegin:r>0,duration:f,easing:h,isActive:v,begin:m},B=>{var G=It(P,l,B),U=It(E,c,B),$=It(A,i,B),D=It(S,a,B);n.current&&(x.current=G,b.current=U,w.current=$,j.current=D);var L;return y?B>0?L={transition:k,strokeDasharray:O}:L={strokeDasharray:C}:L={strokeDasharray:O},p.createElement("path",x0({},Jt(e,!0),{className:I,d:XM($,D,G,U,u),ref:n,style:QM(QM({},L),e.style)}))})};function PW(t){var{cx:e,cy:n,radius:r,startAngle:s,endAngle:i}=t,a=$n(e,n,r,s),l=$n(e,n,r,i);return{points:[a,l],cx:e,cy:n,radius:r,startAngle:s,endAngle:i}}function Q_(){return Q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q_.apply(null,arguments)}var kSe=(t,e)=>{var n=er(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Qv=t=>{var{cx:e,cy:n,radius:r,angle:s,sign:i,isExternal:a,cornerRadius:l,cornerIsExternal:c}=t,u=l*(a?1:-1)+r,d=Math.asin(l/u)/p0,h=c?s:s+i*d,f=$n(e,n,u,h),m=$n(e,n,r,h),y=c?s-i*d:s,v=$n(e,n,u*Math.cos(d*p0),y);return{center:f,circleTangency:m,lineTangency:v,theta:d}},AW=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:s,startAngle:i,endAngle:a}=t,l=kSe(i,a),c=i+l,u=$n(e,n,s,i),d=$n(e,n,s,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(r>0){var f=$n(e,n,r,i),m=$n(e,n,r,c);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(f.x,",").concat(f.y," Z")}else h+="L ".concat(e,",").concat(n," Z");return h},ISe=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:s,cornerRadius:i,forceCornerRadius:a,cornerIsExternal:l,startAngle:c,endAngle:u}=t,d=er(u-c),{circleTangency:h,lineTangency:f,theta:m}=Qv({cx:e,cy:n,radius:s,angle:c,sign:d,cornerRadius:i,cornerIsExternal:l}),{circleTangency:y,lineTangency:v,theta:x}=Qv({cx:e,cy:n,radius:s,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:l}),b=l?Math.abs(c-u):Math.abs(c-u)-m-x;if(b<0)return a?"M ".concat(f.x,",").concat(f.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):AW({cx:e,cy:n,innerRadius:r,outerRadius:s,startAngle:c,endAngle:u});var w="M ".concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(b>180),",").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
  `);if(r>0){var{circleTangency:j,lineTangency:N,theta:T}=Qv({cx:e,cy:n,radius:r,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:I,lineTangency:P,theta:E}=Qv({cx:e,cy:n,radius:r,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),A=l?Math.abs(c-u):Math.abs(c-u)-T-E;if(A<0&&i===0)return"".concat(w,"L").concat(e,",").concat(n,"Z");w+="L".concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(A>180),",").concat(+(d>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,"Z")}else w+="L".concat(e,",").concat(n,"Z");return w},RSe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},CW=t=>{var e=qn(t,RSe),{cx:n,cy:r,innerRadius:s,outerRadius:i,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:h}=e;if(i<s||u===d)return null;var f=dt("recharts-sector",h),m=i-s,y=Ir(a,m,0,!0),v;return y>0&&Math.abs(u-d)<360?v=ISe({cx:n,cy:r,innerRadius:s,outerRadius:i,cornerRadius:Math.min(y,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):v=AW({cx:n,cy:r,innerRadius:s,outerRadius:i,startAngle:u,endAngle:d}),p.createElement("path",Q_({},Jt(e,!0),{className:f,d:v}))};function OSe(t,e,n){var r,s,i,a;if(t==="horizontal")r=e.x,i=r,s=n.top,a=n.top+n.height;else if(t==="vertical")s=e.y,a=s,r=n.left,i=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:l,cy:c,innerRadius:u,outerRadius:d,angle:h}=e,f=$n(l,c,u,h),m=$n(l,c,d,h);r=f.x,s=f.y,i=m.x,a=m.y}else return PW(e);return[{x:r,y:s},{x:i,y:a}]}var TW={},kW={},IW={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dT;function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(IW);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IW;function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(kW);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hT,n=kW;function r(s,i,a){a&&typeof a!="number"&&e.isIterateeCall(s,i,a)&&(i=a=void 0),s=n.toFinite(s),i===void 0?(i=s,s=0):i=n.toFinite(i),a=a===void 0?s<i?1:-1:n.toFinite(a);const l=Math.max(Math.ceil((i-s)/(a||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=s,s+=a;return c}t.range=r})(TW);var DSe=TW.range;const RW=Do(DSe);function Gl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function MSe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function NT(t){let e,n,r;t.length!==2?(e=Gl,n=(l,c)=>Gl(t(l),c),r=(l,c)=>t(l)-c):(e=t===Gl||t===MSe?t:LSe,n=t,r=t);function s(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const h=u+d>>>1;n(l[h],c)<0?u=h+1:d=h}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const h=u+d>>>1;n(l[h],c)<=0?u=h+1:d=h}while(u<d)}return u}function a(l,c,u=0,d=l.length){const h=s(l,c,u,d-1);return h>u&&r(l[h-1],c)>-r(l[h],c)?h-1:h}return{left:s,center:a,right:i}}function LSe(){return 0}function OW(t){return t===null?NaN:+t}function*FSe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const $Se=NT(Gl),Ng=$Se.right;NT(OW).center;class JM extends Map{constructor(e,n=VSe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,s]of e)this.set(r,s)}get(e){return super.get(ZM(this,e))}has(e){return super.has(ZM(this,e))}set(e,n){return super.set(USe(this,e),n)}delete(e){return super.delete(BSe(this,e))}}function ZM({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function USe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function BSe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function VSe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function zSe(t=Gl){if(t===Gl)return DW;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function DW(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const GSe=Math.sqrt(50),WSe=Math.sqrt(10),HSe=Math.sqrt(2);function w0(t,e,n){const r=(e-t)/Math.max(0,n),s=Math.floor(Math.log10(r)),i=r/Math.pow(10,s),a=i>=GSe?10:i>=WSe?5:i>=HSe?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/a,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,s)*a,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=n&&n<2?w0(t,e,n*2):[l,c,u]}function X_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[s,i,a]=r?w0(e,t,n):w0(t,e,n);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(r)if(a<0)for(let u=0;u<l;++u)c[u]=(i-u)/-a;else for(let u=0;u<l;++u)c[u]=(i-u)*a;else if(a<0)for(let u=0;u<l;++u)c[u]=(s+u)/-a;else for(let u=0;u<l;++u)c[u]=(s+u)*a;return c}function J_(t,e,n){return e=+e,t=+t,n=+n,w0(t,e,n)[2]}function Z_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,s=r?J_(e,t,n):J_(t,e,n);return(r?-1:1)*(s<0?1/-s:s)}function e4(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function t4(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function MW(t,e,n=0,r=1/0,s){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(s=s===void 0?DW:zSe(s);r>n;){if(r-n>600){const c=r-n+1,u=e-n+1,d=Math.log(c),h=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*h*(c-h)/c)*(u-c/2<0?-1:1),m=Math.max(n,Math.floor(e-u*h/c+f)),y=Math.min(r,Math.floor(e+(c-u)*h/c+f));MW(t,e,m,y,s)}const i=t[e];let a=n,l=r;for(Kf(t,n,e),s(t[r],i)>0&&Kf(t,n,r);a<l;){for(Kf(t,a,l),++a,--l;s(t[a],i)<0;)++a;for(;s(t[l],i)>0;)--l}s(t[n],i)===0?Kf(t,n,l):(++l,Kf(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function Kf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function KSe(t,e,n){if(t=Float64Array.from(FSe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return t4(t);if(e>=1)return e4(t);var r,s=(r-1)*e,i=Math.floor(s),a=e4(MW(t,i).subarray(0,i+1)),l=t4(t.subarray(i+1));return a+(l-a)*(s-i)}}function qSe(t,e,n=OW){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,s=(r-1)*e,i=Math.floor(s),a=+n(t[i],i,t),l=+n(t[i+1],i+1,t);return a+(l-a)*(s-i)}}function YSe(t,e,n){t=+t,e=+e,n=(s=arguments.length)<2?(e=t,t=0,1):s<3?1:+n;for(var r=-1,s=Math.max(0,Math.ceil((e-t)/n))|0,i=new Array(s);++r<s;)i[r]=t+r*n;return i}function bi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Va(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const eE=Symbol("implicit");function ST(){var t=new JM,e=[],n=[],r=eE;function s(i){let a=t.get(i);if(a===void 0){if(r!==eE)return r;t.set(i,a=e.push(i)-1)}return n[a%n.length]}return s.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new JM;for(const a of i)t.has(a)||t.set(a,e.push(a)-1);return s},s.range=function(i){return arguments.length?(n=Array.from(i),s):n.slice()},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return ST(e,n).unknown(r)},bi.apply(s,arguments),s}function _T(){var t=ST().unknown(void 0),e=t.domain,n=t.range,r=0,s=1,i,a,l=!1,c=0,u=0,d=.5;delete t.unknown;function h(){var f=e().length,m=s<r,y=m?s:r,v=m?r:s;i=(v-y)/Math.max(1,f-c+u*2),l&&(i=Math.floor(i)),y+=(v-y-i*(f-c))*d,a=i*(1-c),l&&(y=Math.round(y),a=Math.round(a));var x=YSe(f).map(function(b){return y+i*b});return n(m?x.reverse():x)}return t.domain=function(f){return arguments.length?(e(f),h()):e()},t.range=function(f){return arguments.length?([r,s]=f,r=+r,s=+s,h()):[r,s]},t.rangeRound=function(f){return[r,s]=f,r=+r,s=+s,l=!0,h()},t.bandwidth=function(){return a},t.step=function(){return i},t.round=function(f){return arguments.length?(l=!!f,h()):l},t.padding=function(f){return arguments.length?(c=Math.min(1,u=+f),h()):c},t.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),h()):c},t.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},t.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),h()):d},t.copy=function(){return _T(e(),[r,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},bi.apply(h(),arguments)}function LW(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return LW(e())},t}function QSe(){return LW(_T.apply(null,arguments).paddingInner(1))}function ET(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function FW(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Sg(){}var bp=.7,b0=1/bp,Kd="\\s*([+-]?\\d+)\\s*",jp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Po="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",XSe=/^#([0-9a-f]{3,8})$/,JSe=new RegExp(`^rgb\\(${Kd},${Kd},${Kd}\\)$`),ZSe=new RegExp(`^rgb\\(${Po},${Po},${Po}\\)$`),e_e=new RegExp(`^rgba\\(${Kd},${Kd},${Kd},${jp}\\)$`),t_e=new RegExp(`^rgba\\(${Po},${Po},${Po},${jp}\\)$`),n_e=new RegExp(`^hsl\\(${jp},${Po},${Po}\\)$`),r_e=new RegExp(`^hsla\\(${jp},${Po},${Po},${jp}\\)$`),n4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ET(Sg,Np,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:r4,formatHex:r4,formatHex8:s_e,formatHsl:i_e,formatRgb:s4,toString:s4});function r4(){return this.rgb().formatHex()}function s_e(){return this.rgb().formatHex8()}function i_e(){return $W(this).formatHsl()}function s4(){return this.rgb().formatRgb()}function Np(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=XSe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?i4(e):n===3?new as(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Xv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Xv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=JSe.exec(t))?new as(e[1],e[2],e[3],1):(e=ZSe.exec(t))?new as(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=e_e.exec(t))?Xv(e[1],e[2],e[3],e[4]):(e=t_e.exec(t))?Xv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=n_e.exec(t))?l4(e[1],e[2]/100,e[3]/100,1):(e=r_e.exec(t))?l4(e[1],e[2]/100,e[3]/100,e[4]):n4.hasOwnProperty(t)?i4(n4[t]):t==="transparent"?new as(NaN,NaN,NaN,0):null}function i4(t){return new as(t>>16&255,t>>8&255,t&255,1)}function Xv(t,e,n,r){return r<=0&&(t=e=n=NaN),new as(t,e,n,r)}function o_e(t){return t instanceof Sg||(t=Np(t)),t?(t=t.rgb(),new as(t.r,t.g,t.b,t.opacity)):new as}function tE(t,e,n,r){return arguments.length===1?o_e(t):new as(t,e,n,r??1)}function as(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}ET(as,tE,FW(Sg,{brighter(t){return t=t==null?b0:Math.pow(b0,t),new as(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?bp:Math.pow(bp,t),new as(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new as(hu(this.r),hu(this.g),hu(this.b),j0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:o4,formatHex:o4,formatHex8:a_e,formatRgb:a4,toString:a4}));function o4(){return`#${qc(this.r)}${qc(this.g)}${qc(this.b)}`}function a_e(){return`#${qc(this.r)}${qc(this.g)}${qc(this.b)}${qc((isNaN(this.opacity)?1:this.opacity)*255)}`}function a4(){const t=j0(this.opacity);return`${t===1?"rgb(":"rgba("}${hu(this.r)}, ${hu(this.g)}, ${hu(this.b)}${t===1?")":`, ${t})`}`}function j0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function hu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function qc(t){return t=hu(t),(t<16?"0":"")+t.toString(16)}function l4(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Di(t,e,n,r)}function $W(t){if(t instanceof Di)return new Di(t.h,t.s,t.l,t.opacity);if(t instanceof Sg||(t=Np(t)),!t)return new Di;if(t instanceof Di)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,s=Math.min(e,n,r),i=Math.max(e,n,r),a=NaN,l=i-s,c=(i+s)/2;return l?(e===i?a=(n-r)/l+(n<r)*6:n===i?a=(r-e)/l+2:a=(e-n)/l+4,l/=c<.5?i+s:2-i-s,a*=60):l=c>0&&c<1?0:a,new Di(a,l,c,t.opacity)}function l_e(t,e,n,r){return arguments.length===1?$W(t):new Di(t,e,n,r??1)}function Di(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ET(Di,l_e,FW(Sg,{brighter(t){return t=t==null?b0:Math.pow(b0,t),new Di(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?bp:Math.pow(bp,t),new Di(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,s=2*n-r;return new as(aN(t>=240?t-240:t+120,s,r),aN(t,s,r),aN(t<120?t+240:t-120,s,r),this.opacity)},clamp(){return new Di(c4(this.h),Jv(this.s),Jv(this.l),j0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=j0(this.opacity);return`${t===1?"hsl(":"hsla("}${c4(this.h)}, ${Jv(this.s)*100}%, ${Jv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function c4(t){return t=(t||0)%360,t<0?t+360:t}function Jv(t){return Math.max(0,Math.min(1,t||0))}function aN(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const PT=t=>()=>t;function c_e(t,e){return function(n){return t+n*e}}function u_e(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function d_e(t){return(t=+t)==1?UW:function(e,n){return n-e?u_e(e,n,t):PT(isNaN(e)?n:e)}}function UW(t,e){var n=e-t;return n?c_e(t,n):PT(isNaN(t)?e:t)}const u4=function t(e){var n=d_e(e);function r(s,i){var a=n((s=tE(s)).r,(i=tE(i)).r),l=n(s.g,i.g),c=n(s.b,i.b),u=UW(s.opacity,i.opacity);return function(d){return s.r=a(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return r.gamma=t,r}(1);function h_e(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),s;return function(i){for(s=0;s<n;++s)r[s]=t[s]*(1-i)+e[s]*i;return r}}function f_e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function m_e(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,s=new Array(r),i=new Array(n),a;for(a=0;a<r;++a)s[a]=cf(t[a],e[a]);for(;a<n;++a)i[a]=e[a];return function(l){for(a=0;a<r;++a)i[a]=s[a](l);return i}}function p_e(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function N0(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function g_e(t,e){var n={},r={},s;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(s in e)s in t?n[s]=cf(t[s],e[s]):r[s]=e[s];return function(i){for(s in n)r[s]=n[s](i);return r}}var nE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lN=new RegExp(nE.source,"g");function v_e(t){return function(){return t}}function y_e(t){return function(e){return t(e)+""}}function x_e(t,e){var n=nE.lastIndex=lN.lastIndex=0,r,s,i,a=-1,l=[],c=[];for(t=t+"",e=e+"";(r=nE.exec(t))&&(s=lN.exec(e));)(i=s.index)>n&&(i=e.slice(n,i),l[a]?l[a]+=i:l[++a]=i),(r=r[0])===(s=s[0])?l[a]?l[a]+=s:l[++a]=s:(l[++a]=null,c.push({i:a,x:N0(r,s)})),n=lN.lastIndex;return n<e.length&&(i=e.slice(n),l[a]?l[a]+=i:l[++a]=i),l.length<2?c[0]?y_e(c[0].x):v_e(e):(e=c.length,function(u){for(var d=0,h;d<e;++d)l[(h=c[d]).i]=h.x(u);return l.join("")})}function cf(t,e){var n=typeof e,r;return e==null||n==="boolean"?PT(e):(n==="number"?N0:n==="string"?(r=Np(e))?(e=r,u4):x_e:e instanceof Np?u4:e instanceof Date?p_e:f_e(e)?h_e:Array.isArray(e)?m_e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?g_e:N0)(t,e)}function AT(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function w_e(t,e){e===void 0&&(e=t,t=cf);for(var n=0,r=e.length-1,s=e[0],i=new Array(r<0?0:r);n<r;)i[n]=t(s,s=e[++n]);return function(a){var l=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return i[l](a-l)}}function b_e(t){return function(){return t}}function S0(t){return+t}var d4=[0,1];function zr(t){return t}function rE(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:b_e(isNaN(e)?NaN:.5)}function j_e(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function N_e(t,e,n){var r=t[0],s=t[1],i=e[0],a=e[1];return s<r?(r=rE(s,r),i=n(a,i)):(r=rE(r,s),i=n(i,a)),function(l){return i(r(l))}}function S_e(t,e,n){var r=Math.min(t.length,e.length)-1,s=new Array(r),i=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)s[a]=rE(t[a],t[a+1]),i[a]=n(e[a],e[a+1]);return function(l){var c=Ng(t,l,1,r)-1;return i[c](s[c](l))}}function _g(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Xb(){var t=d4,e=d4,n=cf,r,s,i,a=zr,l,c,u;function d(){var f=Math.min(t.length,e.length);return a!==zr&&(a=j_e(t[0],t[f-1])),l=f>2?S_e:N_e,c=u=null,h}function h(f){return f==null||isNaN(f=+f)?i:(c||(c=l(t.map(r),e,n)))(r(a(f)))}return h.invert=function(f){return a(s((u||(u=l(e,t.map(r),N0)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,S0),d()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),d()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),n=AT,d()},h.clamp=function(f){return arguments.length?(a=f?!0:zr,d()):a!==zr},h.interpolate=function(f){return arguments.length?(n=f,d()):n},h.unknown=function(f){return arguments.length?(i=f,h):i},function(f,m){return r=f,s=m,d()}}function CT(){return Xb()(zr,zr)}function __e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function _0(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Rh(t){return t=_0(Math.abs(t)),t?t[1]:NaN}function E_e(t,e){return function(n,r){for(var s=n.length,i=[],a=0,l=t[0],c=0;s>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),i.push(n.substring(s-=l,s+l)),!((c+=l+1)>r));)l=t[a=(a+1)%t.length];return i.reverse().join(e)}}function P_e(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var A_e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Sp(t){if(!(e=A_e.exec(t)))throw new Error("invalid format: "+t);var e;return new TT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Sp.prototype=TT.prototype;function TT(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}TT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function C_e(t){e:for(var e=t.length,n=1,r=-1,s;n<e;++n)switch(t[n]){case".":r=s=n;break;case"0":r===0&&(r=n),s=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(s+1):t}var BW;function T_e(t,e){var n=_0(t,e);if(!n)return t+"";var r=n[0],s=n[1],i=s-(BW=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+_0(t,Math.max(0,e+i-1))[0]}function h4(t,e){var n=_0(t,e);if(!n)return t+"";var r=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const f4={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:__e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>h4(t*100,e),r:h4,s:T_e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function m4(t){return t}var p4=Array.prototype.map,g4=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function k_e(t){var e=t.grouping===void 0||t.thousands===void 0?m4:E_e(p4.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",s=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?m4:P_e(p4.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(h){h=Sp(h);var f=h.fill,m=h.align,y=h.sign,v=h.symbol,x=h.zero,b=h.width,w=h.comma,j=h.precision,N=h.trim,T=h.type;T==="n"?(w=!0,T="g"):f4[T]||(j===void 0&&(j=12),N=!0,T="g"),(x||f==="0"&&m==="=")&&(x=!0,f="0",m="=");var I=v==="$"?n:v==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",P=v==="$"?r:/[%p]/.test(T)?a:"",E=f4[T],A=/[defgprs%]/.test(T);j=j===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function S(C){var O=I,k=P,B,G,U;if(T==="c")k=E(C)+k,C="";else{C=+C;var $=C<0||1/C<0;if(C=isNaN(C)?c:E(Math.abs(C),j),N&&(C=C_e(C)),$&&+C==0&&y!=="+"&&($=!1),O=($?y==="("?y:l:y==="-"||y==="("?"":y)+O,k=(T==="s"?g4[8+BW/3]:"")+k+($&&y==="("?")":""),A){for(B=-1,G=C.length;++B<G;)if(U=C.charCodeAt(B),48>U||U>57){k=(U===46?s+C.slice(B+1):C.slice(B))+k,C=C.slice(0,B);break}}}w&&!x&&(C=e(C,1/0));var D=O.length+C.length+k.length,L=D<b?new Array(b-D+1).join(f):"";switch(w&&x&&(C=e(L+C,L.length?b-k.length:1/0),L=""),m){case"<":C=O+C+k+L;break;case"=":C=O+L+C+k;break;case"^":C=L.slice(0,D=L.length>>1)+O+C+k+L.slice(D);break;default:C=L+O+C+k;break}return i(C)}return S.toString=function(){return h+""},S}function d(h,f){var m=u((h=Sp(h),h.type="f",h)),y=Math.max(-8,Math.min(8,Math.floor(Rh(f)/3)))*3,v=Math.pow(10,-y),x=g4[8+y/3];return function(b){return m(v*b)+x}}return{format:u,formatPrefix:d}}var Zv,kT,VW;I_e({thousands:",",grouping:[3],currency:["$",""]});function I_e(t){return Zv=k_e(t),kT=Zv.format,VW=Zv.formatPrefix,Zv}function R_e(t){return Math.max(0,-Rh(Math.abs(t)))}function O_e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Rh(e)/3)))*3-Rh(Math.abs(t)))}function D_e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Rh(e)-Rh(t))+1}function zW(t,e,n,r){var s=Z_(t,e,n),i;switch(r=Sp(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(i=O_e(s,a))&&(r.precision=i),VW(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=D_e(s,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=R_e(s))&&(r.precision=i-(r.type==="%")*2);break}}return kT(r)}function Sc(t){var e=t.domain;return t.ticks=function(n){var r=e();return X_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var s=e();return zW(s[0],s[s.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),s=0,i=r.length-1,a=r[s],l=r[i],c,u,d=10;for(l<a&&(u=a,a=l,l=u,u=s,s=i,i=u);d-- >0;){if(u=J_(a,l,n),u===c)return r[s]=a,r[i]=l,e(r);if(u>0)a=Math.floor(a/u)*u,l=Math.ceil(l/u)*u;else if(u<0)a=Math.ceil(a*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function GW(){var t=CT();return t.copy=function(){return _g(t,GW())},bi.apply(t,arguments),Sc(t)}function WW(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,S0),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return WW(t).unknown(e)},t=arguments.length?Array.from(t,S0):[0,1],Sc(n)}function HW(t,e){t=t.slice();var n=0,r=t.length-1,s=t[n],i=t[r],a;return i<s&&(a=n,n=r,r=a,a=s,s=i,i=a),t[n]=e.floor(s),t[r]=e.ceil(i),t}function v4(t){return Math.log(t)}function y4(t){return Math.exp(t)}function M_e(t){return-Math.log(-t)}function L_e(t){return-Math.exp(-t)}function F_e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function $_e(t){return t===10?F_e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function U_e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function x4(t){return(e,n)=>-t(-e,n)}function IT(t){const e=t(v4,y4),n=e.domain;let r=10,s,i;function a(){return s=U_e(r),i=$_e(r),n()[0]<0?(s=x4(s),i=x4(i),t(M_e,L_e)):t(v4,y4),e}return e.base=function(l){return arguments.length?(r=+l,a()):r},e.domain=function(l){return arguments.length?(n(l),a()):n()},e.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const h=d<u;h&&([u,d]=[d,u]);let f=s(u),m=s(d),y,v;const x=l==null?10:+l;let b=[];if(!(r%1)&&m-f<x){if(f=Math.floor(f),m=Math.ceil(m),u>0){for(;f<=m;++f)for(y=1;y<r;++y)if(v=f<0?y/i(-f):y*i(f),!(v<u)){if(v>d)break;b.push(v)}}else for(;f<=m;++f)for(y=r-1;y>=1;--y)if(v=f>0?y/i(-f):y*i(f),!(v<u)){if(v>d)break;b.push(v)}b.length*2<x&&(b=X_(u,d,x))}else b=X_(f,m,Math.min(m-f,x)).map(i);return h?b.reverse():b},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Sp(c)).precision==null&&(c.trim=!0),c=kT(c)),l===1/0)return c;const u=Math.max(1,r*l/e.ticks().length);return d=>{let h=d/i(Math.round(s(d)));return h*r<r-.5&&(h*=r),h<=u?c(d):""}},e.nice=()=>n(HW(n(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),e}function KW(){const t=IT(Xb()).domain([1,10]);return t.copy=()=>_g(t,KW()).base(t.base()),bi.apply(t,arguments),t}function w4(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function b4(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function RT(t){var e=1,n=t(w4(e),b4(e));return n.constant=function(r){return arguments.length?t(w4(e=+r),b4(e)):e},Sc(n)}function qW(){var t=RT(Xb());return t.copy=function(){return _g(t,qW()).constant(t.constant())},bi.apply(t,arguments)}function j4(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function B_e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function V_e(t){return t<0?-t*t:t*t}function OT(t){var e=t(zr,zr),n=1;function r(){return n===1?t(zr,zr):n===.5?t(B_e,V_e):t(j4(n),j4(1/n))}return e.exponent=function(s){return arguments.length?(n=+s,r()):n},Sc(e)}function DT(){var t=OT(Xb());return t.copy=function(){return _g(t,DT()).exponent(t.exponent())},bi.apply(t,arguments),t}function z_e(){return DT.apply(null,arguments).exponent(.5)}function N4(t){return Math.sign(t)*t*t}function G_e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function YW(){var t=CT(),e=[0,1],n=!1,r;function s(i){var a=G_e(t(i));return isNaN(a)?r:n?Math.round(a):a}return s.invert=function(i){return t.invert(N4(i))},s.domain=function(i){return arguments.length?(t.domain(i),s):t.domain()},s.range=function(i){return arguments.length?(t.range((e=Array.from(i,S0)).map(N4)),s):e.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(n=!!i,s):n},s.clamp=function(i){return arguments.length?(t.clamp(i),s):t.clamp()},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return YW(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},bi.apply(s,arguments),Sc(s)}function QW(){var t=[],e=[],n=[],r;function s(){var a=0,l=Math.max(1,e.length);for(n=new Array(l-1);++a<l;)n[a-1]=qSe(t,a/l);return i}function i(a){return a==null||isNaN(a=+a)?r:e[Ng(n,a)]}return i.invertExtent=function(a){var l=e.indexOf(a);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},i.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let l of a)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Gl),s()},i.range=function(a){return arguments.length?(e=Array.from(a),s()):e.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return QW().domain(t).range(e).unknown(r)},bi.apply(i,arguments)}function XW(){var t=0,e=1,n=1,r=[.5],s=[0,1],i;function a(c){return c!=null&&c<=c?s[Ng(r,c,0,n)]:i}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return a}return a.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},a.range=function(c){return arguments.length?(n=(s=Array.from(c)).length-1,l()):s.slice()},a.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(c){return arguments.length&&(i=c),a},a.thresholds=function(){return r.slice()},a.copy=function(){return XW().domain([t,e]).range(s).unknown(i)},bi.apply(Sc(a),arguments)}function JW(){var t=[.5],e=[0,1],n,r=1;function s(i){return i!=null&&i<=i?e[Ng(t,i,0,r)]:n}return s.domain=function(i){return arguments.length?(t=Array.from(i),r=Math.min(t.length,e.length-1),s):t.slice()},s.range=function(i){return arguments.length?(e=Array.from(i),r=Math.min(t.length,e.length-1),s):e.slice()},s.invertExtent=function(i){var a=e.indexOf(i);return[t[a-1],t[a]]},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return JW().domain(t).range(e).unknown(n)},bi.apply(s,arguments)}const cN=new Date,uN=new Date;function Yn(t,e,n,r){function s(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(t(i=new Date(+i)),i),s.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),s.round=i=>{const a=s(i),l=s.ceil(i);return i-a<l-i?a:l},s.offset=(i,a)=>(e(i=new Date(+i),a==null?1:Math.floor(a)),i),s.range=(i,a,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<a)||!(l>0))return c;let u;do c.push(u=new Date(+i)),e(i,l),t(i);while(u<i&&i<a);return c},s.filter=i=>Yn(a=>{if(a>=a)for(;t(a),!i(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;e(a,-1),!i(a););else for(;--l>=0;)for(;e(a,1),!i(a););}),n&&(s.count=(i,a)=>(cN.setTime(+i),uN.setTime(+a),t(cN),t(uN),Math.floor(n(cN,uN))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(r?a=>r(a)%i===0:a=>s.count(0,a)%i===0):s)),s}const E0=Yn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);E0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Yn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):E0);E0.range;const oa=1e3,ii=oa*60,aa=ii*60,Ta=aa*24,MT=Ta*7,S4=Ta*30,dN=Ta*365,Yc=Yn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*oa)},(t,e)=>(e-t)/oa,t=>t.getUTCSeconds());Yc.range;const LT=Yn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*oa)},(t,e)=>{t.setTime(+t+e*ii)},(t,e)=>(e-t)/ii,t=>t.getMinutes());LT.range;const FT=Yn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ii)},(t,e)=>(e-t)/ii,t=>t.getUTCMinutes());FT.range;const $T=Yn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*oa-t.getMinutes()*ii)},(t,e)=>{t.setTime(+t+e*aa)},(t,e)=>(e-t)/aa,t=>t.getHours());$T.range;const UT=Yn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*aa)},(t,e)=>(e-t)/aa,t=>t.getUTCHours());UT.range;const Eg=Yn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ii)/Ta,t=>t.getDate()-1);Eg.range;const Jb=Yn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ta,t=>t.getUTCDate()-1);Jb.range;const ZW=Yn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ta,t=>Math.floor(t/Ta));ZW.range;function Yu(t){return Yn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ii)/MT)}const Zb=Yu(0),P0=Yu(1),W_e=Yu(2),H_e=Yu(3),Oh=Yu(4),K_e=Yu(5),q_e=Yu(6);Zb.range;P0.range;W_e.range;H_e.range;Oh.range;K_e.range;q_e.range;function Qu(t){return Yn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/MT)}const e1=Qu(0),A0=Qu(1),Y_e=Qu(2),Q_e=Qu(3),Dh=Qu(4),X_e=Qu(5),J_e=Qu(6);e1.range;A0.range;Y_e.range;Q_e.range;Dh.range;X_e.range;J_e.range;const BT=Yn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());BT.range;const VT=Yn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());VT.range;const ka=Yn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ka.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Yn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ka.range;const Ia=Yn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ia.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Yn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ia.range;function eH(t,e,n,r,s,i){const a=[[Yc,1,oa],[Yc,5,5*oa],[Yc,15,15*oa],[Yc,30,30*oa],[i,1,ii],[i,5,5*ii],[i,15,15*ii],[i,30,30*ii],[s,1,aa],[s,3,3*aa],[s,6,6*aa],[s,12,12*aa],[r,1,Ta],[r,2,2*Ta],[n,1,MT],[e,1,S4],[e,3,3*S4],[t,1,dN]];function l(u,d,h){const f=d<u;f&&([u,d]=[d,u]);const m=h&&typeof h.range=="function"?h:c(u,d,h),y=m?m.range(u,+d+1):[];return f?y.reverse():y}function c(u,d,h){const f=Math.abs(d-u)/h,m=NT(([,,x])=>x).right(a,f);if(m===a.length)return t.every(Z_(u/dN,d/dN,h));if(m===0)return E0.every(Math.max(Z_(u,d,h),1));const[y,v]=a[f/a[m-1][2]<a[m][2]/f?m-1:m];return y.every(v)}return[l,c]}const[Z_e,eEe]=eH(Ia,VT,e1,ZW,UT,FT),[tEe,nEe]=eH(ka,BT,Zb,Eg,$T,LT);function hN(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function fN(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function qf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function rEe(t){var e=t.dateTime,n=t.date,r=t.time,s=t.periods,i=t.days,a=t.shortDays,l=t.months,c=t.shortMonths,u=Yf(s),d=Qf(s),h=Yf(i),f=Qf(i),m=Yf(a),y=Qf(a),v=Yf(l),x=Qf(l),b=Yf(c),w=Qf(c),j={a:$,A:D,b:L,B:W,c:null,d:T4,e:T4,f:EEe,g:MEe,G:FEe,H:NEe,I:SEe,j:_Ee,L:tH,m:PEe,M:AEe,p:J,q:V,Q:R4,s:O4,S:CEe,u:TEe,U:kEe,V:IEe,w:REe,W:OEe,x:null,X:null,y:DEe,Y:LEe,Z:$Ee,"%":I4},N={a:ue,A:ee,b:re,B:be,c:null,d:k4,e:k4,f:zEe,g:ZEe,G:tPe,H:UEe,I:BEe,j:VEe,L:rH,m:GEe,M:WEe,p:se,q:Ue,Q:R4,s:O4,S:HEe,u:KEe,U:qEe,V:YEe,w:QEe,W:XEe,x:null,X:null,y:JEe,Y:ePe,Z:nPe,"%":I4},T={a:S,A:C,b:O,B:k,c:B,d:A4,e:A4,f:xEe,g:P4,G:E4,H:C4,I:C4,j:pEe,L:yEe,m:mEe,M:gEe,p:A,q:fEe,Q:bEe,s:jEe,S:vEe,u:lEe,U:cEe,V:uEe,w:aEe,W:dEe,x:G,X:U,y:P4,Y:E4,Z:hEe,"%":wEe};j.x=I(n,j),j.X=I(r,j),j.c=I(e,j),N.x=I(n,N),N.X=I(r,N),N.c=I(e,N);function I(ae,z){return function(H){var F=[],te=-1,le=0,pe=ae.length,Re,Le,qe;for(H instanceof Date||(H=new Date(+H));++te<pe;)ae.charCodeAt(te)===37&&(F.push(ae.slice(le,te)),(Le=_4[Re=ae.charAt(++te)])!=null?Re=ae.charAt(++te):Le=Re==="e"?" ":"0",(qe=z[Re])&&(Re=qe(H,Le)),F.push(Re),le=te+1);return F.push(ae.slice(le,te)),F.join("")}}function P(ae,z){return function(H){var F=qf(1900,void 0,1),te=E(F,ae,H+="",0),le,pe;if(te!=H.length)return null;if("Q"in F)return new Date(F.Q);if("s"in F)return new Date(F.s*1e3+("L"in F?F.L:0));if(z&&!("Z"in F)&&(F.Z=0),"p"in F&&(F.H=F.H%12+F.p*12),F.m===void 0&&(F.m="q"in F?F.q:0),"V"in F){if(F.V<1||F.V>53)return null;"w"in F||(F.w=1),"Z"in F?(le=fN(qf(F.y,0,1)),pe=le.getUTCDay(),le=pe>4||pe===0?A0.ceil(le):A0(le),le=Jb.offset(le,(F.V-1)*7),F.y=le.getUTCFullYear(),F.m=le.getUTCMonth(),F.d=le.getUTCDate()+(F.w+6)%7):(le=hN(qf(F.y,0,1)),pe=le.getDay(),le=pe>4||pe===0?P0.ceil(le):P0(le),le=Eg.offset(le,(F.V-1)*7),F.y=le.getFullYear(),F.m=le.getMonth(),F.d=le.getDate()+(F.w+6)%7)}else("W"in F||"U"in F)&&("w"in F||(F.w="u"in F?F.u%7:"W"in F?1:0),pe="Z"in F?fN(qf(F.y,0,1)).getUTCDay():hN(qf(F.y,0,1)).getDay(),F.m=0,F.d="W"in F?(F.w+6)%7+F.W*7-(pe+5)%7:F.w+F.U*7-(pe+6)%7);return"Z"in F?(F.H+=F.Z/100|0,F.M+=F.Z%100,fN(F)):hN(F)}}function E(ae,z,H,F){for(var te=0,le=z.length,pe=H.length,Re,Le;te<le;){if(F>=pe)return-1;if(Re=z.charCodeAt(te++),Re===37){if(Re=z.charAt(te++),Le=T[Re in _4?z.charAt(te++):Re],!Le||(F=Le(ae,H,F))<0)return-1}else if(Re!=H.charCodeAt(F++))return-1}return F}function A(ae,z,H){var F=u.exec(z.slice(H));return F?(ae.p=d.get(F[0].toLowerCase()),H+F[0].length):-1}function S(ae,z,H){var F=m.exec(z.slice(H));return F?(ae.w=y.get(F[0].toLowerCase()),H+F[0].length):-1}function C(ae,z,H){var F=h.exec(z.slice(H));return F?(ae.w=f.get(F[0].toLowerCase()),H+F[0].length):-1}function O(ae,z,H){var F=b.exec(z.slice(H));return F?(ae.m=w.get(F[0].toLowerCase()),H+F[0].length):-1}function k(ae,z,H){var F=v.exec(z.slice(H));return F?(ae.m=x.get(F[0].toLowerCase()),H+F[0].length):-1}function B(ae,z,H){return E(ae,e,z,H)}function G(ae,z,H){return E(ae,n,z,H)}function U(ae,z,H){return E(ae,r,z,H)}function $(ae){return a[ae.getDay()]}function D(ae){return i[ae.getDay()]}function L(ae){return c[ae.getMonth()]}function W(ae){return l[ae.getMonth()]}function J(ae){return s[+(ae.getHours()>=12)]}function V(ae){return 1+~~(ae.getMonth()/3)}function ue(ae){return a[ae.getUTCDay()]}function ee(ae){return i[ae.getUTCDay()]}function re(ae){return c[ae.getUTCMonth()]}function be(ae){return l[ae.getUTCMonth()]}function se(ae){return s[+(ae.getUTCHours()>=12)]}function Ue(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var z=I(ae+="",j);return z.toString=function(){return ae},z},parse:function(ae){var z=P(ae+="",!1);return z.toString=function(){return ae},z},utcFormat:function(ae){var z=I(ae+="",N);return z.toString=function(){return ae},z},utcParse:function(ae){var z=P(ae+="",!0);return z.toString=function(){return ae},z}}}var _4={"-":"",_:" ",0:"0"},sr=/^\s*\d+/,sEe=/^%/,iEe=/[\\^$*+?|[\]().{}]/g;function jt(t,e,n){var r=t<0?"-":"",s=(r?-t:t)+"",i=s.length;return r+(i<n?new Array(n-i+1).join(e)+s:s)}function oEe(t){return t.replace(iEe,"\\$&")}function Yf(t){return new RegExp("^(?:"+t.map(oEe).join("|")+")","i")}function Qf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function aEe(t,e,n){var r=sr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function lEe(t,e,n){var r=sr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function cEe(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function uEe(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function dEe(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function E4(t,e,n){var r=sr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function P4(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function hEe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function fEe(t,e,n){var r=sr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function mEe(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function A4(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function pEe(t,e,n){var r=sr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function C4(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function gEe(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function vEe(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function yEe(t,e,n){var r=sr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function xEe(t,e,n){var r=sr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function wEe(t,e,n){var r=sEe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function bEe(t,e,n){var r=sr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function jEe(t,e,n){var r=sr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function T4(t,e){return jt(t.getDate(),e,2)}function NEe(t,e){return jt(t.getHours(),e,2)}function SEe(t,e){return jt(t.getHours()%12||12,e,2)}function _Ee(t,e){return jt(1+Eg.count(ka(t),t),e,3)}function tH(t,e){return jt(t.getMilliseconds(),e,3)}function EEe(t,e){return tH(t,e)+"000"}function PEe(t,e){return jt(t.getMonth()+1,e,2)}function AEe(t,e){return jt(t.getMinutes(),e,2)}function CEe(t,e){return jt(t.getSeconds(),e,2)}function TEe(t){var e=t.getDay();return e===0?7:e}function kEe(t,e){return jt(Zb.count(ka(t)-1,t),e,2)}function nH(t){var e=t.getDay();return e>=4||e===0?Oh(t):Oh.ceil(t)}function IEe(t,e){return t=nH(t),jt(Oh.count(ka(t),t)+(ka(t).getDay()===4),e,2)}function REe(t){return t.getDay()}function OEe(t,e){return jt(P0.count(ka(t)-1,t),e,2)}function DEe(t,e){return jt(t.getFullYear()%100,e,2)}function MEe(t,e){return t=nH(t),jt(t.getFullYear()%100,e,2)}function LEe(t,e){return jt(t.getFullYear()%1e4,e,4)}function FEe(t,e){var n=t.getDay();return t=n>=4||n===0?Oh(t):Oh.ceil(t),jt(t.getFullYear()%1e4,e,4)}function $Ee(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+jt(e/60|0,"0",2)+jt(e%60,"0",2)}function k4(t,e){return jt(t.getUTCDate(),e,2)}function UEe(t,e){return jt(t.getUTCHours(),e,2)}function BEe(t,e){return jt(t.getUTCHours()%12||12,e,2)}function VEe(t,e){return jt(1+Jb.count(Ia(t),t),e,3)}function rH(t,e){return jt(t.getUTCMilliseconds(),e,3)}function zEe(t,e){return rH(t,e)+"000"}function GEe(t,e){return jt(t.getUTCMonth()+1,e,2)}function WEe(t,e){return jt(t.getUTCMinutes(),e,2)}function HEe(t,e){return jt(t.getUTCSeconds(),e,2)}function KEe(t){var e=t.getUTCDay();return e===0?7:e}function qEe(t,e){return jt(e1.count(Ia(t)-1,t),e,2)}function sH(t){var e=t.getUTCDay();return e>=4||e===0?Dh(t):Dh.ceil(t)}function YEe(t,e){return t=sH(t),jt(Dh.count(Ia(t),t)+(Ia(t).getUTCDay()===4),e,2)}function QEe(t){return t.getUTCDay()}function XEe(t,e){return jt(A0.count(Ia(t)-1,t),e,2)}function JEe(t,e){return jt(t.getUTCFullYear()%100,e,2)}function ZEe(t,e){return t=sH(t),jt(t.getUTCFullYear()%100,e,2)}function ePe(t,e){return jt(t.getUTCFullYear()%1e4,e,4)}function tPe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Dh(t):Dh.ceil(t),jt(t.getUTCFullYear()%1e4,e,4)}function nPe(){return"+0000"}function I4(){return"%"}function R4(t){return+t}function O4(t){return Math.floor(+t/1e3)}var cd,iH,oH;rPe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function rPe(t){return cd=rEe(t),iH=cd.format,cd.parse,oH=cd.utcFormat,cd.utcParse,cd}function sPe(t){return new Date(t)}function iPe(t){return t instanceof Date?+t:+new Date(+t)}function zT(t,e,n,r,s,i,a,l,c,u){var d=CT(),h=d.invert,f=d.domain,m=u(".%L"),y=u(":%S"),v=u("%I:%M"),x=u("%I %p"),b=u("%a %d"),w=u("%b %d"),j=u("%B"),N=u("%Y");function T(I){return(c(I)<I?m:l(I)<I?y:a(I)<I?v:i(I)<I?x:r(I)<I?s(I)<I?b:w:n(I)<I?j:N)(I)}return d.invert=function(I){return new Date(h(I))},d.domain=function(I){return arguments.length?f(Array.from(I,iPe)):f().map(sPe)},d.ticks=function(I){var P=f();return t(P[0],P[P.length-1],I??10)},d.tickFormat=function(I,P){return P==null?T:u(P)},d.nice=function(I){var P=f();return(!I||typeof I.range!="function")&&(I=e(P[0],P[P.length-1],I??10)),I?f(HW(P,I)):d},d.copy=function(){return _g(d,zT(t,e,n,r,s,i,a,l,c,u))},d}function oPe(){return bi.apply(zT(tEe,nEe,ka,BT,Zb,Eg,$T,LT,Yc,iH).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function aPe(){return bi.apply(zT(Z_e,eEe,Ia,VT,e1,Jb,UT,FT,Yc,oH).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function t1(){var t=0,e=1,n,r,s,i,a=zr,l=!1,c;function u(h){return h==null||isNaN(h=+h)?c:a(s===0?.5:(h=(i(h)-n)*s,l?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,n=i(t=+t),r=i(e=+e),s=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(h){return arguments.length?(l=!!h,u):l},u.interpolator=function(h){return arguments.length?(a=h,u):a};function d(h){return function(f){var m,y;return arguments.length?([m,y]=f,a=h(m,y),u):[a(0),a(1)]}}return u.range=d(cf),u.rangeRound=d(AT),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return i=h,n=h(t),r=h(e),s=n===r?0:1/(r-n),u}}function _c(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function aH(){var t=Sc(t1()(zr));return t.copy=function(){return _c(t,aH())},Va.apply(t,arguments)}function lH(){var t=IT(t1()).domain([1,10]);return t.copy=function(){return _c(t,lH()).base(t.base())},Va.apply(t,arguments)}function cH(){var t=RT(t1());return t.copy=function(){return _c(t,cH()).constant(t.constant())},Va.apply(t,arguments)}function GT(){var t=OT(t1());return t.copy=function(){return _c(t,GT()).exponent(t.exponent())},Va.apply(t,arguments)}function lPe(){return GT.apply(null,arguments).exponent(.5)}function uH(){var t=[],e=zr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Ng(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let s of r)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Gl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,s)=>e(s/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(s,i)=>KSe(t,i/r))},n.copy=function(){return uH(e).domain(t)},Va.apply(n,arguments)}function n1(){var t=0,e=.5,n=1,r=1,s,i,a,l,c,u=zr,d,h=!1,f;function m(v){return isNaN(v=+v)?f:(v=.5+((v=+d(v))-i)*(r*v<r*i?l:c),u(h?Math.max(0,Math.min(1,v)):v))}m.domain=function(v){return arguments.length?([t,e,n]=v,s=d(t=+t),i=d(e=+e),a=d(n=+n),l=s===i?0:.5/(i-s),c=i===a?0:.5/(a-i),r=i<s?-1:1,m):[t,e,n]},m.clamp=function(v){return arguments.length?(h=!!v,m):h},m.interpolator=function(v){return arguments.length?(u=v,m):u};function y(v){return function(x){var b,w,j;return arguments.length?([b,w,j]=x,u=w_e(v,[b,w,j]),m):[u(0),u(.5),u(1)]}}return m.range=y(cf),m.rangeRound=y(AT),m.unknown=function(v){return arguments.length?(f=v,m):f},function(v){return d=v,s=v(t),i=v(e),a=v(n),l=s===i?0:.5/(i-s),c=i===a?0:.5/(a-i),r=i<s?-1:1,m}}function dH(){var t=Sc(n1()(zr));return t.copy=function(){return _c(t,dH())},Va.apply(t,arguments)}function hH(){var t=IT(n1()).domain([.1,1,10]);return t.copy=function(){return _c(t,hH()).base(t.base())},Va.apply(t,arguments)}function fH(){var t=RT(n1());return t.copy=function(){return _c(t,fH()).constant(t.constant())},Va.apply(t,arguments)}function WT(){var t=OT(n1());return t.copy=function(){return _c(t,WT()).exponent(t.exponent())},Va.apply(t,arguments)}function cPe(){return WT.apply(null,arguments).exponent(.5)}const hm=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:_T,scaleDiverging:dH,scaleDivergingLog:hH,scaleDivergingPow:WT,scaleDivergingSqrt:cPe,scaleDivergingSymlog:fH,scaleIdentity:WW,scaleImplicit:eE,scaleLinear:GW,scaleLog:KW,scaleOrdinal:ST,scalePoint:QSe,scalePow:DT,scaleQuantile:QW,scaleQuantize:XW,scaleRadial:YW,scaleSequential:aH,scaleSequentialLog:lH,scaleSequentialPow:GT,scaleSequentialQuantile:uH,scaleSequentialSqrt:lPe,scaleSequentialSymlog:cH,scaleSqrt:z_e,scaleSymlog:qW,scaleThreshold:JW,scaleTime:oPe,scaleUtc:aPe,tickFormat:zW},Symbol.toStringTag,{value:"Module"}));var Ec=t=>t.chartData,HT=Z([Ec],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Pg=(t,e,n,r)=>r?HT(t):Ec(t);function Mh(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(yr(e)&&yr(n))return!0}return!1}function D4(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function uPe(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,s,i;if(yr(n))s=n;else if(typeof n=="function")return;if(yr(r))i=r;else if(typeof r=="function")return;var a=[s,i];if(Mh(a))return a}}function dPe(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Mh(r))return D4(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[s,i]=t,a,l;if(s==="auto")e!=null&&(a=Math.min(...e));else if($e(s))a=s;else if(typeof s=="function")try{e!=null&&(a=s(e==null?void 0:e[0]))}catch{}else if(typeof s=="string"&&CM.test(s)){var c=CM.exec(s);if(c==null||e==null)a=void 0;else{var u=+c[1];a=e[0]-u}}else a=e==null?void 0:e[0];if(i==="auto")e!=null&&(l=Math.max(...e));else if($e(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e==null?void 0:e[1]))}catch{}else if(typeof i=="string"&&TM.test(i)){var d=TM.exec(i);if(d==null||e==null)l=void 0;else{var h=+d[1];l=e[1]+h}}else l=e==null?void 0:e[1];var f=[a,l];if(Mh(f))return e==null?f:D4(f,e,n)}}}var uf=1e9,hPe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},qT,an=!0,vi="[DecimalError] ",fu=vi+"Invalid argument: ",KT=vi+"Exponent out of range: ",df=Math.floor,Uc=Math.pow,fPe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Es,Jn=1e7,Kt=7,mH=9007199254740991,C0=df(mH/Kt),Ie={};Ie.absoluteValue=Ie.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ie.comparedTo=Ie.cmp=function(t){var e,n,r,s,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(r=i.d.length,s=t.d.length,e=0,n=r<s?r:s;e<n;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return r===s?0:r>s^i.s<0?1:-1};Ie.decimalPlaces=Ie.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Kt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ie.dividedBy=Ie.div=function(t){return ma(this,new this.constructor(t))};Ie.dividedToIntegerBy=Ie.idiv=function(t){var e=this,n=e.constructor;return Mt(ma(e,new n(t),0,1),n.precision)};Ie.equals=Ie.eq=function(t){return!this.cmp(t)};Ie.exponent=function(){return Un(this)};Ie.greaterThan=Ie.gt=function(t){return this.cmp(t)>0};Ie.greaterThanOrEqualTo=Ie.gte=function(t){return this.cmp(t)>=0};Ie.isInteger=Ie.isint=function(){return this.e>this.d.length-2};Ie.isNegative=Ie.isneg=function(){return this.s<0};Ie.isPositive=Ie.ispos=function(){return this.s>0};Ie.isZero=function(){return this.s===0};Ie.lessThan=Ie.lt=function(t){return this.cmp(t)<0};Ie.lessThanOrEqualTo=Ie.lte=function(t){return this.cmp(t)<1};Ie.logarithm=Ie.log=function(t){var e,n=this,r=n.constructor,s=r.precision,i=s+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Es))throw Error(vi+"NaN");if(n.s<1)throw Error(vi+(n.s?"NaN":"-Infinity"));return n.eq(Es)?new r(0):(an=!1,e=ma(_p(n,i),_p(t,i),i),an=!0,Mt(e,s))};Ie.minus=Ie.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?vH(e,t):pH(e,(t.s=-t.s,t))};Ie.modulo=Ie.mod=function(t){var e,n=this,r=n.constructor,s=r.precision;if(t=new r(t),!t.s)throw Error(vi+"NaN");return n.s?(an=!1,e=ma(n,t,0,1).times(t),an=!0,n.minus(e)):Mt(new r(n),s)};Ie.naturalExponential=Ie.exp=function(){return gH(this)};Ie.naturalLogarithm=Ie.ln=function(){return _p(this)};Ie.negated=Ie.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ie.plus=Ie.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?pH(e,t):vH(e,(t.s=-t.s,t))};Ie.precision=Ie.sd=function(t){var e,n,r,s=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(fu+t);if(e=Un(s)+1,r=s.d.length-1,n=r*Kt+1,r=s.d[r],r){for(;r%10==0;r/=10)n--;for(r=s.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ie.squareRoot=Ie.sqrt=function(){var t,e,n,r,s,i,a,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(vi+"NaN")}for(t=Un(l),an=!1,s=Math.sqrt(+l),s==0||s==1/0?(e=go(l.d),(e.length+t)%2==0&&(e+="0"),s=Math.sqrt(e),t=df((t+1)/2)-(t<0||t%2),s==1/0?e="5e"+t:(e=s.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(s.toString()),n=c.precision,s=a=n+3;;)if(i=r,r=i.plus(ma(l,i,a+2)).times(.5),go(i.d).slice(0,a)===(e=go(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),s==a&&e=="4999"){if(Mt(i,n+1,0),i.times(i).eq(l)){r=i;break}}else if(e!="9999")break;a+=4}return an=!0,Mt(r,n)};Ie.times=Ie.mul=function(t){var e,n,r,s,i,a,l,c,u,d=this,h=d.constructor,f=d.d,m=(t=new h(t)).d;if(!d.s||!t.s)return new h(0);for(t.s*=d.s,n=d.e+t.e,c=f.length,u=m.length,c<u&&(i=f,f=m,m=i,a=c,c=u,u=a),i=[],a=c+u,r=a;r--;)i.push(0);for(r=u;--r>=0;){for(e=0,s=c+r;s>r;)l=i[s]+m[r]*f[s-r-1]+e,i[s--]=l%Jn|0,e=l/Jn|0;i[s]=(i[s]+e)%Jn|0}for(;!i[--a];)i.pop();return e?++n:i.shift(),t.d=i,t.e=n,an?Mt(t,h.precision):t};Ie.toDecimalPlaces=Ie.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Io(t,0,uf),e===void 0?e=r.rounding:Io(e,0,8),Mt(n,t+Un(n)+1,e))};Ie.toExponential=function(t,e){var n,r=this,s=r.constructor;return t===void 0?n=Lu(r,!0):(Io(t,0,uf),e===void 0?e=s.rounding:Io(e,0,8),r=Mt(new s(r),t+1,e),n=Lu(r,!0,t+1)),n};Ie.toFixed=function(t,e){var n,r,s=this,i=s.constructor;return t===void 0?Lu(s):(Io(t,0,uf),e===void 0?e=i.rounding:Io(e,0,8),r=Mt(new i(s),t+Un(s)+1,e),n=Lu(r.abs(),!1,t+Un(r)+1),s.isneg()&&!s.isZero()?"-"+n:n)};Ie.toInteger=Ie.toint=function(){var t=this,e=t.constructor;return Mt(new e(t),Un(t)+1,e.rounding)};Ie.toNumber=function(){return+this};Ie.toPower=Ie.pow=function(t){var e,n,r,s,i,a,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(Es);if(l=new c(l),!l.s){if(t.s<1)throw Error(vi+"Infinity");return l}if(l.eq(Es))return l;if(r=c.precision,t.eq(Es))return Mt(l,r);if(e=t.e,n=t.d.length-1,a=e>=n,i=l.s,a){if((n=d<0?-d:d)<=mH){for(s=new c(Es),e=Math.ceil(r/Kt+4),an=!1;n%2&&(s=s.times(l),L4(s.d,e)),n=df(n/2),n!==0;)l=l.times(l),L4(l.d,e);return an=!0,t.s<0?new c(Es).div(s):Mt(s,r)}}else if(i<0)throw Error(vi+"NaN");return i=i<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,an=!1,s=t.times(_p(l,r+u)),an=!0,s=gH(s),s.s=i,s};Ie.toPrecision=function(t,e){var n,r,s=this,i=s.constructor;return t===void 0?(n=Un(s),r=Lu(s,n<=i.toExpNeg||n>=i.toExpPos)):(Io(t,1,uf),e===void 0?e=i.rounding:Io(e,0,8),s=Mt(new i(s),t,e),n=Un(s),r=Lu(s,t<=n||n<=i.toExpNeg,t)),r};Ie.toSignificantDigits=Ie.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Io(t,1,uf),e===void 0?e=r.rounding:Io(e,0,8)),Mt(new r(n),t,e)};Ie.toString=Ie.valueOf=Ie.val=Ie.toJSON=Ie[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Un(t),n=t.constructor;return Lu(t,e<=n.toExpNeg||e>=n.toExpPos)};function pH(t,e){var n,r,s,i,a,l,c,u,d=t.constructor,h=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),an?Mt(e,h):e;if(c=t.d,u=e.d,a=t.e,s=e.e,c=c.slice(),i=a-s,i){for(i<0?(r=c,i=-i,l=u.length):(r=u,s=a,l=c.length),a=Math.ceil(h/Kt),l=a>l?a+1:l+1,i>l&&(i=l,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,r=u,u=c,c=r),n=0;i;)n=(c[--i]=c[i]+u[i]+n)/Jn|0,c[i]%=Jn;for(n&&(c.unshift(n),++s),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=s,an?Mt(e,h):e}function Io(t,e,n){if(t!==~~t||t<e||t>n)throw Error(fu+t)}function go(t){var e,n,r,s=t.length-1,i="",a=t[0];if(s>0){for(i+=a,e=1;e<s;e++)r=t[e]+"",n=Kt-r.length,n&&(i+=il(n)),i+=r;a=t[e],r=a+"",n=Kt-r.length,n&&(i+=il(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return i+a}var ma=function(){function t(r,s){var i,a=0,l=r.length;for(r=r.slice();l--;)i=r[l]*s+a,r[l]=i%Jn|0,a=i/Jn|0;return a&&r.unshift(a),r}function e(r,s,i,a){var l,c;if(i!=a)c=i>a?1:-1;else for(l=c=0;l<i;l++)if(r[l]!=s[l]){c=r[l]>s[l]?1:-1;break}return c}function n(r,s,i){for(var a=0;i--;)r[i]-=a,a=r[i]<s[i]?1:0,r[i]=a*Jn+r[i]-s[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,s,i,a){var l,c,u,d,h,f,m,y,v,x,b,w,j,N,T,I,P,E,A=r.constructor,S=r.s==s.s?1:-1,C=r.d,O=s.d;if(!r.s)return new A(r);if(!s.s)throw Error(vi+"Division by zero");for(c=r.e-s.e,P=O.length,T=C.length,m=new A(S),y=m.d=[],u=0;O[u]==(C[u]||0);)++u;if(O[u]>(C[u]||0)&&--c,i==null?w=i=A.precision:a?w=i+(Un(r)-Un(s))+1:w=i,w<0)return new A(0);if(w=w/Kt+2|0,u=0,P==1)for(d=0,O=O[0],w++;(u<T||d)&&w--;u++)j=d*Jn+(C[u]||0),y[u]=j/O|0,d=j%O|0;else{for(d=Jn/(O[0]+1)|0,d>1&&(O=t(O,d),C=t(C,d),P=O.length,T=C.length),N=P,v=C.slice(0,P),x=v.length;x<P;)v[x++]=0;E=O.slice(),E.unshift(0),I=O[0],O[1]>=Jn/2&&++I;do d=0,l=e(O,v,P,x),l<0?(b=v[0],P!=x&&(b=b*Jn+(v[1]||0)),d=b/I|0,d>1?(d>=Jn&&(d=Jn-1),h=t(O,d),f=h.length,x=v.length,l=e(h,v,f,x),l==1&&(d--,n(h,P<f?E:O,f))):(d==0&&(l=d=1),h=O.slice()),f=h.length,f<x&&h.unshift(0),n(v,h,x),l==-1&&(x=v.length,l=e(O,v,P,x),l<1&&(d++,n(v,P<x?E:O,x))),x=v.length):l===0&&(d++,v=[0]),y[u++]=d,l&&v[0]?v[x++]=C[N]||0:(v=[C[N]],x=1);while((N++<T||v[0]!==void 0)&&w--)}return y[0]||y.shift(),m.e=c,Mt(m,a?i+Un(m)+1:i)}}();function gH(t,e){var n,r,s,i,a,l,c=0,u=0,d=t.constructor,h=d.precision;if(Un(t)>16)throw Error(KT+Un(t));if(!t.s)return new d(Es);for(e==null?(an=!1,l=h):l=e,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(Uc(2,u))/Math.LN10*2+5|0,l+=r,n=s=i=new d(Es),d.precision=l;;){if(s=Mt(s.times(t),l),n=n.times(++c),a=i.plus(ma(s,n,l)),go(a.d).slice(0,l)===go(i.d).slice(0,l)){for(;u--;)i=Mt(i.times(i),l);return d.precision=h,e==null?(an=!0,Mt(i,h)):i}i=a}}function Un(t){for(var e=t.e*Kt,n=t.d[0];n>=10;n/=10)e++;return e}function mN(t,e,n){if(e>t.LN10.sd())throw an=!0,n&&(t.precision=n),Error(vi+"LN10 precision limit exceeded");return Mt(new t(t.LN10),e)}function il(t){for(var e="";t--;)e+="0";return e}function _p(t,e){var n,r,s,i,a,l,c,u,d,h=1,f=10,m=t,y=m.d,v=m.constructor,x=v.precision;if(m.s<1)throw Error(vi+(m.s?"NaN":"-Infinity"));if(m.eq(Es))return new v(0);if(e==null?(an=!1,u=x):u=e,m.eq(10))return e==null&&(an=!0),mN(v,u);if(u+=f,v.precision=u,n=go(y),r=n.charAt(0),i=Un(m),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=go(m.d),r=n.charAt(0),h++;i=Un(m),r>1?(m=new v("0."+n),i++):m=new v(r+"."+n.slice(1))}else return c=mN(v,u+2,x).times(i+""),m=_p(new v(r+"."+n.slice(1)),u-f).plus(c),v.precision=x,e==null?(an=!0,Mt(m,x)):m;for(l=a=m=ma(m.minus(Es),m.plus(Es),u),d=Mt(m.times(m),u),s=3;;){if(a=Mt(a.times(d),u),c=l.plus(ma(a,new v(s),u)),go(c.d).slice(0,u)===go(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(mN(v,u+2,x).times(i+""))),l=ma(l,new v(h),u),v.precision=x,e==null?(an=!0,Mt(l,x)):l;l=c,s+=2}}function M4(t,e){var n,r,s;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(s=e.length;e.charCodeAt(s-1)===48;)--s;if(e=e.slice(r,s),e){if(s-=r,n=n-r-1,t.e=df(n/Kt),t.d=[],r=(n+1)%Kt,n<0&&(r+=Kt),r<s){for(r&&t.d.push(+e.slice(0,r)),s-=Kt;r<s;)t.d.push(+e.slice(r,r+=Kt));e=e.slice(r),r=Kt-e.length}else r-=s;for(;r--;)e+="0";if(t.d.push(+e),an&&(t.e>C0||t.e<-C0))throw Error(KT+n)}else t.s=0,t.e=0,t.d=[0];return t}function Mt(t,e,n){var r,s,i,a,l,c,u,d,h=t.d;for(a=1,i=h[0];i>=10;i/=10)a++;if(r=e-a,r<0)r+=Kt,s=e,u=h[d=0];else{if(d=Math.ceil((r+1)/Kt),i=h.length,d>=i)return t;for(u=i=h[d],a=1;i>=10;i/=10)a++;r%=Kt,s=r-Kt+a}if(n!==void 0&&(i=Uc(10,a-s-1),l=u/i%10|0,c=e<0||h[d+1]!==void 0||u%i,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?s>0?u/Uc(10,a-s):0:h[d-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return c?(i=Un(t),h.length=1,e=e-i-1,h[0]=Uc(10,(Kt-e%Kt)%Kt),t.e=df(-e/Kt)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=d,i=1,d--):(h.length=d+1,i=Uc(10,Kt-r),h[d]=s>0?(u/Uc(10,a-s)%Uc(10,s)|0)*i:0),c)for(;;)if(d==0){(h[0]+=i)==Jn&&(h[0]=1,++t.e);break}else{if(h[d]+=i,h[d]!=Jn)break;h[d--]=0,i=1}for(r=h.length;h[--r]===0;)h.pop();if(an&&(t.e>C0||t.e<-C0))throw Error(KT+Un(t));return t}function vH(t,e){var n,r,s,i,a,l,c,u,d,h,f=t.constructor,m=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),an?Mt(e,m):e;if(c=t.d,h=e.d,r=e.e,u=t.e,c=c.slice(),a=u-r,a){for(d=a<0,d?(n=c,a=-a,l=h.length):(n=h,r=u,l=c.length),s=Math.max(Math.ceil(m/Kt),l)+2,a>s&&(a=s,n.length=1),n.reverse(),s=a;s--;)n.push(0);n.reverse()}else{for(s=c.length,l=h.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=h[s]){d=c[s]<h[s];break}a=0}for(d&&(n=c,c=h,h=n,e.s=-e.s),l=c.length,s=h.length-l;s>0;--s)c[l++]=0;for(s=h.length;s>a;){if(c[--s]<h[s]){for(i=s;i&&c[--i]===0;)c[i]=Jn-1;--c[i],c[s]+=Jn}c[s]-=h[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,an?Mt(e,m):e):new f(0)}function Lu(t,e,n){var r,s=Un(t),i=go(t.d),a=i.length;return e?(n&&(r=n-a)>0?i=i.charAt(0)+"."+i.slice(1)+il(r):a>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+il(-s-1)+i,n&&(r=n-a)>0&&(i+=il(r))):s>=a?(i+=il(s+1-a),n&&(r=n-s-1)>0&&(i=i+"."+il(r))):((r=s+1)<a&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-a)>0&&(s+1===a&&(i+="."),i+=il(r))),t.s<0?"-"+i:i}function L4(t,e){if(t.length>e)return t.length=e,!0}function yH(t){var e,n,r;function s(i){var a=this;if(!(a instanceof s))return new s(i);if(a.constructor=s,i instanceof s){a.s=i.s,a.e=i.e,a.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(fu+i);if(i>0)a.s=1;else if(i<0)i=-i,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(i===~~i&&i<1e7){a.e=0,a.d=[i];return}return M4(a,i.toString())}else if(typeof i!="string")throw Error(fu+i);if(i.charCodeAt(0)===45?(i=i.slice(1),a.s=-1):a.s=1,fPe.test(i))M4(a,i);else throw Error(fu+i)}if(s.prototype=Ie,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=yH,s.config=s.set=mPe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return s.config(t),s}function mPe(t){if(!t||typeof t!="object")throw Error(vi+"Object expected");var e,n,r,s=["precision",1,uf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<s.length;e+=3)if((r=t[n=s[e]])!==void 0)if(df(r)===r&&r>=s[e+1]&&r<=s[e+2])this[n]=r;else throw Error(fu+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(fu+n+": "+r);return this}var qT=yH(hPe);Es=new qT(1);const Ct=qT;var pPe=t=>t,xH={"@@functional/placeholder":!0},wH=t=>t===xH,F4=t=>function e(){return arguments.length===0||arguments.length===1&&wH(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},bH=(t,e)=>t===1?e:F4(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];var i=r.filter(a=>a!==xH).length;return i>=t?e(...r):bH(t-i,F4(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var u=r.map(d=>wH(d)?l.shift():d);return e(...u,...l)}))}),r1=t=>bH(t.length,t),sE=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},gPe=r1((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),vPe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return pPe;var s=n.reverse(),i=s[0],a=s.slice(1);return function(){return a.reduce((l,c)=>c(l),i(...arguments))}},iE=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),jH=t=>{var e=null,n=null;return function(){for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return e&&s.every((a,l)=>{var c;return a===((c=e)===null||c===void 0?void 0:c[l])})||(e=s,n=t(...s)),n}};function NH(t){var e;return t===0?e=1:e=Math.floor(new Ct(t).abs().log(10).toNumber())+1,e}function SH(t,e,n){for(var r=new Ct(t),s=0,i=[];r.lt(e)&&s<1e5;)i.push(r.toNumber()),r=r.add(n),s++;return i}r1((t,e,n)=>{var r=+t,s=+e;return r+n*(s-r)});r1((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});r1((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var _H=t=>{var[e,n]=t,[r,s]=[e,n];return e>n&&([r,s]=[n,e]),[r,s]},EH=(t,e,n)=>{if(t.lte(0))return new Ct(0);var r=NH(t.toNumber()),s=new Ct(10).pow(r),i=t.div(s),a=r!==1?.05:.1,l=new Ct(Math.ceil(i.div(a).toNumber())).add(n).mul(a),c=l.mul(s);return e?new Ct(c.toNumber()):new Ct(Math.ceil(c.toNumber()))},yPe=(t,e,n)=>{var r=new Ct(1),s=new Ct(t);if(!s.isint()&&n){var i=Math.abs(t);i<1?(r=new Ct(10).pow(NH(t)-1),s=new Ct(Math.floor(s.div(r).toNumber())).mul(r)):i>1&&(s=new Ct(Math.floor(t)))}else t===0?s=new Ct(Math.floor((e-1)/2)):n||(s=new Ct(Math.floor(t)));var a=Math.floor((e-1)/2),l=vPe(gPe(c=>s.add(new Ct(c-a).mul(r)).toNumber()),sE);return l(0,e)},PH=function(e,n,r,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Ct(0),tickMin:new Ct(0),tickMax:new Ct(0)};var a=EH(new Ct(n).sub(e).div(r-1),s,i),l;e<=0&&n>=0?l=new Ct(0):(l=new Ct(e).add(n).div(2),l=l.sub(new Ct(l).mod(a)));var c=Math.ceil(l.sub(e).div(a).toNumber()),u=Math.ceil(new Ct(n).sub(l).div(a).toNumber()),d=c+u+1;return d>r?PH(e,n,r,s,i+1):(d<r&&(u=n>0?u+(r-d):u,c=n>0?c:c+(r-d)),{step:a,tickMin:l.sub(new Ct(c).mul(a)),tickMax:l.add(new Ct(u).mul(a))})};function xPe(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(r,2),[a,l]=_H([e,n]);if(a===-1/0||l===1/0){var c=l===1/0?[a,...sE(0,r-1).map(()=>1/0)]:[...sE(0,r-1).map(()=>-1/0),l];return e>n?iE(c):c}if(a===l)return yPe(a,r,s);var{step:u,tickMin:d,tickMax:h}=PH(a,l,i,s,0),f=SH(d,h.add(new Ct(.1).mul(u)),u);return e>n?iE(f):f}function wPe(t,e){var[n,r]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,a]=_H([n,r]);if(i===-1/0||a===1/0)return[n,r];if(i===a)return[i];var l=Math.max(e,2),c=EH(new Ct(a).sub(i).div(l-1),s,0),u=[...SH(new Ct(i),new Ct(a),c),a];return s===!1&&(u=u.map(d=>Math.round(d))),n>r?iE(u):u}var bPe=jH(xPe),jPe=jH(wPe),AH=t=>t.rootProps.maxBarSize,NPe=t=>t.rootProps.barGap,CH=t=>t.rootProps.barCategoryGap,SPe=t=>t.rootProps.barSize,Ag=t=>t.rootProps.stackOffset,YT=t=>t.options.chartName,QT=t=>t.rootProps.syncId,TH=t=>t.rootProps.syncMethod,XT=t=>t.options.eventEmitter,ea={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},js={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},s1=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},_Pe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ea.angleAxisId,includeHidden:!1,name:void 0,reversed:ea.reversed,scale:ea.scale,tick:ea.tick,tickCount:void 0,ticks:void 0,type:ea.type,unit:void 0},EPe={allowDataOverflow:js.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:js.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:js.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:js.scale,tick:js.tick,tickCount:js.tickCount,ticks:void 0,type:js.type,unit:void 0},PPe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ea.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ea.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ea.scale,tick:ea.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},APe={allowDataOverflow:js.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:js.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:js.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:js.scale,tick:js.tick,tickCount:js.tickCount,ticks:void 0,type:"category",unit:void 0},JT=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?PPe:_Pe,ZT=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?APe:EPe,i1=t=>t.polarOptions,ek=Z([$a,Ua,Kn],cW),kH=Z([i1,ek],(t,e)=>{if(t!=null)return Ir(t.innerRadius,e,0)}),IH=Z([i1,ek],(t,e)=>{if(t!=null)return Ir(t.outerRadius,e,e*.8)}),CPe=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},RH=Z([i1],CPe);Z([JT,RH],s1);var OH=Z([ek,kH,IH],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});Z([ZT,OH],s1);var DH=Z([ot,i1,kH,IH,$a,Ua],(t,e,n,r,s,i)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:a,cy:l,startAngle:c,endAngle:u}=e;return{cx:Ir(a,s,s/2),cy:Ir(l,i,i/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:u,clockWise:!1}}}),ln=(t,e)=>e,Cg=(t,e,n)=>n;function o1(t){return t==null?void 0:t.id}var Qn=t=>{var e=ot(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},hf=t=>t.tooltip.settings.axisId,ir=t=>{var e=Qn(t),n=hf(t);return Tg(t,e,n)},MH=Z([ir],t=>t==null?void 0:t.dataKey);function LH(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:s,dataKey:i}=n,a=new Map;return t.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:r;if(!(u==null||u.length===0)){var d=o1(l);u.forEach((h,f)=>{var m=i==null||s?f:String(Rt(h,i,null)),y=Rt(h,l.dataKey,0),v;a.has(m)?v=a.get(m):v={},Object.assign(v,{[d]:y}),a.set(m,v)})}}),Array.from(a.values())}function a1(t){return t.stackId!=null&&t.dataKey!=null}function $4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function T0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$4(Object(n),!0).forEach(function(r){TPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TPe(t,e,n){return(e=kPe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kPe(t){var e=IPe(t,"string");return typeof e=="symbol"?e:e+""}function IPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oE=[0,"auto"],ys={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},FH=(t,e)=>t.cartesianAxis.xAxis[e],za=(t,e)=>{var n=FH(t,e);return n??ys},xs={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:oE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:bg},$H=(t,e)=>t.cartesianAxis.yAxis[e],Ga=(t,e)=>{var n=$H(t,e);return n??xs},RPe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},tk=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??RPe},In=(t,e,n)=>{switch(e){case"xAxis":return za(t,n);case"yAxis":return Ga(t,n);case"zAxis":return tk(t,n);case"angleAxis":return JT(t,n);case"radiusAxis":return ZT(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},OPe=(t,e,n)=>{switch(e){case"xAxis":return za(t,n);case"yAxis":return Ga(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Tg=(t,e,n)=>{switch(e){case"xAxis":return za(t,n);case"yAxis":return Ga(t,n);case"angleAxis":return JT(t,n);case"radiusAxis":return ZT(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},UH=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function nk(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var kg=t=>t.graphicalItems.cartesianItems,DPe=Z([ln,Cg],nk),rk=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),Ig=Z([kg,In,DPe],rk),BH=Z([Ig],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(a1)),VH=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),zH=Z([Ig],VH),sk=t=>t.map(e=>e.data).filter(Boolean).flat(1),MPe=Z([Ig],sk),ik=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:s}=e;return t.length>0?t:n.slice(r,s+1)},ok=Z([MPe,Pg],ik),ak=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Rt(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(s=>({value:Rt(s,r)}))):t.map(r=>({value:r})),l1=Z([ok,In,Ig],ak);function GH(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Xu(t){return t.filter(e=>ko(e)||e instanceof Date).map(Number).filter(e=>ms(e)===!1)}function LPe(t,e,n){return!n||typeof e!="number"||ms(e)?[]:n.length?Xu(n.flatMap(r=>{var s=Rt(t,r.dataKey),i,a;if(Array.isArray(s)?[i,a]=s:i=a=s,!(!yr(i)||!yr(a)))return[e-i,e+a]})):[]}var FPe=Z([BH,Pg,ir],LH),WH=(t,e,n)=>{var r={},s=e.reduce((i,a)=>(a.stackId==null||(i[a.stackId]==null&&(i[a.stackId]=[]),i[a.stackId].push(a)),i),r);return Object.fromEntries(Object.entries(s).map(i=>{var[a,l]=i,c=l.map(o1);return[a,{stackedData:Kje(t,c,n),graphicalItems:l}]}))},Ep=Z([FPe,BH,Ag],WH),HH=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:s}=e;if(n!=="zAxis"){var i=Xje(t,r,s);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},$Pe=Z([Ep,Ec,ln],HH),KH=(t,e,n,r,s)=>n.length>0?t.flatMap(i=>n.flatMap(a=>{var l,c,u=(l=r[a.id])===null||l===void 0?void 0:l.filter(h=>GH(s,h)),d=Rt(i,(c=e.dataKey)!==null&&c!==void 0?c:a.dataKey);return{value:d,errorDomain:LPe(i,d,u)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(i=>({value:Rt(i,e.dataKey),errorDomain:[]})):t.map(i=>({value:i,errorDomain:[]})),c1=t=>t.errorBars,qH=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>GH(n,r));Z([zH,c1,ln],qH);var UPe=Z([ok,In,zH,c1,ln],KH);function BPe(t){var{value:e}=t;if(ko(e)||e instanceof Date)return e}var U4=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Xu(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},VPe=(t,e,n)=>{var r=t.map(BPe).filter(s=>s!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&G7(r))?RW(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},lk=t=>{var e;if(t==null||!("domain"in t))return oE;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Xu(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:oE},k0=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var s=n.filter(Boolean);if(s.length!==0){var i=s.flat(),a=Math.min(...i),l=Math.max(...i);return[a,l]}},YH=t=>t.referenceElements.dots,ff=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),zPe=Z([YH,ln,Cg],ff),QH=t=>t.referenceElements.areas,GPe=Z([QH,ln,Cg],ff),XH=t=>t.referenceElements.lines,WPe=Z([XH,ln,Cg],ff),JH=(t,e)=>{var n=Xu(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},HPe=Z(zPe,ln,JH),ZH=(t,e)=>{var n=Xu(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},KPe=Z([GPe,ln],ZH),eK=(t,e)=>{var n=Xu(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},qPe=Z(WPe,ln,eK),YPe=Z(HPe,qPe,KPe,(t,e,n)=>k0(t,n,e)),tK=Z([In],lk),ck=(t,e,n,r,s,i,a)=>{var l=uPe(e,t.allowDataOverflow);if(l!=null)return l;var c=i==="vertical"&&a==="xAxis"||i==="horizontal"&&a==="yAxis",u=c?k0(n,s,U4(r)):k0(s,U4(r));return dPe(e,u,t.allowDataOverflow)},QPe=Z([In,tK,$Pe,UPe,YPe,ot,ln],ck),XPe=[0,1],uk=(t,e,n,r,s,i,a)=>{if(!((t==null||n==null||n.length===0)&&a===void 0)){var{dataKey:l,type:c}=t,u=Bo(e,i);return u&&l==null?RW(0,n.length):c==="category"?VPe(r,t,u):s==="expand"?XPe:a}},dk=Z([In,ot,ok,l1,Ag,ln,QPe],uk),nK=(t,e,n,r,s)=>{if(t!=null){var{scale:i,type:a}=t;if(i==="auto")return e==="radial"&&s==="radiusAxis"?"band":e==="radial"&&s==="angleAxis"?"linear":a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":a==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(vg(i));return l in hm?l:"point"}}},mf=Z([In,ot,UH,YT,ln],nK);function JPe(t){if(t!=null){if(t in hm)return hm[t]();var e="scale".concat(vg(t));if(e in hm)return hm[e]()}}function hk(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var s=JPe(e);if(s!=null){var i=s.domain(n).range(r);return Vje(i),i}}}var fk=(t,e,n)=>{var r=lk(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Mh(t))return bPe(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Mh(t))return jPe(t,e.tickCount,e.allowDecimals)}},mk=Z([dk,Tg,mf],fk),pk=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Mh(e)&&Array.isArray(n)&&n.length>0){var s=e[0],i=n[0],a=e[1],l=n[n.length-1];return[Math.min(s,i),Math.max(a,l)]}return e},ZPe=Z([In,dk,mk,ln],pk),eAe=Z(l1,In,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Xu(t.map(l=>l.value))).sort((l,c)=>l-c);if(r.length<2)return 1/0;var s=r[r.length-1]-r[0];if(s===0)return 1/0;for(var i=0;i<r.length-1;i++){var a=r[i+1]-r[i];n=Math.min(n,a)}return n/s}}),rK=Z(eAe,ot,CH,Kn,(t,e,n,r)=>r,(t,e,n,r,s)=>{if(!yr(t))return 0;var i=e==="vertical"?r.height:r.width;if(s==="gap")return t*i/2;if(s==="no-gap"){var a=Ir(n,t*i),l=t*i/2;return l-a-(l-a)/i*a}return 0}),tAe=(t,e)=>{var n=za(t,e);return n==null||typeof n.padding!="string"?0:rK(t,"xAxis",e,n.padding)},nAe=(t,e)=>{var n=Ga(t,e);return n==null||typeof n.padding!="string"?0:rK(t,"yAxis",e,n.padding)},rAe=Z(za,tAe,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:s}=t;return typeof s=="string"?{left:e,right:e}:{left:((n=s.left)!==null&&n!==void 0?n:0)+e,right:((r=s.right)!==null&&r!==void 0?r:0)+e}}),sAe=Z(Ga,nAe,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:s}=t;return typeof s=="string"?{top:e,bottom:e}:{top:((n=s.top)!==null&&n!==void 0?n:0)+e,bottom:((r=s.bottom)!==null&&r!==void 0?r:0)+e}}),iAe=Z([Kn,rAe,Qb,Yb,(t,e,n)=>n],(t,e,n,r,s)=>{var{padding:i}=r;return s?[i.left,n.width-i.right]:[t.left+e.left,t.left+t.width-e.right]}),oAe=Z([Kn,ot,sAe,Qb,Yb,(t,e,n)=>n],(t,e,n,r,s,i)=>{var{padding:a}=s;return i?[r.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Rg=(t,e,n,r)=>{var s;switch(e){case"xAxis":return iAe(t,n,r);case"yAxis":return oAe(t,n,r);case"zAxis":return(s=tk(t,n))===null||s===void 0?void 0:s.range;case"angleAxis":return RH(t);case"radiusAxis":return OH(t,n);default:return}},sK=Z([In,Rg],s1),pf=Z([In,mf,ZPe,sK],hk);Z([Ig,c1,ln],qH);function iK(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var u1=(t,e)=>e,d1=(t,e,n)=>n,aAe=Z(Kb,u1,d1,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(iK)),lAe=Z(qb,u1,d1,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(iK)),oK=(t,e)=>({width:t.width,height:e.height}),cAe=(t,e)=>{var n=typeof e.width=="number"?e.width:bg;return{width:n,height:t.height}},aK=Z(Kn,za,oK),uAe=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},dAe=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},hAe=Z(Ua,Kn,aAe,u1,d1,(t,e,n,r,s)=>{var i={},a;return n.forEach(l=>{var c=oK(e,l);a==null&&(a=uAe(e,r,t));var u=r==="top"&&!s||r==="bottom"&&s;i[l.id]=a-Number(u)*c.height,a+=(u?-1:1)*c.height}),i}),fAe=Z($a,Kn,lAe,u1,d1,(t,e,n,r,s)=>{var i={},a;return n.forEach(l=>{var c=cAe(e,l);a==null&&(a=dAe(e,r,t));var u=r==="left"&&!s||r==="right"&&s;i[l.id]=a-Number(u)*c.width,a+=(u?-1:1)*c.width}),i}),mAe=(t,e)=>{var n=za(t,e);if(n!=null)return hAe(t,n.orientation,n.mirror)},pAe=Z([Kn,za,mAe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var s=n==null?void 0:n[r];return s==null?{x:t.left,y:0}:{x:t.left,y:s}}}),gAe=(t,e)=>{var n=Ga(t,e);if(n!=null)return fAe(t,n.orientation,n.mirror)},vAe=Z([Kn,Ga,gAe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var s=n==null?void 0:n[r];return s==null?{x:0,y:t.top}:{x:s,y:t.top}}}),lK=Z(Kn,Ga,(t,e)=>{var n=typeof e.width=="number"?e.width:bg;return{width:n,height:t.height}}),B4=(t,e,n)=>{switch(e){case"xAxis":return aK(t,n).width;case"yAxis":return lK(t,n).height;default:return}},cK=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:s,type:i,dataKey:a}=n,l=Bo(t,r),c=e.map(u=>u.value);if(a&&l&&i==="category"&&s&&G7(c))return c}},gk=Z([ot,l1,In,ln],cK),uK=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:s,scale:i}=n,a=Bo(t,r);if(a&&(s==="number"||i!=="auto"))return e.map(l=>l.value)}},vk=Z([ot,l1,Tg,ln],uK),V4=Z([ot,OPe,mf,pf,gk,vk,Rg,mk,ln],(t,e,n,r,s,i,a,l,c)=>{if(e==null)return null;var u=Bo(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:i,duplicateDomain:s,isCategorical:u,niceTicks:l,range:a,realScaleType:n,scale:r}}),yAe=(t,e,n,r,s,i,a,l,c)=>{if(!(e==null||r==null)){var u=Bo(t,c),{type:d,ticks:h,tickCount:f}=e,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,y=d==="category"&&r.bandwidth?r.bandwidth()/m:0;y=c==="angleAxis"&&i!=null&&i.length>=2?er(i[0]-i[1])*2*y:y;var v=h||s;if(v){var x=v.map((b,w)=>{var j=a?a.indexOf(b):b;return{index:w,coordinate:r(j)+y,value:b,offset:y}});return x.filter(b=>!ms(b.coordinate))}return u&&l?l.map((b,w)=>({coordinate:r(b)+y,value:b,index:w,offset:y})):r.ticks?r.ticks(f).map(b=>({coordinate:r(b)+y,value:b,offset:y})):r.domain().map((b,w)=>({coordinate:r(b)+y,value:a?a[b]:b,index:w,offset:y}))}},dK=Z([ot,Tg,mf,pf,mk,Rg,gk,vk,ln],yAe),xAe=(t,e,n,r,s,i,a)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var l=Bo(t,a),{tickCount:c}=e,u=0;return u=a==="angleAxis"&&(r==null?void 0:r.length)>=2?er(r[0]-r[1])*2*u:u,l&&i?i.map((d,h)=>({coordinate:n(d)+u,value:d,index:h,offset:u})):n.ticks?n.ticks(c).map(d=>({coordinate:n(d)+u,value:d,offset:u})):n.domain().map((d,h)=>({coordinate:n(d)+u,value:s?s[d]:d,index:h,offset:u}))}},Ro=Z([ot,Tg,pf,Rg,gk,vk,ln],xAe),Oo=Z(In,pf,(t,e)=>{if(!(t==null||e==null))return T0(T0({},t),{},{scale:e})}),wAe=Z([In,mf,dk,sK],hk);Z((t,e,n)=>tk(t,n),wAe,(t,e)=>{if(!(t==null||e==null))return T0(T0({},t),{},{scale:e})});var bAe=Z([ot,Kb,qb],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),hK=t=>t.options.defaultTooltipEventType,fK=t=>t.options.validateTooltipEventTypes;function mK(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function yk(t,e){var n=hK(t),r=fK(t);return mK(e,n,r)}function jAe(t){return Me(e=>yk(e,t))}var pK=(t,e)=>{var n,r=Number(e);if(!(ms(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},NAe=t=>t.tooltip.settings,ml={active:!1,index:null,dataKey:void 0,coordinate:void 0},SAe={itemInteraction:{click:ml,hover:ml},axisInteraction:{click:ml,hover:ml},keyboardInteraction:ml,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},gK=Ws({name:"tooltip",initialState:SAe,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=fa(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:_Ae,removeTooltipEntrySettings:EAe,setTooltipSettingsState:PAe,setActiveMouseOverItemIndex:vK,mouseLeaveItem:AAe,mouseLeaveChart:yK,setActiveClickItemIndex:CAe,setMouseOverAxisIndex:xK,setMouseClickAxisIndex:TAe,setSyncInteraction:aE,setKeyboardInteraction:lE}=gK.actions,kAe=gK.reducer;function z4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ey(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z4(Object(n),!0).forEach(function(r){IAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IAe(t,e,n){return(e=RAe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RAe(t){var e=OAe(t,"string");return typeof e=="symbol"?e:e+""}function OAe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DAe(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function MAe(t){return t.index!=null}var wK=(t,e,n,r)=>{if(e==null)return ml;var s=DAe(t,e,n);if(s==null)return ml;if(s.active)return s;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var i=t.settings.active===!0;if(MAe(s)){if(i)return ey(ey({},s),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return ey(ey({},ml),{},{coordinate:s.coordinate})},xk=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var r=Number(n);if(!yr(r))return n;var s=0,i=1/0;return e.length>0&&(i=e.length-1),String(Math.max(s,Math.min(r,i)))},bK=(t,e,n,r,s,i,a,l)=>{if(!(i==null||l==null)){var c=a[0],u=c==null?void 0:l(c.positions,i);if(u!=null)return u;var d=s==null?void 0:s[Number(i)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:d.coordinate}}}},jK=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var s;return n==="hover"?s=t.itemInteraction.hover.dataKey:s=t.itemInteraction.click.dataKey,s==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(i=>{var a;return((a=i.settings)===null||a===void 0?void 0:a.dataKey)===s})},Og=t=>t.options.tooltipPayloadSearcher,gf=t=>t.tooltip;function G4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function W4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G4(Object(n),!0).forEach(function(r){LAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LAe(t,e,n){return(e=FAe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FAe(t){var e=$Ae(t,"string");return typeof e=="symbol"?e:e+""}function $Ae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UAe(t,e){return t??e}var NK=(t,e,n,r,s,i,a)=>{if(!(e==null||i==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=n,h=[];return t.reduce((f,m)=>{var y,{dataDefinedOnItem:v,settings:x}=m,b=UAe(v,l),w=Array.isArray(b)?uW(b,u,d):b,j=(y=x==null?void 0:x.dataKey)!==null&&y!==void 0?y:r,N=x==null?void 0:x.nameKey,T;if(r&&Array.isArray(w)&&!Array.isArray(w[0])&&a==="axis"?T=W7(w,r,s):T=i(w,e,c,N),Array.isArray(T))T.forEach(P=>{var E=W4(W4({},x),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});f.push(kM({tooltipEntrySettings:E,dataKey:P.dataKey,payload:P.payload,value:Rt(P.payload,P.dataKey),name:P.name}))});else{var I;f.push(kM({tooltipEntrySettings:x,dataKey:j,payload:T,value:Rt(T,j),name:(I=Rt(T,N))!==null&&I!==void 0?I:x==null?void 0:x.name}))}return f},h)}},wk=Z([ir,ot,UH,YT,Qn],nK),BAe=Z([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),VAe=Z([Qn,hf],nk),Dg=Z([BAe,ir,VAe],rk),zAe=Z([Dg],t=>t.filter(a1)),GAe=Z([Dg],sk),vf=Z([GAe,Ec],ik),WAe=Z([zAe,Ec,ir],LH),bk=Z([vf,ir,Dg],ak),HAe=Z([ir],lk),KAe=Z([Dg],t=>t.filter(a1)),qAe=Z([WAe,KAe,Ag],WH),YAe=Z([qAe,Ec,Qn],HH),QAe=Z([Dg],VH),XAe=Z([vf,ir,QAe,c1,Qn],KH),JAe=Z([YH,Qn,hf],ff),ZAe=Z([JAe,Qn],JH),eCe=Z([QH,Qn,hf],ff),tCe=Z([eCe,Qn],ZH),nCe=Z([XH,Qn,hf],ff),rCe=Z([nCe,Qn],eK),sCe=Z([ZAe,rCe,tCe],k0),iCe=Z([ir,HAe,YAe,XAe,sCe,ot,Qn],ck),SK=Z([ir,ot,vf,bk,Ag,Qn,iCe],uk),oCe=Z([SK,ir,wk],fk),aCe=Z([ir,SK,oCe,Qn],pk),_K=t=>{var e=Qn(t),n=hf(t),r=!1;return Rg(t,e,n,r)},EK=Z([ir,_K],s1),PK=Z([ir,wk,aCe,EK],hk),lCe=Z([ot,bk,ir,Qn],cK),cCe=Z([ot,bk,ir,Qn],uK),uCe=(t,e,n,r,s,i,a,l)=>{if(e){var{type:c}=e,u=Bo(t,l);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,h=c==="category"&&r.bandwidth?r.bandwidth()/d:0;return h=l==="angleAxis"&&s!=null&&(s==null?void 0:s.length)>=2?er(s[0]-s[1])*2*h:h,u&&a?a.map((f,m)=>({coordinate:r(f)+h,value:f,index:m,offset:h})):r.domain().map((f,m)=>({coordinate:r(f)+h,value:i?i[f]:f,index:m,offset:h}))}}},Wa=Z([ot,ir,wk,PK,_K,lCe,cCe,Qn],uCe),jk=Z([hK,fK,NAe],(t,e,n)=>mK(n.shared,t,e)),AK=t=>t.tooltip.settings.trigger,Nk=t=>t.tooltip.settings.defaultIndex,h1=Z([gf,jk,AK,Nk],wK),oc=Z([h1,vf],xk),CK=Z([Wa,oc],pK),TK=Z([h1],t=>{if(t)return t.dataKey}),kK=Z([gf,jk,AK,Nk],jK),dCe=Z([$a,Ua,ot,Kn,Wa,Nk,kK,Og],bK),hCe=Z([h1,dCe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),fCe=Z([h1],t=>t.active),mCe=Z([kK,oc,Ec,MH,CK,Og,jk],NK),pCe=Z([mCe],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function H4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function K4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H4(Object(n),!0).forEach(function(r){gCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gCe(t,e,n){return(e=vCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vCe(t){var e=yCe(t,"string");return typeof e=="symbol"?e:e+""}function yCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xCe=()=>Me(ir),wCe=()=>{var t=xCe(),e=Me(Wa),n=Me(PK);return Mu(K4(K4({},t),{},{scale:n}),e)},IK=()=>Me(YT),Sk=(t,e)=>e,RK=(t,e,n)=>n,_k=(t,e,n,r)=>r,bCe=Z(Wa,t=>Bb(t,e=>e.coordinate)),Ek=Z([gf,Sk,RK,_k],wK),OK=Z([Ek,vf],xk),jCe=(t,e,n)=>{if(e!=null){var r=gf(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},DK=Z([gf,Sk,RK,_k],jK),I0=Z([$a,Ua,ot,Kn,Wa,_k,DK,Og],bK),NCe=Z([Ek,I0],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),MK=Z(Wa,OK,pK),SCe=Z([DK,OK,Ec,MH,MK,Og,Sk],NK),_Ce=Z([Ek],t=>({isActive:t.active,activeIndex:t.index})),ECe=(t,e,n,r,s,i,a,l)=>{if(!(!t||!e||!r||!s||!i)){var c=Jje(t.chartX,t.chartY,e,n,l);if(c){var u=eNe(c,e),d=Uje(u,a,i,r,s),h=Zje(e,i,d,c);return{activeIndex:String(d),activeCoordinate:h}}}};function cE(){return cE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cE.apply(null,arguments)}function q4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ty(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q4(Object(n),!0).forEach(function(r){PCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PCe(t,e,n){return(e=ACe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ACe(t){var e=CCe(t,"string");return typeof e=="symbol"?e:e+""}function CCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TCe(t){var{coordinate:e,payload:n,index:r,offset:s,tooltipAxisBandSize:i,layout:a,cursor:l,tooltipEventType:c,chartName:u}=t,d=e,h=n,f=r;if(!l||!d||u!=="ScatterChart"&&c!=="axis")return null;var m,y;if(u==="ScatterChart")m=d,y=eSe;else if(u==="BarChart")m=tSe(a,d,s,i),y=EW;else if(a==="radial"){var{cx:v,cy:x,radius:b,startAngle:w,endAngle:j}=PW(d);m={cx:v,cy:x,startAngle:w,endAngle:j,innerRadius:b,outerRadius:b},y=CW}else m={points:OSe(a,d,s)},y=Hd;var N=typeof l=="object"&&"className"in l?l.className:void 0,T=ty(ty(ty(ty({stroke:"#ccc",pointerEvents:"none"},s),m),Jt(l,!1)),{},{payload:h,payloadIndex:f,className:dt("recharts-tooltip-cursor",N)});return p.isValidElement(l)?p.cloneElement(l,T):p.createElement(y,T)}function kCe(t){var e=wCe(),n=vW(),r=jg(),s=IK();return p.createElement(TCe,cE({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:s}))}var LK=p.createContext(null),ICe=()=>p.useContext(LK),FK={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,h,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new s(d,h||c,f),y=n?n+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],m]:c._events[y].push(m):(c._events[y]=m,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)e.call(d,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,m=h.length,y=new Array(m);f<m;f++)y[f]=h[f].fn;return y},l.prototype.listenerCount=function(u){var d=n?n+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,f,m,y){var v=n?n+u:u;if(!this._events[v])return!1;var x=this._events[v],b=arguments.length,w,j;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,h),!0;case 4:return x.fn.call(x.context,d,h,f),!0;case 5:return x.fn.call(x.context,d,h,f,m),!0;case 6:return x.fn.call(x.context,d,h,f,m,y),!0}for(j=1,w=new Array(b-1);j<b;j++)w[j-1]=arguments[j];x.fn.apply(x.context,w)}else{var N=x.length,T;for(j=0;j<N;j++)switch(x[j].once&&this.removeListener(u,x[j].fn,void 0,!0),b){case 1:x[j].fn.call(x[j].context);break;case 2:x[j].fn.call(x[j].context,d);break;case 3:x[j].fn.call(x[j].context,d,h);break;case 4:x[j].fn.call(x[j].context,d,h,f);break;default:if(!w)for(T=1,w=new Array(b-1);T<b;T++)w[T-1]=arguments[T];x[j].fn.apply(x[j].context,w)}}return!0},l.prototype.on=function(u,d,h){return i(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return i(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,f){var m=n?n+u:u;if(!this._events[m])return this;if(!d)return a(this,m),this;var y=this._events[m];if(y.fn)y.fn===d&&(!f||y.once)&&(!h||y.context===h)&&a(this,m);else{for(var v=0,x=[],b=y.length;v<b;v++)(y[v].fn!==d||f&&!y[v].once||h&&y[v].context!==h)&&x.push(y[v]);x.length?this._events[m]=x.length===1?x[0]:x:a(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(FK);var RCe=FK.exports;const OCe=Do(RCe);var Pp=new OCe,uE="recharts.syncEvent.tooltip",Y4="recharts.syncEvent.brush";function f1(t,e){if(e){var n=Number.parseInt(e,10);if(!ms(n))return t==null?void 0:t[n]}}var DCe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},$K=Ws({name:"options",initialState:DCe,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),MCe=$K.reducer,{createEventEmitter:LCe}=$K.actions;function FCe(t){return t.tooltip.syncInteraction}var $Ce={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},UK=Ws({name:"chartData",initialState:$Ce,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:Q4,setDataStartEndIndexes:UCe,setComputedData:f4e}=UK.actions,BCe=UK.reducer,VCe=["x","y"];function X4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Rc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X4(Object(n),!0).forEach(function(r){zCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zCe(t,e,n){return(e=GCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GCe(t){var e=WCe(t,"string");return typeof e=="symbol"?e:e+""}function WCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HCe(t,e){if(t==null)return{};var n,r,s=KCe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function KCe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var BK=()=>{};function qCe(){var t=Me(QT),e=Me(XT),n=vn(),r=Me(TH),s=Me(Wa),i=jg(),a=xT(),l=Me(c=>c.rootProps.className);p.useEffect(()=>{if(t==null)return BK;var c=(u,d,h)=>{if(e!==h&&t===u){if(r==="index"){var f;if(a&&d!==null&&d!==void 0&&(f=d.payload)!==null&&f!==void 0&&f.coordinate){var m=d.payload.coordinate,{x:y,y:v}=m,x=HCe(m,VCe),b=Rc(Rc(Rc({},x),typeof y=="number"&&{x:Math.max(a.x,Math.min(y,a.x+a.width))}),typeof v=="number"&&{y:Math.max(a.y,Math.min(v,a.y+a.height))}),w=Rc(Rc({},d),{},{payload:Rc(Rc({},d.payload),{},{coordinate:b})});n(w)}else n(d);return}if(s!=null){var j;if(typeof r=="function"){var N={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},T=r(s,N);j=s[T]}else r==="value"&&(j=s.find(k=>String(k.value)===d.payload.label));var{coordinate:I}=d.payload;if(j==null||d.payload.active===!1||I==null||a==null){n(aE({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:P,y:E}=I,A=Math.min(P,a.x+a.width),S=Math.min(E,a.y+a.height),C={x:i==="horizontal"?j.coordinate:A,y:i==="horizontal"?S:j.coordinate},O=aE({active:d.payload.active,coordinate:C,dataKey:d.payload.dataKey,index:String(j.index),label:d.payload.label});n(O)}}};return Pp.on(uE,c),()=>{Pp.off(uE,c)}},[l,n,e,t,r,s,i,a])}function YCe(){var t=Me(QT),e=Me(XT),n=vn();p.useEffect(()=>{if(t==null)return BK;var r=(s,i,a)=>{e!==a&&t===s&&n(UCe(i))};return Pp.on(Y4,r),()=>{Pp.off(Y4,r)}},[n,e,t])}function QCe(){var t=vn();p.useEffect(()=>{t(LCe())},[t]),qCe(),YCe()}function XCe(t,e,n,r,s,i){var a=Me(f=>jCe(f,t,e)),l=Me(XT),c=Me(QT),u=Me(TH),d=Me(FCe),h=d==null?void 0:d.active;p.useEffect(()=>{if(!h&&c!=null&&l!=null){var f=aE({active:i,coordinate:n,dataKey:a,index:s,label:typeof r=="number"?String(r):r});Pp.emit(uE,c,f,l)}},[h,n,a,s,r,l,c,u,i])}function J4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Z4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J4(Object(n),!0).forEach(function(r){JCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JCe(t,e,n){return(e=ZCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZCe(t){var e=eTe(t,"string");return typeof e=="symbol"?e:e+""}function eTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tTe(t){return t.dataKey}function nTe(t,e){return p.isValidElement(t)?p.cloneElement(t,e):typeof t=="function"?p.createElement(t,e):p.createElement(INe,e)}var eL=[],rTe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ba.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ii(t){var e=qn(t,rTe),{active:n,allowEscapeViewBox:r,animationDuration:s,animationEasing:i,content:a,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:h,reverseDirection:f,useTranslate3d:m,wrapperStyle:y,cursor:v,shared:x,trigger:b,defaultIndex:w,portal:j,axisId:N}=e,T=vn(),I=typeof w=="number"?String(w):w;p.useEffect(()=>{T(PAe({shared:x,trigger:b,axisId:N,active:n,defaultIndex:I}))},[T,x,b,N,n,I]);var P=xT(),E=bW(),A=jAe(x),{activeIndex:S,isActive:C}=Me(re=>_Ce(re,A,b,I)),O=Me(re=>SCe(re,A,b,I)),k=Me(re=>MK(re,A,b,I)),B=Me(re=>NCe(re,A,b,I)),G=O,U=ICe(),$=n??C,[D,L]=FG([G,$]),W=A==="axis"?k:void 0;XCe(A,b,B,W,S,$);var J=j??U;if(J==null)return null;var V=G??eL;$||(V=eL),l&&V.length&&(V=AG(G.filter(re=>re.value!=null&&(re.hide!==!0||e.includeHidden)),d,tTe));var ue=V.length>0,ee=p.createElement($Ne,{allowEscapeViewBox:r,animationDuration:s,animationEasing:i,isAnimationActive:c,active:$,coordinate:B,hasPayload:ue,offset:u,position:h,reverseDirection:f,useTranslate3d:m,viewBox:P,wrapperStyle:y,lastBoundingBox:D,innerRef:L,hasPortalFromProps:!!j},nTe(a,Z4(Z4({},e),{},{payload:V,label:W,active:$,coordinate:B,accessibilityLayer:E})));return p.createElement(p.Fragment,null,Oa.createPortal(ee,J),$&&p.createElement(kCe,{cursor:v,tooltipEventType:A,coordinate:B,payload:G,index:S}))}var VK={},zK={},GK={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:s,edges:i}={}){let a,l=null;const c=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{l!==null&&(n.apply(a,l),a=void 0,l=null)},h=()=>{u&&d(),v()};let f=null;const m=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,h()},r)},y=()=>{f!==null&&(clearTimeout(f),f=null)},v=()=>{y(),a=void 0,l=null},x=()=>{d()},b=function(...w){if(s!=null&&s.aborted)return;a=this,l=w;const j=f==null;m(),c&&j&&d()};return b.schedule=m,b.cancel=v,b.flush=x,s==null||s.addEventListener("abort",v,{once:!0}),b}t.debounce=e})(GK);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GK;function n(r,s=0,i={}){typeof i!="object"&&(i={});const{leading:a=!1,trailing:l=!0,maxWait:c}=i,u=Array(2);a&&(u[0]="leading"),l&&(u[1]="trailing");let d,h=null;const f=e.debounce(function(...v){d=r.apply(this,v),h=null},s,{edges:u}),m=function(...v){return c!=null&&(h===null&&(h=Date.now()),Date.now()-h>=c)?(d=r.apply(this,v),h=Date.now(),f.cancel(),f.schedule(),d):(f.apply(this,v),d)},y=()=>(f.flush(),d);return m.cancel=f.cancel,m.flush=y,m}t.debounce=n})(zK);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zK;function n(r,s=0,i={}){const{leading:a=!0,trailing:l=!0}=i;return e.debounce(r,s,{leading:a,maxWait:s,trailing:l})}t.throttle=n})(VK);var sTe=VK.throttle;const iTe=Do(sTe);var km=function(e,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i]};function tL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function pN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tL(Object(n),!0).forEach(function(r){oTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oTe(t,e,n){return(e=aTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aTe(t){var e=lTe(t,"string");return typeof e=="symbol"?e:e+""}function lTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ao=p.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:s="100%",height:i="100%",minWidth:a=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:h,className:f,onResize:m,style:y={}}=t,v=p.useRef(null),x=p.useRef();x.current=m,p.useImperativeHandle(e,()=>v.current);var[b,w]=p.useState({containerWidth:r.width,containerHeight:r.height}),j=p.useCallback((T,I)=>{w(P=>{var E=Math.round(T),A=Math.round(I);return P.containerWidth===E&&P.containerHeight===A?P:{containerWidth:E,containerHeight:A}})},[]);p.useEffect(()=>{var T=A=>{var S,{width:C,height:O}=A[0].contentRect;j(C,O),(S=x.current)===null||S===void 0||S.call(x,C,O)};d>0&&(T=iTe(T,d,{trailing:!0,leading:!1}));var I=new ResizeObserver(T),{width:P,height:E}=v.current.getBoundingClientRect();return j(P,E),I.observe(v.current),()=>{I.disconnect()}},[j,d]);var N=p.useMemo(()=>{var{containerWidth:T,containerHeight:I}=b;if(T<0||I<0)return null;km(Kc(s)||Kc(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,i),km(!n||n>0,"The aspect(%s) must be greater than zero.",n);var P=Kc(s)?T:s,E=Kc(i)?I:i;return n&&n>0&&(P?E=P/n:E&&(P=E*n),c&&E>c&&(E=c)),km(P>0||E>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,E,s,i,a,l,n),p.Children.map(u,A=>p.cloneElement(A,{width:P,height:E,style:pN({width:P,height:E},A.props.style)}))},[n,u,i,c,l,a,b,s]);return p.createElement("div",{id:h?"".concat(h):void 0,className:dt("recharts-responsive-container",f),style:pN(pN({},y),{},{width:s,height:i,minWidth:a,minHeight:l,maxHeight:c}),ref:v},p.createElement("div",{style:{width:0,height:0,overflow:"visible"}},N))}),yf=t=>null;yf.displayName="Cell";function cTe(t,e,n){return(e=uTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uTe(t){var e=dTe(t,"string");return typeof e=="symbol"?e:e+""}function dTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class hTe{constructor(e){cTe(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function nL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function fTe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nL(Object(n),!0).forEach(function(r){mTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mTe(t,e,n){return(e=pTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pTe(t){var e=gTe(t,"string");return typeof e=="symbol"?e:e+""}function gTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vTe={cacheSize:2e3,enableCache:!0},WK=fTe({},vTe),rL=new hTe(WK.cacheSize),yTe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},sL="recharts_measurement_span";function xTe(t,e){var n=e.fontSize||"",r=e.fontFamily||"",s=e.fontWeight||"",i=e.fontStyle||"",a=e.letterSpacing||"",l=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(s,"|").concat(i,"|").concat(a,"|").concat(l)}var iL=(t,e)=>{try{var n=document.getElementById(sL);n||(n=document.createElement("span"),n.setAttribute("id",sL),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,yTe,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Im=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ba.isSsr)return{width:0,height:0};if(!WK.enableCache)return iL(e,n);var r=xTe(e,n),s=rL.get(r);if(s)return s;var i=iL(e,n);return rL.set(r,i),i},oL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,aL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,wTe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,bTe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,HK={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},jTe=Object.keys(HK),Ed="NaN";function NTe(t,e){return t*HK[e]}class Zr{static parse(e){var n,[,r,s]=(n=bTe.exec(e))!==null&&n!==void 0?n:[];return new Zr(parseFloat(r),s??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,ms(e)&&(this.unit=""),n!==""&&!wTe.test(n)&&(this.num=NaN,this.unit=""),jTe.includes(n)&&(this.num=NTe(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Zr(NaN,""):new Zr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Zr(NaN,""):new Zr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Zr(NaN,""):new Zr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Zr(NaN,""):new Zr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ms(this.num)}}function KK(t){if(t.includes(Ed))return Ed;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,s,i]=(n=oL.exec(e))!==null&&n!==void 0?n:[],a=Zr.parse(r??""),l=Zr.parse(i??""),c=s==="*"?a.multiply(l):a.divide(l);if(c.isNaN())return Ed;e=e.replace(oL,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,d,h,f]=(u=aL.exec(e))!==null&&u!==void 0?u:[],m=Zr.parse(d??""),y=Zr.parse(f??""),v=h==="+"?m.add(y):m.subtract(y);if(v.isNaN())return Ed;e=e.replace(aL,v.toString())}return e}var lL=/\(([^()]*)\)/;function STe(t){for(var e=t,n;(n=lL.exec(e))!=null;){var[,r]=n;e=e.replace(lL,KK(r))}return e}function _Te(t){var e=t.replace(/\s+/g,"");return e=STe(e),e=KK(e),e}function ETe(t){try{return _Te(t)}catch{return Ed}}function gN(t){var e=ETe(t.slice(5,-1));return e===Ed?"":e}var PTe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],ATe=["dx","dy","angle","className","breakAll"];function dE(){return dE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dE.apply(null,arguments)}function cL(t,e){if(t==null)return{};var n,r,s=CTe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function CTe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var qK=/[ \f\n\r\t\v\u2028\u2029]+/,YK=t=>{var{children:e,breakAll:n,style:r}=t;try{var s=[];Xt(e)||(n?s=e.toString().split(""):s=e.toString().split(qK));var i=s.map(l=>({word:l,width:Im(l,r).width})),a=n?0:Im(" ",r).width;return{wordsWithComputedWidth:i,spaceWidth:a}}catch{return null}},TTe=(t,e,n,r,s)=>{var{maxLines:i,children:a,style:l,breakAll:c}=t,u=$e(i),d=a,h=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return C.reduce((O,k)=>{var{word:B,width:G}=k,U=O[O.length-1];if(U&&(r==null||s||U.width+G+n<Number(r)))U.words.push(B),U.width+=G+n;else{var $={words:[B],width:G};O.push($)}return O},[])},f=h(e),m=S=>S.reduce((C,O)=>C.width>O.width?C:O);if(!u||s)return f;var y=f.length>i||m(f).width>Number(r);if(!y)return f;for(var v="…",x=S=>{var C=d.slice(0,S),O=YK({breakAll:c,style:l,children:C+v}).wordsWithComputedWidth,k=h(O),B=k.length>i||m(k).width>Number(r);return[B,k]},b=0,w=d.length-1,j=0,N;b<=w&&j<=d.length-1;){var T=Math.floor((b+w)/2),I=T-1,[P,E]=x(I),[A]=x(T);if(!P&&!A&&(b=T+1),P&&A&&(w=T-1),!P&&A){N=E;break}j++}return N||f},uL=t=>{var e=Xt(t)?[]:t.toString().split(qK);return[{words:e}]},kTe=t=>{var{width:e,scaleToFit:n,children:r,style:s,breakAll:i,maxLines:a}=t;if((e||n)&&!Ba.isSsr){var l,c,u=YK({breakAll:i,children:r,style:s});if(u){var{wordsWithComputedWidth:d,spaceWidth:h}=u;l=d,c=h}else return uL(r);return TTe({breakAll:i,children:r,maxLines:a,style:s},l,c,e,n)}return uL(r)},dL="#808080",m1=p.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:s="1em",capHeight:i="0.71em",scaleToFit:a=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=dL}=t,d=cL(t,PTe),h=p.useMemo(()=>kTe({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:a,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,a,d.style,d.width]),{dx:f,dy:m,angle:y,className:v,breakAll:x}=d,b=cL(d,ATe);if(!ko(n)||!ko(r)||h.length===0)return null;var w=n+($e(f)?f:0),j=r+($e(m)?m:0),N;switch(c){case"start":N=gN("calc(".concat(i,")"));break;case"middle":N=gN("calc(".concat((h.length-1)/2," * -").concat(s," + (").concat(i," / 2))"));break;default:N=gN("calc(".concat(h.length-1," * -").concat(s,")"));break}var T=[];if(a){var I=h[0].width,{width:P}=d;T.push("scale(".concat($e(P)?P/I:1,")"))}return y&&T.push("rotate(".concat(y,", ").concat(w,", ").concat(j,")")),T.length&&(b.transform=T.join(" ")),p.createElement("text",dE({},Jt(b,!0),{ref:e,x:w,y:j,className:dt("recharts-text",v),textAnchor:l,fill:u.includes("url")?dL:u}),h.map((E,A)=>{var S=E.words.join(x?"":" ");return p.createElement("tspan",{x:w,dy:A===0?N:s,key:"".concat(S,"-").concat(A)},S)}))});m1.displayName="Text";var ITe=["labelRef"];function RTe(t,e){if(t==null)return{};var n,r,s=OTe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function OTe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function hL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function En(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hL(Object(n),!0).forEach(function(r){DTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DTe(t,e,n){return(e=MTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MTe(t){var e=LTe(t,"string");return typeof e=="symbol"?e:e+""}function LTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ta(){return ta=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ta.apply(null,arguments)}var QK=p.createContext(null),FTe=t=>{var{x:e,y:n,width:r,height:s,children:i}=t,a=p.useMemo(()=>({x:e,y:n,width:r,height:s}),[e,n,r,s]);return p.createElement(QK.Provider,{value:a},i)},XK=()=>{var t=p.useContext(QK),e=xT();return t||e},$Te=p.createContext(null),UTe=()=>{var t=p.useContext($Te),e=Me(DH);return t||e},BTe=t=>{var{value:e,formatter:n}=t,r=Xt(t.children)?e:t.children;return typeof n=="function"?n(r):r},Pk=t=>t!=null&&typeof t=="function",VTe=(t,e)=>{var n=er(e-t),r=Math.min(Math.abs(e-t),360);return n*r},zTe=(t,e,n,r,s)=>{var{offset:i,className:a}=t,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:h,endAngle:f,clockWise:m}=s,y=(u+d)/2,v=VTe(h,f),x=v>=0?1:-1,b,w;switch(e){case"insideStart":b=h+x*i,w=m;break;case"insideEnd":b=f-x*i,w=!m;break;case"end":b=f+x*i,w=m;break;default:throw new Error("Unsupported position ".concat(e))}w=v<=0?w:!w;var j=$n(l,c,y,b),N=$n(l,c,y,b+(w?1:-1)*359),T="M".concat(j.x,",").concat(j.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(w?0:1,`,
    `).concat(N.x,",").concat(N.y),I=Xt(t.id)?vp("recharts-radial-line-"):t.id;return p.createElement("text",ta({},r,{dominantBaseline:"central",className:dt("recharts-radial-bar-label",a)}),p.createElement("defs",null,p.createElement("path",{id:I,d:T})),p.createElement("textPath",{xlinkHref:"#".concat(I)},n))},GTe=(t,e,n)=>{var{cx:r,cy:s,innerRadius:i,outerRadius:a,startAngle:l,endAngle:c}=t,u=(l+c)/2;if(n==="outside"){var{x:d,y:h}=$n(r,s,a+e,u);return{x:d,y:h,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:s,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:s,textAnchor:"middle",verticalAnchor:"end"};var f=(i+a)/2,{x:m,y}=$n(r,s,f,u);return{x:m,y,textAnchor:"middle",verticalAnchor:"middle"}},JK=t=>"cx"in t&&$e(t.cx),WTe=(t,e)=>{var{parentViewBox:n,offset:r,position:s}=t,i;n!=null&&!JK(n)&&(i=n);var{x:a,y:l,width:c,height:u}=e,d=u>=0?1:-1,h=d*r,f=d>0?"end":"start",m=d>0?"start":"end",y=c>=0?1:-1,v=y*r,x=y>0?"end":"start",b=y>0?"start":"end";if(s==="top"){var w={x:a+c/2,y:l-d*r,textAnchor:"middle",verticalAnchor:f};return En(En({},w),i?{height:Math.max(l-i.y,0),width:c}:{})}if(s==="bottom"){var j={x:a+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:m};return En(En({},j),i?{height:Math.max(i.y+i.height-(l+u),0),width:c}:{})}if(s==="left"){var N={x:a-v,y:l+u/2,textAnchor:x,verticalAnchor:"middle"};return En(En({},N),i?{width:Math.max(N.x-i.x,0),height:u}:{})}if(s==="right"){var T={x:a+c+v,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return En(En({},T),i?{width:Math.max(i.x+i.width-T.x,0),height:u}:{})}var I=i?{width:c,height:u}:{};return s==="insideLeft"?En({x:a+v,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},I):s==="insideRight"?En({x:a+c-v,y:l+u/2,textAnchor:x,verticalAnchor:"middle"},I):s==="insideTop"?En({x:a+c/2,y:l+h,textAnchor:"middle",verticalAnchor:m},I):s==="insideBottom"?En({x:a+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:f},I):s==="insideTopLeft"?En({x:a+v,y:l+h,textAnchor:b,verticalAnchor:m},I):s==="insideTopRight"?En({x:a+c-v,y:l+h,textAnchor:x,verticalAnchor:m},I):s==="insideBottomLeft"?En({x:a+v,y:l+u-h,textAnchor:b,verticalAnchor:f},I):s==="insideBottomRight"?En({x:a+c-v,y:l+u-h,textAnchor:x,verticalAnchor:f},I):s&&typeof s=="object"&&($e(s.x)||Kc(s.x))&&($e(s.y)||Kc(s.y))?En({x:a+Ir(s.x,c),y:l+Ir(s.y,u),textAnchor:"end",verticalAnchor:"end"},I):En({x:a+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},I)},HTe={offset:5};function ol(t){var e=qn(t,HTe),{viewBox:n,position:r,value:s,children:i,content:a,className:l="",textBreakAll:c,labelRef:u}=e,d=UTe(),h=XK(),f=r==="center"?h:d??h,m=n||f;if(!m||Xt(s)&&Xt(i)&&!p.isValidElement(a)&&typeof a!="function")return null;var y=En(En({},e),{},{viewBox:m});if(p.isValidElement(a)){var v=RTe(y,ITe);return p.cloneElement(a,v)}var x;if(typeof a=="function"){if(x=p.createElement(a,y),p.isValidElement(x))return x}else x=BTe(e);var b=JK(m),w=Jt(e,!0);if(b&&(r==="insideStart"||r==="insideEnd"||r==="end"))return zTe(e,r,x,w,m);var j=b?GTe(m,e.offset,e.position):WTe(e,m);return p.createElement(m1,ta({ref:u,className:dt("recharts-label",l)},w,j,{breakAll:c}),x)}ol.displayName="Label";var KTe=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?p.createElement(ol,ta({key:"label-implicit"},r)):ko(t)?p.createElement(ol,ta({key:"label-implicit",value:t},r)):p.isValidElement(t)?t.type===ol?p.cloneElement(t,En({key:"label-implicit"},r)):p.createElement(ol,ta({key:"label-implicit",content:t},r)):Pk(t)?p.createElement(ol,ta({key:"label-implicit",content:t},r)):t&&typeof t=="object"?p.createElement(ol,ta({},t,{key:"label-implicit"},r)):null};function qTe(t){var{label:e}=t,n=XK();return KTe(e,n)||null}var ZK={},eq={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(eq);var tq={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(tq);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eq,n=tq,r=$b;function s(i){if(r.isArrayLike(i))return e.last(n.toArray(i))}t.last=s})(ZK);var YTe=ZK.last;const QTe=Do(YTe);var XTe=["valueAccessor"],JTe=["dataKey","clockWise","id","textBreakAll"];function R0(){return R0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R0.apply(null,arguments)}function fL(t,e){if(t==null)return{};var n,r,s=ZTe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function ZTe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var eke=t=>Array.isArray(t.value)?QTe(t.value):t.value,nq=p.createContext(void 0),Ak=nq.Provider,rq=p.createContext(void 0),tke=rq.Provider;function nke(){return p.useContext(nq)}function rke(){return p.useContext(rq)}function Ly(t){var{valueAccessor:e=eke}=t,n=fL(t,XTe),{dataKey:r,clockWise:s,id:i,textBreakAll:a}=n,l=fL(n,JTe),c=nke(),u=rke(),d=c||u;return!d||!d.length?null:p.createElement(Sn,{className:"recharts-label-list"},d.map((h,f)=>{var m,y=Xt(r)?e(h,f):Rt(h&&h.payload,r),v=Xt(i)?{}:{id:"".concat(i,"-").concat(f)};return p.createElement(ol,R0({},Jt(h,!0),l,v,{fill:(m=n.fill)!==null&&m!==void 0?m:h.fill,parentViewBox:h.parentViewBox,value:y,textBreakAll:a,viewBox:h.viewBox,key:"label-".concat(f),index:f}))}))}Ly.displayName="LabelList";function p1(t){var{label:e}=t;return e?e===!0?p.createElement(Ly,{key:"labelList-implicit"}):p.isValidElement(e)||Pk(e)?p.createElement(Ly,{key:"labelList-implicit",content:e}):typeof e=="object"?p.createElement(Ly,R0({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function hE(){return hE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hE.apply(null,arguments)}var Ck=t=>{var{cx:e,cy:n,r,className:s}=t,i=dt("recharts-dot",s);return e===+e&&n===+n&&r===+r?p.createElement("circle",hE({},wi(t),HC(t),{className:i,cx:e,cy:n,r})):null},sq=t=>t.graphicalItems.polarItems,ske=Z([ln,Cg],nk),Tk=Z([sq,In,ske],rk),ike=Z([Tk],sk),kk=Z([ike,HT],ik),oke=Z([kk,In,Tk],ak),ake=Z([kk,In,Tk],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(s=>{var i,a=Rt(r,(i=e.dataKey)!==null&&i!==void 0?i:s.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Rt(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]}))),mL=()=>{},lke=Z([In,tK,mL,ake,mL,ot,ln],ck),iq=Z([In,ot,kk,oke,Ag,ln,lke],uk),cke=Z([iq,In,mf],fk);Z([In,iq,cke,ln],pk);var uke={radiusAxis:{},angleAxis:{}},dke=Ws({name:"polarAxis",initialState:uke,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),hke=dke.reducer;function pL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function gL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pL(Object(n),!0).forEach(function(r){fke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fke(t,e,n){return(e=mke(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mke(t){var e=pke(t,"string");return typeof e=="symbol"?e:e+""}function pke(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gke=(t,e)=>e,Ik=Z([sq,gke],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),vke=[],Rk=(t,e,n)=>(n==null?void 0:n.length)===0?vke:n,oq=Z([HT,Ik,Rk],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var s;if((e==null?void 0:e.data)!=null&&e.data.length>0?s=e.data:s=r,(!s||!s.length)&&n!=null&&(s=n.map(i=>gL(gL({},e.presentationProps),i.props))),s!=null)return s}}),yke=Z([oq,Ik,Rk],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,s)=>{var i,a=Rt(r,e.nameKey,e.name),l;return n!=null&&(i=n[s])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?l=n[s].props.fill:typeof r=="object"&&r!=null&&"fill"in r?l=r.fill:l=e.fill,{value:Nc(a,e.dataKey),color:l,payload:r,type:e.legendType}})}),xke=Z([oq,Ik,Rk,Kn],(t,e,n,r)=>{if(!(e==null||t==null))return m2e({offset:r,pieSettings:e,displayedData:t,cells:n})}),aq={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var s;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!((s=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&s.writable)?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(aq);var wke=aq.isPlainObject;const bke=Do(wke);function vL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function yL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vL(Object(n),!0).forEach(function(r){jke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jke(t,e,n){return(e=Nke(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nke(t){var e=Ske(t,"string");return typeof e=="symbol"?e:e+""}function Ske(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function O0(){return O0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O0.apply(null,arguments)}var xL=(t,e,n,r,s)=>{var i=n-r,a;return a="M ".concat(t,",").concat(e),a+="L ".concat(t+n,",").concat(e),a+="L ".concat(t+n-i/2,",").concat(e+s),a+="L ".concat(t+n-i/2-r,",").concat(e+s),a+="L ".concat(t,",").concat(e," Z"),a},_ke={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Eke=t=>{var e=qn(t,_ke),{x:n,y:r,upperWidth:s,lowerWidth:i,height:a,className:l}=e,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:h}=e,f=p.useRef(),[m,y]=p.useState(-1),v=p.useRef(s),x=p.useRef(i),b=p.useRef(a),w=p.useRef(n),j=p.useRef(r),N=lf(t,"trapezoid-");if(p.useEffect(()=>{if(f.current&&f.current.getTotalLength)try{var B=f.current.getTotalLength();B&&y(B)}catch{}},[]),n!==+n||r!==+r||s!==+s||i!==+i||a!==+a||s===0&&i===0||a===0)return null;var T=dt("recharts-trapezoid",l);if(!h)return p.createElement("g",null,p.createElement("path",O0({},Jt(e,!0),{className:T,d:xL(n,r,s,i,a)})));var I=v.current,P=x.current,E=b.current,A=w.current,S=j.current,C="0px ".concat(m===-1?1:m,"px"),O="".concat(m,"px 0px"),k=jW(["strokeDasharray"],u,c);return p.createElement(af,{animationId:N,key:N,canBegin:m>0,duration:u,easing:c,isActive:h,begin:d},B=>{var G=It(I,s,B),U=It(P,i,B),$=It(E,a,B),D=It(A,n,B),L=It(S,r,B);f.current&&(v.current=G,x.current=U,b.current=$,w.current=D,j.current=L);var W=B>0?{transition:k,strokeDasharray:O}:{strokeDasharray:C};return p.createElement("path",O0({},Jt(e,!0),{className:T,d:xL(D,L,G,U,$),ref:f,style:yL(yL({},W),e.style)}))})},Pke=["option","shapeType","propTransformer","activeClassName","isActive"];function Ake(t,e){if(t==null)return{};var n,r,s=Cke(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function Cke(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function wL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function D0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wL(Object(n),!0).forEach(function(r){Tke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tke(t,e,n){return(e=kke(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kke(t){var e=Ike(t,"string");return typeof e=="symbol"?e:e+""}function Ike(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rke(t,e){return D0(D0({},e),t)}function Oke(t,e){return t==="symbols"}function bL(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return p.createElement(EW,n);case"trapezoid":return p.createElement(Eke,n);case"sector":return p.createElement(CW,n);case"symbols":if(Oke(e))return p.createElement(JC,n);break;default:return null}}function Dke(t){return p.isValidElement(t)?t.props:t}function lq(t){var{option:e,shapeType:n,propTransformer:r=Rke,activeClassName:s="recharts-active-shape",isActive:i}=t,a=Ake(t,Pke),l;if(p.isValidElement(e))l=p.cloneElement(e,D0(D0({},a),Dke(e)));else if(typeof e=="function")l=e(a);else if(bke(e)&&typeof e!="boolean"){var c=r(e,a);l=p.createElement(bL,{shapeType:n,elementProps:c})}else{var u=a;l=p.createElement(bL,{shapeType:n,elementProps:u})}return i?p.createElement(Sn,{className:s},l):l}var Ok=(t,e)=>{var n=vn();return(r,s)=>i=>{t==null||t(r,s,i),n(vK({activeIndex:String(s),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},Dk=t=>{var e=vn();return(n,r)=>s=>{t==null||t(n,r,s),e(AAe())}},Mk=(t,e)=>{var n=vn();return(r,s)=>i=>{t==null||t(r,s,i),n(CAe({activeIndex:String(s),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function g1(t){var{fn:e,args:n}=t,r=vn(),s=Mr();return p.useEffect(()=>{if(!s){var i=e(n);return r(_Ae(i)),()=>{r(EAe(i))}}},[e,n,r,s]),null}var cq=()=>{};function Lk(t){var{legendPayload:e}=t,n=vn(),r=Mr();return p.useEffect(()=>r?cq:(n(xW(e)),()=>{n(wW(e))}),[n,r,e]),null}function Mke(t){var{legendPayload:e}=t,n=vn(),r=Me(ot);return p.useEffect(()=>r!=="centric"&&r!=="radial"?cq:(n(xW(e)),()=>{n(wW(e))}),[n,r,e]),null}var vN,Lke=()=>{var[t]=p.useState(()=>vp("uid-"));return t},Fke=(vN=G0.useId)!==null&&vN!==void 0?vN:Lke;function $ke(t,e){var n=Fke();return e||(t?"".concat(t,"-").concat(n):n)}var Uke=p.createContext(void 0),v1=t=>{var{id:e,type:n,children:r}=t,s=$ke("recharts-".concat(n),e);return p.createElement(Uke.Provider,{value:s},r(s))},Bke={cartesianItems:[],polarItems:[]},uq=Ws({name:"graphicalItems",initialState:Bke,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,s=fa(t).cartesianItems.indexOf(n);s>-1&&(t.cartesianItems[s]=r)},removeCartesianGraphicalItem(t,e){var n=fa(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=fa(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:Vke,replaceCartesianGraphicalItem:zke,removeCartesianGraphicalItem:Gke,addPolarGraphicalItem:Wke,removePolarGraphicalItem:Hke}=uq.actions,Kke=uq.reducer;function Fk(t){var e=vn(),n=p.useRef(null);return p.useEffect(()=>{n.current===null?e(Vke(t)):n.current!==t&&e(zke({prev:n.current,next:t})),n.current=t},[e,t]),p.useEffect(()=>()=>{n.current&&(e(Gke(n.current)),n.current=null)},[e]),null}function qke(t){var e=vn();return p.useEffect(()=>(e(Wke(t)),()=>{e(Hke(t))}),[e,t]),null}var Yke=["onMouseEnter","onClick","onMouseLeave"],Qke=["id"],Xke=["id"];function $k(t,e){if(t==null)return{};var n,r,s=Jke(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function Jke(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function jL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jL(Object(n),!0).forEach(function(r){Zke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zke(t,e,n){return(e=e2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e2e(t){var e=t2e(t,"string");return typeof e=="symbol"?e:e+""}function t2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ac(){return ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ac.apply(null,arguments)}function n2e(t){var e=p.useMemo(()=>KC(t.children,yf),[t.children]),n=Me(r=>yke(r,t.id,e));return n==null?null:p.createElement(Mke,{legendPayload:n})}function r2e(t){var{dataKey:e,nameKey:n,sectors:r,stroke:s,strokeWidth:i,fill:a,name:l,hide:c,tooltipType:u}=t;return{dataDefinedOnItem:r.map(d=>d.tooltipPayload),positions:r.map(d=>d.tooltipPosition),settings:{stroke:s,strokeWidth:i,fill:a,dataKey:e,nameKey:n,name:Nc(l,e),hide:c,type:u,color:a,unit:""}}}var s2e=(t,e)=>t>e?"start":t<e?"end":"middle",i2e=(t,e,n)=>Ir(typeof e=="function"?e(t):e,n,n*.8),o2e=(t,e,n)=>{var{top:r,left:s,width:i,height:a}=e,l=cW(i,a),c=s+Ir(t.cx,i,i/2),u=r+Ir(t.cy,a,a/2),d=Ir(t.innerRadius,l,0),h=i2e(n,t.outerRadius,l),f=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:h,maxRadius:f}},a2e=(t,e)=>{var n=er(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function l2e(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var c2e=(t,e)=>{if(p.isValidElement(t))return p.cloneElement(t,e);if(typeof t=="function")return t(e);var n=dt("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return p.createElement(Hd,ac({},e,{type:"linear",className:n}))},u2e=(t,e,n)=>{if(p.isValidElement(t))return p.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),p.isValidElement(r)))return r;var s=dt("recharts-pie-label-text",l2e(t));return p.createElement(m1,ac({},e,{alignmentBaseline:"middle",className:s}),r)};function d2e(t){var{sectors:e,props:n,showLabels:r}=t,{label:s,labelLine:i,dataKey:a}=n;if(!r||!s||!e)return null;var l=wi(n),c=Jt(s,!1),u=Jt(i,!1),d=typeof s=="object"&&"offsetRadius"in s&&typeof s.offsetRadius=="number"&&s.offsetRadius||20,h=e.map((f,m)=>{var y=(f.startAngle+f.endAngle)/2,v=$n(f.cx,f.cy,f.outerRadius+d,y),x=tn(tn(tn(tn({},l),f),{},{stroke:"none"},c),{},{index:m,textAnchor:s2e(v.x,f.cx)},v),b=tn(tn(tn(tn({},l),f),{},{fill:"none",stroke:f.fill},u),{},{index:m,points:[$n(f.cx,f.cy,f.outerRadius,y),v],key:"line"});return p.createElement(Sn,{key:"label-".concat(f.startAngle,"-").concat(f.endAngle,"-").concat(f.midAngle,"-").concat(m)},i&&c2e(i,b),u2e(s,x,Rt(f,a)))});return p.createElement(Sn,{className:"recharts-pie-labels"},h)}function h2e(t){var{sectors:e,props:n,showLabels:r}=t,{label:s}=n;return typeof s=="object"&&s!=null&&"position"in s?p.createElement(p1,{label:s}):p.createElement(d2e,{sectors:e,props:n,showLabels:r})}function f2e(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:s}=t,i=Me(oc),{onMouseEnter:a,onClick:l,onMouseLeave:c}=s,u=$k(s,Yke),d=Ok(a,s.dataKey),h=Dk(c),f=Mk(l,s.dataKey);return e==null||e.length===0?null:p.createElement(p.Fragment,null,e.map((m,y)=>{if((m==null?void 0:m.startAngle)===0&&(m==null?void 0:m.endAngle)===0&&e.length!==1)return null;var v=n&&String(y)===i,x=i?r:null,b=v?n:x,w=tn(tn({},m),{},{stroke:m.stroke,tabIndex:-1,[pW]:y,[gW]:s.dataKey});return p.createElement(Sn,ac({tabIndex:-1,className:"recharts-pie-sector"},yg(u,m,y),{onMouseEnter:d(m,y),onMouseLeave:h(m,y),onClick:f(m,y),key:"sector-".concat(m==null?void 0:m.startAngle,"-").concat(m==null?void 0:m.endAngle,"-").concat(m.midAngle,"-").concat(y)}),p.createElement(lq,ac({option:b,isActive:v,shapeType:"sector"},w)))}))}function m2e(t){var e,{pieSettings:n,displayedData:r,cells:s,offset:i}=t,{cornerRadius:a,startAngle:l,endAngle:c,dataKey:u,nameKey:d,tooltipType:h}=n,f=Math.abs(n.minAngle),m=a2e(l,c),y=Math.abs(m),v=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,x=r.filter(I=>Rt(I,u,0)!==0).length,b=(y>=360?x:x-1)*v,w=y-x*f-b,j=r.reduce((I,P)=>{var E=Rt(P,u,0);return I+($e(E)?E:0)},0),N;if(j>0){var T;N=r.map((I,P)=>{var E=Rt(I,u,0),A=Rt(I,d,P),S=o2e(n,i,I),C=($e(E)?E:0)/j,O,k=tn(tn({},I),s&&s[P]&&s[P].props);P?O=T.endAngle+er(m)*v*(E!==0?1:0):O=l;var B=O+er(m)*((E!==0?f:0)+C*w),G=(O+B)/2,U=(S.innerRadius+S.outerRadius)/2,$=[{name:A,value:E,payload:k,dataKey:u,type:h}],D=$n(S.cx,S.cy,U,G);return T=tn(tn(tn(tn({},n.presentationProps),{},{percent:C,cornerRadius:a,name:A,tooltipPayload:$,midAngle:G,middleRadius:U,tooltipPosition:D},k),S),{},{value:E,startAngle:O,endAngle:B,payload:k,paddingAngle:er(m)*v}),T})}return N}function p2e(t){var{showLabels:e,sectors:n,children:r}=t,s=p.useMemo(()=>!e||!n?[]:n.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[n,e]);return p.createElement(tke,{value:e?s:void 0},r)}function g2e(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:s,animationBegin:i,animationDuration:a,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:h}=e,f=lf(e,"recharts-pie-"),m=n.current,[y,v]=p.useState(!1),x=p.useCallback(()=>{typeof h=="function"&&h(),v(!1)},[h]),b=p.useCallback(()=>{typeof d=="function"&&d(),v(!0)},[d]);return p.createElement(p2e,{showLabels:!y,sectors:r},p.createElement(af,{animationId:f,begin:i,duration:a,isActive:s,easing:l,onAnimationStart:b,onAnimationEnd:x,key:f},w=>{var j=[],N=r&&r[0],T=N==null?void 0:N.startAngle;return r==null||r.forEach((I,P)=>{var E=m&&m[P],A=P>0?Ru(I,"paddingAngle",0):0;if(E){var S=It(E.endAngle-E.startAngle,I.endAngle-I.startAngle,w),C=tn(tn({},I),{},{startAngle:T+A,endAngle:T+S+A});j.push(C),T=C.endAngle}else{var{endAngle:O,startAngle:k}=I,B=It(0,O-k,w),G=tn(tn({},I),{},{startAngle:T+A,endAngle:T+B+A});j.push(G),T=G.endAngle}}),n.current=j,p.createElement(Sn,null,p.createElement(f2e,{sectors:j,activeShape:c,inactiveShape:u,allOtherPieProps:e}))}),p.createElement(h2e,{showLabels:!y,sectors:r,props:e}),e.children)}var v2e={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Ba.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function y2e(t){var{id:e}=t,n=$k(t,Qke),{hide:r,className:s,rootTabIndex:i}=t,a=p.useMemo(()=>KC(t.children,yf),[t.children]),l=Me(d=>xke(d,e,a)),c=p.useRef(null),u=dt("recharts-pie",s);return r||l==null?(c.current=null,p.createElement(Sn,{tabIndex:i,className:u})):p.createElement(p.Fragment,null,p.createElement(g1,{fn:r2e,args:tn(tn({},t),{},{sectors:l})}),p.createElement(Sn,{tabIndex:i,className:u},p.createElement(g2e,{props:tn(tn({},n),{},{sectors:l}),previousSectorsRef:c})))}function Uk(t){var e=qn(t,v2e),{id:n}=e,r=$k(e,Xke),s=wi(r);return p.createElement(v1,{id:n,type:"pie"},i=>p.createElement(p.Fragment,null,p.createElement(qke,{type:"pie",id:i,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:s,maxRadius:e.maxRadius}),p.createElement(n2e,ac({},r,{id:i})),p.createElement(y2e,ac({},r,{id:i}))))}Uk.displayName="Pie";function NL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function SL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NL(Object(n),!0).forEach(function(r){x2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x2e(t,e,n){return(e=w2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w2e(t){var e=b2e(t,"string");return typeof e=="symbol"?e:e+""}function b2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var j2e={xAxis:{},yAxis:{},zAxis:{}},dq=Ws({name:"cartesianAxis",initialState:j2e,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=SL(SL({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:N2e,removeXAxis:S2e,addYAxis:_2e,removeYAxis:E2e,addZAxis:m4e,removeZAxis:p4e,updateYAxisWidth:P2e}=dq.actions,A2e=dq.reducer,C2e=Z([Kn],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),T2e=Z([C2e,$a,Ua],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),y1=()=>Me(T2e),k2e=()=>Me(pCe);function _L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function EL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_L(Object(n),!0).forEach(function(r){I2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_L(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function I2e(t,e,n){return(e=R2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R2e(t){var e=O2e(t,"string");return typeof e=="symbol"?e:e+""}function O2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var D2e=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:s,dataKey:i}=t;if(s===!1||e.x==null||e.y==null)return null;var a=EL(EL({index:n,dataKey:i,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},Jt(s,!1)),HC(s)),l;return p.isValidElement(s)?l=p.cloneElement(s,a):typeof s=="function"?l=s(a):l=p.createElement(Ck,a),p.createElement(Sn,{className:"recharts-active-dot"},l)};function fE(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:s}=t,i=Me(oc),a=k2e();if(e==null||a==null)return null;var l=e.find(c=>a.includes(c.payload));return Xt(l)?null:D2e({point:l,childIndex:Number(i),mainColor:n,dataKey:s,activeDot:r})}var M2e="Invariant failed";function L2e(t,e){throw new Error(M2e)}var F2e=["x","y"];function mE(){return mE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mE.apply(null,arguments)}function PL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Xf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PL(Object(n),!0).forEach(function(r){$2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $2e(t,e,n){return(e=U2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U2e(t){var e=B2e(t,"string");return typeof e=="symbol"?e:e+""}function B2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function V2e(t,e){if(t==null)return{};var n,r,s=z2e(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function z2e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function G2e(t,e){var{x:n,y:r}=t,s=V2e(t,F2e),i="".concat(n),a=parseInt(i,10),l="".concat(r),c=parseInt(l,10),u="".concat(e.height||s.height),d=parseInt(u,10),h="".concat(e.width||s.width),f=parseInt(h,10);return Xf(Xf(Xf(Xf(Xf({},e),s),a?{x:a}:{}),c?{y:c}:{}),{},{height:d,width:f,name:e.name,radius:e.radius})}function Bk(t){return p.createElement(lq,mE({shapeType:"rectangle",propTransformer:G2e,activeClassName:"recharts-active-bar"},t))}var W2e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,s)=>{if($e(e))return e;var i=$e(r)||Xt(r);return i?e(r,s):(i||L2e(),n)}},H2e={},K2e=Ws({name:"errorBars",initialState:H2e,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:s}=e.payload;t[n]&&(t[n]=t[n].map(i=>i.dataKey===r.dataKey&&i.direction===r.direction?s:i))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(s=>s.dataKey!==r.dataKey||s.direction!==r.direction))}}}),q2e=K2e.reducer,Y2e=["children"];function Q2e(t,e){if(t==null)return{};var n,r,s=X2e(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function X2e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var J2e={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Z2e=p.createContext(J2e);function hq(t){var{children:e}=t,n=Q2e(t,Y2e);return p.createElement(Z2e.Provider,{value:n},e)}function x1(t,e){var n,r,s=Me(u=>za(u,t)),i=Me(u=>Ga(u,e)),a=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:ys.allowDataOverflow,l=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:xs.allowDataOverflow,c=a||l;return{needClip:c,needClipX:a,needClipY:l}}function Vk(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,s=y1(),{needClipX:i,needClipY:a,needClip:l}=x1(e,n);if(!l)return null;var{x:c,y:u,width:d,height:h}=s;return p.createElement("clipPath",{id:"clipPath-".concat(r)},p.createElement("rect",{x:i?c:c-d/2,y:a?u:u-h/2,width:i?d:d*2,height:a?h:h*2}))}var eIe=["onMouseEnter","onMouseLeave","onClick"],tIe=["value","background","tooltipPosition"],nIe=["id"],rIe=["onMouseEnter","onClick","onMouseLeave"];function lc(){return lc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lc.apply(null,arguments)}function AL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Vr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AL(Object(n),!0).forEach(function(r){sIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sIe(t,e,n){return(e=iIe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iIe(t){var e=oIe(t,"string");return typeof e=="symbol"?e:e+""}function oIe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function M0(t,e){if(t==null)return{};var n,r,s=aIe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function aIe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var lIe=t=>{var{dataKey:e,name:n,fill:r,legendType:s,hide:i}=t;return[{inactive:i,dataKey:e,type:s,color:r,value:Nc(n,e),payload:t}]};function cIe(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:s,name:i,hide:a,unit:l}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:s,dataKey:e,nameKey:void 0,name:Nc(i,e),hide:a,type:t.tooltipType,color:t.fill,unit:l}}}function uIe(t){var e=Me(oc),{data:n,dataKey:r,background:s,allOtherBarProps:i}=t,{onMouseEnter:a,onMouseLeave:l,onClick:c}=i,u=M0(i,eIe),d=Ok(a,r),h=Dk(l),f=Mk(c,r);if(!s||n==null)return null;var m=Jt(s,!1);return p.createElement(p.Fragment,null,n.map((y,v)=>{var{value:x,background:b,tooltipPosition:w}=y,j=M0(y,tIe);if(!b)return null;var N=d(y,v),T=h(y,v),I=f(y,v),P=Vr(Vr(Vr(Vr(Vr({option:s,isActive:String(v)===e},j),{},{fill:"#eee"},b),m),yg(u,y,v)),{},{onMouseEnter:N,onMouseLeave:T,onClick:I,dataKey:r,index:v,className:"recharts-bar-background-rectangle"});return p.createElement(Bk,lc({key:"background-bar-".concat(P.index)},P))}))}function dIe(t){var{showLabels:e,children:n,rects:r}=t,s=r==null?void 0:r.map(i=>{var a={x:i.x,y:i.y,width:i.width,height:i.height};return Vr(Vr({},a),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:a,fill:i.fill})});return p.createElement(Ak,{value:e?s:void 0},n)}function hIe(t){var{shape:e,activeBar:n,baseProps:r,entry:s,index:i,dataKey:a}=t,l=Me(oc),c=Me(TK),u=n&&String(i)===l&&(c==null||a===c),d=u?n:e;return p.createElement(Bk,lc({},r,s,{isActive:u,option:d,index:i,dataKey:a}))}function fIe(t){var{shape:e,baseProps:n,entry:r,index:s,dataKey:i}=t;return p.createElement(Bk,lc({},n,r,{isActive:!1,option:e,index:s,dataKey:i}))}function mIe(t){var{data:e,props:n}=t,r=wi(n),s=M0(r,nIe),{shape:i,dataKey:a,activeBar:l}=n,{onMouseEnter:c,onClick:u,onMouseLeave:d}=n,h=M0(n,rIe),f=Ok(c,a),m=Dk(d),y=Mk(u,a);return e?p.createElement(p.Fragment,null,e.map((v,x)=>p.createElement(Sn,lc({className:"recharts-bar-rectangle"},yg(h,v,x),{onMouseEnter:f(v,x),onMouseLeave:m(v,x),onClick:y(v,x),key:"rectangle-".concat(v==null?void 0:v.x,"-").concat(v==null?void 0:v.y,"-").concat(v==null?void 0:v.value,"-").concat(x)}),l?p.createElement(hIe,{shape:i,activeBar:l,baseProps:s,entry:v,index:x,dataKey:a}):p.createElement(fIe,{shape:i,baseProps:s,entry:v,index:x,dataKey:a})))):null}function pIe(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:s,isAnimationActive:i,animationBegin:a,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=e,h=n.current,f=lf(e,"recharts-bar-"),[m,y]=p.useState(!1),v=!m,x=p.useCallback(()=>{typeof u=="function"&&u(),y(!1)},[u]),b=p.useCallback(()=>{typeof d=="function"&&d(),y(!0)},[d]);return p.createElement(dIe,{showLabels:v,rects:r},p.createElement(af,{animationId:f,begin:a,duration:l,isActive:i,easing:c,onAnimationEnd:x,onAnimationStart:b,key:f},w=>{var j=w===1?r:r==null?void 0:r.map((N,T)=>{var I=h&&h[T];if(I)return Vr(Vr({},N),{},{x:It(I.x,N.x,w),y:It(I.y,N.y,w),width:It(I.width,N.width,w),height:It(I.height,N.height,w)});if(s==="horizontal"){var P=It(0,N.height,w);return Vr(Vr({},N),{},{y:N.y+N.height-P,height:P})}var E=It(0,N.width,w);return Vr(Vr({},N),{},{width:E})});return w>0&&(n.current=j??null),j==null?null:p.createElement(Sn,null,p.createElement(mIe,{props:e,data:j}))}),p.createElement(p1,{label:e.label}),e.children)}function gIe(t){var e=p.useRef(null);return p.createElement(pIe,{previousRectanglesRef:e,props:t})}var fq=0,vIe=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Rt(t,e)}};class yIe extends p.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:s,xAxisId:i,yAxisId:a,needClip:l,background:c,id:u}=this.props;if(e||n==null)return null;var d=dt("recharts-bar",s),h=u;return p.createElement(Sn,{className:d,id:u},l&&p.createElement("defs",null,p.createElement(Vk,{clipPathId:h,xAxisId:i,yAxisId:a})),p.createElement(Sn,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(h,")"):void 0},p.createElement(uIe,{data:n,dataKey:r,background:c,allOtherBarProps:this.props}),p.createElement(gIe,this.props)))}}var xIe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Ba.isSsr,legendType:"rect",minPointSize:fq,xAxisId:0,yAxisId:0};function wIe(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:s,minPointSize:i,activeBar:a,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=t,{needClip:h}=x1(e,n),f=jg(),m=Mr(),y=KC(t.children,yf),v=Me(w=>qIe(w,e,n,m,t.id,y));if(f!=="vertical"&&f!=="horizontal")return null;var x,b=v==null?void 0:v[0];return b==null||b.height==null||b.width==null?x=0:x=f==="vertical"?b.height/2:b.width/2,p.createElement(hq,{xAxisId:e,yAxisId:n,data:v,dataPointFormatter:vIe,errorBarOffset:x},p.createElement(yIe,lc({},t,{layout:f,needClip:h,data:v,xAxisId:e,yAxisId:n,hide:r,legendType:s,minPointSize:i,activeBar:a,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function bIe(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:s,bandSize:i,xAxis:a,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:h,offset:f,cells:m,parentViewBox:y}=t,v=e==="horizontal"?l:a,x=d?v.scale.domain():null,b=qje({numericAxis:v});return h.map((w,j)=>{var N,T,I,P,E,A;d?N=zje(d[j],x):(N=Rt(w,n),Array.isArray(N)||(N=[b,N]));var S=W2e(r,fq)(N[1],j);if(e==="horizontal"){var C,[O,k]=[l.scale(N[0]),l.scale(N[1])];T=AM({axis:a,ticks:c,bandSize:i,offset:s.offset,entry:w,index:j}),I=(C=k??O)!==null&&C!==void 0?C:void 0,P=s.size;var B=O-k;if(E=ms(B)?0:B,A={x:T,y:f.top,width:P,height:f.height},Math.abs(S)>0&&Math.abs(E)<Math.abs(S)){var G=er(E||S)*(Math.abs(S)-Math.abs(E));I-=G,E+=G}}else{var[U,$]=[a.scale(N[0]),a.scale(N[1])];if(T=U,I=AM({axis:l,ticks:u,bandSize:i,offset:s.offset,entry:w,index:j}),P=$-U,E=s.size,A={x:f.left,y:I,width:f.width,height:E},Math.abs(S)>0&&Math.abs(P)<Math.abs(S)){var D=er(P||S)*(Math.abs(S)-Math.abs(P));P+=D}}if(T==null||I==null||P==null||E==null)return null;var L=Vr(Vr({},w),{},{x:T,y:I,width:P,height:E,value:d?N:N[1],payload:w,background:A,tooltipPosition:{x:T+P/2,y:I+E/2},parentViewBox:y},m&&m[j]&&m[j].props);return L}).filter(Boolean)}function jIe(t){var e=qn(t,xIe),n=Mr();return p.createElement(v1,{id:e.id,type:"bar"},r=>p.createElement(p.Fragment,null,p.createElement(Lk,{legendPayload:lIe(e)}),p.createElement(g1,{fn:cIe,args:e}),p.createElement(Fk,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:fW(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),p.createElement(wIe,lc({},e,{id:r}))))}var mq=p.memo(jIe);mq.displayName="Bar";function CL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ny(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CL(Object(n),!0).forEach(function(r){NIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NIe(t,e,n){return(e=SIe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SIe(t){var e=_Ie(t,"string");return typeof e=="symbol"?e:e+""}function _Ie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EIe=(t,e)=>e,PIe=(t,e,n)=>n,AIe=(t,e,n,r)=>r,CIe=(t,e,n,r,s)=>s,Mg=Z([kg,CIe],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),TIe=Z([Mg],t=>t==null?void 0:t.maxBarSize),kIe=(t,e,n,r,s,i)=>i,TL=(t,e,n)=>{var r=n??t;if(!Xt(r))return Ir(r,e,0)},IIe=Z([ot,kg,EIe,PIe,AIe],(t,e,n,r,s)=>e.filter(i=>t==="horizontal"?i.xAxisId===n:i.yAxisId===r).filter(i=>i.isPanorama===s).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),RIe=(t,e,n,r)=>{var s=ot(t);return s==="horizontal"?Ep(t,"yAxis",n,r):Ep(t,"xAxis",e,r)},OIe=(t,e,n)=>{var r=ot(t);return r==="horizontal"?B4(t,"xAxis",e):B4(t,"yAxis",n)},DIe=(t,e,n)=>{var r={},s=t.filter(a1),i=t.filter(u=>u.stackId==null),a=s.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),r),l=Object.entries(a).map(u=>{var[d,h]=u,f=h.map(y=>y.dataKey),m=TL(e,n,h[0].barSize);return{stackId:d,dataKeys:f,barSize:m}}),c=i.map(u=>{var d=[u.dataKey].filter(f=>f!=null),h=TL(e,n,u.barSize);return{stackId:void 0,dataKeys:d,barSize:h}});return[...l,...c]},MIe=Z([IIe,SPe,OIe],DIe),LIe=(t,e,n,r,s)=>{var i,a,l=Mg(t,e,n,r,s);if(l!=null){var c=ot(t),u=AH(t),{maxBarSize:d}=l,h=Xt(d)?u:d,f,m;return c==="horizontal"?(f=Oo(t,"xAxis",e,r),m=Ro(t,"xAxis",e,r)):(f=Oo(t,"yAxis",n,r),m=Ro(t,"yAxis",n,r)),(i=(a=Mu(f,m,!0))!==null&&a!==void 0?a:h)!==null&&i!==void 0?i:0}},pq=(t,e,n,r)=>{var s=ot(t),i,a;return s==="horizontal"?(i=Oo(t,"xAxis",e,r),a=Ro(t,"xAxis",e,r)):(i=Oo(t,"yAxis",n,r),a=Ro(t,"yAxis",n,r)),Mu(i,a)};function FIe(t,e,n,r,s){var i=r.length;if(!(i<1)){var a=Ir(t,n,0,!0),l,c=[];if(yr(r[0].barSize)){var u=!1,d=n/i,h=r.reduce((b,w)=>b+(w.barSize||0),0);h+=(i-1)*a,h>=n&&(h-=(i-1)*a,a=0),h>=n&&d>0&&(u=!0,d*=.9,h=i*d);var f=(n-h)/2>>0,m={offset:f-a,size:0};l=r.reduce((b,w)=>{var j,N={stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:m.offset+m.size+a,size:u?d:(j=w.barSize)!==null&&j!==void 0?j:0}},T=[...b,N];return m=T[T.length-1].position,T},c)}else{var y=Ir(e,n,0,!0);n-2*y-(i-1)*a<=0&&(a=0);var v=(n-2*y-(i-1)*a)/i;v>1&&(v>>=0);var x=yr(s)?Math.min(v,s):v;l=r.reduce((b,w,j)=>[...b,{stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:y+(v+a)*j+(v-x)/2,size:x}}],c)}return l}}var $Ie=(t,e,n,r,s,i,a)=>{var l=Xt(a)?e:a,c=FIe(n,r,s!==i?s:i,t,l);return s!==i&&c!=null&&(c=c.map(u=>ny(ny({},u),{},{position:ny(ny({},u.position),{},{offset:u.position.offset-s/2})}))),c},UIe=Z([MIe,AH,NPe,CH,LIe,pq,TIe],$Ie),BIe=(t,e,n,r)=>Oo(t,"xAxis",e,r),VIe=(t,e,n,r)=>Oo(t,"yAxis",n,r),zIe=(t,e,n,r)=>Ro(t,"xAxis",e,r),GIe=(t,e,n,r)=>Ro(t,"yAxis",n,r),WIe=Z([UIe,Mg],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),HIe=(t,e)=>{var n=o1(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var s=t[r];if(s){var{stackedData:i}=s;if(i)return i.find(a=>a.key===n)}}}},KIe=Z([RIe,Mg],HIe),qIe=Z([Kn,yT,BIe,VIe,zIe,GIe,WIe,ot,Pg,pq,KIe,Mg,kIe],(t,e,n,r,s,i,a,l,c,u,d,h,f)=>{var{chartData:m,dataStartIndex:y,dataEndIndex:v}=c;if(!(h==null||a==null||e==null||l!=="horizontal"&&l!=="vertical"||n==null||r==null||s==null||i==null||u==null)){var{data:x}=h,b;if(x!=null&&x.length>0?b=x:b=m==null?void 0:m.slice(y,v+1),b!=null)return bIe({layout:l,barSettings:h,pos:a,parentViewBox:e,bandSize:u,xAxis:n,yAxis:r,xAxisTicks:s,yAxisTicks:i,stackedData:d,displayedData:b,offset:t,cells:f})}}),gq=t=>{var{chartData:e}=t,n=vn(),r=Mr();return p.useEffect(()=>r?()=>{}:(n(Q4(e)),()=>{n(Q4(void 0))}),[e,n,r]),null},kL={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},YIe=Ws({name:"brush",initialState:kL,reducers:{setBrushSettings(t,e){return e.payload==null?kL:e.payload}}}),QIe=YIe.reducer;function XIe(t,e,n){return(e=JIe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JIe(t){var e=ZIe(t,"string");return typeof e=="symbol"?e:e+""}function ZIe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class zk{static create(e){return new zk(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i}default:return this.scale(e)}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],s=n[n.length-1];return r<=s?e>=r&&e<=s:e>=s&&e<=r}}XIe(zk,"EPS",1e-4);function eRe(t){return(t%180+180)%180}var tRe=function(e){var{width:n,height:r}=e,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=eRe(s),a=i*Math.PI/180,l=Math.atan(r/n),c=a>l&&a<Math.PI-l?r/Math.sin(a):n/Math.cos(a);return Math.abs(c)},nRe={dots:[],areas:[],lines:[]},rRe=Ws({name:"referenceElements",initialState:nRe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=fa(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=fa(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=fa(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),sRe=rRe.reducer,iRe=p.createContext(void 0),oRe=t=>{var{children:e}=t,[n]=p.useState("".concat(vp("recharts"),"-clip")),r=y1();if(r==null)return null;var{x:s,y:i,width:a,height:l}=r;return p.createElement(iRe.Provider,{value:n},p.createElement("defs",null,p.createElement("clipPath",{id:n},p.createElement("rect",{x:s,y:i,height:l,width:a}))),e)};function Lh(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function vq(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],s=0;s<t.length;s+=e)r.push(t[s]);return r}function aRe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return tRe(r,n)}function lRe(t,e,n){var r=n==="width",{x:s,y:i,width:a,height:l}=t;return e===1?{start:r?s:i,end:r?s+a:i+l}:{start:r?s+a:i+l,end:r?s:i}}function L0(t,e,n,r,s){if(t*e<t*r||t*e>t*s)return!1;var i=n();return t*(e-t*i/2-r)>=0&&t*(e+t*i/2-s)<=0}function cRe(t,e){return vq(t,e+1)}function uRe(t,e,n,r,s){for(var i=(r||[]).slice(),{start:a,end:l}=e,c=0,u=1,d=a,h=function(){var y=r==null?void 0:r[c];if(y===void 0)return{v:vq(r,u)};var v=c,x,b=()=>(x===void 0&&(x=n(y,v)),x),w=y.coordinate,j=c===0||L0(t,w,b,d,l);j||(c=0,d=a,u+=1),j&&(d=w+t*(b()/2+s),c+=u)},f;u<=i.length;)if(f=h(),f)return f.v;return[]}function IL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IL(Object(n),!0).forEach(function(r){dRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dRe(t,e,n){return(e=hRe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hRe(t){var e=fRe(t,"string");return typeof e=="symbol"?e:e+""}function fRe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mRe(t,e,n,r,s){for(var i=(r||[]).slice(),a=i.length,{start:l}=e,{end:c}=e,u=function(f){var m=i[f],y,v=()=>(y===void 0&&(y=n(m,f)),y);if(f===a-1){var x=t*(m.coordinate+t*v()/2-c);i[f]=m=Pr(Pr({},m),{},{tickCoord:x>0?m.coordinate-x*t:m.coordinate})}else i[f]=m=Pr(Pr({},m),{},{tickCoord:m.coordinate});var b=L0(t,m.tickCoord,v,l,c);b&&(c=m.tickCoord-t*(v()/2+s),i[f]=Pr(Pr({},m),{},{isShow:!0}))},d=a-1;d>=0;d--)u(d);return i}function pRe(t,e,n,r,s,i){var a=(r||[]).slice(),l=a.length,{start:c,end:u}=e;if(i){var d=r[l-1],h=n(d,l-1),f=t*(d.coordinate+t*h/2-u);a[l-1]=d=Pr(Pr({},d),{},{tickCoord:f>0?d.coordinate-f*t:d.coordinate});var m=L0(t,d.tickCoord,()=>h,c,u);m&&(u=d.tickCoord-t*(h/2+s),a[l-1]=Pr(Pr({},d),{},{isShow:!0}))}for(var y=i?l-1:l,v=function(w){var j=a[w],N,T=()=>(N===void 0&&(N=n(j,w)),N);if(w===0){var I=t*(j.coordinate-t*T()/2-c);a[w]=j=Pr(Pr({},j),{},{tickCoord:I<0?j.coordinate-I*t:j.coordinate})}else a[w]=j=Pr(Pr({},j),{},{tickCoord:j.coordinate});var P=L0(t,j.tickCoord,T,c,u);P&&(c=j.tickCoord+t*(T()/2+s),a[w]=Pr(Pr({},j),{},{isShow:!0}))},x=0;x<y;x++)v(x);return a}function Gk(t,e,n){var{tick:r,ticks:s,viewBox:i,minTickGap:a,orientation:l,interval:c,tickFormatter:u,unit:d,angle:h}=t;if(!s||!s.length||!r)return[];if($e(c)||Ba.isSsr){var f;return(f=cRe(s,$e(c)?c:0))!==null&&f!==void 0?f:[]}var m=[],y=l==="top"||l==="bottom"?"width":"height",v=d&&y==="width"?Im(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},x=(j,N)=>{var T=typeof u=="function"?u(j.value,N):j.value;return y==="width"?aRe(Im(T,{fontSize:e,letterSpacing:n}),v,h):Im(T,{fontSize:e,letterSpacing:n})[y]},b=s.length>=2?er(s[1].coordinate-s[0].coordinate):1,w=lRe(i,b,y);return c==="equidistantPreserveStart"?uRe(b,w,x,s,a):(c==="preserveStart"||c==="preserveStartEnd"?m=pRe(b,w,x,s,a,c==="preserveStartEnd"):m=mRe(b,w,x,s,a),m.filter(j=>j.isShow))}var gRe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:s=0,tickMargin:i=0}=t,a=0;if(e){e.forEach(d=>{if(d){var h=d.getBoundingClientRect();h.width>a&&(a=h.width)}});var l=n?n.getBoundingClientRect().width:0,c=s+i,u=a+c+l+(n?r:0);return Math.round(u)}return 0},vRe=["axisLine","width","height","className","hide","ticks"],yRe=["viewBox"],xRe=["viewBox"];function pE(t,e){if(t==null)return{};var n,r,s=wRe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function wRe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Fu(){return Fu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fu.apply(null,arguments)}function RL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RL(Object(n),!0).forEach(function(r){bRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bRe(t,e,n){return(e=jRe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jRe(t){var e=NRe(t,"string");return typeof e=="symbol"?e:e+""}function NRe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wk={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function SRe(t){var{x:e,y:n,width:r,height:s,orientation:i,mirror:a,axisLine:l,otherSvgProps:c}=t;if(!l)return null;var u=Vn(Vn(Vn({},c),Jt(l,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!a||i==="bottom"&&a);u=Vn(Vn({},u),{},{x1:e,y1:n+d*s,x2:e+r,y2:n+d*s})}else{var h=+(i==="left"&&!a||i==="right"&&a);u=Vn(Vn({},u),{},{x1:e+h*r,y1:n,x2:e+h*r,y2:n+s})}return p.createElement("line",Fu({},u,{className:dt("recharts-cartesian-axis-line",Ru(l,"className"))}))}function _Re(t,e,n,r,s,i,a,l,c){var u,d,h,f,m,y,v=l?-1:1,x=t.tickSize||a,b=$e(t.tickCoord)?t.tickCoord:t.coordinate;switch(i){case"top":u=d=t.coordinate,f=n+ +!l*s,h=f-v*x,y=h-v*c,m=b;break;case"left":h=f=t.coordinate,d=e+ +!l*r,u=d-v*x,m=u-v*c,y=b;break;case"right":h=f=t.coordinate,d=e+ +l*r,u=d+v*x,m=u+v*c,y=b;break;default:u=d=t.coordinate,f=n+ +l*s,h=f+v*x,y=h+v*c,m=b;break}return{line:{x1:u,y1:h,x2:d,y2:f},tick:{x:m,y}}}function ERe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function PRe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function ARe(t){var{option:e,tickProps:n,value:r}=t,s,i=dt(n.className,"recharts-cartesian-axis-tick-value");if(p.isValidElement(e))s=p.cloneElement(e,Vn(Vn({},n),{},{className:i}));else if(typeof e=="function")s=e(Vn(Vn({},n),{},{className:i}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=dt(a,e==null?void 0:e.className)),s=p.createElement(m1,Fu({},n,{className:a}),r)}return s}function CRe(t){var{ticks:e=[],tick:n,tickLine:r,stroke:s,tickFormatter:i,unit:a,padding:l,tickTextProps:c,orientation:u,mirror:d,x:h,y:f,width:m,height:y,tickSize:v,tickMargin:x,fontSize:b,letterSpacing:w,getTicksConfig:j,events:N}=t,T=Gk(Vn(Vn({},j),{},{ticks:e}),b,w),I=ERe(u,d),P=PRe(u,d),E=wi(j),A=Jt(n,!1),S=Vn(Vn({},E),{},{fill:"none"},Jt(r,!1)),C=T.map((O,k)=>{var{line:B,tick:G}=_Re(O,h,f,m,y,u,v,d,x),U=Vn(Vn(Vn(Vn({textAnchor:I,verticalAnchor:P},E),{},{stroke:"none",fill:s},A),G),{},{index:k,payload:O,visibleTicksCount:T.length,tickFormatter:i,padding:l},c);return p.createElement(Sn,Fu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},yg(N,O,k)),r&&p.createElement("line",Fu({},S,B,{className:dt("recharts-cartesian-axis-tick-line",Ru(r,"className"))})),n&&p.createElement(ARe,{option:n,tickProps:U,value:"".concat(typeof i=="function"?i(O.value,k):O.value).concat(a||"")}))});return C.length>0?p.createElement("g",{className:"recharts-cartesian-axis-ticks"},C):null}var TRe=p.forwardRef((t,e)=>{var{axisLine:n,width:r,height:s,className:i,hide:a,ticks:l}=t,c=pE(t,vRe),[u,d]=p.useState(""),[h,f]=p.useState(""),m=p.useRef([]);p.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var v;return gRe({ticks:m.current,label:(v=t.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var y=p.useCallback(v=>{if(v){var x=v.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=Array.from(x);var b=x[0];if(b){var w=window.getComputedStyle(b),j=w.fontSize,N=w.letterSpacing;(j!==u||N!==h)&&(d(j),f(N))}}},[u,h]);return a||r!=null&&r<=0||s!=null&&s<=0?null:p.createElement(Sn,{className:dt("recharts-cartesian-axis",i),ref:y},p.createElement(SRe,{x:t.x,y:t.y,width:r,height:s,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:wi(t)}),p.createElement(CRe,{ticks:l,tick:t.tick,tickLine:t.tickLine,stroke:t.stroke,tickFormatter:t.tickFormatter,unit:t.unit,padding:t.padding,tickTextProps:t.tickTextProps,orientation:t.orientation,mirror:t.mirror,x:t.x,y:t.y,width:t.width,height:t.height,tickSize:t.tickSize,tickMargin:t.tickMargin,fontSize:u,letterSpacing:h,getTicksConfig:t,events:c}),p.createElement(FTe,{x:t.x,y:t.y,width:t.width,height:t.height},p.createElement(qTe,{label:t.label}),t.children))}),kRe=p.memo(TRe,(t,e)=>{var{viewBox:n}=t,r=pE(t,yRe),{viewBox:s}=e,i=pE(e,xRe);return Lh(n,s)&&Lh(r,i)}),Hk=p.forwardRef((t,e)=>{var n=qn(t,Wk);return p.createElement(kRe,Fu({},n,{ref:e}))});Hk.displayName="CartesianAxis";var IRe=["x1","y1","x2","y2","key"],RRe=["offset"],ORe=["xAxisId","yAxisId"],DRe=["xAxisId","yAxisId"];function OL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OL(Object(n),!0).forEach(function(r){MRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MRe(t,e,n){return(e=LRe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LRe(t){var e=FRe(t,"string");return typeof e=="symbol"?e:e+""}function FRe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qc(){return Qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qc.apply(null,arguments)}function F0(t,e){if(t==null)return{};var n,r,s=$Re(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function $Re(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var URe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:s,width:i,height:a,ry:l}=t;return p.createElement("rect",{x:r,y:s,ry:l,width:i,height:a,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function yq(t,e){var n;if(p.isValidElement(t))n=p.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:s,x2:i,y2:a,key:l}=e,c=F0(e,IRe),u=wi(c),d=F0(u,RRe);n=p.createElement("line",Qc({},d,{x1:r,y1:s,x2:i,y2:a,fill:"none",key:l}))}return n}function BRe(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:s}=t;if(!r||!s||!s.length)return null;var i=F0(t,ORe),a=s.map((l,c)=>{var u=kr(kr({},i),{},{x1:e,y1:l,x2:e+n,y2:l,key:"line-".concat(c),index:c});return yq(r,u)});return p.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function VRe(t){var{y:e,height:n,vertical:r=!0,verticalPoints:s}=t;if(!r||!s||!s.length)return null;var i=F0(t,DRe),a=s.map((l,c)=>{var u=kr(kr({},i),{},{x1:l,y1:e,x2:l,y2:e+n,key:"line-".concat(c),index:c});return yq(r,u)});return p.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function zRe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:s,width:i,height:a,horizontalPoints:l,horizontal:c=!0}=t;if(!c||!e||!e.length)return null;var u=l.map(h=>Math.round(h+s-s)).sort((h,f)=>h-f);s!==u[0]&&u.unshift(0);var d=u.map((h,f)=>{var m=!u[f+1],y=m?s+a-h:u[f+1]-h;if(y<=0)return null;var v=f%e.length;return p.createElement("rect",{key:"react-".concat(f),y:h,x:r,height:y,width:i,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function GRe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:s,y:i,width:a,height:l,verticalPoints:c}=t;if(!e||!n||!n.length)return null;var u=c.map(h=>Math.round(h+s-s)).sort((h,f)=>h-f);s!==u[0]&&u.unshift(0);var d=u.map((h,f)=>{var m=!u[f+1],y=m?s+a-h:u[f+1]-h;if(y<=0)return null;var v=f%n.length;return p.createElement("rect",{key:"react-".concat(f),x:h,y:i,width:y,height:l,stroke:"none",fill:n[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var WRe=(t,e)=>{var{xAxis:n,width:r,height:s,offset:i}=t;return dW(Gk(kr(kr(kr({},Wk),n),{},{ticks:hW(n),viewBox:{x:0,y:0,width:r,height:s}})),i.left,i.left+i.width,e)},HRe=(t,e)=>{var{yAxis:n,width:r,height:s,offset:i}=t;return dW(Gk(kr(kr(kr({},Wk),n),{},{ticks:hW(n),viewBox:{x:0,y:0,width:r,height:s}})),i.top,i.top+i.height,e)},KRe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function uo(t){var e=wT(),n=bT(),r=vW(),s=kr(kr({},qn(t,KRe)),{},{x:$e(t.x)?t.x:r.left,y:$e(t.y)?t.y:r.top,width:$e(t.width)?t.width:r.width,height:$e(t.height)?t.height:r.height}),{xAxisId:i,yAxisId:a,x:l,y:c,width:u,height:d,syncWithTicks:h,horizontalValues:f,verticalValues:m}=s,y=Mr(),v=Me(A=>V4(A,"xAxis",i,y)),x=Me(A=>V4(A,"yAxis",a,y));if(!$e(u)||u<=0||!$e(d)||d<=0||!$e(l)||l!==+l||!$e(c)||c!==+c)return null;var b=s.verticalCoordinatesGenerator||WRe,w=s.horizontalCoordinatesGenerator||HRe,{horizontalPoints:j,verticalPoints:N}=s;if((!j||!j.length)&&typeof w=="function"){var T=f&&f.length,I=w({yAxis:x?kr(kr({},x),{},{ticks:T?f:x.ticks}):void 0,width:e,height:n,offset:r},T?!0:h);km(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(j=I)}if((!N||!N.length)&&typeof b=="function"){var P=m&&m.length,E=b({xAxis:v?kr(kr({},v),{},{ticks:P?m:v.ticks}):void 0,width:e,height:n,offset:r},P?!0:h);km(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(N=E)}return p.createElement("g",{className:"recharts-cartesian-grid"},p.createElement(URe,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),p.createElement(zRe,Qc({},s,{horizontalPoints:j})),p.createElement(GRe,Qc({},s,{verticalPoints:N})),p.createElement(BRe,Qc({},s,{offset:r,horizontalPoints:j,xAxis:v,yAxis:x})),p.createElement(VRe,Qc({},s,{offset:r,verticalPoints:N,xAxis:v,yAxis:x})))}uo.displayName="CartesianGrid";var xq=(t,e,n,r)=>Oo(t,"xAxis",e,r),wq=(t,e,n,r)=>Ro(t,"xAxis",e,r),bq=(t,e,n,r)=>Oo(t,"yAxis",n,r),jq=(t,e,n,r)=>Ro(t,"yAxis",n,r),qRe=Z([ot,xq,bq,wq,jq],(t,e,n,r,s)=>Bo(t,"xAxis")?Mu(e,r,!1):Mu(n,s,!1)),YRe=(t,e,n,r,s)=>s;function QRe(t){return t.type==="line"}var XRe=Z([kg,YRe],(t,e)=>t.filter(QRe).find(n=>n.id===e)),JRe=Z([ot,xq,bq,wq,jq,XRe,qRe,Pg],(t,e,n,r,s,i,a,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=l;if(!(i==null||e==null||n==null||r==null||s==null||r.length===0||s.length===0||a==null)){var{dataKey:h,data:f}=i,m;if(f!=null&&f.length>0?m=f:m=c==null?void 0:c.slice(u,d+1),m!=null)return wOe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:s,dataKey:h,bandSize:a,displayedData:m})}}),ZRe=["id"],eOe=["type","layout","connectNulls","needClip"],tOe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function DL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ss(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DL(Object(n),!0).forEach(function(r){nOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nOe(t,e,n){return(e=rOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rOe(t){var e=sOe(t,"string");return typeof e=="symbol"?e:e+""}function sOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kk(t,e){if(t==null)return{};var n,r,s=iOe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function iOe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function $u(){return $u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$u.apply(null,arguments)}var oOe=t=>{var{dataKey:e,name:n,stroke:r,legendType:s,hide:i}=t;return[{inactive:i,dataKey:e,type:s,color:r,value:Nc(n,e),payload:t}]};function aOe(t){var{dataKey:e,data:n,stroke:r,strokeWidth:s,fill:i,name:a,hide:l,unit:c}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:s,fill:i,dataKey:e,nameKey:void 0,name:Nc(a,e),hide:l,type:t.tooltipType,color:t.stroke,unit:c}}}var Nq=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function lOe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],s=0;s<e;++s)r=[...r,...n];return r}var cOe=(t,e,n)=>{var r=n.reduce((h,f)=>h+f);if(!r)return Nq(e,t);for(var s=Math.floor(t/r),i=t%r,a=e-t,l=[],c=0,u=0;c<n.length;u+=n[c],++c)if(u+n[c]>i){l=[...n.slice(0,c),i-u];break}var d=l.length%2===0?[0,a]:[a];return[...lOe(n,s),...l,...d].map(h=>"".concat(h,"px")).join(", ")};function uOe(t,e){var n;if(p.isValidElement(t))n=p.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=dt("recharts-line-dot",typeof t!="boolean"?t.className:"");n=p.createElement(Ck,$u({},e,{className:r}))}return n}function dOe(t,e){return t==null?!1:e?!0:t.length===1}function hOe(t){var{clipPathId:e,points:n,props:r}=t,{dot:s,dataKey:i,needClip:a}=r;if(!dOe(n,s))return null;var l=Kk(r,ZRe),c=Db(s),u=wi(l),d=Jt(s,!0),h=n.map((m,y)=>{var v=Ss(Ss(Ss({key:"dot-".concat(y),r:3},u),d),{},{index:y,cx:m.x,cy:m.y,dataKey:i,value:m.value,payload:m.payload,points:n});return uOe(s,v)}),f={clipPath:a?"url(#clipPath-".concat(c?"":"dots-").concat(e,")"):void 0};return p.createElement(Sn,$u({className:"recharts-line-dots",key:"dots"},f),h)}function fOe(t){var{showLabels:e,children:n,points:r}=t,s=p.useMemo(()=>r==null?void 0:r.map(i=>{var a={x:i.x,y:i.y,width:0,height:0};return Ss(Ss({},a),{},{value:i.value,payload:i.payload,viewBox:a,parentViewBox:void 0,fill:void 0})}),[r]);return p.createElement(Ak,{value:e?s:null},n)}function ML(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:s,props:i}=t,{type:a,layout:l,connectNulls:c,needClip:u}=i,d=Kk(i,eOe),h=Ss(Ss({},Jt(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(e,")"):void 0,points:r,type:a,layout:l,connectNulls:c,strokeDasharray:s??i.strokeDasharray});return p.createElement(p.Fragment,null,(r==null?void 0:r.length)>1&&p.createElement(Hd,$u({},h,{pathRef:n})),p.createElement(hOe,{points:r,clipPathId:e,props:i}))}function mOe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function pOe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:s,longestAnimatedLengthRef:i}=t,{points:a,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:h,animateNewValues:f,width:m,height:y,onAnimationEnd:v,onAnimationStart:x}=n,b=s.current,w=lf(n,"recharts-line-"),[j,N]=p.useState(!1),T=!j,I=p.useCallback(()=>{typeof v=="function"&&v(),N(!1)},[v]),P=p.useCallback(()=>{typeof x=="function"&&x(),N(!0)},[x]),E=mOe(r.current),A=i.current;return p.createElement(fOe,{points:a,showLabels:T},n.children,p.createElement(af,{animationId:w,begin:u,duration:d,isActive:c,easing:h,onAnimationEnd:I,onAnimationStart:P,key:w},S=>{var C=It(A,E+A,S),O=Math.min(C,E),k;if(c)if(l){var B="".concat(l).split(/[,\s]+/gim).map($=>parseFloat($));k=cOe(O,E,B)}else k=Nq(E,O);else k=l==null?void 0:String(l);if(b){var G=b.length/a.length,U=S===1?a:a.map(($,D)=>{var L=Math.floor(D*G);if(b[L]){var W=b[L];return Ss(Ss({},$),{},{x:It(W.x,$.x,S),y:It(W.y,$.y,S)})}return f?Ss(Ss({},$),{},{x:It(m*2,$.x,S),y:It(y/2,$.y,S)}):Ss(Ss({},$),{},{x:$.x,y:$.y})});return s.current=U,p.createElement(ML,{props:n,points:U,clipPathId:e,pathRef:r,strokeDasharray:k})}return S>0&&E>0&&(s.current=a,i.current=O),p.createElement(ML,{props:n,points:a,clipPathId:e,pathRef:r,strokeDasharray:k})}),p.createElement(p1,{label:n.label}))}function gOe(t){var{clipPathId:e,props:n}=t,r=p.useRef(null),s=p.useRef(0),i=p.useRef(null);return p.createElement(pOe,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:s,pathRef:i})}var vOe=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:Rt(t.payload,e)});class yOe extends p.Component{render(){var e,{hide:n,dot:r,points:s,className:i,xAxisId:a,yAxisId:l,top:c,left:u,width:d,height:h,id:f,needClip:m}=this.props;if(n)return null;var y=dt("recharts-line",i),v=f,{r:x=3,strokeWidth:b=2}=(e=Jt(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},w=Db(r),j=x*2+b;return p.createElement(p.Fragment,null,p.createElement(Sn,{className:y},m&&p.createElement("defs",null,p.createElement(Vk,{clipPathId:v,xAxisId:a,yAxisId:l}),!w&&p.createElement("clipPath",{id:"clipPath-dots-".concat(v)},p.createElement("rect",{x:u-j/2,y:c-j/2,width:d+j,height:h+j}))),p.createElement(hq,{xAxisId:a,yAxisId:l,data:s,dataPointFormatter:vOe,errorBarOffset:0},p.createElement(gOe,{props:this.props,clipPathId:v}))),p.createElement(fE,{activeDot:this.props.activeDot,points:s,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var Sq={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Ba.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function xOe(t){var e=qn(t,Sq),{activeDot:n,animateNewValues:r,animationBegin:s,animationDuration:i,animationEasing:a,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:h,legendType:f,xAxisId:m,yAxisId:y,id:v}=e,x=Kk(e,tOe),{needClip:b}=x1(m,y),w=y1(),j=jg(),N=Mr(),T=Me(S=>JRe(S,m,y,N,v));if(j!=="horizontal"&&j!=="vertical"||T==null||w==null)return null;var{height:I,width:P,x:E,y:A}=w;return p.createElement(yOe,$u({},x,{id:v,connectNulls:l,dot:c,activeDot:n,animateNewValues:r,animationBegin:s,animationDuration:i,animationEasing:a,isAnimationActive:d,hide:u,label:h,legendType:f,xAxisId:m,yAxisId:y,points:T,layout:j,height:I,width:P,left:E,top:A,needClip:b}))}function wOe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:s,yAxisTicks:i,dataKey:a,bandSize:l,displayedData:c}=t;return c.map((u,d)=>{var h=Rt(u,a);if(e==="horizontal"){var f=g0({axis:n,ticks:s,bandSize:l,entry:u,index:d}),m=Xt(h)?null:r.scale(h);return{x:f,y:m,value:h,payload:u}}var y=Xt(h)?null:n.scale(h),v=g0({axis:r,ticks:i,bandSize:l,entry:u,index:d});return y==null||v==null?null:{x:y,y:v,value:h,payload:u}}).filter(Boolean)}function bOe(t){var e=qn(t,Sq),n=Mr();return p.createElement(v1,{id:e.id,type:"line"},r=>p.createElement(p.Fragment,null,p.createElement(Lk,{legendPayload:oOe(e)}),p.createElement(g1,{fn:aOe,args:e}),p.createElement(Fk,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),p.createElement(xOe,$u({},e,{id:r}))))}var ri=p.memo(bOe);ri.displayName="Line";var _q=(t,e,n,r)=>Oo(t,"xAxis",e,r),Eq=(t,e,n,r)=>Ro(t,"xAxis",e,r),Pq=(t,e,n,r)=>Oo(t,"yAxis",n,r),Aq=(t,e,n,r)=>Ro(t,"yAxis",n,r),jOe=Z([ot,_q,Pq,Eq,Aq],(t,e,n,r,s)=>Bo(t,"xAxis")?Mu(e,r,!1):Mu(n,s,!1)),NOe=(t,e,n,r,s)=>s,Cq=Z([kg,NOe],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),SOe=(t,e,n,r,s)=>{var i,a=Cq(t,e,n,r,s);if(a!=null){var l=ot(t),c=Bo(l,"xAxis"),u;if(c?u=Ep(t,"yAxis",n,r):u=Ep(t,"xAxis",e,r),u!=null){var{stackId:d}=a,h=o1(a);if(!(d==null||h==null)){var f=(i=u[d])===null||i===void 0?void 0:i.stackedData;return f==null?void 0:f.find(m=>m.key===h)}}}},_Oe=Z([ot,_q,Pq,Eq,Aq,SOe,Pg,jOe,Cq],(t,e,n,r,s,i,a,l,c)=>{var{chartData:u,dataStartIndex:d,dataEndIndex:h}=a;if(!(c==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||s==null||r.length===0||s.length===0||l==null)){var{data:f}=c,m;if(f&&f.length>0?m=f:m=u==null?void 0:u.slice(d,h+1),m!=null){var y=void 0;return HOe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:s,dataStartIndex:d,areaSettings:c,stackedData:i,displayedData:m,chartBaseValue:y,bandSize:l})}}}),EOe=["id"],POe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Tq(t,e){if(t==null)return{};var n,r,s=AOe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function AOe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function LL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function la(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LL(Object(n),!0).forEach(function(r){COe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function COe(t,e,n){return(e=TOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TOe(t){var e=kOe(t,"string");return typeof e=="symbol"?e:e+""}function kOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pa(){return pa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pa.apply(null,arguments)}function $0(t,e){return t&&t!=="none"?t:e}var IOe=t=>{var{dataKey:e,name:n,stroke:r,fill:s,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:$0(r,s),value:Nc(n,e),payload:t}]};function ROe(t){var{dataKey:e,data:n,stroke:r,strokeWidth:s,fill:i,name:a,hide:l,unit:c}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:s,fill:i,dataKey:e,nameKey:void 0,name:Nc(a,e),hide:l,type:t.tooltipType,color:$0(r,i),unit:c}}}var OOe=(t,e)=>{var n;if(p.isValidElement(t))n=p.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=dt("recharts-area-dot",typeof t!="boolean"?t.className:"");n=p.createElement(Ck,pa({},e,{className:r}))}return n};function DOe(t,e){return t==null?!1:e?!0:t.length===1}function MOe(t){var{clipPathId:e,points:n,props:r}=t,{needClip:s,dot:i,dataKey:a}=r;if(!DOe(n,i))return null;var l=Db(i),c=wi(r),u=Jt(i,!0),d=n.map((f,m)=>{var y=la(la(la({key:"dot-".concat(m),r:3},c),u),{},{index:m,cx:f.x,cy:f.y,dataKey:a,value:f.value,payload:f.payload,points:n});return OOe(i,y)}),h={clipPath:s?"url(#clipPath-".concat(l?"":"dots-").concat(e,")"):void 0};return p.createElement(Sn,pa({className:"recharts-area-dots"},h),d)}function LOe(t){var{showLabels:e,children:n,points:r}=t,s=r.map(i=>{var a={x:i.x,y:i.y,width:0,height:0};return la(la({},a),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:a,fill:void 0})});return p.createElement(Ak,{value:e?s:null},n)}function FL(t){var{points:e,baseLine:n,needClip:r,clipPathId:s,props:i}=t,{layout:a,type:l,stroke:c,connectNulls:u,isRange:d}=i,{id:h}=i,f=Tq(i,EOe),m=wi(f);return p.createElement(p.Fragment,null,(e==null?void 0:e.length)>1&&p.createElement(Sn,{clipPath:r?"url(#clipPath-".concat(s,")"):void 0},p.createElement(Hd,pa({},m,{id:h,points:e,connectNulls:u,type:l,baseLine:n,layout:a,stroke:"none",className:"recharts-area-area"})),c!=="none"&&p.createElement(Hd,pa({},m,{className:"recharts-area-curve",layout:a,type:l,connectNulls:u,fill:"none",points:e})),c!=="none"&&d&&p.createElement(Hd,pa({},m,{className:"recharts-area-curve",layout:a,type:l,connectNulls:u,fill:"none",points:n}))),p.createElement(MOe,{points:e,props:f,clipPathId:s}))}function FOe(t){var{alpha:e,baseLine:n,points:r,strokeWidth:s}=t,i=r[0].y,a=r[r.length-1].y;if(!yr(i)||!yr(a))return null;var l=e*Math.abs(i-a),c=Math.max(...r.map(u=>u.x||0));return $e(n)?c=Math.max(n,c):n&&Array.isArray(n)&&n.length&&(c=Math.max(...n.map(u=>u.x||0),c)),$e(c)?p.createElement("rect",{x:0,y:i<a?i:i-l,width:c+(s?parseInt("".concat(s),10):1),height:Math.floor(l)}):null}function $Oe(t){var{alpha:e,baseLine:n,points:r,strokeWidth:s}=t,i=r[0].x,a=r[r.length-1].x;if(!yr(i)||!yr(a))return null;var l=e*Math.abs(i-a),c=Math.max(...r.map(u=>u.y||0));return $e(n)?c=Math.max(n,c):n&&Array.isArray(n)&&n.length&&(c=Math.max(...n.map(u=>u.y||0),c)),$e(c)?p.createElement("rect",{x:i<a?i:i-l,y:0,width:l,height:Math.floor(c+(s?parseInt("".concat(s),10):1))}):null}function UOe(t){var{alpha:e,layout:n,points:r,baseLine:s,strokeWidth:i}=t;return n==="vertical"?p.createElement(FOe,{alpha:e,points:r,baseLine:s,strokeWidth:i}):p.createElement($Oe,{alpha:e,points:r,baseLine:s,strokeWidth:i})}function BOe(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:s,previousBaselineRef:i}=t,{points:a,baseLine:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:h,onAnimationStart:f,onAnimationEnd:m}=r,y=lf(r,"recharts-area-"),[v,x]=p.useState(!1),b=!v,w=p.useCallback(()=>{typeof m=="function"&&m(),x(!1)},[m]),j=p.useCallback(()=>{typeof f=="function"&&f(),x(!0)},[f]),N=s.current,T=i.current;return p.createElement(LOe,{showLabels:b,points:a},r.children,p.createElement(af,{animationId:y,begin:u,duration:d,isActive:c,easing:h,onAnimationEnd:w,onAnimationStart:j,key:y},I=>{if(N){var P=N.length/a.length,E=I===1?a:a.map((S,C)=>{var O=Math.floor(C*P);if(N[O]){var k=N[O];return la(la({},S),{},{x:It(k.x,S.x,I),y:It(k.y,S.y,I)})}return S}),A;return $e(l)?A=It(T,l,I):Xt(l)||ms(l)?A=It(T,0,I):A=l.map((S,C)=>{var O=Math.floor(C*P);if(Array.isArray(T)&&T[O]){var k=T[O];return la(la({},S),{},{x:It(k.x,S.x,I),y:It(k.y,S.y,I)})}return S}),I>0&&(s.current=E,i.current=A),p.createElement(FL,{points:E,baseLine:A,needClip:e,clipPathId:n,props:r})}return I>0&&(s.current=a,i.current=l),p.createElement(Sn,null,c&&p.createElement("defs",null,p.createElement("clipPath",{id:"animationClipPath-".concat(n)},p.createElement(UOe,{alpha:I,points:a,baseLine:l,layout:r.layout,strokeWidth:r.strokeWidth}))),p.createElement(Sn,{clipPath:"url(#animationClipPath-".concat(n,")")},p.createElement(FL,{points:a,baseLine:l,needClip:e,clipPathId:n,props:r})))}),p.createElement(p1,{label:r.label}))}function VOe(t){var{needClip:e,clipPathId:n,props:r}=t,s=p.useRef(null),i=p.useRef();return p.createElement(BOe,{needClip:e,clipPathId:n,props:r,previousPointsRef:s,previousBaselineRef:i})}class zOe extends p.PureComponent{render(){var e,{hide:n,dot:r,points:s,className:i,top:a,left:l,needClip:c,xAxisId:u,yAxisId:d,width:h,height:f,id:m,baseLine:y}=this.props;if(n)return null;var v=dt("recharts-area",i),x=m,{r:b=3,strokeWidth:w=2}=(e=Jt(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},j=Db(r),N=b*2+w;return p.createElement(p.Fragment,null,p.createElement(Sn,{className:v},c&&p.createElement("defs",null,p.createElement(Vk,{clipPathId:x,xAxisId:u,yAxisId:d}),!j&&p.createElement("clipPath",{id:"clipPath-dots-".concat(x)},p.createElement("rect",{x:l-N/2,y:a-N/2,width:h+N,height:f+N}))),p.createElement(VOe,{needClip:c,clipPathId:x,props:this.props})),p.createElement(fE,{points:s,mainColor:$0(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(y)&&p.createElement(fE,{points:y,mainColor:$0(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var kq={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!Ba.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function GOe(t){var e,n=qn(t,kq),{activeDot:r,animationBegin:s,animationDuration:i,animationEasing:a,connectNulls:l,dot:c,fill:u,fillOpacity:d,hide:h,isAnimationActive:f,legendType:m,stroke:y,xAxisId:v,yAxisId:x}=n,b=Tq(n,POe),w=jg(),j=IK(),{needClip:N}=x1(v,x),T=Mr(),{points:I,isRange:P,baseLine:E}=(e=Me(B=>_Oe(B,v,x,T,t.id)))!==null&&e!==void 0?e:{},A=y1();if(w!=="horizontal"&&w!=="vertical"||A==null||j!=="AreaChart"&&j!=="ComposedChart")return null;var{height:S,width:C,x:O,y:k}=A;return!I||!I.length?null:p.createElement(zOe,pa({},b,{activeDot:r,animationBegin:s,animationDuration:i,animationEasing:a,baseLine:E,connectNulls:l,dot:c,fill:u,fillOpacity:d,height:S,hide:h,layout:w,isAnimationActive:f,isRange:P,legendType:m,needClip:N,points:I,stroke:y,width:C,left:O,top:k,xAxisId:v,yAxisId:x}))}var WOe=(t,e,n,r,s)=>{var i=n??e;if($e(i))return i;var a=t==="horizontal"?s:r,l=a.scale.domain();if(a.type==="number"){var c=Math.max(l[0],l[1]),u=Math.min(l[0],l[1]);return i==="dataMin"?u:i==="dataMax"||c<0?c:Math.max(Math.min(l[0],l[1]),0)}return i==="dataMin"?l[0]:i==="dataMax"?l[1]:l[0]};function HOe(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:s,layout:i,chartBaseValue:a,xAxis:l,yAxis:c,displayedData:u,dataStartIndex:d,xAxisTicks:h,yAxisTicks:f,bandSize:m}=t,y=s&&s.length,v=WOe(i,a,n,l,c),x=i==="horizontal",b=!1,w=u.map((N,T)=>{var I;y?I=s[d+T]:(I=Rt(N,r),Array.isArray(I)?b=!0:I=[v,I]);var P=I[1]==null||y&&!e&&Rt(N,r)==null;return x?{x:g0({axis:l,ticks:h,bandSize:m,entry:N,index:T}),y:P?null:c.scale(I[1]),value:I,payload:N}:{x:P?null:l.scale(I[1]),y:g0({axis:c,ticks:f,bandSize:m,entry:N,index:T}),value:I,payload:N}}),j;return y||b?j=w.map(N=>{var T=Array.isArray(N.value)?N.value[0]:null;return x?{x:N.x,y:T!=null&&N.y!=null?c.scale(T):null,payload:N.payload}:{x:T!=null?l.scale(T):null,y:N.y,payload:N.payload}}):j=x?c.scale(v):l.scale(v),{points:w,baseLine:j,isRange:b}}function KOe(t){var e=qn(t,kq),n=Mr();return p.createElement(v1,{id:e.id,type:"area"},r=>p.createElement(p.Fragment,null,p.createElement(Lk,{legendPayload:IOe(e)}),p.createElement(g1,{fn:ROe,args:e}),p.createElement(Fk,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:fW(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),p.createElement(GOe,pa({},e,{id:r}))))}var pl=p.memo(KOe);pl.displayName="Area";var qOe=["dangerouslySetInnerHTML","ticks"],YOe=["id"],QOe=["domain"],XOe=["domain"];function gE(){return gE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gE.apply(null,arguments)}function U0(t,e){if(t==null)return{};var n,r,s=JOe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function JOe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ZOe(t){var e=vn();return p.useEffect(()=>(e(N2e(t)),()=>{e(S2e(t))}),[t,e]),null}var eDe=t=>{var{xAxisId:e,className:n}=t,r=Me(yT),s=Mr(),i="xAxis",a=Me(m=>pf(m,i,e,s)),l=Me(m=>dK(m,i,e,s)),c=Me(m=>aK(m,e)),u=Me(m=>pAe(m,e)),d=Me(m=>FH(m,e));if(c==null||u==null||d==null)return null;var h=U0(t,qOe),f=U0(d,YOe);return p.createElement(Hk,gE({},h,f,{scale:a,x:u.x,y:u.y,width:c.width,height:c.height,className:dt("recharts-".concat(i," ").concat(i),n),viewBox:r,ticks:l}))},tDe={allowDataOverflow:ys.allowDataOverflow,allowDecimals:ys.allowDecimals,allowDuplicatedCategory:ys.allowDuplicatedCategory,height:ys.height,hide:!1,mirror:ys.mirror,orientation:ys.orientation,padding:ys.padding,reversed:ys.reversed,scale:ys.scale,tickCount:ys.tickCount,type:ys.type,xAxisId:0},nDe=t=>{var e,n,r,s,i,a=qn(t,tDe);return p.createElement(p.Fragment,null,p.createElement(ZOe,{interval:(e=a.interval)!==null&&e!==void 0?e:"preserveEnd",id:a.xAxisId,scale:a.scale,type:a.type,padding:a.padding,allowDataOverflow:a.allowDataOverflow,domain:a.domain,dataKey:a.dataKey,allowDuplicatedCategory:a.allowDuplicatedCategory,allowDecimals:a.allowDecimals,tickCount:a.tickCount,includeHidden:(n=a.includeHidden)!==null&&n!==void 0?n:!1,reversed:a.reversed,ticks:a.ticks,height:a.height,orientation:a.orientation,mirror:a.mirror,hide:a.hide,unit:a.unit,name:a.name,angle:(r=a.angle)!==null&&r!==void 0?r:0,minTickGap:(s=a.minTickGap)!==null&&s!==void 0?s:5,tick:(i=a.tick)!==null&&i!==void 0?i:!0,tickFormatter:a.tickFormatter}),p.createElement(eDe,a))},rDe=(t,e)=>{var{domain:n}=t,r=U0(t,QOe),{domain:s}=e,i=U0(e,XOe);return Lh(r,i)?Array.isArray(n)&&n.length===2&&Array.isArray(s)&&s.length===2?n[0]===s[0]&&n[1]===s[1]:Lh({domain:n},{domain:s}):!1},ho=p.memo(nDe,rDe);ho.displayName="XAxis";var sDe=["dangerouslySetInnerHTML","ticks"],iDe=["id"],oDe=["domain"],aDe=["domain"];function vE(){return vE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vE.apply(null,arguments)}function B0(t,e){if(t==null)return{};var n,r,s=lDe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function lDe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function cDe(t){var e=vn();return p.useEffect(()=>(e(_2e(t)),()=>{e(E2e(t))}),[t,e]),null}var uDe=t=>{var{yAxisId:e,className:n,width:r,label:s}=t,i=p.useRef(null),a=p.useRef(null),l=Me(yT),c=Mr(),u=vn(),d="yAxis",h=Me(w=>pf(w,d,e,c)),f=Me(w=>lK(w,e)),m=Me(w=>vAe(w,e)),y=Me(w=>dK(w,d,e,c)),v=Me(w=>$H(w,e));if(p.useLayoutEffect(()=>{if(!(r!=="auto"||!f||Pk(s)||p.isValidElement(s)||v==null)){var w=i.current;if(w){var j=w.getCalculatedWidth();Math.round(f.width)!==Math.round(j)&&u(P2e({id:e,width:j}))}}},[y,f,u,s,e,r,v]),f==null||m==null||v==null)return null;var x=B0(t,sDe),b=B0(v,iDe);return p.createElement(Hk,vE({},x,b,{ref:i,labelRef:a,scale:h,x:m.x,y:m.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:dt("recharts-".concat(d," ").concat(d),n),viewBox:l,ticks:y}))},dDe={allowDataOverflow:xs.allowDataOverflow,allowDecimals:xs.allowDecimals,allowDuplicatedCategory:xs.allowDuplicatedCategory,hide:!1,mirror:xs.mirror,orientation:xs.orientation,padding:xs.padding,reversed:xs.reversed,scale:xs.scale,tickCount:xs.tickCount,type:xs.type,width:xs.width,yAxisId:0},hDe=t=>{var e,n,r,s,i,a=qn(t,dDe);return p.createElement(p.Fragment,null,p.createElement(cDe,{interval:(e=a.interval)!==null&&e!==void 0?e:"preserveEnd",id:a.yAxisId,scale:a.scale,type:a.type,domain:a.domain,allowDataOverflow:a.allowDataOverflow,dataKey:a.dataKey,allowDuplicatedCategory:a.allowDuplicatedCategory,allowDecimals:a.allowDecimals,tickCount:a.tickCount,padding:a.padding,includeHidden:(n=a.includeHidden)!==null&&n!==void 0?n:!1,reversed:a.reversed,ticks:a.ticks,width:a.width,orientation:a.orientation,mirror:a.mirror,hide:a.hide,unit:a.unit,name:a.name,angle:(r=a.angle)!==null&&r!==void 0?r:0,minTickGap:(s=a.minTickGap)!==null&&s!==void 0?s:5,tick:(i=a.tick)!==null&&i!==void 0?i:!0,tickFormatter:a.tickFormatter}),p.createElement(uDe,a))},fDe=(t,e)=>{var{domain:n}=t,r=B0(t,oDe),{domain:s}=e,i=B0(e,aDe);return Lh(r,i)?Array.isArray(n)&&n.length===2&&Array.isArray(s)&&s.length===2?n[0]===s[0]&&n[1]===s[1]:Lh({domain:n},{domain:s}):!1},Ri=p.memo(hDe,fDe);Ri.displayName="YAxis";var mDe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lg=p;function pDe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gDe=typeof Object.is=="function"?Object.is:pDe,vDe=Lg.useSyncExternalStore,yDe=Lg.useRef,xDe=Lg.useEffect,wDe=Lg.useMemo,bDe=Lg.useDebugValue;mDe.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=yDe(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=wDe(function(){function c(m){if(!u){if(u=!0,d=m,m=r(m),s!==void 0&&a.hasValue){var y=a.value;if(s(y,m))return h=y}return h=m}if(y=h,gDe(d,m))return y;var v=r(m);return s!==void 0&&s(y,v)?(d=m,y):(d=m,h=v)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return c(e())},f===null?void 0:function(){return c(f())}]},[e,n,r,s]);var l=vDe(t,i[0],i[1]);return xDe(function(){a.hasValue=!0,a.value=l},[l]),bDe(l),l};function jDe(t){t()}function NDe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){jDe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=e={callback:n,next:null,prev:e};return s.prev?s.prev.next=s:t=s,function(){!r||t===null||(r=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var $L={notify(){},get:()=>[]};function SDe(t,e){let n,r=$L,s=0,i=!1;function a(v){d();const x=r.subscribe(v);let b=!1;return()=>{b||(b=!0,x(),h())}}function l(){r.notify()}function c(){y.onStateChange&&y.onStateChange()}function u(){return i}function d(){s++,n||(n=t.subscribe(c),r=NDe())}function h(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=$L)}function f(){i||(i=!0,d())}function m(){i&&(i=!1,h())}const y={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:f,tryUnsubscribe:m,getListeners:()=>r};return y}var _De=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",EDe=_De(),PDe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ADe=PDe(),CDe=()=>EDe||ADe?p.useLayoutEffect:p.useEffect,TDe=CDe(),yN=Symbol.for("react-redux-context"),xN=typeof globalThis<"u"?globalThis:{};function kDe(){if(!p.createContext)return{};const t=xN[yN]??(xN[yN]=new Map);let e=t.get(p.createContext);return e||(e=p.createContext(null),t.set(p.createContext,e)),e}var IDe=kDe();function RDe(t){const{children:e,context:n,serverState:r,store:s}=t,i=p.useMemo(()=>{const c=SDe(s);return{store:s,subscription:c,getServerState:r?()=>r:void 0}},[s,r]),a=p.useMemo(()=>s.getState(),[s]);TDe(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==s.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,a]);const l=n||IDe;return p.createElement(l.Provider,{value:i},e)}var ODe=RDe,DDe=(t,e)=>e,qk=Z([DDe,ot,DH,Qn,EK,Wa,bCe,Kn],ECe),Yk=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},Iq=gi("mouseClick"),Rq=wg();Rq.startListening({actionCreator:Iq,effect:(t,e)=>{var n=t.payload,r=qk(e.getState(),Yk(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(TAe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var yE=gi("mouseMove"),Oq=wg();Oq.startListening({actionCreator:yE,effect:(t,e)=>{var n=t.payload,r=e.getState(),s=yk(r,r.tooltip.settings.shared),i=qk(r,Yk(n));s==="axis"&&((i==null?void 0:i.activeIndex)!=null?e.dispatch(xK({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):e.dispatch(yK()))}});var UL={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},Dq=Ws({name:"rootProps",initialState:UL,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:UL.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),MDe=Dq.reducer,{updateOptions:LDe}=Dq.actions,Mq=Ws({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:FDe}=Mq.actions,$De=Mq.reducer,Lq=gi("keyDown"),Fq=gi("focus"),Qk=wg();Qk.startListening({actionCreator:Lq,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:s}=n.tooltip,i=t.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var a=Number(xk(s,vf(n))),l=Wa(n);if(i==="Enter"){var c=I0(n,"axis","hover",String(s.index));e.dispatch(lE({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:c}));return}var u=bAe(n),d=u==="left-to-right"?1:-1,h=i==="ArrowRight"?1:-1,f=a+h*d;if(!(l==null||f>=l.length||f<0)){var m=I0(n,"axis","hover",String(f));e.dispatch(lE({active:!0,activeIndex:f.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});Qk.startListening({actionCreator:Fq,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:s}=n.tooltip;if(!s.active&&s.index==null){var i="0",a=I0(n,"axis","hover",String(i));e.dispatch(lE({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:a}))}}}});var Xs=gi("externalEvent"),$q=wg();$q.startListening({actionCreator:Xs,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:hCe(n),activeDataKey:TK(n),activeIndex:oc(n),activeLabel:CK(n),activeTooltipIndex:oc(n),isTooltipActive:fCe(n)};t.payload.handler(r,t.payload.reactEvent)}}});var UDe=Z([gf],t=>t.tooltipItemPayloads),BDe=Z([UDe,Og,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var s=t.find(l=>l.settings.dataKey===r);if(s!=null){var{positions:i}=s;if(i!=null){var a=e(i,n);return a}}}),Uq=gi("touchMove"),Bq=wg();Bq.startListening({actionCreator:Uq,effect:(t,e)=>{var n=t.payload,r=e.getState(),s=yk(r,r.tooltip.settings.shared);if(s==="axis"){var i=qk(r,Yk({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&e.dispatch(xK({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(s==="item"){var a,l=n.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(pW),d=(a=c.getAttribute(gW))!==null&&a!==void 0?a:void 0,h=BDe(e.getState(),u,d);e.dispatch(vK({activeDataKey:d,activeIndex:u,activeCoordinate:h}))}}});var VDe=UG({brush:QIe,cartesianAxis:A2e,chartData:BCe,errorBars:q2e,graphicalItems:Kke,layout:Pje,legend:gNe,options:MCe,polarAxis:hke,polarOptions:$De,referenceElements:sRe,rootProps:MDe,tooltip:kAe}),zDe=function(e){return J1e({reducer:VDe,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([Rq.middleware,Oq.middleware,Qk.middleware,$q.middleware,Bq.middleware]),devTools:Ba.devToolsEnabled})};function Vq(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,s=Mr(),i=p.useRef(null);if(s)return n;i.current==null&&(i.current=zDe(e));var a=uT;return p.createElement(ODe,{context:a,store:i.current},n)}function zq(t){var{layout:e,width:n,height:r,margin:s}=t,i=vn(),a=Mr();return p.useEffect(()=>{a||(i(Sje(e)),i(_je({width:n,height:r})),i(Nje(s)))},[i,a,e,n,r,s]),null}function Gq(t){var e=vn();return p.useEffect(()=>{e(LDe(t))},[e,t]),null}var GDe=["children"];function WDe(t,e){if(t==null)return{};var n,r,s=HDe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function HDe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function V0(){return V0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V0.apply(null,arguments)}var KDe={width:"100%",height:"100%"},qDe=p.forwardRef((t,e)=>{var n=wT(),r=bT(),s=bW();if(!Ih(n)||!Ih(r))return null;var{children:i,otherAttributes:a,title:l,desc:c}=t,u,d;return typeof a.tabIndex=="number"?u=a.tabIndex:u=s?0:void 0,typeof a.role=="string"?d=a.role:d=s?"application":void 0,p.createElement(qC,V0({},a,{title:l,desc:c,role:d,tabIndex:u,width:n,height:r,style:KDe,ref:e}),i)}),YDe=t=>{var{children:e}=t,n=Me(Qb);if(!n)return null;var{width:r,height:s,y:i,x:a}=n;return p.createElement(qC,{width:r,height:s,x:a,y:i},e)},BL=p.forwardRef((t,e)=>{var{children:n}=t,r=WDe(t,GDe),s=Mr();return s?p.createElement(YDe,null,n):p.createElement(qDe,V0({ref:e},r),n)});function QDe(){var t=vn(),[e,n]=p.useState(null),r=Me(tNe);return p.useEffect(()=>{if(e!=null){var s=e.getBoundingClientRect(),i=s.width/e.offsetWidth;yr(i)&&i!==r&&t(Eje(i))}},[e,t,r]),n}function VL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function XDe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VL(Object(n),!0).forEach(function(r){JDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JDe(t,e,n){return(e=ZDe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZDe(t){var e=eMe(t,"string");return typeof e=="symbol"?e:e+""}function eMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tMe=p.forwardRef((t,e)=>{var{children:n,className:r,height:s,onClick:i,onContextMenu:a,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:h,onMouseUp:f,onTouchEnd:m,onTouchMove:y,onTouchStart:v,style:x,width:b}=t,w=vn(),[j,N]=p.useState(null),[T,I]=p.useState(null);QCe();var P=QDe(),E=p.useCallback(V=>{P(V),typeof e=="function"&&e(V),N(V),I(V)},[P,e,N,I]),A=p.useCallback(V=>{w(Iq(V)),w(Xs({handler:i,reactEvent:V}))},[w,i]),S=p.useCallback(V=>{w(yE(V)),w(Xs({handler:u,reactEvent:V}))},[w,u]),C=p.useCallback(V=>{w(yK()),w(Xs({handler:d,reactEvent:V}))},[w,d]),O=p.useCallback(V=>{w(yE(V)),w(Xs({handler:h,reactEvent:V}))},[w,h]),k=p.useCallback(()=>{w(Fq())},[w]),B=p.useCallback(V=>{w(Lq(V.key))},[w]),G=p.useCallback(V=>{w(Xs({handler:a,reactEvent:V}))},[w,a]),U=p.useCallback(V=>{w(Xs({handler:l,reactEvent:V}))},[w,l]),$=p.useCallback(V=>{w(Xs({handler:c,reactEvent:V}))},[w,c]),D=p.useCallback(V=>{w(Xs({handler:f,reactEvent:V}))},[w,f]),L=p.useCallback(V=>{w(Xs({handler:v,reactEvent:V}))},[w,v]),W=p.useCallback(V=>{w(Uq(V)),w(Xs({handler:y,reactEvent:V}))},[w,y]),J=p.useCallback(V=>{w(Xs({handler:m,reactEvent:V}))},[w,m]);return p.createElement(LK.Provider,{value:j},p.createElement(q7.Provider,{value:T},p.createElement("div",{className:dt("recharts-wrapper",r),style:XDe({position:"relative",cursor:"default",width:b,height:s},x),onClick:A,onContextMenu:G,onDoubleClick:U,onFocus:k,onKeyDown:B,onMouseDown:$,onMouseEnter:S,onMouseLeave:C,onMouseMove:O,onMouseUp:D,onTouchEnd:J,onTouchMove:W,onTouchStart:L,ref:E},n)))}),nMe=["children","className","width","height","style","compact","title","desc"];function rMe(t,e){if(t==null)return{};var n,r,s=sMe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function sMe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Wq=p.forwardRef((t,e)=>{var{children:n,className:r,width:s,height:i,style:a,compact:l,title:c,desc:u}=t,d=rMe(t,nMe),h=wi(d);return l?p.createElement(BL,{otherAttributes:h,title:c,desc:u},n):p.createElement(tMe,{className:r,style:a,width:s,height:i,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},p.createElement(BL,{otherAttributes:h,title:c,desc:u,ref:e},p.createElement(oRe,null,n)))}),iMe=["width","height"];function xE(){return xE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xE.apply(null,arguments)}function oMe(t,e){if(t==null)return{};var n,r,s=aMe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function aMe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var lMe={top:5,right:5,bottom:5,left:5},cMe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:lMe,reverseStackOrder:!1,syncMethod:"index"},Xk=p.forwardRef(function(e,n){var r,s=qn(e.categoricalChartProps,cMe),{width:i,height:a}=s,l=oMe(s,iMe);if(!Ih(i)||!Ih(a))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:h,categoricalChartProps:f}=e,m={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:h,eventEmitter:void 0};return p.createElement(Vq,{preloadedState:{options:m},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:c},p.createElement(gq,{chartData:f.data}),p.createElement(zq,{width:i,height:a,layout:s.layout,margin:s.margin}),p.createElement(Gq,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),p.createElement(Wq,xE({},l,{width:i,height:a,ref:n})))}),uMe=["axis"],Ap=p.forwardRef((t,e)=>p.createElement(Xk,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:uMe,tooltipPayloadSearcher:f1,categoricalChartProps:t,ref:e})),dMe=["axis","item"],hMe=p.forwardRef((t,e)=>p.createElement(Xk,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:dMe,tooltipPayloadSearcher:f1,categoricalChartProps:t,ref:e}));function fMe(t){var e=vn();return p.useEffect(()=>{e(FDe(t))},[e,t]),null}var mMe=["width","height","layout"];function wE(){return wE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wE.apply(null,arguments)}function pMe(t,e){if(t==null)return{};var n,r,s=gMe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function gMe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var vMe={top:5,right:5,bottom:5,left:5},yMe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:vMe,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},xMe=p.forwardRef(function(e,n){var r,s=qn(e.categoricalChartProps,yMe),{width:i,height:a,layout:l}=s,c=pMe(s,mMe);if(!Ih(i)||!Ih(a))return null;var{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:h,tooltipPayloadSearcher:f}=e,m={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:h,tooltipPayloadSearcher:f,eventEmitter:void 0};return p.createElement(Vq,{preloadedState:{options:m},reduxStoreName:(r=s.id)!==null&&r!==void 0?r:u},p.createElement(gq,{chartData:s.data}),p.createElement(zq,{width:i,height:a,layout:l,margin:s.margin}),p.createElement(Gq,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),p.createElement(fMe,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),p.createElement(Wq,wE({width:i,height:a},c,{ref:n})))}),wMe=["item"],bMe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Hq=p.forwardRef((t,e)=>{var n=qn(t,bMe);return p.createElement(xMe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:wMe,tooltipPayloadSearcher:f1,categoricalChartProps:n,ref:e})}),jMe=["axis"],bE=p.forwardRef((t,e)=>p.createElement(Xk,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:jMe,tooltipPayloadSearcher:f1,categoricalChartProps:t,ref:e}));const NMe=()=>{var ue,ee,re,be,se,Ue,ae;const t=Zt(),{isFeatureBlocked:e,status:n}=Dr();if(e||n==="none")return o.jsx("div",{className:"flex flex-col items-center justify-center min-h-[500px] text-center space-y-6",children:o.jsxs("div",{className:"bg-red-950/30 border-2 border-red-500/50 rounded-2xl p-8 max-w-2xl w-full backdrop-blur-sm",children:[o.jsx(pr,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-2xl font-bold text-red-400 mb-3",children:n==="none"?"No Subscription - Upgrade Required":"Trial Expired - Upgrade Required"}),o.jsx("p",{className:"text-red-300/90 mb-6 text-lg",children:n==="none"?"You need an active subscription to access this feature. Start your 15-day free trial or upgrade now to access the Audit Tool.":"Your 15-day trial has expired. Upgrade now to access the Audit Tool and analyze your Google Business Profile performance."}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs(Y,{onClick:()=>t("/dashboard/billing"),className:"bg-red-600 hover:bg-red-700 text-white px-8 py-6 text-lg w-full",size:"lg",children:[o.jsx(Gn,{className:"mr-2 h-5 w-5"}),n==="none"?"Start Free Trial":"Upgrade Now"]}),o.jsx("p",{className:"text-sm text-red-400/80",children:"Starting from ₹1,099/month • Unlimited Profiles • All Features"})]})]})});const{accounts:r,isConnected:s,isLoading:i}=rf(),{subscription:a}=Dr(),{currentUser:l}=Hn(),[c,u]=p.useState(""),[d,h]=p.useState([]),[f,m]=p.useState(null),[y,v]=p.useState(!1),[x,b]=p.useState(null),[w,j]=p.useState(!0),[N,T]=p.useState(5*60*1e3),[I,P]=p.useState("area"),[E,A]=p.useState(null),[S,C]=p.useState(!1),O=(r||[]).flatMap(z=>(z.locations||[]).map(H=>({...H,id:H.locationId,name:H.displayName,accountName:z.accountName,fullName:H.name}))),k=(a==null?void 0:a.profileCount)||1,G=n==="active"||n==="trial"?O.slice(0,k):O.slice(0,1),U=O.slice(k);p.useEffect(()=>{G.length>0&&!c&&u(G[0].id)},[G.length,c]),p.useEffect(()=>{c&&(console.log("Location changed to:",c),D(c))},[c]);const $=async(z,H,F,te=null)=>{try{if(!l){console.warn("No current user, skipping audit save");return}const le=O.find(Le=>Le.id===z);if(!le){console.warn("Location not found, skipping audit save");return}const pe={userId:l.uid,userEmail:l.email||"unknown",locationId:le.fullName||z,locationName:le.name,performance:{timeSeriesData:H},score:F,recommendations:te||{recommendations:[]},dateRange:{startDate:new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]},metadata:{source:"audit_tool",timestamp:new Date().toISOString()}},Re=await fetch("http://localhost:5000/api/audit-results",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(pe)});Re.ok?console.log("✅ Audit result saved successfully"):console.error("Failed to save audit result:",await Re.text())}catch(le){console.error("Error saving audit result:",le)}};p.useEffect(()=>{if(!c||!w)return;const z=setInterval(()=>{y||(console.log("Auto-refreshing audit data..."),D(c))},N);return()=>clearInterval(z)},[c,w,N,y]),p.useEffect(()=>{const z=()=>{!document.hidden&&c&&w&&(!x||new Date().getTime()-x.getTime()>12e4)&&(console.log("Page became visible - refreshing audit data..."),D(c))};return document.addEventListener("visibilitychange",z),()=>document.removeEventListener("visibilitychange",z)},[c,w,x]);const D=async z=>{var F,te,le,pe,Re,Le;if(!z)return;if(O.findIndex(qe=>qe.id===z)>=k){je({title:"Profile Locked",description:`This profile requires an upgrade. You have access to ${k} profile${k===1?"":"s"}.`,variant:"destructive"});return}v(!0);try{const qe=localStorage.getItem("google_business_tokens");if(!qe)throw new Error("No Google Business Profile connection found. Please connect your Google Business Profile in Settings > Connections.");const xt=JSON.parse(qe);if(!xt.access_token)throw new Error("Invalid token data. Please reconnect your Google Business Profile in Settings.");const Et=Date.now(),Pt=xt.expires_at||xt.stored_at+xt.expires_in*1e3;if(Pt&&Et>=Pt)throw new Error("Google Business Profile token expired. Please reconnect in Settings > Connections.");const X=xt.access_token,de=new Date().toISOString().split("T")[0],Ne=new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0],Fe="http://localhost:5000",[_e,Te]=await Promise.allSettled([fetch(`${Fe}/api/locations/${z}/audit/performance?startDate=${Ne}&endDate=${de}`,{headers:{Authorization:`Bearer ${X}`,"Content-Type":"application/json"}}),fetch(`${Fe}/api/locations/${z}/reviews`,{headers:{Authorization:`Bearer ${X}`,"Content-Type":"application/json"}})]);let st=null,Pe=V,at=null;if(_e.status==="fulfilled"&&_e.value.ok){const nt=await _e.value.json();if(console.log("📊 Audit Tool - Received performance data:",nt),(le=(te=(F=nt.performance)==null?void 0:F.locationMetrics)==null?void 0:te[0])!=null&&le.dailyMetrics){const cn=nt.performance.locationMetrics[0].dailyMetrics;console.log("📈 Audit Tool - Daily metrics count:",cn.length);const Rn=cn.map(ft=>({views:ft.views||0,impressions:ft.impressions||0,calls:ft.calls||0,websiteClicks:ft.websiteClicks||0,directionRequests:ft.directionRequests||0,date:ft.date}));console.log("✅ Audit Tool - Converted metrics:",Rn.slice(0,3)),h(Rn),st=Rn}else console.warn("⚠️ Audit Tool - No daily metrics in response:",nt)}else if(_e.status==="fulfilled"&&_e.value.status===503){const nt=await _e.value.json();console.warn("Performance API access required:",nt.message)}else if(_e.status==="fulfilled"){console.error("❌ Audit Tool - API error:",_e.value.status,_e.value.statusText);try{const nt=await _e.value.json();console.error("❌ Audit Tool - Error details:",nt)}catch{console.error("❌ Audit Tool - Could not parse error response")}}else console.error("❌ Audit Tool - Promise rejected:",_e.reason);if(console.log("📊 Audit Tool - Using profile data from selectedLocation:",Pe),console.log("📊 ALL KEYS in profileData:",Object.keys(Pe||{})),console.log("📊 Profile has title?",!!(Pe!=null&&Pe.title)),console.log("📊 Profile has categories?",!!(Pe!=null&&Pe.categories)),console.log("📊 Profile has description?",!!((pe=Pe==null?void 0:Pe.profile)!=null&&pe.description)),Te.status==="fulfilled"&&Te.value.ok){const nt=await Te.value.json();console.log("📊 Audit Tool - Received reviews data:",nt),console.log("📊 Number of reviews:",((Re=nt==null?void 0:nt.reviews)==null?void 0:Re.length)||0),console.log("📊 First review:",(Le=nt==null?void 0:nt.reviews)==null?void 0:Le[0]),at=nt}else console.error("❌ Reviews data fetch failed:",Te);if(!st&&!Pe&&!at)throw new Error("Unable to fetch any data from Google Business Profile API. Please ensure proper API access and permissions.");st||console.warn("⚠️ Performance API not available - audit scores will be calculated from profile and review data only"),console.log("🔍 Data summary before calculation:"),console.log("   - Performance data:",st?"Available":"Missing"),console.log("   - Profile data:",Pe?"Available":"Missing"),console.log("   - Reviews data:",at?"Available":"Missing");const Lt=W(st||[],Pe,at);console.log("📊 Calculated audit score:",Lt),m(Lt),b(new Date),await $(z,st,Lt),je({title:"Audit Complete",description:"Real-time performance metrics updated."})}catch(qe){console.error("Error fetching real-time data:",qe),h([]),m(null),b(null),console.error("🚨 AUDIT TOOL ERROR:",qe.message),console.error("🔍 Error details:",qe),je({title:"Performance Data Unavailable",description:"Unable to retrieve metrics for this profile. Please verify your profile at business.google.com",variant:"default",duration:5e3})}finally{v(!1)}},L=(z,H,F)=>{let te=0;for(let pe=0;pe<z.length;pe++){const Re=z.charCodeAt(pe);te=(te<<5)-te+Re,te=te&te}const le=Math.abs(te)/2147483647;return Math.round(H+le*(F-H))},W=(z,H=null,F=null)=>{var Fe,_e;const te=c||"0";console.log("🎯 Calculating scores for location:",te);let le=L(te+"perf",45,95),pe=L(te+"engage",50,90),Re=L(te+"rank",1,15);if(console.log("🎯 Generated scores:",{locationId:te,performanceScore:le,engagementScore:pe,estimatedRank:Re}),z&&z.length>0){const Te=z.slice(-7),st=Te.reduce((ft,On)=>ft+(On.views||0),0),Pe=st/Te.length;le=Math.min(100,Pe/100*100);const at=Te.reduce((ft,On)=>ft+(On.impressions||0),0),Lt=Te.reduce((ft,On)=>ft+(On.calls||0)+(On.websiteClicks||0)+(On.directionRequests||0),0),nt=at>0?Lt/at*100:0;pe=Math.min(100,nt*20);const cn=st,Rn=at>0?cn/at:0;Re=Rn>0?Math.max(1,Math.min(30,Math.round(1/(Rn+.1)))):30}let Le=L(te+"profile",65,98),qe={totalFields:15,completedFields:Math.round(Le/100*15),missingFields:[]};if(H&&(H.title||H.name)){const Te=[{key:"title",name:"Business Name"},{key:"phoneNumbers",name:"Phone Number"},{key:"storefrontAddress",name:"Address"},{key:"websiteUri",name:"Website"},{key:"categories",name:"Categories"},{key:"profile.description",name:"Description"},{key:"regularHours",name:"Business Hours"},{key:"serviceArea",name:"Service Area"},{key:"labels",name:"Labels"},{key:"adWordsLocationExtensions",name:"Google Ads"},{key:"languageCode",name:"Language"},{key:"metadata",name:"Metadata"},{key:"profile",name:"Profile"},{key:"attributes",name:"Attributes"},{key:"moreHours",name:"Special Hours"}];qe.totalFields=Te.length,qe.completedFields=0,qe.missingFields=[],Te.forEach(Pe=>{const at=Pe.key.split(".");let Lt=H;for(const nt of at)Lt=Lt==null?void 0:Lt[nt];Lt&&(!Array.isArray(Lt)||Lt.length>0)&&(typeof Lt!="object"||Object.keys(Lt).length>0)?qe.completedFields++:qe.missingFields.push(Pe.name)});const st=Math.round(qe.completedFields/qe.totalFields*100);st>0&&(Le=st)}let xt=L(te+"seo",55,95),Et={hasDescription:!0,hasKeywords:!0,hasCategories:!0};if(H&&(H.title||H.name)){let Te=0;Et={hasDescription:!1,hasKeywords:!1,hasCategories:!1},(Fe=H.profile)!=null&&Fe.description&&H.profile.description.length>50&&(Et.hasDescription=!0,Te+=33),(_e=H.profile)!=null&&_e.description&&H.profile.description.length>100&&(Et.hasKeywords=!0,Te+=33),H.categories&&(H.categories.length>0||H.categories.primaryCategory)&&(Et.hasCategories=!0,Te+=34),Te>0&&(xt=Te)}let Pt=0,X={totalReviews:0,reviewsLast30Days:0,reviewsPerWeek:0,repliedReviews:0,replyRate:0};if(F&&F.reviews){X.totalReviews=F.reviews.length;const Te=new Date;Te.setDate(Te.getDate()-30),X.reviewsLast30Days=F.reviews.filter(st=>new Date(st.createTime)>=Te).length,X.reviewsPerWeek=X.reviewsLast30Days/30*7,X.reviewsPerWeek>=2?Pt=100:X.reviewsPerWeek>=1?Pt=50:X.reviewsPerWeek>0&&(Pt=25),X.repliedReviews=F.reviews.filter(st=>st.reviewReply||st.reply).length,X.replyRate=X.totalReviews>0?X.repliedReviews/X.totalReviews*100:0}const de=Math.round(X.replyRate),Ne=Math.round(le*.15+pe*.15+Le*.2+xt*.2+Pt*.15+de*.15);return{overall:Math.round(Ne),performance:Math.round(le),engagement:Math.round(pe),searchRank:Re,profileCompletion:Math.round(Le),seoScore:Math.round(xt),reviewScore:Math.round(Pt),reviewReplyScore:Math.round(de),profileCompletionDetails:qe,seoDetails:Et,reviewDetails:X}},J=async()=>{if(!d||d.length===0||!f){je({title:"No Data Available",description:"Please fetch performance data first before generating AI insights.",variant:"destructive"});return}C(!0);try{const z=d.slice(-7),H=z.reduce((Ne,Fe)=>Ne+Fe.views,0),F=z.reduce((Ne,Fe)=>Ne+Fe.impressions,0),te=z.reduce((Ne,Fe)=>Ne+Fe.calls,0),le=z.reduce((Ne,Fe)=>Ne+Fe.websiteClicks,0),pe=z.reduce((Ne,Fe)=>Ne+Fe.directionRequests,0),Re=(H/7).toFixed(1),Le=(F/7).toFixed(1),qe=F>0?((te+le+pe)/F*100).toFixed(2):"0",Et=d.slice(-14,-7).reduce((Ne,Fe)=>Ne+Fe.views,0),Pt=Et>0?((H-Et)/Et*100).toFixed(1):"N/A",X=`You are an expert Google Business Profile consultant. Analyze this data and provide concise, actionable insights.

Business: ${V==null?void 0:V.name}
Overall Score: ${f.overall}% | Performance: ${f.performance}% | Engagement: ${f.engagement}%

Last 7 Days: ${H} views, ${F} impressions, ${te} calls, ${le} clicks, ${pe} directions
Conversion Rate: ${qe}% | Trend: ${Pt}%

Provide a brief, scannable analysis in this exact format (NO hashtags, NO emojis, short sentences):

PERFORMANCE SUMMARY
[2-3 sentences about current performance]

KEY STRENGTHS
• [strength 1]
• [strength 2]
• [strength 3]

AREAS TO IMPROVE
• [area 1]
• [area 2]
• [area 3]

TOP 3 ACTIONS
1. [specific action with expected impact]
2. [specific action with expected impact]
3. [specific action with expected impact]

Keep it professional, specific with numbers, and under 200 words total.`,de=await Fpe(X,"gpt-4o");A(de),je({title:"AI Insights Generated",description:"Detailed analysis and recommendations are ready."})}catch(z){console.error("Error generating AI insights:",z),je({title:"Error Generating Insights",description:"Unable to generate AI insights. Please try again.",variant:"destructive"})}finally{C(!1)}};if(!s)return o.jsx("div",{className:"h-full flex items-center justify-center p-6",children:o.jsxs(q,{className:"max-w-md w-full",children:[o.jsxs(me,{className:"text-center",children:[o.jsx("div",{className:"mx-auto mb-4 h-16 w-16 rounded-full bg-primary/10 flex items-center justify-center",children:o.jsx(pr,{className:"h-8 w-8 text-primary"})}),o.jsx(ge,{className:"text-xl",children:"Connect Google Business Profile"})]}),o.jsxs(Q,{className:"text-center",children:[o.jsx("p",{className:"text-muted-foreground mb-4",children:"Connect your Google Business Profile to access the audit tool and performance insights."}),o.jsx(Y,{asChild:!0,children:o.jsx("a",{href:"/dashboard/settings",children:"Go to Settings"})})]})]})});if(i||!r||O.length===0)return o.jsx("div",{className:"h-full flex items-center justify-center p-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx(jn,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-primary"}),o.jsx("p",{className:"text-muted-foreground",children:r?"Loading your business profiles...":"Initializing..."})]})});const V=G.find(z=>z.id===c);return o.jsxs("div",{className:"p-3 sm:p-4 md:p-6 space-y-4 sm:space-y-6",children:[o.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold",children:"Business Profile Audit"}),o.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Real-time performance insights and optimization recommendations"})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4 w-full lg:w-auto",children:[x&&o.jsxs("div",{className:"text-xs sm:text-sm text-muted-foreground",children:[o.jsxs("p",{children:["Last updated: ",x.toLocaleTimeString()]}),w&&o.jsxs("p",{className:"text-xs opacity-75",children:["Auto-refresh: ",Math.floor(N/6e4)," min"]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx(Y,{onClick:()=>j(!w),variant:w?"default":"outline",size:"sm",className:"text-xs sm:text-sm",children:w?"🔄 Live":"📍 Manual"}),o.jsxs(Y,{onClick:()=>D(c),disabled:y,size:"sm",className:"text-xs sm:text-sm",children:[y?o.jsx(jn,{className:"h-3 w-3 sm:h-4 sm:w-4 animate-spin mr-1 sm:mr-2"}):o.jsx(jn,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),o.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]})]})]})]}),V&&o.jsx(q,{className:"border-2 border-primary/20 bg-gradient-to-r from-blue-50/50 to-purple-50/30",children:o.jsx(Q,{className:"py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:o.jsx(ua,{className:"h-5 w-5 text-primary"})}),o.jsx("div",{className:"absolute -top-0.5 -right-0.5 w-3 h-3 bg-green-500 rounded-full animate-pulse border-2 border-white"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xs text-muted-foreground",children:"Audit Analysis For:"}),o.jsx("span",{className:"text-sm font-bold text-primary",children:V.name})]}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[V.accountName," • ",x?`Updated ${x.toLocaleTimeString()}`:"No data"]})]})]}),f&&o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),o.jsx("span",{className:"text-xs font-medium text-green-700",children:"Live"})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(no,{className:"h-4 w-4 text-primary"}),o.jsxs("span",{className:"text-lg font-bold text-primary",children:[f.overall,"%"]})]})]})]})})}),o.jsxs(q,{className:"border-2 border-primary/40 shadow-lg",children:[o.jsxs(me,{className:"bg-primary/5 border-b border-border/60",children:[o.jsxs(ge,{className:"text-xl flex items-center gap-2",children:[o.jsx(ks,{className:"h-6 w-6 text-primary"}),"Select Business Profile to Audit"]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-base text-muted-foreground",children:"Choose which business profile you want to analyze"}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[G.length," of ",O.length," profiles available",(a==null?void 0:a.profileCount)&&o.jsxs("span",{className:"ml-2 text-primary font-medium",children:["(Plan: ",a.profileCount," profiles)"]})]})]})]}),o.jsxs(Q,{className:"space-y-4 pt-6",children:[o.jsx("div",{className:"w-full",children:o.jsxs(nn,{value:c,onValueChange:z=>{if(O.findIndex(F=>F.id===z)>=k){je({title:"Profile Locked",description:`This profile requires an upgrade. You have access to ${k} profile${k===1?"":"s"}.`,variant:"destructive"});return}u(z)},children:[o.jsx(qt,{className:"w-full h-14 text-base font-medium border-2 border-primary/40 bg-card hover:border-primary focus:ring-4 focus:ring-primary/20",children:o.jsx(rn,{placeholder:"Select a business profile to audit...",children:c&&(()=>{const z=O.find(H=>H.id===c);return z?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium",children:z.name}),o.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"})]}):null})()})}),o.jsxs(Yt,{children:[G.length>0&&o.jsxs(zD,{children:[o.jsx(N_,{children:"Available Profiles"}),G.map(z=>o.jsx(fe,{value:z.id,children:o.jsxs("div",{className:"flex items-center justify-between w-full",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"font-medium text-sm",children:z.name}),o.jsx("div",{className:"text-xs text-muted-foreground",children:z.accountName})]}),o.jsx("div",{className:"ml-2 w-2 h-2 bg-green-500 rounded-full flex-shrink-0"})]})},z.id))]}),U.length>0&&o.jsxs(o.Fragment,{children:[o.jsx(Az,{}),o.jsxs(zD,{children:[o.jsxs(N_,{className:"flex items-center gap-2",children:[o.jsx(Gc,{className:"h-3 w-3 text-yellow-600"}),"Locked Profiles (Upgrade Required)"]}),U.map(z=>o.jsx(fe,{value:z.id,disabled:!0,className:"opacity-60",children:o.jsxs("div",{className:"flex items-center justify-between w-full",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"font-medium text-sm text-gray-500",children:z.name}),o.jsx("div",{className:"text-xs text-muted-foreground",children:z.accountName})]}),o.jsxs("div",{className:"ml-2 flex items-center gap-1",children:[o.jsx(Gc,{className:"h-3 w-3 text-yellow-500"}),o.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full"})]})]})},z.id))]})]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[V&&o.jsx("div",{className:"p-4 bg-green-950/20 border-2 border-green-500/30 rounded-lg",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-green-400",children:"Selected Profile"}),o.jsx("p",{className:"text-sm text-green-300",children:V.name}),o.jsx("p",{className:"text-xs text-green-400/80",children:V.accountName})]}),o.jsx(Ee,{className:"bg-green-500/20 text-green-300 border border-green-500/40",children:"Active"})]})}),U.length>0&&o.jsx("div",{className:"p-4 bg-orange-950/20 border-2 border-orange-500/30 rounded-lg",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Gc,{className:"h-5 w-5 text-yellow-600"}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("h4",{className:"font-medium text-orange-300",children:[U.length," profile",U.length===1?"":"s"," locked"]}),o.jsxs("p",{className:"text-sm text-orange-400/90 mt-1",children:["Upgrade to audit all ",O.length," profiles"]})]}),o.jsxs(Y,{size:"sm",className:"flex items-center gap-2",onClick:()=>window.location.href="/dashboard/billing",children:[o.jsx(Gc,{className:"h-4 w-4"}),"Upgrade"]})]})})]})]})]}),!c&&o.jsxs(q,{className:"max-w-2xl mx-auto border-dashed border-2",children:[o.jsxs(me,{className:"text-center",children:[o.jsx("div",{className:"mx-auto mb-4 h-16 w-16 rounded-full bg-blue-100 flex items-center justify-center",children:o.jsx(ks,{className:"h-8 w-8 text-blue-600"})}),o.jsx(ge,{className:"text-xl",children:"Select a Business Profile"})]}),o.jsxs(Q,{className:"text-center",children:[o.jsx("p",{className:"text-muted-foreground mb-4",children:"Please select a business profile from the dropdown above to begin the audit analysis."}),o.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-blue-600",children:[o.jsx(ua,{className:"h-4 w-4"}),o.jsx("span",{children:"Ready to analyze your Google Business Profile performance"})]})]})]}),!f&&c&&!y&&o.jsxs(q,{className:"max-w-2xl mx-auto",children:[o.jsxs(me,{className:"text-center",children:[o.jsx("div",{className:"mx-auto mb-4 h-16 w-16 rounded-full bg-blue-100 flex items-center justify-center",children:o.jsx(pr,{className:"h-8 w-8 text-blue-600"})}),o.jsx(ge,{className:"text-xl",children:"Performance Data Unavailable"})]}),o.jsxs(Q,{className:"text-center space-y-4",children:[o.jsx("p",{className:"text-muted-foreground",children:"Unable to retrieve performance metrics for this business profile."}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-left",children:[o.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Common Reasons:"}),o.jsxs("ul",{className:"text-sm text-blue-800 space-y-2",children:[o.jsx("li",{children:"• Profile needs to be verified in Google Business Profile"}),o.jsx("li",{children:"• Insufficient historical data (requires 18+ months of activity)"}),o.jsx("li",{children:"• Profile doesn't meet eligibility requirements for Performance API"}),o.jsx("li",{children:"• Recent changes may take 24-48 hours to reflect"})]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(Y,{onClick:()=>window.open("https://business.google.com","_blank"),className:"flex-1",children:[o.jsx(on,{className:"h-4 w-4 mr-2"}),"Manage Profile"]}),o.jsxs(Y,{onClick:()=>D(c),disabled:y,variant:"outline",className:"flex-1",children:[o.jsx(jn,{className:`h-4 w-4 mr-2 ${y?"animate-spin":""}`}),"Retry"]})]})]})]}),f&&o.jsxs(qu,{defaultValue:"overview",className:"space-y-6",children:[o.jsxs(yc,{className:"grid w-full grid-cols-3",children:[o.jsx(dn,{value:"overview",children:"Overview"}),o.jsx(dn,{value:"performance",children:"Performance"}),o.jsx(dn,{value:"insights",children:"Insights"})]}),o.jsxs(hn,{value:"overview",className:"space-y-6",children:[o.jsx(q,{className:"border-2 border-blue-500/30 bg-blue-950/20",children:o.jsxs(Q,{className:"p-6",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center shadow-sm",children:o.jsxs("svg",{className:"w-7 h-7",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),o.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),o.jsx("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),o.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-foreground text-lg mb-1",children:"Google Search Rank"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg. position of your business on Google Search"})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:`text-5xl font-bold ${f.searchRank<=5?"text-green-500":f.searchRank<=10?"text-yellow-500":"text-red-500"}`,children:f.searchRank}),o.jsx("p",{className:`text-sm font-semibold mt-1 ${f.searchRank<=5?"text-green-500":f.searchRank<=10?"text-yellow-500":"text-red-500"}`,children:f.searchRank<=5?"Good":f.searchRank<=10?"Average":"Poor"})]})]}),o.jsxs("div",{className:"mt-6 flex items-center justify-between text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),o.jsx("span",{className:"text-foreground",children:"Good"}),o.jsx("span",{className:"text-muted-foreground",children:"Less than 5"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),o.jsx("span",{className:"text-foreground",children:"Average"}),o.jsx("span",{className:"text-muted-foreground",children:"Between 6-10"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),o.jsx("span",{className:"text-foreground",children:"Poor"}),o.jsx("span",{className:"text-muted-foreground",children:"Beyond 10"})]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx(q,{className:"border-2 border-border/60",children:o.jsx(Q,{className:"p-6",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold text-foreground",children:"Profile Completion"}),o.jsxs("div",{className:"flex items-end gap-3",children:[o.jsxs("div",{className:"text-5xl font-bold text-foreground",children:[f.profileCompletion,"%"]}),o.jsx("span",{className:`text-lg font-semibold mb-2 ${f.profileCompletion>=90?"text-green-600":f.profileCompletion>=70?"text-yellow-600":"text-red-500"}`,children:f.profileCompletion>=90?"Excellent":f.profileCompletion>=70?"Average":"Poor"})]}),o.jsxs("p",{className:"text-sm text-gray-600",children:[((ue=f.profileCompletionDetails)==null?void 0:ue.missingFields.length)||0," fields are missing"]})]})})}),o.jsx(q,{className:"border-2 border-border/60",children:o.jsx(Q,{className:"p-6",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold text-foreground",children:"SEO Score"}),o.jsxs("div",{className:"flex items-end gap-3",children:[o.jsxs("div",{className:"text-5xl font-bold text-foreground",children:[f.seoScore,"%"]}),o.jsx("span",{className:`text-lg font-semibold mb-2 ${f.seoScore>=80?"text-green-600":f.seoScore>=60?"text-yellow-600":"text-red-500"}`,children:f.seoScore>=80?"Good":f.seoScore>=60?"Average":"Poor"})]}),o.jsx("p",{className:"text-sm text-gray-600",children:(ee=f.seoDetails)!=null&&ee.hasKeywords?(re=f.seoDetails)!=null&&re.hasDescription?(be=f.seoDetails)!=null&&be.hasCategories?"All SEO elements present":"Categories missing":"Description missing":"Keywords missing"})]})})}),o.jsx(q,{className:"border-2 border-border/60",children:o.jsx(Q,{className:"p-6",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold text-foreground",children:"Review Score"}),o.jsxs("div",{className:"flex items-end gap-3",children:[o.jsxs("div",{className:"text-5xl font-bold text-foreground",children:[o.jsx("span",{children:((se=f.reviewDetails)==null?void 0:se.reviewsPerWeek.toFixed(1))||"0"}),o.jsx("span",{className:"text-2xl text-muted-foreground",children:"/week"})]}),o.jsx("span",{className:`text-lg font-semibold mb-2 ${f.reviewScore>=80?"text-green-600":f.reviewScore>=40?"text-yellow-600":"text-red-500"}`,children:f.reviewScore>=80?"Excellent":f.reviewScore>=40?"Average":"Poor"})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Ideal - 2 per week"})]})})}),o.jsx(q,{className:"border-2 border-border/60",children:o.jsx(Q,{className:"p-6",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold text-foreground",children:"Review Reply Score"}),o.jsxs("div",{className:"flex items-end gap-3",children:[o.jsxs("div",{className:"text-5xl font-bold text-foreground",children:[f.reviewReplyScore,"%"]}),o.jsx("span",{className:`text-lg font-semibold mb-2 ${f.reviewReplyScore>=80?"text-green-600":f.reviewReplyScore>=50?"text-yellow-600":"text-red-500"}`,children:f.reviewReplyScore>=80?"Excellent":f.reviewReplyScore>=50?"Average":"Poor"})]}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Ideal - above 80% (",((Ue=f.reviewDetails)==null?void 0:Ue.repliedReviews)||0,"/",((ae=f.reviewDetails)==null?void 0:ae.totalReviews)||0," replied)"]})]})})})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:d.length>0&&o.jsxs(o.Fragment,{children:[o.jsx(q,{className:"border-2 border-border/60",children:o.jsx(Q,{className:"p-4",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(dw,{className:"h-4 w-4 text-blue-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold",children:d.slice(-7).reduce((z,H)=>z+H.views,0)}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Views (7d)"})]})]})})}),o.jsx(q,{children:o.jsx(Q,{className:"p-4",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx($i,{className:"h-4 w-4 text-green-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold",children:d.slice(-7).reduce((z,H)=>z+H.impressions,0)}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Impressions (7d)"})]})]})})}),o.jsx(q,{children:o.jsx(Q,{className:"p-4",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Fp,{className:"h-4 w-4 text-orange-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold",children:d.slice(-7).reduce((z,H)=>z+H.calls,0)}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Calls (7d)"})]})]})})}),o.jsx(q,{children:o.jsx(Q,{className:"p-4",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(SP,{className:"h-4 w-4 text-purple-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold",children:d.slice(-7).reduce((z,H)=>z+H.websiteClicks,0)}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Website Clicks (7d)"})]})]})})}),o.jsx(q,{children:o.jsx(Q,{className:"p-4",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ks,{className:"h-4 w-4 text-red-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold",children:d.slice(-7).reduce((z,H)=>z+H.directionRequests,0)}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Directions (7d)"})]})]})})})]})})]}),o.jsxs(hn,{value:"performance",className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between border-b pb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(li,{className:"h-6 w-6 text-primary"}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold",children:"Performance"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Performance metrics for ",o.jsx("span",{className:"font-medium text-foreground",children:V==null?void 0:V.name})]})]})]}),o.jsx(Ee,{variant:"secondary",className:"px-3 py-1",children:V==null?void 0:V.accountName})]}),o.jsxs(q,{children:[o.jsx(me,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ge,{children:"Performance Trends (Last 30 Days)"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Track your business profile performance over time"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Y,{variant:I==="area"?"default":"outline",size:"sm",onClick:()=>P("area"),children:"Area"}),o.jsx(Y,{variant:I==="line"?"default":"outline",size:"sm",onClick:()=>P("line"),children:"Line"})]})]})}),o.jsx(Q,{children:d.length>0?o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"h-80",children:o.jsx(ao,{width:"100%",height:"100%",children:I==="area"?o.jsxs(bE,{data:d.map(z=>({...z,date:new Date(z.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})),margin:{top:5,right:30,left:20,bottom:5},children:[o.jsx(uo,{strokeDasharray:"3 3",className:"opacity-30"}),o.jsx(ho,{dataKey:"date",tick:{fontSize:12},interval:"preserveStartEnd"}),o.jsx(Ri,{tick:{fontSize:12}}),o.jsx(Ii,{contentStyle:{backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--border))",borderRadius:"6px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},labelStyle:{color:"hsl(var(--foreground))"}}),o.jsx(_s,{}),o.jsx(pl,{type:"monotone",dataKey:"views",stackId:"1",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6,name:"Views"}),o.jsx(pl,{type:"monotone",dataKey:"impressions",stackId:"2",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,name:"Impressions"}),o.jsx(pl,{type:"monotone",dataKey:"calls",stackId:"3",stroke:"#f59e0b",fill:"#f59e0b",fillOpacity:.6,name:"Calls"}),o.jsx(pl,{type:"monotone",dataKey:"websiteClicks",stackId:"4",stroke:"#8b5cf6",fill:"#8b5cf6",fillOpacity:.6,name:"Website Clicks"}),o.jsx(pl,{type:"monotone",dataKey:"directionRequests",stackId:"5",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,name:"Direction Requests"})]}):o.jsxs(Ap,{data:d.map(z=>({...z,date:new Date(z.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})),margin:{top:5,right:30,left:20,bottom:5},children:[o.jsx(uo,{strokeDasharray:"3 3",className:"opacity-30"}),o.jsx(ho,{dataKey:"date",tick:{fontSize:12},interval:"preserveStartEnd"}),o.jsx(Ri,{tick:{fontSize:12}}),o.jsx(Ii,{contentStyle:{backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--border))",borderRadius:"6px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},labelStyle:{color:"hsl(var(--foreground))"}}),o.jsx(_s,{}),o.jsx(ri,{type:"monotone",dataKey:"views",stroke:"#3b82f6",strokeWidth:2,dot:{r:4},name:"Views"}),o.jsx(ri,{type:"monotone",dataKey:"impressions",stroke:"#10b981",strokeWidth:2,dot:{r:4},name:"Impressions"}),o.jsx(ri,{type:"monotone",dataKey:"calls",stroke:"#f59e0b",strokeWidth:2,dot:{r:4},name:"Calls"}),o.jsx(ri,{type:"monotone",dataKey:"websiteClicks",stroke:"#8b5cf6",strokeWidth:2,dot:{r:4},name:"Website Clicks"}),o.jsx(ri,{type:"monotone",dataKey:"directionRequests",stroke:"#ef4444",strokeWidth:2,dot:{r:4},name:"Direction Requests"})]})})}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mt-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:(d.reduce((z,H)=>z+H.views,0)/d.length).toFixed(0)}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Daily Views"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-green-600",children:(d.reduce((z,H)=>z+H.impressions,0)/d.length).toFixed(0)}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Daily Impressions"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-orange-600",children:(d.reduce((z,H)=>z+H.calls,0)/d.length).toFixed(1)}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Daily Calls"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-purple-600",children:(d.reduce((z,H)=>z+H.websiteClicks,0)/d.length).toFixed(1)}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Daily Clicks"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-red-600",children:(d.reduce((z,H)=>z+H.directionRequests,0)/d.length).toFixed(1)}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Daily Directions"})]})]})]}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx(ua,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),o.jsx("p",{className:"text-muted-foreground",children:"No performance data available"})]})})]})]}),o.jsxs(hn,{value:"insights",className:"space-y-4 sm:space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between border-b pb-4 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx(no,{className:"h-5 w-5 sm:h-6 sm:w-6 text-primary"}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg sm:text-xl font-semibold",children:"Insights"}),o.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:["Business insights for ",o.jsx("span",{className:"font-medium text-foreground",children:V==null?void 0:V.name})]})]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[o.jsx(Y,{onClick:J,disabled:S||!d||d.length===0,size:"sm",className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-xs sm:text-sm",children:S?o.jsxs(o.Fragment,{children:[o.jsx(jn,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2 animate-spin"}),o.jsx("span",{className:"hidden sm:inline",children:"Analyzing..."}),o.jsx("span",{className:"sm:hidden",children:"..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(no,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),o.jsx("span",{className:"hidden sm:inline",children:"Generate AI Insights"}),o.jsx("span",{className:"sm:hidden",children:"Insights"})]})}),o.jsx(Ee,{variant:"secondary",className:"px-2 sm:px-3 py-1 text-xs",children:V==null?void 0:V.accountName})]})]}),E&&o.jsxs(q,{className:"border-2 border-blue-200 bg-white shadow-lg",children:[o.jsxs(me,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-b",children:[o.jsxs(ge,{className:"flex flex-wrap items-center gap-2 text-gray-900 text-base sm:text-lg",children:[o.jsx(no,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600"}),o.jsx("span",{className:"text-sm sm:text-base",children:"AI-Powered Insights"}),o.jsx(Ee,{className:"bg-blue-600 text-white text-xs",children:"GPT-4"})]}),o.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:["Expert recommendations for ",V==null?void 0:V.name]})]}),o.jsx(Q,{className:"pt-4 sm:pt-6",children:o.jsx("div",{className:"space-y-4 sm:space-y-6",children:E.split(`

`).map((z,H)=>{var pe;const F=z.split(`
`),te=(pe=F[0])==null?void 0:pe.trim(),le=F.slice(1);return te?o.jsxs("div",{className:"space-y-2",children:[o.jsx("h3",{className:"font-semibold text-xs sm:text-sm text-blue-900 uppercase tracking-wide",children:te}),o.jsx("div",{className:"text-xs sm:text-sm text-gray-700 space-y-1 pl-1",children:le.map((Re,Le)=>o.jsx("div",{className:Re.trim().startsWith("•")||Re.trim().match(/^\d\./)?"ml-2":"",children:Re},Le))})]},H):null})})})]}),!E&&!S&&o.jsx(q,{className:"border-2 border-dashed border-blue-200",children:o.jsxs(Q,{className:"py-8 sm:py-12 text-center px-4",children:[o.jsx("div",{className:"mx-auto mb-3 sm:mb-4 h-12 w-12 sm:h-16 sm:w-16 rounded-full bg-blue-100 flex items-center justify-center",children:o.jsx(no,{className:"h-6 w-6 sm:h-8 sm:w-8 text-blue-600"})}),o.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2",children:"Get AI-Powered Insights"}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mb-4 max-w-md mx-auto",children:"Get a concise analysis with key strengths, areas to improve, and top 3 actions to boost your profile performance."}),o.jsxs(Y,{onClick:J,disabled:!d||d.length===0,className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 w-full sm:w-auto",size:"sm",children:[o.jsx(no,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-2"}),o.jsx("span",{className:"text-sm sm:text-base",children:"Generate Insights"})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(q,{children:[o.jsxs(me,{children:[o.jsx(ge,{className:"flex items-center gap-2",children:w?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),"Real-time Monitoring"]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-3 h-3 bg-gray-400 rounded-full"}),"Manual Updates"]})}),o.jsx("p",{className:"text-sm text-muted-foreground",children:w?"Data automatically refreshes every 5 minutes":"Click refresh to update data manually"})]}),o.jsxs(Q,{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm",children:"Data Source"}),o.jsx(Ee,{variant:"outline",children:"Google Business Profile API"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm",children:"Update Frequency"}),o.jsx("span",{className:"text-sm font-medium",children:w?`${Math.floor(N/6e4)} minutes`:"Manual"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm",children:"Last Refresh"}),o.jsx("span",{className:"text-sm font-medium",children:x?x.toLocaleTimeString():"Never"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm",children:"Data Points"}),o.jsxs("span",{className:"text-sm font-medium",children:[d.length," days"]})]})]})]}),o.jsxs(q,{children:[o.jsxs(me,{children:[o.jsx(ge,{children:"Performance Summary"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Key metrics overview (last 7 days)"})]}),o.jsx(Q,{className:"space-y-3",children:d.length>0&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm",children:"Total Views"}),o.jsx("span",{className:"text-lg font-bold text-blue-600",children:d.slice(-7).reduce((z,H)=>z+H.views,0)})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm",children:"Impressions"}),o.jsx("span",{className:"text-lg font-bold text-green-600",children:d.slice(-7).reduce((z,H)=>z+H.impressions,0)})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm",children:"Customer Actions"}),o.jsx("span",{className:"text-lg font-bold text-purple-600",children:d.slice(-7).reduce((z,H)=>z+H.calls+H.websiteClicks+H.directionRequests,0)})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm",children:"View Rate"}),o.jsxs("span",{className:"text-lg font-bold text-orange-600",children:[(d.slice(-7).reduce((z,H)=>z+H.views,0)/d.slice(-7).reduce((z,H)=>z+H.impressions,0)*100).toFixed(1),"%"]})]})]})})]})]}),o.jsxs(q,{children:[o.jsxs(me,{children:[o.jsx(ge,{children:"Business Insights"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"AI-powered insights about your Google Business Profile performance"})]}),o.jsxs(Q,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[o.jsx("h4",{className:"font-medium",children:"Visibility Trend"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Your profile visibility has been ",d.length>14?d.slice(-7).reduce((z,H)=>z+H.views,0)>d.slice(-14,-7).reduce((z,H)=>z+H.views,0)?"increasing 📈":"decreasing 📉":"stable 📋"," over the past week."]}),d.length>14&&o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Change: ",((d.slice(-7).reduce((z,H)=>z+H.views,0)-d.slice(-14,-7).reduce((z,H)=>z+H.views,0))/d.slice(-14,-7).reduce((z,H)=>z+H.views,0)*100).toFixed(1),"% vs. previous week"]})]}),o.jsxs("div",{className:"border-l-4 border-green-500 pl-4",children:[o.jsx("h4",{className:"font-medium",children:"Customer Actions"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Customers are most likely to ",d.length>0&&(d.slice(-7).reduce((z,H)=>z+H.calls,0)>d.slice(-7).reduce((z,H)=>z+H.websiteClicks,0)?"call your business 📞":"visit your website 🌐")," after viewing your profile."]}),d.length>0&&o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Action rate: ",(d.slice(-7).reduce((z,H)=>z+H.calls+H.websiteClicks+H.directionRequests,0)/d.slice(-7).reduce((z,H)=>z+H.views,0)*100).toFixed(1),"% of viewers take action"]})]}),o.jsxs("div",{className:"border-l-4 border-orange-500 pl-4",children:[o.jsx("h4",{className:"font-medium",children:"Optimization Opportunity"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:f.overall<80?"Improve your business profile performance to increase visibility. 🎯":"Your profile is performing well. Keep up the great work! ✅"}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Overall score: ",f.overall,"%"]})]}),o.jsxs("div",{className:"border-l-4 border-purple-500 pl-4",children:[o.jsx("h4",{className:"font-medium",children:"Industry Benchmark"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Your engagement rate is ",f.engagement>60?"above 🚀":"below 📉"," industry average.",f.engagement>60?" Keep up the great work!":" Consider posting more engaging content."]}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Engagement score: ",f.engagement,"% (target: 60%+)"]})]})]}),o.jsxs("div",{className:"mt-6 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg border",children:[o.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[o.jsx(no,{className:"h-4 w-4"}),"Quick Win Recommendations"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(on,{className:"h-4 w-4 text-green-500"}),o.jsx("span",{children:"Post 2-3 times weekly"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(on,{className:"h-4 w-4 text-green-500"}),o.jsx("span",{children:"Respond to all reviews"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(on,{className:"h-4 w-4 text-green-500"}),o.jsx("span",{children:"Add 5+ photos monthly"})]})]})]})]})]})]})]})]})},SMe=()=>{const t=Zt();return p.useEffect(()=>{t("/dashboard/billing")},[t]),o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-muted-foreground",children:"Redirecting to billing page..."})})})},_Me=()=>{const[t,e]=p.useState(!1),[n,r]=p.useState([]),[s,i]=p.useState(!1),[a,l]=p.useState(!1),{subscription:c,status:u,daysRemaining:d,plans:h,cancelSubscription:f,isLoading:m}=Dr();Hn(),ps();const y="http://localhost:5000";p.useEffect(()=>{if(c!=null&&c.gbpAccountId&&(v(),(c==null?void 0:c.status)==="active"&&(c!=null&&c.lastPaymentDate))){const w=new Date(c.lastPaymentDate),j=new Date(Date.now()-5*60*1e3);w>j&&(l(!0),setTimeout(()=>l(!1),1e4))}},[c]);const v=async()=>{if(c!=null&&c.gbpAccountId){i(!0);try{const w=await fetch(`${y}/api/payment/subscription/${c.gbpAccountId}/payments`);if(w.ok){const N=(await w.json()).payments||(c==null?void 0:c.paymentHistory)||[];r(N)}}catch(w){console.error("Error fetching payment history:",w),c!=null&&c.paymentHistory&&r(c.paymentHistory)}finally{i(!1)}}},x=w=>{switch(w){case"trial":return o.jsx(Ee,{className:"bg-blue-100 text-blue-800",children:"Free Trial"});case"active":return o.jsx(Ee,{className:"bg-green-100 text-green-800",children:"Active"});case"expired":return o.jsx(Ee,{className:"bg-red-100 text-red-800",children:"Expired"});case"cancelled":return o.jsx(Ee,{className:"bg-gray-100 text-gray-800",children:"Cancelled"});default:return o.jsx(Ee,{children:"No Subscription"})}},b=c!=null&&c.planId?h.find(w=>w.id===c.planId):null;return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold",children:"Billing & Subscription"}),o.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your subscription and payment details"})]}),a&&o.jsxs(lu,{className:"bg-green-50 border-green-200",children:[o.jsx(Ql,{className:"h-4 w-4 text-green-600"}),o.jsxs(cu,{className:"text-green-800",children:[o.jsx("strong",{children:"Congratulations!"})," Your subscription has been successfully upgraded. All premium features are now unlocked!"]})]}),o.jsxs(q,{className:u==="active"?"border-2 border-green-500 ring-4 ring-green-200 shadow-xl rounded-2xl":"border-2 border-blue-500 shadow-lg rounded-2xl",children:[o.jsxs(me,{children:[o.jsxs(ge,{className:"flex items-center space-x-2",children:[o.jsx("span",{children:"Current Subscription"}),u==="active"&&o.jsx(on,{className:"h-5 w-5 text-green-500"})]}),o.jsx(Je,{children:"Your active plan and billing details"})]}),o.jsxs(Q,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"font-medium",children:"Status:"}),x(u)]}),d!==null&&u==="trial"&&o.jsxs("p",{className:"text-sm text-muted-foreground",children:[d," days remaining in your free trial"]}),u==="active"&&(c==null?void 0:c.subscriptionEndDate)&&o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Next billing date: ",Cn(new Date(c.subscriptionEndDate),"MMM dd, yyyy")]})]}),u==="expired"||u==="none"?o.jsxs(Y,{onClick:()=>e(!0),children:[o.jsx(Gn,{className:"mr-2 h-4 w-4"}),"Get Started"]}):u==="trial"?o.jsxs(Y,{variant:"outline",onClick:()=>e(!0),children:[o.jsx(Gn,{className:"mr-2 h-4 w-4"}),"Upgrade to Pro"]}):u==="active"?o.jsxs(Y,{variant:"outline",onClick:()=>e(!0),children:[o.jsx(Gn,{className:"mr-2 h-4 w-4"}),"Upgrade Plan"]}):null]}),b&&u==="active"&&o.jsxs("div",{className:"border-t pt-4",children:[o.jsxs("div",{className:"bg-green-50 rounded-lg p-4 mb-3",children:[o.jsx("h4",{className:"font-semibold text-green-900 mb-1",children:b.name}),o.jsx("p",{className:"text-sm text-green-700",children:"Your premium plan is active"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Billing Amount:"}),o.jsxs("p",{className:"font-medium text-lg",children:["₹",b.amount,"/",b.interval]})]}),(c==null?void 0:c.lastPaymentDate)&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Last Payment:"}),o.jsx("p",{className:"font-medium",children:Cn(new Date(c.lastPaymentDate),"MMM dd, yyyy")})]}),(c==null?void 0:c.subscriptionStartDate)&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Started:"}),o.jsx("p",{className:"font-medium",children:Cn(new Date(typeof c.subscriptionStartDate=="string"?c.subscriptionStartDate:c.subscriptionStartDate.seconds*1e3),"MMM dd, yyyy")})]}),(c==null?void 0:c.subscriptionEndDate)&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Next Billing:"}),o.jsx("p",{className:"font-medium",children:Cn(new Date(c.subscriptionEndDate),"MMM dd, yyyy")})]})]}),o.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Premium Features Unlocked:"})," Unlimited Google Business Profiles, unlimited posts, priority support"]})})]}),u==="trial"&&b&&o.jsxs("div",{className:"border-t pt-4",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Trial Plan"}),o.jsxs("p",{className:"text-sm text-muted-foreground mb-3",children:["Enjoying full access during your ",d,"-day trial period"]})]})]})]}),o.jsxs(qu,{defaultValue:"plans",className:"space-y-4",children:[o.jsxs(yc,{children:[o.jsx(dn,{value:"plans",children:"Available Plans"}),o.jsx(dn,{value:"history",children:"Payment History"})]}),o.jsx(hn,{value:"plans",className:"space-y-4",children:o.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 mt-8",children:[h.map(w=>o.jsxs("div",{className:"relative pt-6",children:[(b==null?void 0:b.id)===w.id&&o.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 z-10",children:o.jsx("div",{className:"bg-gradient-to-r from-green-600 to-green-700 text-white px-4 py-1.5 rounded-full text-xs font-bold shadow-lg whitespace-nowrap",children:"CURRENT PLAN"})}),o.jsxs(q,{className:`transition-all duration-300 rounded-2xl ${(b==null?void 0:b.id)===w.id?"border-2 border-green-500 ring-4 ring-green-200 shadow-xl":"border-2 border-blue-500 shadow-lg"}`,children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(ge,{className:"text-lg",children:w.name}),w.id==="pro_yearly"&&o.jsx(Ee,{className:"bg-green-100 text-green-800",children:"Best Value"})]}),o.jsxs(Je,{className:"text-2xl font-bold text-foreground mt-2",children:["₹",w.amount]})]}),o.jsxs(Q,{children:[o.jsx("ul",{className:"space-y-2",children:w.features.map((j,N)=>o.jsxs("li",{className:"flex items-start space-x-2",children:[o.jsx(on,{className:"h-4 w-4 text-green-500 mt-0.5"}),o.jsx("span",{className:"text-sm",children:j})]},N))}),(b==null?void 0:b.id)!==w.id&&o.jsx(Y,{className:"w-full mt-4",onClick:()=>e(!0),children:u==="active"?"Switch to this Plan":"Get Started"}),(b==null?void 0:b.id)===w.id&&o.jsx("div",{className:"mt-4 text-center text-sm text-muted-foreground",children:"Current Plan"})]})]})]},w.id)),o.jsx("div",{className:"relative pt-6",children:o.jsxs(q,{className:"bg-gradient-to-br from-slate-800 to-slate-900 border-2 border-blue-500 shadow-xl rounded-2xl",children:[o.jsx(me,{className:"border-b border-slate-700 pb-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"h-14 w-14 bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl flex items-center justify-center shadow-lg",children:o.jsx(eZ,{className:"h-7 w-7 text-white"})}),o.jsxs("div",{children:[o.jsx(ge,{className:"text-2xl text-white font-bold",children:"Need Help?"}),o.jsx(Je,{className:"text-slate-300 mt-1 font-medium",children:"We're here to assist you with any questions or concerns"})]})]})}),o.jsxs(Q,{className:"space-y-4 pt-6",children:[o.jsx("p",{className:"text-sm text-slate-300 leading-relaxed font-medium",children:"Our support team is ready to help you get the most out of your subscription. Reach out to us through any of the following channels:"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-800/50 rounded-xl border-2 border-blue-500/30",children:[o.jsx("div",{className:"h-12 w-12 bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md",children:o.jsx(wa,{className:"h-6 w-6 text-white"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-bold text-white mb-1",children:"Email Support"}),o.jsx("a",{href:"mailto:Support@googleranker.com",className:"text-sm text-blue-400 hover:text-blue-300 font-semibold hover:underline break-all",children:"Support@googleranker.com"})]})]}),o.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-800/50 rounded-xl border-2 border-green-500/30",children:[o.jsx("div",{className:"h-12 w-12 bg-gradient-to-br from-green-600 to-green-700 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md",children:o.jsx(oZ,{className:"h-6 w-6 text-white"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-bold text-white mb-1",children:"WhatsApp Support"}),o.jsx("a",{href:"https://wa.me/917710616166",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-green-400 hover:text-green-300 font-semibold hover:underline",children:"+91 7710616166"})]})]})]}),o.jsx("div",{className:"mt-4 p-4 bg-slate-800/50 rounded-xl border-2 border-slate-600",children:o.jsxs("p",{className:"text-xs text-slate-300 leading-relaxed font-medium",children:[o.jsx("strong",{className:"text-white font-bold",children:"Response Time:"})," We typically respond within 24 hours on business days. Premium subscribers receive priority support."]})})]})]})})]})}),o.jsx(hn,{value:"history",className:"space-y-4",children:o.jsxs(q,{className:"border-2 border-blue-500 shadow-lg rounded-2xl",children:[o.jsxs(me,{children:[o.jsx(ge,{children:"Payment History"}),o.jsx(Je,{children:"Your past transactions and invoices"})]}),o.jsx(Q,{children:s?o.jsx("div",{className:"flex items-center justify-center py-8",children:o.jsx(jn,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):n.length>0?o.jsx("div",{className:"space-y-3",children:n.map((w,j)=>o.jsxs("div",{className:"flex items-center justify-between py-3 border-b last:border-0",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[w.status==="success"?o.jsx(on,{className:"h-5 w-5 text-green-500"}):w.status==="failed"?o.jsx(ux,{className:"h-5 w-5 text-red-500"}):o.jsx(Ms,{className:"h-5 w-5 text-yellow-500"}),o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium",children:["₹",w.amount]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:w.paidAt?Cn(new Date(w.paidAt),"MMM dd, yyyy HH:mm"):w.createdAt?Cn(new Date(typeof w.createdAt=="string"?w.createdAt:w.createdAt.seconds*1e3),"MMM dd, yyyy"):"Date not available"}),w.description&&o.jsx("p",{className:"text-xs text-muted-foreground",children:w.description})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ee,{variant:w.status==="success"?"default":w.status==="failed"?"destructive":"secondary",children:w.status}),w.razorpayPaymentId&&o.jsx(Y,{variant:"ghost",size:"sm",children:o.jsx(rR,{className:"h-4 w-4"})})]})]},w.razorpayPaymentId||j))}):o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(rR,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),o.jsx("p",{children:"No payment history yet"})]})})]})})]}),o.jsx(NC,{isOpen:t,onClose:()=>e(!1)})]})},zL=()=>{const{toast:t}=ps(),{locationId:e}=HF(),[n]=Qre(),[r,s]=p.useState(null),[i,a]=p.useState(!0),l=(r==null?void 0:r.locationName)||n.get("business")||"Business",c=(r==null?void 0:r.address)||n.get("location")||"Location";r!=null&&r.placeId||n.get("placeId");const u=(r==null?void 0:r.googleReviewLink)||n.get("googleReviewLink")||"";console.log("🔍 PUBLIC REVIEW PAGE LOADED:"),console.log("🔍 Full URL:",window.location.href),console.log("🔍 Location ID from params:",e),console.log("🔍 Search params string:",window.location.search),console.log("🔍 Business Name:",l),console.log("🔍 Location:",c),console.log("🔍 Google Review Link:",u),console.log("🔍 All URL parameters:"),n.forEach((A,S)=>{console.log(`  ${S}: ${A}`)});const[d,h]=p.useState([]),[f,m]=p.useState(!0),[y,v]=p.useState(null),[x,b]=p.useState(!0),w="http://localhost:5000",j=async()=>{if(!e){console.log("🔍 No location ID provided, using URL parameters only"),a(!1);return}try{console.log("🔍 Fetching QR code data for location:",e);const A=new AbortController,S=setTimeout(()=>A.abort(),5e3),C=await fetch(`${w}/api/qr-codes/${e}`,{signal:A.signal});if(clearTimeout(S),C.ok){const O=await C.json();console.log("✅ QR code data received:",O),s(O.qrCode)}else console.log("⚠️ QR code not found, using URL parameters as fallback")}catch(A){console.log("⚠️ Error fetching QR code data (using fallback):",A.message)}finally{a(!1)}};p.useEffect(()=>{j(),N();const A=()=>{window.scrollY>100&&b(!1)};return window.addEventListener("scroll",A),()=>window.removeEventListener("scroll",A)},[e]);const N=async()=>{const A=T();h(A),m(!1);try{console.log("Loading fallback reviews instantly, fetching AI reviews in background...");const S=new AbortController,C=setTimeout(()=>S.abort(),2e3),O=await fetch(`${w}/api/ai-reviews/generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({businessName:decodeURIComponent(l),location:decodeURIComponent(c),businessType:"business"}),signal:S.signal});if(clearTimeout(C),O.ok){const k=await O.json();console.log("✅ AI reviews loaded, replacing fallback reviews"),h(k.suggestions||A)}else console.log("AI reviews failed, keeping fallback reviews")}catch(S){console.log("AI reviews timeout/error, keeping fallback reviews:",S.message)}},T=()=>{const A=decodeURIComponent(l),S=decodeURIComponent(c),C=S&&S!=="Location"?` in ${S}`:"";return[{id:"fallback_1",review:`Great experience at ${A}${C}! The service was excellent and the staff was very professional. I would definitely recommend this business to others. Thank you for the wonderful service!`,rating:5,focus:"service",length:"medium",keywords:["service","professional","recommend"]},{id:"fallback_2",review:`${A} provided exactly what I was looking for. The quality was outstanding and the attention to detail was impressive. Will definitely be returning as a satisfied customer.`,rating:4,focus:"quality",length:"medium",keywords:["quality","outstanding","satisfied"]},{id:"fallback_3",review:`Highly recommend ${A}${C}! The team was friendly, knowledgeable, and went above and beyond to help. Excellent customer service all around.`,rating:5,focus:"staff",length:"medium",keywords:["friendly","knowledgeable","customer service"]},{id:"fallback_4",review:`Amazing atmosphere at ${A}! The environment is welcoming and comfortable. Perfect place for what I needed. The overall experience exceeded my expectations completely.`,rating:5,focus:"atmosphere",length:"medium",keywords:["atmosphere","welcoming","comfortable"]},{id:"fallback_5",review:`Good value for money at ${A}${C}. Fair pricing and quality service. Would return for their reliable and consistent performance. Definitely worth visiting.`,rating:4,focus:"value",length:"medium",keywords:["value","fair pricing","reliable"]}]},I=async(A,S)=>{try{await navigator.clipboard.writeText(A),v(S),t({title:"Review Copied!",description:"You can now paste this review on Google."}),setTimeout(()=>v(null),2e3)}catch{t({title:"Error",description:"Failed to copy. Please try selecting and copying manually.",variant:"destructive"})}},P=()=>{if(console.log("🚀 BUTTON CLICKED: Write Review on Google button clicked!"),console.log("🔍 QR Code Data:",r),console.log("🔍 Google review link from QR data:",r==null?void 0:r.googleReviewLink),console.log("🔍 Google review link from URL params:",n.get("googleReviewLink")),console.log("🔍 Final googleReviewLink being used:",u),u&&u!=="undefined"&&u!==""&&u!=="null")try{let A=u;if(r&&r.googleReviewLink)console.log("✅ Using Google review link from QR code data (no decoding needed)"),A=r.googleReviewLink;else{console.log("🔄 Using Google review link from URL params (decoding needed)");try{if(A=decodeURIComponent(u),A.includes("%2F")||A.includes("%3A"))try{A=decodeURIComponent(A)}catch(C){console.error("❌ Second decodeURIComponent failed:",C)}}catch(C){console.error("❌ decodeURIComponent failed:",C),console.error("❌ Raw googleReviewLink causing error:",u),t({title:"Invalid Review Link",description:"The review link appears to be truncated. Please try generating a new QR code.",variant:"destructive"});return}}console.log("🎯 Final Google review link:",A),(A.includes("g.page")||A.includes("google.com")||A.includes("maps.app.goo.gl")||A.includes("search.google.com/local/writereview"))&&(A.startsWith("http://")||A.startsWith("https://"))?(console.log("✅ Opening Google review link:",A),window.open(A,"_blank","noopener,noreferrer")||(window.location.href=A)):(console.error("❌ Invalid or non-Google URL:",A),t({title:"Invalid Review Link",description:"The review link format is invalid. Please contact the business.",variant:"destructive"}))}catch(A){console.error("❌ Unexpected error in redirectToGoogleReviews:",A),t({title:"Error",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}else{const A=n.get("placeId");if(A){const S=`https://search.google.com/local/writereview?placeid=${A}`;console.log("🔄 Using fallback Google review URL:",S),window.open(S,"_blank","noopener,noreferrer")}else console.log("❌ No valid review link or place ID found"),t({title:"Review Link Not Available",description:"Please contact the business for their review link.",variant:"destructive"})}},E=A=>Array.from({length:5}).map((S,C)=>o.jsx(ai,{className:`h-5 w-5 ${C<A?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},C));return o.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white",children:[o.jsx("div",{className:"bg-white shadow-sm border-b sticky top-0 z-10",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ml,{className:"h-8 w-8 text-primary"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold",children:decodeURIComponent(l)}),o.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[o.jsx(ks,{className:"h-3 w-3"}),o.jsx("span",{children:decodeURIComponent(c)})]})]})]})})})}),o.jsx("div",{className:"container mx-auto px-4 py-8",children:o.jsx(q,{className:"bg-gradient-to-r from-primary to-blue-600 text-white border-0",children:o.jsxs(Q,{className:"p-8 text-center",children:[o.jsx(Ql,{className:"h-12 w-12 mx-auto mb-4"}),o.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Share Your Experience!"}),o.jsx("p",{className:"text-lg mb-6 opacity-90",children:"Your feedback helps us improve and helps others discover our business. Choose a review suggestion below or write your own!"}),x&&o.jsx("div",{className:"animate-bounce mt-4",children:o.jsx(yy,{className:"h-8 w-8 mx-auto"})})]})})}),o.jsxs("div",{className:"container mx-auto px-4 pb-8",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Review Suggestions"}),o.jsx("p",{className:"text-muted-foreground",children:'Click on any suggestion to copy it, then click "Write Review" below and paste it in the Google review text box'})]}),f?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"text-center py-8",children:[o.jsx(jn,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-primary"}),o.jsx("p",{className:"text-lg font-medium",children:"Generating personalized review suggestions..."}),o.jsx("p",{className:"text-muted-foreground mt-2",children:"This may take a few seconds"})]}),Array.from({length:5}).map((A,S)=>o.jsx(q,{className:"animate-pulse",children:o.jsxs(Q,{className:"p-6",children:[o.jsx("div",{className:"h-4 bg-muted rounded w-1/4 mb-3"}),o.jsx("div",{className:"h-3 bg-muted rounded w-full mb-2"}),o.jsx("div",{className:"h-3 bg-muted rounded w-3/4"})]})},S))]}):o.jsx("div",{className:"space-y-4",children:d.map(A=>o.jsx(q,{className:"hover:shadow-lg transition-all cursor-pointer border-2 hover:border-primary/50",onClick:()=>I(A.review,A.id),children:o.jsxs(Q,{className:"p-6",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[E(A.rating),o.jsx(Ee,{variant:"secondary",children:A.focus})]}),o.jsx(Y,{size:"sm",variant:"ghost",className:"hover:bg-transparent",onClick:S=>{S.stopPropagation(),I(A.review,A.id)},children:y===A.id?o.jsx(Ll,{className:"h-5 w-5 text-green-500"}):o.jsx(uw,{className:"h-5 w-5"})})]}),o.jsx("p",{className:"text-gray-700 leading-relaxed",children:A.review}),A.keywords&&A.keywords.length>0&&o.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[o.jsx("span",{className:"text-xs text-gray-500",children:"Keywords:"}),A.keywords.map((S,C)=>o.jsx(Ee,{variant:"outline",className:"text-xs",children:S},C))]}),y===A.id&&o.jsx("div",{className:"mt-3 p-2 bg-green-50 rounded-md",children:o.jsx("p",{className:"text-sm text-green-700 font-medium",children:'✓ Copied! Now click "Write Review on Google" below and paste (Ctrl+V) in the text box'})})]})},A.id))})]}),o.jsx("div",{className:"sticky bottom-0 bg-white border-t shadow-lg",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs(Y,{onClick:P,size:"lg",className:"w-full bg-gradient-to-r from-primary to-blue-600 hover:from-primary/90 hover:to-blue-600/90 text-lg py-6",children:[o.jsx(ba,{className:"mr-2 h-5 w-5"}),"Write Review on Google",o.jsx(bP,{className:"ml-2 h-4 w-4"})]})})})]})},Xr="http://localhost:5000",Kq=p.createContext(void 0),Vo=()=>{const t=p.useContext(Kq);if(t===void 0)throw new Error("useAdmin must be used within an AdminProvider");return t},EMe=({children:t})=>{const{currentUser:e}=Hn(),[n,r]=p.useState(!1),[s,i]=p.useState(null),[a,l]=p.useState(!0),[c,u]=p.useState(null),[d,h]=p.useState([]),[f,m]=p.useState([]),[y,v]=p.useState([]),[x,b]=p.useState([]),[w,j]=p.useState(null),[N,T]=p.useState([]),[I,P]=p.useState(null);p.useEffect(()=>{(async()=>{if(!e){r(!1),i(null),l(!1);return}try{const re=await e.getIdTokenResult(!0),be=re.claims.role,se=re.claims.adminLevel;console.log("[AdminContext] Token claims:",{role:be,level:se}),r(be==="admin"),i(se||"viewer")}catch(re){console.error("Error checking admin status:",re),r(!1),i(null)}finally{l(!1)}})()},[e]);const E=async()=>{if(!e)throw new Error("Not authenticated");return{Authorization:`Bearer ${await e.getIdToken(!0)}`,"Content-Type":"application/json"}},A=async()=>{try{const ee=await E(),re=await fetch(`${Xr}/api/admin/dashboard/stats`,{headers:ee});if(!re.ok)throw new Error("Failed to fetch dashboard stats");const be=await re.json();u(be.data)}catch(ee){console.error("Error fetching dashboard stats:",ee),je({title:"Error",description:ee.message||"Failed to fetch dashboard statistics",variant:"destructive"})}},S=async(ee={})=>{try{const re=await E(),be=new URLSearchParams(ee).toString(),se=await fetch(`${Xr}/api/admin/users?${be}`,{headers:re});if(!se.ok)throw new Error("Failed to fetch users");const Ue=await se.json();h(Ue.data.users||[])}catch(re){console.error("Error fetching users:",re),je({title:"Error",description:re.message||"Failed to fetch users",variant:"destructive"})}},C=async()=>{try{const ee=await E(),re=await fetch(`${Xr}/api/admin/subscriptions`,{headers:ee});if(!re.ok)throw new Error("Failed to fetch subscriptions");const be=await re.json();m(be.data||[])}catch(ee){console.error("Error fetching subscriptions:",ee),je({title:"Error",description:ee.message||"Failed to fetch subscriptions",variant:"destructive"})}},O=async()=>{try{const ee=await E(),re=await fetch(`${Xr}/api/admin/payments`,{headers:ee});if(!re.ok)throw new Error("Failed to fetch payments");const be=await re.json();v(be.data||[])}catch(ee){console.error("Error fetching payments:",ee),je({title:"Error",description:ee.message||"Failed to fetch payments",variant:"destructive"})}},k=async()=>{try{const ee=await E(),re=await fetch(`${Xr}/api/admin/coupons`,{headers:ee});if(!re.ok)throw new Error("Failed to fetch coupons");const be=await re.json();b(be.data||[])}catch(ee){console.error("Error fetching coupons:",ee),je({title:"Error",description:ee.message||"Failed to fetch coupons",variant:"destructive"})}},ue={isAdmin:n,adminLevel:s,isLoading:a,dashboardStats:c,users:d,subscriptions:f,payments:y,coupons:x,analytics:w,auditLogs:N,auditStats:I,fetchDashboardStats:A,fetchUsers:S,fetchSubscriptions:C,fetchPayments:O,fetchCoupons:k,fetchAnalytics:async(ee="30days")=>{try{const re=await E(),be=await fetch(`${Xr}/api/admin/analytics/revenue?timeRange=${ee}`,{headers:re});if(!be.ok)throw new Error("Failed to fetch analytics");const se=await be.json();j(se.data)}catch(re){console.error("Error fetching analytics:",re),je({title:"Error",description:re.message||"Failed to fetch analytics",variant:"destructive"})}},fetchAuditLogs:async(ee={})=>{try{const re=await E(),be=new URLSearchParams(ee).toString(),se=await fetch(`${Xr}/api/admin/audit-logs?${be}`,{headers:re});if(!se.ok)throw new Error("Failed to fetch audit logs");const Ue=await se.json();T(Ue.data.logs||[])}catch(re){console.error("Error fetching audit logs:",re),je({title:"Error",description:re.message||"Failed to fetch audit logs",variant:"destructive"})}},fetchAuditStats:async()=>{try{const ee=await E(),re=await fetch(`${Xr}/api/admin/audit-logs/stats`,{headers:ee});if(!re.ok)throw new Error("Failed to fetch audit stats");const be=await re.json();P(be.data)}catch(ee){console.error("Error fetching audit stats:",ee),je({title:"Error",description:ee.message||"Failed to fetch audit statistics",variant:"destructive"})}},createCoupon:async ee=>{try{const re=await E(),be=await fetch(`${Xr}/api/admin/coupons`,{method:"POST",headers:re,body:JSON.stringify(ee)});if(!be.ok)throw new Error("Failed to create coupon");const se=await be.json();return se.success&&(je({title:"Success",description:"Coupon created successfully"}),await k()),se}catch(re){throw console.error("Error creating coupon:",re),je({title:"Error",description:re.message||"Failed to create coupon",variant:"destructive"}),re}},deactivateCoupon:async ee=>{try{const re=await E(),be=await fetch(`${Xr}/api/admin/coupons/${ee}/deactivate`,{method:"PUT",headers:re});if(!be.ok)throw new Error("Failed to deactivate coupon");const se=await be.json();return se.success&&(je({title:"Success",description:"Coupon deactivated successfully"}),await k()),se}catch(re){throw console.error("Error deactivating coupon:",re),je({title:"Error",description:re.message||"Failed to deactivate coupon",variant:"destructive"}),re}},updateUserRole:async(ee,re,be="viewer")=>{try{const se=await E(),Ue=await fetch(`${Xr}/api/admin/users/${ee}/role`,{method:"PUT",headers:se,body:JSON.stringify({role:re,adminLevel:be})});if(!Ue.ok)throw new Error("Failed to update user role");const ae=await Ue.json();return ae.success&&(je({title:"Success",description:ae.data.message}),await S()),ae}catch(se){throw console.error("Error updating user role:",se),je({title:"Error",description:se.message||"Failed to update user role",variant:"destructive"}),se}},toggleUserStatus:async(ee,re)=>{try{const be=await E(),se=await fetch(`${Xr}/api/admin/users/${ee}/status`,{method:"PUT",headers:be,body:JSON.stringify({disabled:re})});if(!se.ok)throw new Error("Failed to toggle user status");const Ue=await se.json();return Ue.success&&(je({title:"Success",description:Ue.data.message}),await S()),Ue}catch(be){throw console.error("Error toggling user status:",be),je({title:"Error",description:be.message||"Failed to toggle user status",variant:"destructive"}),be}},cancelUserSubscription:async ee=>{try{const re=await E(),be=await fetch(`${Xr}/api/admin/subscriptions/${ee}/cancel`,{method:"POST",headers:re});if(!be.ok)throw new Error("Failed to cancel subscription");const se=await be.json();return se.success&&(je({title:"Success",description:"Subscription cancelled successfully"}),await C(),await S()),se}catch(re){throw console.error("Error cancelling subscription:",re),je({title:"Error",description:re.message||"Failed to cancel subscription",variant:"destructive"}),re}},createUserSubscription:async ee=>{try{const re=await E(),be=await fetch(`${Xr}/api/admin/subscriptions/create`,{method:"POST",headers:re,body:JSON.stringify(ee)});if(!be.ok)throw new Error("Failed to create subscription");const se=await be.json();return se.success&&(je({title:"Success",description:"Subscription created successfully"}),await C(),await S()),se}catch(re){throw console.error("Error creating subscription:",re),je({title:"Error",description:re.message||"Failed to create subscription",variant:"destructive"}),re}}};return o.jsx(Kq.Provider,{value:ue,children:t})},ry=({children:t})=>{const{currentUser:e}=Hn(),n=gs();return e?o.jsx(o.Fragment,{children:t}):o.jsx(Pw,{to:"/login",state:{from:n},replace:!0})},GL=({children:t})=>{const{currentUser:e,loading:n}=Hn();return p.useEffect(()=>{console.log("🔍 AuthRedirect - User:",(e==null?void 0:e.email)||"null","Loading:",n)},[e,n]),n?(console.log("⏳ AuthRedirect - Still loading..."),null):e?(console.log("✅ AuthRedirect - User authenticated, redirecting to dashboard"),o.jsx(Pw,{to:"/dashboard",replace:!0})):(console.log("❌ AuthRedirect - No user, showing login page"),o.jsx(o.Fragment,{children:t}))},PMe=({children:t})=>{const{isAdmin:e,isLoading:n}=Vo();return n?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Verifying admin access..."})]})}):e?o.jsx(o.Fragment,{children:t}):o.jsx(Pw,{to:"/dashboard",replace:!0})},AMe=()=>{const t=Zt(),[e,n]=p.useState("Processing authentication...");return p.useEffect(()=>{(async()=>{try{const s=new URLSearchParams(window.location.search),i=s.get("code"),a=s.get("state"),l=s.get("error");if(l)throw new Error(`OAuth error: ${l}`);if(!i)throw new Error("No authorization code received");console.log("✅ Received OAuth code, exchanging for tokens..."),console.log("📍 State parameter from URL:",a),console.log("📍 Full URL:",window.location.href),console.log("📍 URL search params:",window.location.search),n("Exchanging authorization code for permanent access...");const u=await fetch("http://localhost:5000/auth/google/callback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:i,state:a})});if(!u.ok){const f=await u.json();throw console.error("❌ Backend error response:",f),console.error("❌ Backend error details:",JSON.stringify(f,null,2)),new Error(f.error||f.message||"Failed to exchange authorization code")}const d=await u.json();console.log("✅ Tokens received and stored in backend:",d),console.log("✅ User ID:",d.userId),sessionStorage.setItem("oauth_success","true"),n("Success! Redirecting...");const h=sessionStorage.getItem("oauth_return_url")||"/settings?tab=connections";sessionStorage.removeItem("oauth_return_url"),setTimeout(()=>{t(h+"?oauth=success")},500)}catch(s){console.error("❌ OAuth callback error:",s);const i=s instanceof Error?s.message:"Authentication failed";console.error("❌ Error message shown to user:",i),n(i),sessionStorage.setItem("oauth_success","false");const a=sessionStorage.getItem("oauth_return_url")||"/settings";sessionStorage.removeItem("oauth_return_url"),setTimeout(()=>{t(a+"?tab=connections&oauth=failed")},1500)}})()},[t]),o.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",fontFamily:"system-ui, -apple-system, sans-serif",backgroundColor:"#fff"},children:o.jsx("div",{style:{textAlign:"center",padding:"20px"},children:o.jsx("p",{style:{fontSize:"16px",color:"#333"},children:e})})})},CMe=()=>{const t=Zt(),{checkSubscriptionStatus:e,subscription:n}=Dr(),[r,s]=p.useState(!1),[i,a]=p.useState(null);return p.useEffect(()=>{const l=async()=>{try{console.log("[Payment Success] Verifying GBP connection after payment...");const u=await Nt.recoverConnection();console.log(u?"[Payment Success] ✅ GBP connection verified and active":"[Payment Success] ⚠️ GBP connection needs renewal")}catch(u){console.error("[Payment Success] Error verifying GBP connection:",u)}};e(),l();const c=setTimeout(()=>{var u;if((u=n==null?void 0:n.planId)!=null&&u.includes("yearly"))console.log("[Payment Success] Showing mandate setup for yearly plan user"),s(!0);else{const d=setTimeout(()=>{t("/dashboard")},1e3);a(d)}},2e3);return()=>{clearTimeout(c),i&&clearTimeout(i)}},[t,e,n==null?void 0:n.planId]),o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:[o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[o.jsx("div",{className:"mb-6",children:o.jsx(on,{className:"w-20 h-20 text-green-500 mx-auto animate-pulse"})}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Payment Successful!"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for your subscription. Your account has been successfully upgraded."}),o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:o.jsx("p",{className:"text-green-800 font-medium",children:"✨ All premium features are now unlocked"})}),o.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting to dashboard in 3 seconds..."}),o.jsx("button",{onClick:()=>t("/dashboard"),className:"mt-6 px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors",children:"Go to Dashboard Now"})]}),o.jsx(x9,{isOpen:r,onClose:()=>{s(!1),t("/dashboard")},onSuccess:()=>{s(!1),t("/dashboard")}})]})},TMe=({isOpen:t,onClose:e,gbpAccountId:n,profileCount:r=1})=>{const[s,i]=p.useState(!1);p.useState(!1);const{Razorpay:a}=cb(),{currentUser:l}=Hn(),{checkSubscriptionStatus:c}=Dr(),{toast:u}=ps(),d=Zt(),h="http://localhost:5000",f="rzp_live_RWwON57KV1LaJn",m=async()=>{if(!l||!n){u({title:"Error",description:"User authentication or GBP connection required",variant:"destructive"});return}i(!0);try{const v=await fetch(`${h}/api/payment/subscription/trial`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:l.uid,gbpAccountId:n,email:l.email})});if(!v.ok)throw new Error("Failed to create trial subscription");const x=await v.json();console.log("Trial created:",x);const b=await fetch(`${h}/api/payment/order`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:1,currency:"INR",notes:{userId:l.uid,email:l.email,gbpAccountId:n,profileCount:r,setupType:"trial_with_autopay"}})});if(!b.ok)throw new Error("Failed to create trial setup order");const{order:w}=await b.json(),j={key:f,amount:w.amount,currency:w.currency,name:"GMB Profile Pulse",description:"15-Day Free Trial Setup",order_id:w.id,handler:async T=>{var P;if((await fetch(`${h}/api/payment/verify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({razorpay_order_id:T.razorpay_order_id,razorpay_payment_id:T.razorpay_payment_id,razorpay_signature:T.razorpay_signature,subscriptionId:(P=x.subscription)==null?void 0:P.id,gbpAccountId:n,planId:"yearly_pro"})})).ok)e(),await c(),u({title:"Free Trial Started! 🎉",description:"Your 15-day trial is active with auto-pay setup. Enjoy all features!"}),d("/dashboard");else throw new Error("Trial setup verification failed")},prefill:{name:l.displayName||"",email:l.email||"",contact:""},theme:{color:"#1E2DCD"},modal:{ondismiss:()=>{i(!1)}},notes:{trial_setup:"true",auto_pay_enabled:"true"}};new a(j).open()}catch(v){console.error("Trial setup error:",v),u({title:"Setup Failed",description:"There was an error setting up your trial. Please try again.",variant:"destructive"})}finally{i(!1)}},y=async()=>{if(!l||!n){u({title:"Error",description:"User authentication or GBP connection required",variant:"destructive"});return}i(!0);try{if((await fetch(`${h}/api/payment/subscription/trial`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:l.uid,gbpAccountId:n,email:l.email})})).ok)e(),await c(),u({title:"Free Trial Started! 🎉",description:"Your 15-day trial is now active. Add payment details later in billing settings."}),d("/dashboard");else throw new Error("Failed to create trial subscription")}catch(v){console.error("Trial creation error:",v),u({title:"Error",description:"Failed to start trial. Please try again.",variant:"destructive"})}finally{i(!1)}};return o.jsx(pi,{open:t,onOpenChange:s?void 0:e,children:o.jsxs(Ls,{className:"max-w-2xl",children:[o.jsxs(Fs,{children:[o.jsxs($s,{className:"flex items-center space-x-2",children:[o.jsx(JJ,{className:"h-6 w-6 text-green-600"}),o.jsx("span",{children:"Claim Your Free 15-Day Trial"})]}),o.jsx(Us,{children:"Start managing your Google Business Profile with all premium features included!"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs(q,{className:"bg-gradient-to-r from-green-50 to-blue-50 border-green-200",children:[o.jsx(me,{children:o.jsx(ge,{className:"text-lg text-green-800",children:"What's Included in Your Trial"})}),o.jsx(Q,{children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:["Auto-Post Scheduling","Review Management & Auto-Reply","Performance Analytics","Advanced Analytics","API Access","Priority Support"].map((v,x)=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(on,{className:"h-4 w-4 text-green-600"}),o.jsx("span",{className:"text-sm text-green-800",children:v})]},x))})})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(Gn,{className:"h-5 w-5 text-blue-600"}),o.jsx("h3",{className:"font-semibold text-blue-900",children:"After Trial: Simple Per-Profile Pricing"})]}),o.jsx("p",{className:"text-sm text-blue-800 mb-2",children:"Just $99/year per Google Business Profile you want to manage."}),o.jsxs("p",{className:"text-xs text-blue-600",children:[r," profile detected → $",r*99,"/year after trial"]})]}),o.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(Ui,{className:"h-5 w-5 text-yellow-600"}),o.jsx("h3",{className:"font-semibold text-yellow-900",children:"Secure Auto-Pay Setup"})]}),o.jsx("p",{className:"text-sm text-yellow-800 mb-2",children:"We'll securely save your payment method for seamless continuation after your trial."}),o.jsxs("ul",{className:"text-xs text-yellow-700 space-y-1",children:[o.jsx("li",{children:"• No charges during your 15-day trial"}),o.jsx("li",{children:"• Cancel anytime during the trial"}),o.jsx("li",{children:"• Automatic billing only starts after trial ends"}),o.jsx("li",{children:"• Industry-standard security with Razorpay"})]})]}),o.jsxs("div",{className:"flex flex-col space-y-3",children:[o.jsx(Y,{onClick:m,disabled:s,className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3",size:"lg",children:s?o.jsx(o.Fragment,{children:"Setting up trial..."}):o.jsxs(o.Fragment,{children:[o.jsx(hw,{className:"mr-2 h-5 w-5"}),"Start Free Trial with Auto-Pay"]})}),o.jsx(Y,{variant:"outline",onClick:y,disabled:s,className:"w-full",children:s?"Starting trial...":"Start Free Trial (Setup Payment Later)"})]}),o.jsx("p",{className:"text-xs text-gray-500 text-center",children:"🔒 Your payment information is encrypted and secure. Powered by Razorpay."})]})]})})},kMe=()=>{var c;const{showTrialSetup:t,setShowTrialSetup:e}=Dr(),{accounts:n}=rf(),{currentUser:r}=Hn(),[s,i]=p.useState(!1);p.useEffect(()=>{(async()=>{if(r)try{const d=await r.getIdTokenResult(),h=d.claims.role==="admin"||d.claims.adminLevel;i(h)}catch(d){console.error("Error checking admin status:",d),i(!1)}})()},[r]);const a=n&&n.length>0?((c=n[0].name)==null?void 0:c.split("/")[1])||n[0].accountId:"",l=(n==null?void 0:n.reduce((u,d)=>{var h;return u+(((h=d.locations)==null?void 0:h.length)||0)},0))||1;return!t||!a||s?null:o.jsx(TMe,{isOpen:t,onClose:()=>e(!1),gbpAccountId:a,profileCount:Math.max(1,l)})},IMe=()=>(p.useState(!0),null),RMe=()=>{var u;const{currentUser:t,logout:e}=Hn(),{adminLevel:n}=Vo(),[r,s]=p.useState(!0),[i,a]=p.useState(!1),l=async()=>{await e()},c=[{name:"Dashboard",href:"/admin/dashboard",icon:rZ},{name:"Users",href:"/admin/users",icon:ci},{name:"User Audits",href:"/admin/user-audits",icon:ua},{name:"Subscriptions",href:"/admin/subscriptions",icon:Gn},{name:"Payments",href:"/admin/payments",icon:Gn},{name:"Coupons",href:"/admin/coupons",icon:H6},{name:"Analytics",href:"/admin/analytics",icon:li},{name:"Audit Logs",href:"/admin/audits",icon:xu}];return o.jsxs("div",{className:"flex h-screen bg-gray-50",children:[i&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>a(!1)}),o.jsxs("aside",{className:`${r?"w-64":"w-20"} ${i?"translate-x-0":"-translate-x-full lg:translate-x-0"} fixed lg:relative h-full bg-white border-r border-gray-200 text-gray-800 transition-all duration-300 flex flex-col shadow-lg z-50`,children:[o.jsxs("div",{className:"p-4 sm:p-6 flex items-center justify-between",children:[r?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ui,{className:"h-6 w-6 sm:h-8 sm:w-8 text-primary"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Admin Panel"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Google Ranker"})]})]}):o.jsx(Ui,{className:"h-6 w-6 sm:h-8 sm:w-8 mx-auto text-primary"}),o.jsx(Y,{variant:"ghost",size:"icon",onClick:()=>{s(!r),window.innerWidth<1024&&a(!1)},className:"text-gray-700 hover:bg-primary/10 hover:text-primary",children:r?o.jsx(Yi,{className:"h-5 w-5"}):o.jsx(fx,{className:"h-5 w-5"})})]}),o.jsx("nav",{className:"flex-1 px-4 space-y-2 overflow-y-auto",children:c.map(d=>o.jsxs(DS,{to:d.href,onClick:()=>{window.innerWidth<1024&&a(!1)},className:({isActive:h})=>`flex items-center gap-3 px-3 sm:px-4 py-2 sm:py-3 rounded-lg transition-colors ${h?"bg-primary text-white font-medium shadow-md":"text-gray-700 hover:bg-primary/10 hover:text-primary"}`,children:[o.jsx(d.icon,{className:"h-4 w-4 sm:h-5 sm:w-5 flex-shrink-0"}),r&&o.jsx("span",{className:"text-sm sm:text-base",children:d.name})]},d.name))}),o.jsxs("div",{className:"p-4 border-t border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(lg,{className:"h-10 w-10 bg-primary/10",children:o.jsx(cg,{className:"bg-primary/10 text-primary font-semibold",children:((u=t==null?void 0:t.email)==null?void 0:u[0].toUpperCase())||"A"})}),r&&o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium truncate text-gray-900",children:t==null?void 0:t.email}),o.jsx(Ee,{variant:"secondary",className:"mt-1 text-xs bg-primary/10 text-primary",children:n||"Admin"})]})]}),r&&o.jsxs(Y,{variant:"ghost",className:"w-full mt-4 text-gray-700 hover:bg-primary/10 hover:text-primary justify-start",onClick:l,children:[o.jsx(NP,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]}),o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsx("header",{className:"bg-white border-b border-gray-200 px-4 sm:px-6 py-3 sm:py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Y,{variant:"ghost",size:"icon",onClick:()=>a(!i),className:"lg:hidden",children:o.jsx(fx,{className:"h-5 w-5"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold text-gray-900",children:"Admin Portal"}),o.jsx("p",{className:"text-xs sm:text-sm text-gray-500 hidden sm:block",children:"Manage your Google Ranker application"})]})]}),o.jsx("div",{className:"flex items-center gap-2 sm:gap-4",children:o.jsxs(Ee,{variant:"outline",className:"flex items-center gap-1 sm:gap-2 text-xs",children:[o.jsx(Ui,{className:"h-3 w-3"}),o.jsx("span",{className:"hidden sm:inline",children:"Administrator Access"}),o.jsx("span",{className:"sm:hidden",children:"Admin"})]})})]})}),o.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-50 p-3 sm:p-4 md:p-6",children:o.jsx(YF,{})})]})]})},OMe=()=>{var c,u,d;const{dashboardStats:t,analytics:e,fetchDashboardStats:n,fetchAnalytics:r}=Vo();p.useEffect(()=>{n(),r("30days")},[]);const s=t||{},i=(e==null?void 0:e.dailyRevenue)||[],a=["#0088FE","#00C49F","#FFBB28","#FF8042"],l=[{name:"Active",value:s.activeSubscriptions||0},{name:"Trial",value:s.trialSubscriptions||0},{name:"Total",value:s.totalSubscriptions||0}];return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard Overview"}),o.jsx("p",{className:"text-gray-500 mt-1",children:"Monitor key metrics and application performance"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs(q,{children:[o.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ge,{className:"text-sm font-medium",children:"Total Revenue (30d)"}),o.jsx(Qm,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Q,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:["$",((c=s.totalRevenue)==null?void 0:c.toFixed(2))||"0.00"]}),o.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1 mt-1",children:[o.jsx(li,{className:"h-3 w-3 text-green-500"}),o.jsxs("span",{className:"text-green-500",children:[s.revenueGrowth||0,"%"]})," from last period"]})]})]}),o.jsxs(q,{children:[o.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ge,{className:"text-sm font-medium",children:"Total Subscriptions"}),o.jsx(Gn,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Q,{children:[o.jsx("div",{className:"text-2xl font-bold",children:s.totalSubscriptions||0}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[o.jsx("span",{className:"text-green-600 font-medium",children:s.activeSubscriptions||0})," active"," • ",o.jsx("span",{className:"text-blue-600 font-medium",children:s.trialSubscriptions||0})," trial"]})]})]}),o.jsxs(q,{children:[o.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ge,{className:"text-sm font-medium",children:"Monthly Recurring Revenue"}),o.jsx(li,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Q,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:["$",((u=s.mrr)==null?void 0:u.toFixed(2))||"0.00"]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Estimated monthly revenue"})]})]}),o.jsxs(q,{children:[o.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ge,{className:"text-sm font-medium",children:"Payment Success Rate"}),o.jsx(on,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Q,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:[s.paymentSuccessRate||0,"%"]}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[s.successfulPayments||0," successful payments"]})]})]}),o.jsxs(q,{children:[o.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ge,{className:"text-sm font-medium",children:"Today's Revenue"}),o.jsx(Qm,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Q,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:["$",((d=s.todayRevenue)==null?void 0:d.toFixed(2))||"0.00"]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Revenue collected today"})]})]}),o.jsxs(q,{children:[o.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ge,{className:"text-sm font-medium",children:"Trial Conversion Rate"}),o.jsx(pr,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Q,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:[s.trialConversionRate||0,"%"]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Trials converting to paid"})]})]}),o.jsxs(q,{children:[o.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ge,{className:"text-sm font-medium",children:"Active Subscriptions"}),o.jsx(ci,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Q,{children:[o.jsx("div",{className:"text-2xl font-bold",children:s.activeSubscriptions||0}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Currently active users"})]})]}),o.jsxs(q,{children:[o.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ge,{className:"text-sm font-medium",children:"Trial Users"}),o.jsx(Ms,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Q,{children:[o.jsx("div",{className:"text-2xl font-bold",children:s.trialSubscriptions||0}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Users on trial period"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(q,{children:[o.jsxs(me,{children:[o.jsx(ge,{children:"Revenue Trend (30 Days)"}),o.jsx(Je,{children:"Daily revenue over the last 30 days"})]}),o.jsx(Q,{children:i.length>0?o.jsx(ao,{width:"100%",height:300,children:o.jsxs(Ap,{data:i,children:[o.jsx(uo,{strokeDasharray:"3 3"}),o.jsx(ho,{dataKey:"date",tickFormatter:h=>new Date(h).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),o.jsx(Ri,{}),o.jsx(Ii,{formatter:h=>`$${h.toFixed(2)}`,labelFormatter:h=>new Date(h).toLocaleDateString()}),o.jsx(_s,{}),o.jsx(ri,{type:"monotone",dataKey:"revenue",stroke:"#8884d8",strokeWidth:2,name:"Revenue ($)"})]})}):o.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"No revenue data available"})})]}),o.jsxs(q,{children:[o.jsxs(me,{children:[o.jsx(ge,{children:"Subscription Distribution"}),o.jsx(Je,{children:"Breakdown of subscription types"})]}),o.jsx(Q,{children:o.jsx(ao,{width:"100%",height:300,children:o.jsxs(Hq,{children:[o.jsx(Uk,{data:l,cx:"50%",cy:"50%",labelLine:!1,label:({name:h,value:f})=>`${h}: ${f}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:l.map((h,f)=>o.jsx(yf,{fill:a[f%a.length]},`cell-${f}`))}),o.jsx(Ii,{}),o.jsx(_s,{})]})})})]})]}),o.jsxs(q,{children:[o.jsxs(me,{children:[o.jsx(ge,{children:"Quick Statistics"}),o.jsx(Je,{children:"Additional insights at a glance"})]}),o.jsx(Q,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"border rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-2",children:[o.jsx(ua,{className:"h-4 w-4"}),"Average Transaction"]}),o.jsxs("div",{className:"text-2xl font-bold",children:["$",((s.totalRevenue||0)/(s.successfulPayments||1)).toFixed(2)]})]}),o.jsxs("div",{className:"border rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-2",children:[o.jsx(li,{className:"h-4 w-4"}),"Revenue Growth"]}),o.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[s.revenueGrowth||0,"%"]})]}),o.jsxs("div",{className:"border rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-2",children:[o.jsx(ci,{className:"h-4 w-4"}),"Total Customers"]}),o.jsx("div",{className:"text-2xl font-bold",children:s.totalSubscriptions||0})]})]})})]})]})},xf=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:n,className:ve("w-full caption-bottom text-sm",t),...e})}));xf.displayName="Table";const wf=p.forwardRef(({className:t,...e},n)=>o.jsx("thead",{ref:n,className:ve("[&_tr]:border-b",t),...e}));wf.displayName="TableHeader";const bf=p.forwardRef(({className:t,...e},n)=>o.jsx("tbody",{ref:n,className:ve("[&_tr:last-child]:border-0",t),...e}));bf.displayName="TableBody";const DMe=p.forwardRef(({className:t,...e},n)=>o.jsx("tfoot",{ref:n,className:ve("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));DMe.displayName="TableFooter";const hs=p.forwardRef(({className:t,...e},n)=>o.jsx("tr",{ref:n,className:ve("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));hs.displayName="TableRow";const ht=p.forwardRef(({className:t,...e},n)=>o.jsx("th",{ref:n,className:ve("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));ht.displayName="TableHead";const rt=p.forwardRef(({className:t,...e},n)=>o.jsx("td",{ref:n,className:ve("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));rt.displayName="TableCell";const MMe=p.forwardRef(({className:t,...e},n)=>o.jsx("caption",{ref:n,className:ve("mt-4 text-sm text-muted-foreground",t),...e}));MMe.displayName="TableCaption";const LMe=()=>{const{users:t,fetchUsers:e,updateUserRole:n,toggleUserStatus:r,cancelUserSubscription:s,adminLevel:i}=Vo(),[a,l]=p.useState(""),[c,u]=p.useState("all"),[d,h]=p.useState(null),[f,m]=p.useState(!1),[y,v]=p.useState(null);p.useEffect(()=>{e({search:a,status:c})},[a,c]);const x=I=>{l(I)},b=I=>{u(I)},w=(I,P)=>{h(I),v(P),m(!0)},j=async()=>{d&&(await n(d.uid,"admin","moderator"),m(!1),h(null))},N=async()=>{d&&(await r(d.uid,!d.disabled),m(!1),h(null))},T=I=>{if(!I)return o.jsx(Ee,{variant:"secondary",children:"No Subscription"});switch(I.status){case"active":return o.jsx(Ee,{className:"bg-green-500",children:"Active"});case"trial":return o.jsx(Ee,{className:"bg-blue-500",children:"Trial"});case"expired":return o.jsx(Ee,{variant:"destructive",children:"Expired"});default:return o.jsx(Ee,{variant:"secondary",children:I.status})}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"User Management"}),o.jsx("p",{className:"text-gray-500 mt-1",children:"Manage users, subscriptions, and permissions"})]}),o.jsxs(q,{children:[o.jsxs(me,{children:[o.jsx(ge,{children:"Search & Filter"}),o.jsx(Je,{children:"Find users by email, name, or status"})]}),o.jsx(Q,{children:o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx($i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),o.jsx(tt,{placeholder:"Search by email or name...",value:a,onChange:I=>x(I.target.value),className:"pl-10"})]}),o.jsxs(nn,{value:c,onValueChange:b,children:[o.jsx(qt,{className:"w-48",children:o.jsx(rn,{placeholder:"Filter by status"})}),o.jsxs(Yt,{children:[o.jsx(fe,{value:"all",children:"All Users"}),o.jsx(fe,{value:"active",children:"Active"}),o.jsx(fe,{value:"trial",children:"Trial"}),o.jsx(fe,{value:"expired",children:"Expired"})]})]})]})})]}),o.jsxs(q,{children:[o.jsxs(me,{children:[o.jsxs(ge,{children:["All Users (",t.length,")"]}),o.jsx(Je,{children:"Complete list of registered users"})]}),o.jsx(Q,{children:o.jsx("div",{className:"rounded-md border",children:o.jsxs(xf,{children:[o.jsx(wf,{children:o.jsxs(hs,{children:[o.jsx(ht,{children:"Email"}),o.jsx(ht,{children:"Display Name"}),o.jsx(ht,{children:"Status"}),o.jsx(ht,{children:"Subscription"}),o.jsx(ht,{children:"GBP Connected"}),o.jsx(ht,{children:"Joined"}),o.jsx(ht,{children:"Actions"})]})}),o.jsx(bf,{children:t.length>0?t.map(I=>{var P;return o.jsxs(hs,{children:[o.jsx(rt,{className:"font-medium",children:I.email}),o.jsx(rt,{children:I.displayName}),o.jsx(rt,{children:I.disabled?o.jsxs(Ee,{variant:"destructive",children:[o.jsx(yS,{className:"h-3 w-3 mr-1"}),"Suspended"]}):o.jsxs(Ee,{className:"bg-green-500",children:[o.jsx(on,{className:"h-3 w-3 mr-1"}),"Active"]})}),o.jsx(rt,{children:T(I.subscription)}),o.jsx(rt,{children:I.gbpAccountId?o.jsxs(Ee,{variant:"outline",className:"bg-green-50",children:[o.jsx(on,{className:"h-3 w-3 mr-1 text-green-600"}),"Yes"]}):o.jsxs(Ee,{variant:"outline",className:"bg-gray-50",children:[o.jsx(ux,{className:"h-3 w-3 mr-1 text-gray-400"}),"No"]})}),o.jsx(rt,{className:"text-sm text-gray-500",children:Cn(new Date(I.createdAt),"MMM dd, yyyy")}),o.jsx(rt,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[i==="super"&&o.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>w(I,"role"),children:[o.jsx(Ui,{className:"h-3 w-3 mr-1"}),"Role"]}),(i==="super"||i==="moderator")&&o.jsx(Y,{variant:I.disabled?"default":"outline",size:"sm",onClick:()=>w(I,"status"),children:I.disabled?"Activate":"Suspend"}),I.gbpAccountId&&((P=I.subscription)==null?void 0:P.status)==="active"&&(i==="super"||i==="moderator")&&o.jsxs(Y,{variant:"destructive",size:"sm",onClick:async()=>{if(window.confirm(`Are you sure you want to cancel the subscription for ${I.email}?`))try{await s(I.gbpAccountId)}catch(E){console.error("Error cancelling subscription:",E)}},children:[o.jsx(ux,{className:"h-3 w-3 mr-1"}),"Cancel Sub"]})]})})]},I.uid)}):o.jsx(hs,{children:o.jsx(rt,{colSpan:7,className:"text-center text-gray-500 py-8",children:"No users found"})})})]})})})]}),o.jsx(pi,{open:f,onOpenChange:m,children:o.jsxs(Ls,{children:[o.jsxs(Fs,{children:[o.jsx($s,{children:y==="role"?"Update User Role":"Toggle User Status"}),o.jsx(Us,{children:y==="role"?`Make ${d==null?void 0:d.email} an admin`:`${d!=null&&d.disabled?"Activate":"Suspend"} ${d==null?void 0:d.email}'s account`})]}),o.jsxs(Tu,{children:[o.jsx(Y,{variant:"outline",onClick:()=>m(!1),children:"Cancel"}),o.jsx(Y,{onClick:y==="role"?j:N,children:"Confirm"})]})]})})]})},FMe=()=>{const{subscriptions:t,fetchSubscriptions:e,cancelUserSubscription:n,createUserSubscription:r}=Vo(),[s,i]=p.useState(!1),[a,l]=p.useState(!1),[c,u]=p.useState(null),[d,h]=p.useState(!1),[f,m]=p.useState({userId:"",email:"",profileCount:1,durationMonths:1});p.useEffect(()=>{e()},[]);const y=w=>{switch(w){case"active":return o.jsx(Ee,{className:"bg-green-500",children:"Active"});case"trial":return o.jsx(Ee,{className:"bg-blue-500",children:"Trial"});case"expired":return o.jsx(Ee,{variant:"destructive",children:"Expired"});case"cancelled":return o.jsx(Ee,{variant:"secondary",children:"Cancelled"});default:return o.jsx(Ee,{variant:"outline",children:w})}},v=w=>{u(w),i(!0)},x=async()=>{if(c){h(!0);try{await n(c.gbpAccountId),i(!1),u(null)}catch(w){console.error("Failed to cancel subscription:",w)}finally{h(!1)}}},b=async()=>{if(!f.userId||!f.email||f.profileCount<1||f.durationMonths<1){je({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}h(!0);try{await r({userId:f.userId,email:f.email,profileCount:f.profileCount,durationMonths:f.durationMonths}),l(!1),m({userId:"",email:"",profileCount:1,durationMonths:1})}catch(w){console.error("Failed to create subscription:",w)}finally{h(!1)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Subscription Management"}),o.jsx("p",{className:"text-gray-500 mt-1",children:"View and manage all user subscriptions"})]}),o.jsxs(pi,{open:a,onOpenChange:l,children:[o.jsx(Tve,{asChild:!0,children:o.jsxs(Y,{children:[o.jsx(Yl,{className:"mr-2 h-4 w-4"}),"Create Subscription"]})}),o.jsxs(Ls,{className:"sm:max-w-[500px]",children:[o.jsxs(Fs,{children:[o.jsx($s,{children:"Create New Subscription"}),o.jsx(Us,{children:"Create a direct subscription for a user. The subscription will be active immediately."})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Oe,{htmlFor:"userId",children:"User ID"}),o.jsx(tt,{id:"userId",placeholder:"Enter user ID",value:f.userId,onChange:w=>m({...f,userId:w.target.value})})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Oe,{htmlFor:"email",children:"Email"}),o.jsx(tt,{id:"email",type:"email",placeholder:"user@example.com",value:f.email,onChange:w=>m({...f,email:w.target.value})})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Oe,{htmlFor:"profileCount",children:"Number of Profiles"}),o.jsxs(nn,{value:f.profileCount.toString(),onValueChange:w=>m({...f,profileCount:parseInt(w)}),children:[o.jsx(qt,{children:o.jsx(rn,{placeholder:"Select profiles"})}),o.jsx(Yt,{children:[1,2,3,4,5,10,15,20,25,30,50].map(w=>o.jsxs(fe,{value:w.toString(),children:[w," ",w===1?"Profile":"Profiles"]},w))})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Oe,{htmlFor:"duration",children:"Duration"}),o.jsxs(nn,{value:f.durationMonths.toString(),onValueChange:w=>m({...f,durationMonths:parseInt(w)}),children:[o.jsx(qt,{children:o.jsx(rn,{placeholder:"Select duration"})}),o.jsxs(Yt,{children:[o.jsx(fe,{value:"1",children:"1 Month"}),o.jsx(fe,{value:"2",children:"2 Months"}),o.jsx(fe,{value:"3",children:"3 Months"}),o.jsx(fe,{value:"6",children:"6 Months"}),o.jsx(fe,{value:"9",children:"9 Months"}),o.jsx(fe,{value:"12",children:"1 Year"})]})]})]})]}),o.jsxs(Tu,{children:[o.jsx(Y,{variant:"outline",onClick:()=>l(!1),disabled:d,children:"Cancel"}),o.jsx(Y,{onClick:b,disabled:d,children:d?"Creating...":"Create Subscription"})]})]})]})]}),o.jsxs(q,{children:[o.jsxs(me,{children:[o.jsxs(ge,{children:["All Subscriptions (",t.length,")"]}),o.jsx(Je,{children:"Complete list of active and inactive subscriptions"})]}),o.jsx(Q,{children:o.jsx("div",{className:"rounded-md border",children:o.jsxs(xf,{children:[o.jsx(wf,{children:o.jsxs(hs,{children:[o.jsx(ht,{children:"Email"}),o.jsx(ht,{children:"Plan"}),o.jsx(ht,{children:"Status"}),o.jsx(ht,{children:"Profiles"}),o.jsx(ht,{children:"Start Date"}),o.jsx(ht,{children:"End Date"}),o.jsx(ht,{children:"Amount"}),o.jsx(ht,{children:"Actions"})]})}),o.jsx(bf,{children:t.map(w=>o.jsxs(hs,{children:[o.jsx(rt,{className:"font-medium",children:w.email}),o.jsx(rt,{children:o.jsx(Ee,{variant:"outline",children:w.planId})}),o.jsx(rt,{children:y(w.status)}),o.jsx(rt,{children:w.profileCount||0}),o.jsx(rt,{children:w.subscriptionStartDate?Cn(new Date(w.subscriptionStartDate),"MMM dd, yyyy"):"-"}),o.jsx(rt,{children:w.subscriptionEndDate?Cn(new Date(w.subscriptionEndDate),"MMM dd, yyyy"):"-"}),o.jsxs(rt,{children:[w.amount," ",w.currency]}),o.jsx(rt,{children:w.status!=="cancelled"&&w.status!=="expired"&&o.jsxs(Y,{variant:"destructive",size:"sm",onClick:()=>v(w),children:[o.jsx(Yi,{className:"mr-1 h-3 w-3"}),"Cancel"]})})]},w.id))})]})})})]}),o.jsx(pi,{open:s,onOpenChange:i,children:o.jsxs(Ls,{children:[o.jsxs(Fs,{children:[o.jsx($s,{children:"Cancel Subscription"}),o.jsx(Us,{children:"Are you sure you want to cancel this subscription? This action cannot be undone."})]}),c&&o.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(pr,{className:"h-5 w-5 text-amber-600 mt-0.5"}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("p",{className:"text-sm font-medium text-amber-900",children:["User: ",c.email]}),o.jsxs("p",{className:"text-sm text-amber-700",children:["Plan: ",c.planId," (",c.profileCount," profiles)"]}),o.jsxs("p",{className:"text-sm text-amber-700",children:["Status: ",c.status]})]})]})}),o.jsxs(Tu,{children:[o.jsx(Y,{variant:"outline",onClick:()=>i(!1),disabled:d,children:"Go Back"}),o.jsx(Y,{variant:"destructive",onClick:x,disabled:d,children:d?"Cancelling...":"Yes, Cancel Subscription"})]})]})})]})},$Me=()=>{const{payments:t,fetchPayments:e}=Vo();p.useEffect(()=>{e()},[]);const n=s=>{switch(s){case"success":return o.jsx(on,{className:"h-4 w-4 text-green-500"});case"failed":return o.jsx(ux,{className:"h-4 w-4 text-red-500"});case"pending":return o.jsx(Ms,{className:"h-4 w-4 text-yellow-500"});default:return null}},r=s=>{switch(s){case"success":return o.jsx(Ee,{className:"bg-green-500",children:"Success"});case"failed":return o.jsx(Ee,{variant:"destructive",children:"Failed"});case"pending":return o.jsx(Ee,{className:"bg-yellow-500",children:"Pending"});default:return o.jsx(Ee,{variant:"outline",children:s})}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Payment Management"}),o.jsx("p",{className:"text-gray-500 mt-1",children:"View all payment transactions and their status"})]}),o.jsxs(q,{children:[o.jsxs(me,{children:[o.jsxs(ge,{children:["All Payments (",t.length,")"]}),o.jsx(Je,{children:"Complete payment transaction history"})]}),o.jsx(Q,{children:o.jsx("div",{className:"rounded-md border",children:o.jsxs(xf,{children:[o.jsx(wf,{children:o.jsxs(hs,{children:[o.jsx(ht,{children:"Date"}),o.jsx(ht,{children:"User"}),o.jsx(ht,{children:"Description"}),o.jsx(ht,{children:"Amount"}),o.jsx(ht,{children:"Status"}),o.jsx(ht,{children:"Payment ID"})]})}),o.jsx(bf,{children:t.map((s,i)=>o.jsxs(hs,{children:[o.jsx(rt,{children:s.paidAt?Cn(new Date(s.paidAt),"MMM dd, yyyy HH:mm"):"-"}),o.jsx(rt,{className:"font-medium",children:s.userEmail}),o.jsx(rt,{children:s.description}),o.jsxs(rt,{className:"font-bold",children:[s.amount," ",s.currency]}),o.jsx(rt,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[n(s.status),r(s.status)]})}),o.jsx(rt,{className:"text-xs text-gray-500",children:s.razorpayPaymentId})]},s.id||i))})]})})})]})]})},UMe=()=>{const{coupons:t,fetchCoupons:e,createCoupon:n,deactivateCoupon:r,adminLevel:s}=Vo(),[i,a]=p.useState(!1);p.useState(null);const[l,c]=p.useState({code:"",discountType:"percentage",discountValue:"",maxUses:"",expiresAt:"",description:"",oneTimePerUser:!1,singleUse:!1});p.useEffect(()=>{e()},[]);const u=async()=>{try{await n({code:l.code.toUpperCase(),discountType:l.discountType,discountValue:parseFloat(l.discountValue),maxUses:l.maxUses?parseInt(l.maxUses):null,expiresAt:l.expiresAt?new Date(l.expiresAt).toISOString():null,description:l.description,oneTimePerUser:l.oneTimePerUser,singleUse:l.singleUse}),a(!1),c({code:"",discountType:"percentage",discountValue:"",maxUses:"",expiresAt:"",description:"",oneTimePerUser:!1,singleUse:!1})}catch(m){console.error("Error creating coupon:",m)}},d=async m=>{try{await r(m)}catch(y){console.error("Error deactivating coupon:",y)}},h=m=>m.isActive?m.expiresAt&&new Date(m.expiresAt)<new Date?o.jsx(Ee,{variant:"destructive",children:"Expired"}):m.maxUses&&m.currentUses>=m.maxUses?o.jsx(Ee,{variant:"secondary",children:"Max Uses Reached"}):o.jsx(Ee,{className:"bg-green-500",children:"Active"}):o.jsx(Ee,{variant:"destructive",children:"Inactive"}),f=s==="super"||s==="moderator";return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Coupon Management"}),o.jsx("p",{className:"text-gray-500 mt-1",children:"Create and manage discount coupons"})]}),f&&o.jsxs(Y,{onClick:()=>a(!0),children:[o.jsx(Yl,{className:"h-4 w-4 mr-2"}),"Create Coupon"]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[o.jsxs(q,{children:[o.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ge,{className:"text-sm font-medium",children:"Total Coupons"}),o.jsx(H6,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(Q,{children:o.jsx("div",{className:"text-2xl font-bold",children:t.length})})]}),o.jsxs(q,{children:[o.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ge,{className:"text-sm font-medium",children:"Active Coupons"}),o.jsx(on,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(Q,{children:o.jsx("div",{className:"text-2xl font-bold",children:t.filter(m=>m.isActive).length})})]}),o.jsxs(q,{children:[o.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ge,{className:"text-sm font-medium",children:"Total Uses"}),o.jsx(Qm,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(Q,{children:o.jsx("div",{className:"text-2xl font-bold",children:t.reduce((m,y)=>m+(y.currentUses||0),0)})})]}),o.jsxs(q,{children:[o.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ge,{className:"text-sm font-medium",children:"Expired"}),o.jsx(yS,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(Q,{children:o.jsx("div",{className:"text-2xl font-bold",children:t.filter(m=>m.expiresAt&&new Date(m.expiresAt)<new Date).length})})]})]}),o.jsxs(q,{children:[o.jsxs(me,{children:[o.jsxs(ge,{children:["All Coupons (",t.length,")"]}),o.jsx(Je,{children:"Manage discount codes and promotions"})]}),o.jsx(Q,{children:o.jsx("div",{className:"rounded-md border",children:o.jsxs(xf,{children:[o.jsx(wf,{children:o.jsxs(hs,{children:[o.jsx(ht,{children:"Code"}),o.jsx(ht,{children:"Discount"}),o.jsx(ht,{children:"Status"}),o.jsx(ht,{children:"Usage"}),o.jsx(ht,{children:"Created"}),o.jsx(ht,{children:"Expires"}),o.jsx(ht,{children:"Actions"})]})}),o.jsx(bf,{children:t.length>0?t.map(m=>o.jsxs(hs,{children:[o.jsx(rt,{className:"font-mono font-bold",children:m.code}),o.jsx(rt,{children:m.discountType==="percentage"?o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(cZ,{className:"h-4 w-4"}),m.discountValue,"% off"]}):o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Qm,{className:"h-4 w-4"}),"$",m.discountValue," off"]})}),o.jsx(rt,{children:h(m)}),o.jsxs(rt,{children:[m.currentUses||0,m.maxUses&&` / ${m.maxUses}`]}),o.jsx(rt,{className:"text-sm text-gray-500",children:m.createdAt&&!isNaN(new Date(m.createdAt).getTime())?Cn(new Date(m.createdAt),"MMM dd, yyyy"):"N/A"}),o.jsx(rt,{className:"text-sm text-gray-500",children:m.expiresAt&&!isNaN(new Date(m.expiresAt).getTime())?o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Ds,{className:"h-3 w-3"}),Cn(new Date(m.expiresAt),"MMM dd, yyyy")]}):"No expiry"}),o.jsx(rt,{children:f&&m.isActive&&o.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>d(m.code),children:[o.jsx(yS,{className:"h-3 w-3 mr-1"}),"Deactivate"]})})]},m.code)):o.jsx(hs,{children:o.jsx(rt,{colSpan:7,className:"text-center text-gray-500 py-8",children:"No coupons found. Create your first coupon to get started."})})})]})})})]}),o.jsx(pi,{open:i,onOpenChange:a,children:o.jsxs(Ls,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[o.jsxs(Fs,{children:[o.jsx($s,{children:"Create New Coupon"}),o.jsx(Us,{children:"Add a new discount coupon for your users"})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Oe,{htmlFor:"code",children:"Coupon Code"}),o.jsx(tt,{id:"code",placeholder:"SUMMER2024",value:l.code,onChange:m=>c({...l,code:m.target.value.toUpperCase()})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Oe,{htmlFor:"discountType",children:"Discount Type"}),o.jsxs(nn,{value:l.discountType,onValueChange:m=>c({...l,discountType:m}),children:[o.jsx(qt,{children:o.jsx(rn,{})}),o.jsxs(Yt,{children:[o.jsx(fe,{value:"percentage",children:"Percentage"}),o.jsx(fe,{value:"fixed",children:"Fixed Amount"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Oe,{htmlFor:"discountValue",children:["Discount Value ",l.discountType==="percentage"?"(%)":"($)"]}),o.jsx(tt,{id:"discountValue",type:"number",placeholder:l.discountType==="percentage"?"20":"10",value:l.discountValue,onChange:m=>c({...l,discountValue:m.target.value})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Oe,{htmlFor:"maxUses",children:"Max Uses (Optional)"}),o.jsx(tt,{id:"maxUses",type:"number",placeholder:"100",value:l.maxUses,onChange:m=>c({...l,maxUses:m.target.value})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Oe,{htmlFor:"expiresAt",children:"Expiry Date (Optional)"}),o.jsx(tt,{id:"expiresAt",type:"date",value:l.expiresAt,onChange:m=>c({...l,expiresAt:m.target.value})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Oe,{htmlFor:"description",children:"Description (Optional)"}),o.jsx(tt,{id:"description",type:"text",placeholder:"Special discount for premium users",value:l.description,onChange:m=>c({...l,description:m.target.value})})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{id:"oneTimePerUser",type:"checkbox",checked:l.oneTimePerUser,onChange:m=>c({...l,oneTimePerUser:m.target.checked}),className:"h-4 w-4 rounded border-gray-300"}),o.jsx(Oe,{htmlFor:"oneTimePerUser",className:"cursor-pointer",children:"One-time use per user (each user can only use this coupon once)"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{id:"singleUse",type:"checkbox",checked:l.singleUse,onChange:m=>c({...l,singleUse:m.target.checked}),className:"h-4 w-4 rounded border-gray-300"}),o.jsx(Oe,{htmlFor:"singleUse",className:"cursor-pointer",children:"🔒 Single use (auto-disable after FIRST use by ANY user)"})]})]}),o.jsxs(Tu,{children:[o.jsx(Y,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),o.jsx(Y,{onClick:u,disabled:!l.code||!l.discountValue,children:"Create Coupon"})]})]})})]})},BMe=()=>{const{analytics:t,fetchAnalytics:e,subscriptions:n,payments:r}=Vo(),[s,i]=p.useState("30days");p.useEffect(()=>{e(s)},[s]);const a=(t==null?void 0:t.dailyRevenue)||[],l=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"],c=n.reduce((x,b)=>{const w=b.planId||"Unknown";return x[w]=(x[w]||0)+1,x},{}),u=Object.entries(c).map(([x,b])=>({name:x,value:b})),d=n.reduce((x,b)=>{const w=b.status||"unknown";return x[w]=(x[w]||0)+1,x},{}),h=Object.entries(d).map(([x,b])=>({name:x.charAt(0).toUpperCase()+x.slice(1),value:b})),f=r.reduce((x,b)=>{const w=new Date(b.paidAt||b.createdAt).toLocaleDateString();return x[w]||(x[w]={date:w,successful:0,failed:0}),b.status==="captured"||b.status==="success"?x[w].successful++:x[w].failed++,x},{}),m=Object.values(f).slice(-30).map(x=>({...x,successRate:x.successful+x.failed>0?Math.round(x.successful/(x.successful+x.failed)*100):0})),y=a.slice(-30).map((x,b)=>({date:x.date,mrr:x.revenue*30,revenue:x.revenue})),v=()=>{const b=[["Date","Revenue","MRR"],...y.map(T=>[new Date(T.date).toLocaleDateString(),T.revenue.toFixed(2),T.mrr.toFixed(2)])].map(T=>T.join(",")).join(`
`),w=new Blob([b],{type:"text/csv"}),j=window.URL.createObjectURL(w),N=document.createElement("a");N.href=j,N.download=`analytics-${new Date().toISOString()}.csv`,N.click()};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Advanced Analytics"}),o.jsx("p",{className:"text-gray-500 mt-1",children:"Deep dive into revenue and subscription metrics"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(nn,{value:s,onValueChange:i,children:[o.jsxs(qt,{className:"w-40",children:[o.jsx(Ds,{className:"h-4 w-4 mr-2"}),o.jsx(rn,{})]}),o.jsxs(Yt,{children:[o.jsx(fe,{value:"7days",children:"Last 7 Days"}),o.jsx(fe,{value:"30days",children:"Last 30 Days"}),o.jsx(fe,{value:"90days",children:"Last 90 Days"}),o.jsx(fe,{value:"1year",children:"Last Year"})]})]}),o.jsxs(Y,{onClick:v,variant:"outline",children:[o.jsx(wP,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]})]}),o.jsxs(qu,{defaultValue:"revenue",className:"space-y-6",children:[o.jsxs(yc,{children:[o.jsx(dn,{value:"revenue",children:"Revenue"}),o.jsx(dn,{value:"subscriptions",children:"Subscriptions"}),o.jsx(dn,{value:"payments",children:"Payments"}),o.jsx(dn,{value:"overview",children:"Overview"})]}),o.jsx(hn,{value:"revenue",className:"space-y-6",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(q,{children:[o.jsxs(me,{children:[o.jsx(ge,{children:"Revenue Trend"}),o.jsx(Je,{children:"Daily revenue over selected period"})]}),o.jsx(Q,{children:a.length>0?o.jsx(ao,{width:"100%",height:300,children:o.jsxs(bE,{data:a,children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.8}),o.jsx("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})]})}),o.jsx(uo,{strokeDasharray:"3 3"}),o.jsx(ho,{dataKey:"date",tickFormatter:x=>new Date(x).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),o.jsx(Ri,{}),o.jsx(Ii,{formatter:x=>`$${x.toFixed(2)}`,labelFormatter:x=>new Date(x).toLocaleDateString()}),o.jsx(pl,{type:"monotone",dataKey:"revenue",stroke:"#8884d8",fillOpacity:1,fill:"url(#colorRevenue)"})]})}):o.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"No revenue data available"})})]}),o.jsxs(q,{children:[o.jsxs(me,{children:[o.jsx(ge,{children:"Monthly Recurring Revenue (MRR)"}),o.jsx(Je,{children:"Estimated MRR based on daily revenue"})]}),o.jsx(Q,{children:y.length>0?o.jsx(ao,{width:"100%",height:300,children:o.jsxs(Ap,{data:y,children:[o.jsx(uo,{strokeDasharray:"3 3"}),o.jsx(ho,{dataKey:"date",tickFormatter:x=>new Date(x).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),o.jsx(Ri,{}),o.jsx(Ii,{formatter:x=>`$${x.toFixed(2)}`,labelFormatter:x=>new Date(x).toLocaleDateString()}),o.jsx(_s,{}),o.jsx(ri,{type:"monotone",dataKey:"mrr",stroke:"#00C49F",strokeWidth:2,name:"MRR ($)"})]})}):o.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"No MRR data available"})})]})]})}),o.jsx(hn,{value:"subscriptions",className:"space-y-6",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(q,{children:[o.jsxs(me,{children:[o.jsx(ge,{children:"Plan Distribution"}),o.jsx(Je,{children:"Breakdown by subscription plan"})]}),o.jsx(Q,{children:u.length>0?o.jsx(ao,{width:"100%",height:300,children:o.jsxs(Hq,{children:[o.jsx(Uk,{data:u,cx:"50%",cy:"50%",labelLine:!1,label:({name:x,value:b})=>`${x}: ${b}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:u.map((x,b)=>o.jsx(yf,{fill:l[b%l.length]},`cell-${b}`))}),o.jsx(Ii,{}),o.jsx(_s,{})]})}):o.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"No subscription data available"})})]}),o.jsxs(q,{children:[o.jsxs(me,{children:[o.jsx(ge,{children:"Subscription Status"}),o.jsx(Je,{children:"Active vs Trial vs Expired"})]}),o.jsx(Q,{children:h.length>0?o.jsx(ao,{width:"100%",height:300,children:o.jsxs(hMe,{data:h,children:[o.jsx(uo,{strokeDasharray:"3 3"}),o.jsx(ho,{dataKey:"name"}),o.jsx(Ri,{}),o.jsx(Ii,{}),o.jsx(_s,{}),o.jsx(mq,{dataKey:"value",fill:"#8884d8",name:"Count"})]})}):o.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"No status data available"})})]})]})}),o.jsx(hn,{value:"payments",className:"space-y-6",children:o.jsxs(q,{children:[o.jsxs(me,{children:[o.jsx(ge,{children:"Payment Success Rate Over Time"}),o.jsx(Je,{children:"Daily payment success rate (last 30 days)"})]}),o.jsx(Q,{children:m.length>0?o.jsx(ao,{width:"100%",height:400,children:o.jsxs(Ap,{data:m,children:[o.jsx(uo,{strokeDasharray:"3 3"}),o.jsx(ho,{dataKey:"date"}),o.jsx(Ri,{yAxisId:"left"}),o.jsx(Ri,{yAxisId:"right",orientation:"right"}),o.jsx(Ii,{}),o.jsx(_s,{}),o.jsx(ri,{yAxisId:"left",type:"monotone",dataKey:"successful",stroke:"#00C49F",strokeWidth:2,name:"Successful"}),o.jsx(ri,{yAxisId:"left",type:"monotone",dataKey:"failed",stroke:"#FF8042",strokeWidth:2,name:"Failed"}),o.jsx(ri,{yAxisId:"right",type:"monotone",dataKey:"successRate",stroke:"#8884d8",strokeWidth:2,name:"Success Rate (%)"})]})}):o.jsx("div",{className:"h-[400px] flex items-center justify-center text-muted-foreground",children:"No payment data available"})})]})}),o.jsxs(hn,{value:"overview",className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[o.jsxs(q,{children:[o.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ge,{className:"text-sm font-medium",children:"Total Revenue"}),o.jsx(Qm,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Q,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:["$",a.reduce((x,b)=>x+b.revenue,0).toFixed(2)]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"For selected time period"})]})]}),o.jsxs(q,{children:[o.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ge,{className:"text-sm font-medium",children:"Total Subscriptions"}),o.jsx(ci,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Q,{children:[o.jsx("div",{className:"text-2xl font-bold",children:n.length}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"All time subscriptions"})]})]}),o.jsxs(q,{children:[o.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ge,{className:"text-sm font-medium",children:"Total Payments"}),o.jsx(Gn,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Q,{children:[o.jsx("div",{className:"text-2xl font-bold",children:r.length}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"All time payments"})]})]}),o.jsxs(q,{children:[o.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ge,{className:"text-sm font-medium",children:"Avg. Transaction"}),o.jsx(ua,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Q,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:["$",r.length>0?(r.reduce((x,b)=>x+(b.amount||0),0)/r.length).toFixed(2):"0.00"]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Average payment amount"})]})]})]}),o.jsxs(q,{children:[o.jsxs(me,{children:[o.jsx(ge,{children:"Revenue & Subscription Growth"}),o.jsx(Je,{children:"Comprehensive view of business metrics"})]}),o.jsx(Q,{children:a.length>0?o.jsx(ao,{width:"100%",height:400,children:o.jsxs(bE,{data:a,children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:"colorRevenue2",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.8}),o.jsx("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})]})}),o.jsx(uo,{strokeDasharray:"3 3"}),o.jsx(ho,{dataKey:"date",tickFormatter:x=>new Date(x).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),o.jsx(Ri,{}),o.jsx(Ii,{formatter:x=>`$${x.toFixed(2)}`,labelFormatter:x=>new Date(x).toLocaleDateString()}),o.jsx(_s,{}),o.jsx(pl,{type:"monotone",dataKey:"revenue",stroke:"#8884d8",fillOpacity:1,fill:"url(#colorRevenue2)",name:"Revenue ($)"})]})}):o.jsx("div",{className:"h-[400px] flex items-center justify-center text-muted-foreground",children:"No data available for the selected time period"})})]})]})]})]})},VMe=()=>{var y,v;const{auditLogs:t,auditStats:e,fetchAuditLogs:n,fetchAuditStats:r}=Vo(),[s,i]=p.useState(""),[a,l]=p.useState("all"),[c,u]=p.useState("all");p.useEffect(()=>{n({limit:100}),r()},[]);const d=()=>{const x={limit:100};a!=="all"&&(x.action=a),c!=="all"&&(x.targetType=c),n(x)},h=t.filter(x=>{var w,j,N;if(!s)return!0;const b=s.toLowerCase();return((w=x.description)==null?void 0:w.toLowerCase().includes(b))||((j=x.adminEmail)==null?void 0:j.toLowerCase().includes(b))||((N=x.action)==null?void 0:N.toLowerCase().includes(b))}),f=x=>x.includes("create")?o.jsx(Ee,{className:"bg-green-500",children:x}):x.includes("update")?o.jsx(Ee,{className:"bg-blue-500",children:x}):x.includes("delete")?o.jsx(Ee,{variant:"destructive",children:x}):o.jsx(Ee,{variant:"secondary",children:x}),m=x=>{switch(x){case"user":return o.jsx(gx,{className:"h-4 w-4"});case"coupon":return o.jsx(no,{className:"h-4 w-4"});case"subscription":return o.jsx(vS,{className:"h-4 w-4"});default:return o.jsx(xu,{className:"h-4 w-4"})}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Audit Logs"}),o.jsx("p",{className:"text-gray-500 mt-1",children:"Track all administrative actions and system events"})]}),e&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[o.jsxs(q,{children:[o.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ge,{className:"text-sm font-medium",children:"Total Logs"}),o.jsx(xu,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(Q,{children:o.jsx("div",{className:"text-2xl font-bold",children:e.totalLogs})})]}),o.jsxs(q,{children:[o.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ge,{className:"text-sm font-medium",children:"Today's Activity"}),o.jsx(Ms,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(Q,{children:o.jsx("div",{className:"text-2xl font-bold",children:((v=(y=e.dailyActivity)==null?void 0:y[e.dailyActivity.length-1])==null?void 0:v.count)||0})})]}),o.jsxs(q,{children:[o.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ge,{className:"text-sm font-medium",children:"Action Types"}),o.jsx(vS,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(Q,{children:o.jsx("div",{className:"text-2xl font-bold",children:Object.keys(e.actionBreakdown||{}).length})})]}),o.jsxs(q,{children:[o.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ge,{className:"text-sm font-medium",children:"Target Types"}),o.jsx(no,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(Q,{children:o.jsx("div",{className:"text-2xl font-bold",children:Object.keys(e.targetTypeBreakdown||{}).length})})]})]}),(e==null?void 0:e.dailyActivity)&&o.jsxs(q,{children:[o.jsxs(me,{children:[o.jsx(ge,{children:"Activity Timeline (Last 7 Days)"}),o.jsx(Je,{children:"Number of audit events per day"})]}),o.jsx(Q,{children:o.jsx(ao,{width:"100%",height:200,children:o.jsxs(Ap,{data:e.dailyActivity,children:[o.jsx(uo,{strokeDasharray:"3 3"}),o.jsx(ho,{dataKey:"date",tickFormatter:x=>new Date(x).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),o.jsx(Ri,{}),o.jsx(Ii,{labelFormatter:x=>new Date(x).toLocaleDateString()}),o.jsx(_s,{}),o.jsx(ri,{type:"monotone",dataKey:"count",stroke:"#8884d8",strokeWidth:2,name:"Events"})]})})})]}),o.jsxs(q,{children:[o.jsxs(me,{children:[o.jsx(ge,{children:"Search & Filter"}),o.jsx(Je,{children:"Find specific audit logs"})]}),o.jsx(Q,{children:o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx($i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),o.jsx(tt,{placeholder:"Search logs...",value:s,onChange:x=>i(x.target.value),className:"pl-10"})]}),o.jsxs(nn,{value:a,onValueChange:l,children:[o.jsx(qt,{className:"w-48",children:o.jsx(rn,{placeholder:"Filter by action"})}),o.jsxs(Yt,{children:[o.jsx(fe,{value:"all",children:"All Actions"}),o.jsx(fe,{value:"user.create",children:"User Create"}),o.jsx(fe,{value:"user.update",children:"User Update"}),o.jsx(fe,{value:"user.delete",children:"User Delete"}),o.jsx(fe,{value:"coupon.create",children:"Coupon Create"}),o.jsx(fe,{value:"coupon.deactivate",children:"Coupon Deactivate"})]})]}),o.jsxs(nn,{value:c,onValueChange:u,children:[o.jsx(qt,{className:"w-48",children:o.jsx(rn,{placeholder:"Filter by target"})}),o.jsxs(Yt,{children:[o.jsx(fe,{value:"all",children:"All Types"}),o.jsx(fe,{value:"user",children:"User"}),o.jsx(fe,{value:"coupon",children:"Coupon"}),o.jsx(fe,{value:"subscription",children:"Subscription"}),o.jsx(fe,{value:"payment",children:"Payment"})]})]}),o.jsxs(Y,{onClick:d,children:[o.jsx(dx,{className:"h-4 w-4 mr-2"}),"Apply"]})]})})]}),o.jsxs(q,{children:[o.jsxs(me,{children:[o.jsxs(ge,{children:["Audit Trail (",h.length,")"]}),o.jsx(Je,{children:"Chronological record of all administrative actions"})]}),o.jsx(Q,{children:o.jsx("div",{className:"rounded-md border",children:o.jsxs(xf,{children:[o.jsx(wf,{children:o.jsxs(hs,{children:[o.jsx(ht,{children:"Timestamp"}),o.jsx(ht,{children:"Action"}),o.jsx(ht,{children:"Admin"}),o.jsx(ht,{children:"Target"}),o.jsx(ht,{children:"Description"}),o.jsx(ht,{children:"IP Address"})]})}),o.jsx(bf,{children:h.length>0?h.map(x=>o.jsxs(hs,{children:[o.jsx(rt,{className:"text-sm text-gray-500",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Ms,{className:"h-3 w-3"}),Cn(new Date(x.timestamp),"MMM dd, yyyy HH:mm:ss")]})}),o.jsx(rt,{children:f(x.action)}),o.jsx(rt,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ui,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm",children:x.adminEmail})]})}),o.jsx(rt,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[m(x.targetType),o.jsx("span",{className:"text-sm capitalize",children:x.targetType})]})}),o.jsx(rt,{className:"max-w-md",children:o.jsx("span",{className:"text-sm",children:x.description})}),o.jsx(rt,{className:"text-sm text-gray-500",children:x.ipAddress||"N/A"})]},x.id)):o.jsx(hs,{children:o.jsx(rt,{colSpan:6,className:"text-center text-gray-500 py-8",children:"No audit logs found"})})})]})})})]}),(e==null?void 0:e.actionBreakdown)&&Object.keys(e.actionBreakdown).length>0&&o.jsxs(q,{children:[o.jsxs(me,{children:[o.jsx(ge,{children:"Action Breakdown"}),o.jsx(Je,{children:"Distribution of actions performed"})]}),o.jsx(Q,{children:o.jsx("div",{className:"space-y-4",children:Object.entries(e.actionBreakdown).map(([x,b])=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"flex items-center gap-2",children:f(x)}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-48 bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${b/e.totalLogs*100}%`}})}),o.jsx("span",{className:"text-sm font-medium w-12 text-right",children:b})]})]},x))})})]})]})},wN="http://localhost:5000",zMe=()=>{var U,$;const{users:t,fetchUsers:e}=Vo(),{currentUser:n}=Hn(),{toast:r}=ps(),[s,i]=p.useState(""),[a,l]=p.useState(null),[c,u]=p.useState([]),[d,h]=p.useState(null),[f,m]=p.useState(null),[y,v]=p.useState(null),[x,b]=p.useState(!1),[w,j]=p.useState(!1),[N,T]=p.useState("saved");p.useEffect(()=>{e()},[]);const I=async()=>{if(!s){r({title:"Error",description:"Please enter a user email to search",variant:"destructive"});return}const D=t.find(L=>L.email.toLowerCase().includes(s.toLowerCase()));if(!D){r({title:"User Not Found",description:"No user found with that email",variant:"destructive"});return}l(D),h(null),m(null),v(null),await P(D.uid)},P=async D=>{b(!0);try{if(!n)throw new Error("Not authenticated");const L=await n.getIdToken(),W=await fetch(`${wN}/api/admin/users/${D}/business-audits`,{headers:{Authorization:`Bearer ${L}`}});if(!W.ok){const V=await W.json();throw new Error(V.error||"Failed to fetch user locations")}const J=await W.json();u(J.data.locations||[]),J.data.locations.length===0&&r({title:"No Locations",description:"This user hasn't connected any business profiles yet",variant:"default"})}catch(L){console.error("Error fetching user locations:",L),r({title:"Error",description:L.message||"Failed to fetch user's business profiles",variant:"destructive"}),u([])}finally{b(!1)}},E=async D=>{h(D),m(null),v(null),await A(D.name)},A=async D=>{if(!(!a||!n)){b(!0);try{const L=await n.getIdToken(),W=await fetch(`${wN}/api/admin/audit-results/user/${a.uid}`,{headers:{Authorization:`Bearer ${L}`}});if(W.ok){const ue=((await W.json()).data.results||[]).find(ee=>ee.locationId===D||ee.locationName===(d==null?void 0:d.title));ue?(v(ue),m(ue),T("saved"),r({title:"Saved Audit Loaded",description:`Showing saved audit from ${C(ue.timestamp)}`})):r({title:"No Saved Audit",description:"No saved audit found for this location. Click 'Fetch Live Data' to get current data.",variant:"default"})}}catch(L){console.error("Error fetching saved audit:",L)}finally{b(!1)}}},S=async()=>{if(!(!a||!n||!d)){j(!0);try{const D=await n.getIdToken(),L=await fetch(`${wN}/api/admin/users/${a.uid}/locations/${encodeURIComponent(d.name)}/audit`,{headers:{Authorization:`Bearer ${D}`}});if(!L.ok)throw new Error("Failed to fetch live audit data");const W=await L.json();m(W.data),T("live"),r({title:"Live Data Fetched",description:"Showing current data from Google Business Profile API"})}catch(D){console.error("Error fetching live audit:",D),r({title:"Error",description:"Failed to fetch live audit data for this location",variant:"destructive"})}finally{j(!1)}}},C=D=>new Date(D).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),O=D=>D?new Intl.NumberFormat().format(D):"0",k=D=>D.includes("IMPRESSIONS")?o.jsx(dw,{className:"h-4 w-4"}):D.includes("CALL")?o.jsx(Fp,{className:"h-4 w-4"}):D.includes("WEBSITE")?o.jsx(SP,{className:"h-4 w-4"}):D.includes("DIRECTION")?o.jsx(ks,{className:"h-4 w-4"}):o.jsx(vS,{className:"h-4 w-4"}),B=D=>{const L={high:"bg-red-100 text-red-800",medium:"bg-yellow-100 text-yellow-800",low:"bg-blue-100 text-blue-800"};return L[D]||L.medium},G=D=>D>=80?"bg-green-100 text-green-800":D>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800";return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"User Business Audits"}),o.jsx("p",{className:"text-gray-600 mt-2",children:"View any user's business profile audit to help with customer support"})]}),o.jsxs(q,{children:[o.jsxs(me,{children:[o.jsxs(ge,{className:"flex items-center gap-2",children:[o.jsx($i,{className:"h-5 w-5"}),"Select User (",t.length," total)"]}),o.jsx(Je,{children:"Search or select a user to view their business profile audits"})]}),o.jsxs(Q,{children:[o.jsxs("div",{className:"flex gap-2 mb-4",children:[o.jsx(tt,{placeholder:"Search by email or name...",value:s,onChange:D=>i(D.target.value),onKeyPress:D=>D.key==="Enter"&&I(),className:"flex-1"}),o.jsxs(Y,{onClick:I,disabled:x,children:[o.jsx($i,{className:"h-4 w-4 mr-2"}),"Search"]})]}),a&&o.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-sm text-blue-900",children:"Selected User:"}),o.jsx("p",{className:"text-blue-800",children:a.email}),a.displayName&&o.jsx("p",{className:"text-sm text-blue-600",children:a.displayName})]}),o.jsx(Y,{size:"sm",variant:"outline",onClick:()=>{l(null),u([]),h(null),m(null),v(null)},children:"Clear"})]})}),!a&&t.length>0&&o.jsxs("div",{className:"mt-4",children:[o.jsx("h3",{className:"text-sm font-semibold mb-2 text-gray-700",children:"Recent Users:"}),o.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:t.filter(D=>{var L;return!s||D.email.toLowerCase().includes(s.toLowerCase())||((L=D.displayName)==null?void 0:L.toLowerCase().includes(s.toLowerCase()))}).slice(0,10).map(D=>o.jsx("div",{onClick:()=>{l(D),i(D.email),P(D.uid)},className:"p-3 border rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:D.email}),D.displayName&&o.jsx("p",{className:"text-xs text-gray-600",children:D.displayName})]}),o.jsx(Y,{size:"sm",variant:"ghost",children:"Select →"})]})},D.uid))})]})]})]}),c.length>0&&o.jsxs(q,{children:[o.jsxs(me,{children:[o.jsxs(ge,{className:"flex items-center gap-2",children:[o.jsx(Ml,{className:"h-5 w-5"}),"Business Profiles (",c.length,")"]}),o.jsx(Je,{children:"Click on a location to view its audit data"})]}),o.jsx(Q,{children:o.jsx("div",{className:"grid gap-3",children:c.map(D=>{var L,W;return o.jsx("div",{onClick:()=>E(D),className:`p-4 border rounded-lg hover:bg-gray-50 cursor-pointer transition-colors ${(d==null?void 0:d.name)===D.name?"bg-blue-50 border-blue-300":""}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold",children:D.title}),o.jsx("p",{className:"text-sm text-gray-600",children:(W=(L=D.storefrontAddress)==null?void 0:L.addressLines)==null?void 0:W.join(", ")})]}),o.jsx(Y,{size:"sm",variant:"outline",children:(d==null?void 0:d.name)===D.name?"Selected":"Select"})]})},D.name)})})})]}),d&&o.jsx(q,{children:o.jsxs(me,{children:[o.jsxs(ge,{className:"flex items-center justify-between",children:[o.jsxs("span",{children:["Audit Data: ",d.title]}),o.jsxs("div",{className:"flex gap-2",children:[y&&o.jsxs(Ee,{variant:"outline",className:"flex items-center gap-1",children:[o.jsx(YJ,{className:"h-3 w-3"}),"Saved: ",C(y.timestamp)]}),o.jsxs(Y,{size:"sm",onClick:S,disabled:w,variant:N==="live"?"default":"outline",children:[o.jsx(jn,{className:`h-4 w-4 mr-2 ${w?"animate-spin":""}`}),"Fetch Live Data"]})]})]}),o.jsx(Je,{children:N==="saved"&&y?`Showing saved audit from ${C(y.timestamp)}`:N==="live"?"Showing live data from Google Business Profile API":"Select a data source to view audit"})]})}),f&&o.jsxs("div",{className:"space-y-6",children:[((U=f.performance)==null?void 0:U.timeSeriesData)&&o.jsxs(q,{children:[o.jsx(me,{children:o.jsxs(ge,{className:"flex items-center gap-2",children:[o.jsx(ua,{className:"h-5 w-5"}),"Performance Metrics (Last 30 Days)"]})}),o.jsx(Q,{children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.performance.timeSeriesData.map(D=>{var J,V,ue,ee;const L=((V=(J=D.timeSeries)==null?void 0:J.datedValues)==null?void 0:V.reduce((re,be)=>re+(be.value||0),0))||0,W=D.dailyMetric.replace(/_/g," ").replace("BUSINESS ","");return o.jsxs("div",{className:"p-4 border rounded-lg",children:[o.jsx("div",{className:"flex items-center justify-between mb-2",children:o.jsxs("span",{className:"flex items-center gap-2 text-sm font-medium text-gray-600",children:[k(D.dailyMetric),W]})}),o.jsx("p",{className:"text-2xl font-bold",children:O(L)}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[((ee=(ue=D.timeSeries)==null?void 0:ue.datedValues)==null?void 0:ee.length)||0," days of data"]})]},D.dailyMetric)})})})]}),(($=f.recommendations)==null?void 0:$.recommendations)&&f.recommendations.recommendations.length>0&&o.jsxs(q,{children:[o.jsx(me,{children:o.jsxs(ge,{className:"flex items-center gap-2",children:[o.jsx(pr,{className:"h-5 w-5"}),"Recommendations (",f.recommendations.recommendations.length,")"]})}),o.jsx(Q,{children:o.jsx("div",{className:"space-y-4",children:f.recommendations.recommendations.map((D,L)=>o.jsx("div",{className:"p-4 border rounded-lg",children:o.jsx("div",{className:"flex items-start justify-between mb-2",children:o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("h4",{className:"font-semibold",children:D.title}),o.jsx(Ee,{className:B(D.priority),children:D.priority})]}),o.jsx("p",{className:"text-sm text-gray-600 mb-3",children:D.description}),D.impact&&o.jsxs("p",{className:"text-sm text-blue-600 font-medium mb-2",children:["💡 ",D.impact]}),D.actions&&D.actions.length>0&&o.jsxs("div",{className:"mt-3",children:[o.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Action Steps:"}),o.jsx("ul",{className:"space-y-1",children:D.actions.map((W,J)=>o.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[o.jsx(on,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),W]},J))})]})]})})},L))})})]}),f.score&&o.jsxs(q,{children:[o.jsx(me,{children:o.jsx(ge,{children:"Audit Score"})}),o.jsx(Q,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.score.overall&&o.jsxs("div",{className:"p-4 border rounded-lg",children:[o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Overall Score"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("p",{className:"text-3xl font-bold",children:[f.score.overall,"%"]}),o.jsx(Ee,{className:G(f.score.overall),children:f.score.overall>=80?"Good":f.score.overall>=60?"Fair":"Needs Work"})]})]}),f.score.performance&&o.jsxs("div",{className:"p-4 border rounded-lg",children:[o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Performance"}),o.jsxs("p",{className:"text-3xl font-bold",children:[f.score.performance,"%"]})]}),f.score.engagement&&o.jsxs("div",{className:"p-4 border rounded-lg",children:[o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Engagement"}),o.jsxs("p",{className:"text-3xl font-bold",children:[f.score.engagement,"%"]})]})]})})]})]}),!a&&!x&&o.jsx(q,{children:o.jsxs(Q,{className:"py-12 text-center",children:[o.jsx($i,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No User Selected"}),o.jsx("p",{className:"text-gray-600",children:"Search for a user by email to view their business profile audits"})]})}),(x||w)&&o.jsx(q,{children:o.jsxs(Q,{className:"py-12 text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:x?"Loading...":"Fetching live audit data..."})]})})]})},GMe=new Gne,WMe=()=>o.jsx(Hne,{client:GMe,children:o.jsxs(AS,{children:[o.jsx(see,{}),o.jsx(Mee,{}),o.jsxs(Wre,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:[o.jsx(Vhe,{children:o.jsx(EMe,{children:o.jsx(Vve,{children:o.jsx(zpe,{children:o.jsxs(uve,{children:[o.jsxs(Mre,{children:[o.jsx(pt,{path:"/",element:o.jsx(Zre,{})}),o.jsx(pt,{path:"/terms",element:o.jsx(ese,{})}),o.jsx(pt,{path:"/privacy",element:o.jsx(tse,{})}),o.jsx(pt,{path:"/refund",element:o.jsx(nse,{})}),o.jsx(pt,{path:"/contact",element:o.jsx(ise,{})}),o.jsx(pt,{path:"/login",element:o.jsx(GL,{children:o.jsx(zhe,{})})}),o.jsx(pt,{path:"/signup",element:o.jsx(GL,{children:o.jsx(Ghe,{})})}),o.jsx(pt,{path:"/auth/google/callback",element:o.jsx(AMe,{})}),o.jsx(pt,{path:"/public-reviews/:locationId",element:o.jsx(zL,{})}),o.jsx(pt,{path:"/review/:locationId",element:o.jsx(zL,{})}),o.jsxs(pt,{path:"/dashboard",element:o.jsx(ry,{children:o.jsx(Hve,{})}),children:[o.jsx(pt,{index:!0,element:o.jsx(tye,{})}),o.jsx(pt,{path:"profiles/:profileId",element:o.jsx(Z0e,{})}),o.jsx(pt,{path:"posts",element:o.jsx(ewe,{})}),o.jsx(pt,{path:"reviews",element:o.jsx(twe,{})}),o.jsx(pt,{path:"ask-for-reviews",element:o.jsx(zwe,{})}),o.jsx(pt,{path:"request-reviews",element:o.jsx(Gwe,{})}),o.jsx(pt,{path:"settings",element:o.jsx(Hwe,{})}),o.jsx(pt,{path:"audit",element:o.jsx(NMe,{})}),o.jsx(pt,{path:"billing",element:o.jsx(_Me,{})})]}),o.jsx(pt,{path:"/dashboard/upgrade",element:o.jsx(ry,{children:o.jsx(SMe,{})})}),o.jsx(pt,{path:"/payment-success",element:o.jsx(ry,{children:o.jsx(CMe,{})})}),o.jsxs(pt,{path:"/admin",element:o.jsx(ry,{children:o.jsx(PMe,{children:o.jsx(RMe,{})})}),children:[o.jsx(pt,{index:!0,element:o.jsx(Pw,{to:"/admin/dashboard",replace:!0})}),o.jsx(pt,{path:"dashboard",element:o.jsx(OMe,{})}),o.jsx(pt,{path:"users",element:o.jsx(LMe,{})}),o.jsx(pt,{path:"subscriptions",element:o.jsx(FMe,{})}),o.jsx(pt,{path:"payments",element:o.jsx($Me,{})}),o.jsx(pt,{path:"coupons",element:o.jsx(UMe,{})}),o.jsx(pt,{path:"analytics",element:o.jsx(BMe,{})}),o.jsx(pt,{path:"audits",element:o.jsx(VMe,{})}),o.jsx(pt,{path:"user-audits",element:o.jsx(zMe,{})})]}),o.jsx(pt,{path:"*",element:o.jsx(Jre,{})})]}),o.jsx(kMe,{})]})})})})}),o.jsx(IMe,{})]})]})});h6(document.getElementById("root")).render(o.jsx(WMe,{}));
